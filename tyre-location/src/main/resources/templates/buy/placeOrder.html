<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>图像识别</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="#1 selling multi-purpose bootstrap admin theme sold in themeforest marketplace packed with angularjs, material design, rtl support with over thausands of templates and ui elements and plugins to power any type of web applications including saas and admin dashboards. Preview page of Theme #1 for statistics, charts, recent events and reports"
          name="description"/>
    <meta content="" name="author"/>
    <!--me-->
    <link rel="stylesheet" href="../../css/iconfont2.css">

    <!-- 开始全局强制样式 -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
          type="text/css"/>
    <link href="../../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="../../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet"
          type="text/css"/>
    <!-- 结束全局强制样式 -->
    <!-- 开始页面级插件 -->
    <link href="../../assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="../../assets/global/plugins/morris/morris.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/global/plugins/fullcalendar/fullcalendar.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/global/plugins/jqvmap/jqvmap/jqvmap.css" rel="stylesheet" type="text/css"/>
    <!-- 结束页面级插件 -->
    <!-- 开始主题全局样式 -->
    <link href="../../assets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css"/>
    <link href="../../assets/global/css/plugins.min.css" rel="stylesheet" type="text/css"/>
    <!-- 结束主题全局样式 -->
    <!-- 开始主题布局样式 -->
    <link href="../../assets/layouts/layout/css/layout.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/layouts/layout/css/themes/darkblue.min.css" rel="stylesheet" type="text/css"
          id="style_color"/>
    <link href="../../assets/layouts/layout/css/custom.min.css" rel="stylesheet" type="text/css"/>
    <!-- 结束主题布局样式 -->
    <link rel="shortcut icon" href="../../img/favicon.ico"/>

    <link href="../../css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="../../css/animate.css" rel="stylesheet">
    <!--    <link href="../../css/style.css?v=4.1.0" rel="stylesheet">-->

    <link rel="stylesheet" href="../../css/main.min.css">

    <link rel="stylesheet" href="../../css/biz2.css">
    <link rel="stylesheet" href="../../css/expense.css">
</head>
<!-- 结束的头 -->

<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">

<div class="page-wrapper">
    <!-- 开始头 -->
    <div class="page-header navbar navbar-fixed-top">
        <!-- 开始头 -->
        <div class="page-header-inner ">
            <!-- 开始的标志 -->
            <div class="page-logo">
                <a href="">
                    <img src="../../assets/layouts/layout/img/logo.png" alt="logo" class="logo-default"/> </a>
                <div class="menu-toggler sidebar-toggler">
                    <span></span>
                </div>
            </div>
            <!-- 结束标志-->
            <!-- 开始响应式菜单切换器 -->
            <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"
               data-target=".navbar-collapse">
                <span></span>
            </a>
            <!-- 结束响应式菜单切换器 -->
            <!-- 开始顶部导航菜单 -->
            <div class="top-menu">
                <ul class="nav navbar-nav pull-right">
                    <!-- 开始通知下拉-->
                    <!-- DOC: Apply "dropdown-dark" class after "dropdown-extended" to change the dropdown styte -->
                    <!-- DOC: Apply "dropdown-hoverable" class after below "dropdown" and remove data-toggle="dropdown" data-hover="dropdown" data-close-others="true" attributes to enable hover dropdown mode -->
                    <!-- DOC: Remove "dropdown-hoverable" and add data-toggle="dropdown" data-hover="dropdown" data-close-others="true" attributes to the below A element with dropdown-toggle class -->
                    <li class="dropdown dropdown-extended dropdown-notification" id="header_notification_bar">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <i class="icon-bell"></i>
                        </a>
                    </li>
                    <!-- 结束通知下拉 -->
                    <!-- 开始收件箱下拉 -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                    <li class="dropdown dropdown-extended dropdown-inbox" id="header_inbox_bar">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <i class="icon-envelope-open"></i>
                        </a>
                    </li>
                    <!-- 结束收件箱下拉 -->
                    <!-- 开始TODO 下拉  -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                    <li class="dropdown dropdown-extended dropdown-tasks" id="header_task_bar">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <i class="widget-thumb-icon icon-layers"></i>
                        </a>
                        <ul class="dropdown-menu extended tasks" style="width: 30px">
                            <li class="external">
                                <h3>
                                    <span class="bold">
                                        <a href="app_todo.html">文档</a>
                                    </span>
                                </h3>

                            </li>

                        </ul>
                    </li>
                    <!-- 结束 TODO 下拉 -->
                    <!-- 开始用户登录下拉菜单 -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                    <li class="dropdown dropdown-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <img alt="" class="img-circle" src="../../assets/layouts/layout/img/avatar3_small.jpg"/>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-default">
                            <li>
                                <a href="page_user_profile_1.html">
                                    <i class="icon-user"></i>用户中心</a>
                            </li>

                            <li class="divider"></li>
                            <li>
                                <a href="/user/logout">
                                    <i class="icon-rocket"></i>切换用户</a>
                            </li>
                            <li>
                                <a href="/user/logout">
                                    <i class="icon-key"></i>退出</a>
                            </li>
                        </ul>
                    </li>
                    <!-- 结束用户登录下拉菜单 -->
                    <!-- 开始快速侧栏善变 -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->

                    <!-- 结束快速侧栏善变 -->
                </ul>
            </div>
            <!-- 结束顶部导航菜单 -->
        </div>
        <!-- 结束头内 -->
    </div>
    <!-- 结束头 -->
    <!-- 开始标题和内容分隔符 -->
    <div class="clearfix"></div>
    <!-- 结束标题和内容分隔符 -->
    <!-- 开始容器 -->
    <div class="page-container">
        <!-- 开始栏 -->
        <div class="page-sidebar-wrapper">
            <!-- 开始栏 -->
            <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
            <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
            <div class="page-sidebar navbar-collapse collapse">
                <!-- 开始菜单栏 -->
                <!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
                <!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
                <!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
                <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
                <!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
                <!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
                <ul class="page-sidebar-menu  page-header-fixed " data-keep-expanded="false" data-auto-scroll="true"
                    data-slide-speed="200" style="padding-top: 20px">
                    <!-- DOC: To remove the sidebar toggler from the sidebar you just need to completely remove the below "sidebar-toggler-wrapper" LI element -->
                    <!-- 开始侧边栏按钮 -->
                    <li class="sidebar-toggler-wrapper hide">
                        <div class="sidebar-toggler">
                            <span></span>
                        </div>
                    </li>
                    <!-- 结束侧栏按钮 -->
                    <!-- DOC: To remove the search box from the sidebar you just need to completely remove the below "sidebar-search-wrapper" LI element -->


                    <li class="nav-item  ">
                        <a href="javascript:;" class="nav-link nav-toggle">
                            <i class="icon-diamond"></i>
                            <span class="title">应用</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="sub-menu">
                            <li class="nav-item  ">
                                <a href="/application/query/all" class="nav-link ">
                                    <span class="title">应用列表</span>
                                </a>
                            </li>

                        </ul>
                    </li>

                </ul>
                <!-- 结束侧边栏菜单 -->
                <!-- 结束侧边栏菜单 -->
            </div>
            <!-- 结束侧边栏 -->
        </div>
        <!-- 结束侧边栏 -->
        <!-- 开始的内容 -->
        <!--        <div class="page-content-wrapper">-->
        <!--开始内容主体 -->
        <!--            <div class="page-content">-->
        <!--               -->
        <!--            </div>-->
        <div class="page-content-wrapper">
            <!-- BEGIN CONTENT BODY -->
            <div class="page-content" style="min-height: 1182px;">
                <!-- BEGIN PAGE HEADER-->
                <!-- BEGIN THEME PANEL -->

                <!-- END THEME PANEL -->
                <!-- BEGIN PAGE BAR -->
                <div class="page-bar">
                    <ul class="page-breadcrumb">
                        <li>
                            <a href="/operation/index">首页</a>
                            <i class="fa fa-circle"></i>
                        </li>
                        <li>
                            <span>下单</span>
                        </li>
                    </ul>

                </div>
                <!-- END PAGE BAR -->
                <!-- BEGIN PAGE TITLE-->

                <!-- END PAGE TITLE-->
                <!-- END PAGE HEADER-->
                <div class="inbox">
                    <div class="row" style="margin-top: 15px">
                        <div class="col-sm-9">
                            <div >
                                <h1>确定订单</h1>
                                <input id="apiId" type="text" style="display: none" th:value="${apiId}">
                                <input id="data" type="text" style="display: none" th:value="${data}">
                                <div  class="ui-table ui-table-x" style="margin-top: 15px">
                                    <table cellpadding="0" cellspacing="0" width="100%">
                                        <thead class="ui-table-head">
                                        <tr>
                                            <th class="ui-table-hcell">
                                                <div class="ui-table-hcell-text">
                                                    <div class="ui-table-hcell-text-content">产品名称</div>
                                                </div>
                                            </th>
                                            <th class="ui-table-hcell">
                                                <div class="ui-table-hcell-text">
                                                    <div class="ui-table-hcell-text-content">配置</div>
                                                </div>
                                            </th>
                                            <th class="ui-table-hcell">
                                                <div class="ui-table-hcell-text">
                                                    <div class="ui-table-hcell-text-content">数量</div>
                                                </div>
                                            </th>
                                            <th class="ui-table-hcell">
                                                <div class="ui-table-hcell-text">
                                                    <div class="ui-table-hcell-text-content">单价</div>
                                                </div>
                                            </th>

                                        </tr>
                                        </thead>
                                        <tbody class="ui-table-body" th:each="number,iterStat : ${numbers}">
                                        <tr class="ui-table-row ui-table-row-odd"  th:if="${number!=0}">
                                            <td class="ui-table-cell">
                                                <div class="ui-table-cell-text" th:text="${apiName}">
                                                    产品名称
                                                </div>
                                            </td>
                                            <td class="ui-table-cell">
                                                <div th:switch="${iterStat.count}">
                                                    <div th:case="1" class="ui-table-cell-text">次数包：1 万次</div>
                                                    <div th:case="2" class="ui-table-cell-text">次数包：5 万次</div>
                                                    <div th:case="3" class="ui-table-cell-text">次数包：10 万次</div>
                                                    <div th:case="4" class="ui-table-cell-text">次数包：20 万次</div>
                                                    <div th:case="5" class="ui-table-cell-text">次数包：50 万次</div>
                                                    <div th:case="6" class="ui-table-cell-text">次数包：100 万次</div>
                                                    <div th:case="7" class="ui-table-cell-text">次数包：500 万次</div>
                                                    <div th:case="8" class="ui-table-cell-text">次数包：1000 万次</div>
                                                </div>
                                            </td>
                                            <td class="ui-table-cell">
                                                <div th:text="${number}" class="ui-table-cell-text">
                                                    数量
                                                </div>
                                            </td>
                                            <td class="ui-table-cell">
                                                <div th:switch="${iterStat.count}">
                                                    <div th:case="1" class="ui-table-cell-text">￥ 50.00</div>
                                                    <div th:case="2" class="ui-table-cell-text">￥ 248.00</div>
                                                    <div th:case="3" class="ui-table-cell-text">￥ 470.00</div>
                                                    <div th:case="4" class="ui-table-cell-text">￥ 860.00</div>
                                                    <div th:case="5" class="ui-table-cell-text">￥ 1850.00</div>
                                                    <div th:case="6" class="ui-table-cell-text">￥ 3250.00</div>
                                                    <div th:case="7" class="ui-table-cell-text">￥ 12000.00</div>
                                                    <div th:case="8" class="ui-table-cell-text">￥ 20000.00</div>
                                                </div>
                                            </td>


                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div>
                                <div style="text-align:center">
                                    <h1>钱包余额：<span id="money" th:text="${money}" style="color: #EB5252;">100</span></h1>
                                    <div class="btn-group"  style="margin-top: 30px">
                                        <select id="vochers" style="width: 150px; height: 30px">
                                            <option value="0" th:if="${#lists.isEmpty(vouchers)}">无代金券</option>
                                            <option th:each="voucher : ${vouchers}" th:value="${voucher.id}" th:text="${voucher.money}+'---元'">2</option>
                                        </select>
                                    </div>
                                    <h1 style="margin-top: 30px">产品金额： ￥ <span th:text="${sumMoney}" id="sum_money"></span></h1>
                                    <h1 style="margin-top: 30px">代金券： -￥<span id="voch"></span></h1>
                                    <h1 style="margin-top: 30px">实付金额：
                                        <span style="color: #EB5252;">￥</span>
                                        <span id="actually" style="color: #EB5252;">100</span>
                                    </h1>
                                    <div class="btn-group" style="margin-top: 20px">
                                        <label><input type="radio" name="price_type" value="1" onclick="alert('暂未开放，请用钱包支付')">支付宝</label>
                                        <label><input type="radio" name="price_type" value="2" checked style="margin-left: 20px">钱包余额</label>
                                    </div>
                                    <div id="pay" class="ui-button ui-button-x skin-primary skin-primary-button ui-button-with-label buy-package-submit " style="width: 210px; margin-top: 20px">
                                        <div class="con-btn">
                                            <div class="ui-button-label">支付</div>
                                        </div>
                                    </div>
                                    <div onclick="window.history.back(-1); " class="ui-button ui-button-x skin-primary skin-primary-button ui-button-with-label buy-package-submit " style="width: 210px; margin-top: 20px">
                                        <div class="con-btn">
                                            <div class="ui-button-label">返回</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <!-- END CONTENT BODY -->
        </div>

    </div>
    <!-- 结束容器 -->
    <!-- 开始 页脚 -->
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
    </div>
    <!-- 开始 页脚 -->
</div>
<!--[if lt IE 9]>
<script src="../../assets/global/plugins/respond.min.js"></script>
<script src="../../assets/global/plugins/excanvas.min.js"></script>
<script src="../../assets/global/plugins/ie8.fix.min.js"></script>
<![endif]-->
<!-- 开始 核心插件-->
<script src="../../assets/global/plugins/jquery.min.js" type="text/javascript"></script>

<script src="../../assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js"
        type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js"
        type="text/javascript"></script>
<!-- 结束 核心插件 -->
<!-- 开始 页面级别的插件 -->
<script src="../../assets/global/plugins/moment.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js"
        type="text/javascript"></script>
<script src="../../assets/global/plugins/morris/morris.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/morris/raphael-min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/counterup/jquery.waypoints.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/counterup/jquery.counterup.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/amcharts.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/serial.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/pie.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/radar.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/themes/light.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/themes/patterns.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amcharts/themes/chalk.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/ammap/ammap.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/ammap/maps/js/worldLow.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/amcharts/amstockcharts/amstock.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/fullcalendar/fullcalendar.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/horizontal-timeline/horizontal-timeline.js"
        type="text/javascript"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.resize.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.categories.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery-easypiechart/jquery.easypiechart.min.js"
        type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery.sparkline.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/jquery.vmap.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.russia.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.world.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.europe.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.germany.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.usa.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jqvmap/jqvmap/data/jquery.vmap.sampledata.js"
        type="text/javascript"></script>
<!-- 结束 页面级别的插件 -->
<!-- 开始主题全球脚本 -->
<script src="../../assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- 结束 主题全球脚本 -->
<!-- 开始 页面级别的脚本 -->
<script src="../../assets/pages/scripts/dashboard.min.js" type="text/javascript"></script>
<!-- 结束 页面级别的脚本-->
<!-- 开始 主题布局脚本 -->
<script src="../../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="../../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="../../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<script src="../../assets/layouts/global/scripts/quick-nav.min.js" type="text/javascript"></script>
<!-- 结束 主题布局脚本 -->

<script src="../../js/esl.js"></script>
<script src="../../js/loadjs.js"></script>
<script src="../../js/loadjs1.js"></script>
<!-- 全局js -->
<script src="../../js/jquery.min.js?v=2.1.4"></script>
<script src="../../js/bootstrap.min.js?v=3.3.6"></script>
<script type="text/javascript">
    function placeModify(){
        var vocherVal = 0
        if($("#vochers").val()!=0){
            var val = $("#vochers").find("option:selected").text()
            vocherVal = Number(val.split("---")[0])
        }
        $("#voch").text(vocherVal)
        var actuallyVal = Number($("#sum_money").text())-vocherVal;
        $("#actually").text(actuallyVal)
    }
    $(function () {
        placeModify();
        $("#vochers").change(function () {
            placeModify()
        })
        $("#pay").click(function () {
            var payType = $("input:radio:checked").val()
            if(payType==1){

            }else if(payType==2){
                var money = Number($("#money").text())
                var actuallyVal = Number($("#actually").text())
                if(money < actuallyVal){
                    alert("钱包余额不足！！！")
                }else {
                    var apiId = $("#apiId").val()
                    var data = $("#data").val()
                    var voucherId = $("#vochers").find("option:selected").val()
                    $.ajax({
                        url : "/order/wallet/pay",
                        data : {
                            "data" : data,
                            "apiId" : apiId,
                            "voucherId" : voucherId
                        },
                        success : function (restul) {
                            if (restul.code==200){
                                alert("支付成功")
                                window.location.href = "/application/query/all"
                            }else if(restul.code==20){
                                alert("钱包余额不足！！！")
                            }else {
                                alert(restul.message)
                            }
                        }
                    })
                }
            }

        })
    })
</script>

</body>

</html>