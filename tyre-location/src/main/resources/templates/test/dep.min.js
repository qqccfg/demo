define("jquery/jquery",["require"],function(require){function e(e){var t=e.length,n=Q.type(e);return!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function t(e,t,n,i){if(Q.acceptData(e)){var a,r,o=Q.expando,s="string"==typeof t,l=e.nodeType,u=l?Q.cache:e,d=l?e[o]:e[o]&&o;if(d&&u[d]&&(i||u[d].data)||!s||n!==undefined)return d||(l?e[o]=d=V.pop()||Q.guid++:d=o),u[d]||(u[d]={},l||(u[d].toJSON=Q.noop)),"object"!=typeof t&&"function"!=typeof t||(i?u[d]=Q.extend(u[d],t):u[d].data=Q.extend(u[d].data,t)),a=u[d],i||(a.data||(a.data={}),a=a.data),n!==undefined&&(a[Q.camelCase(t)]=n),s?null==(r=a[t])&&(r=a[Q.camelCase(t)]):r=a,r}}function n(e,t,n){if(Q.acceptData(e)){var i,r,o,s=e.nodeType,l=s?Q.cache:e,u=s?e[Q.expando]:Q.expando;if(l[u]){if(t&&(o=n?l[u]:l[u].data)){for((i=0,r=(t=Q.isArray(t)?t.concat(Q.map(t,Q.camelCase)):t in o?[t]:(t=Q.camelCase(t))in o?[t]:t.split(" ")).length);i<r;i++)delete o[t[i]];if(!(n?a:Q.isEmptyObject)(o))return}(n||(delete l[u].data,a(l[u])))&&(s?Q.cleanData([e],!0):Q.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}}function i(e,t,n){if(n===undefined&&1===e.nodeType){var i="data-"+t.replace(he,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:pe.test(n)?Q.parseJSON(n):n)}catch(a){}Q.data(e,t,n)}else n=undefined}return n}function a(e){var t;for(t in e)if(("data"!==t||!Q.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(){return!0}function o(){return!1}function s(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function l(e,t,n){if(t=t||0,Q.isFunction(t))return Q.grep(e,function(e,i){return!!t.call(e,i,e)===n});if(t.nodeType)return Q.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Q.grep(e,function(e){return 1===e.nodeType});if(Me.test(t))return Q.filter(t,i,!n);t=Q.filter(t,i)}return Q.grep(e,function(e){return Q.inArray(e,t)>=0===n})}function u(e){var t=Le.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function c(e){var t=Ye.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var n,i=0;null!=(n=e[i]);i++)Q._data(n,"globalEval",!t||Q._data(t[i],"globalEval"))}function p(e,t){if(1===t.nodeType&&Q.hasData(e)){var n,i,a,r=Q._data(e),o=Q._data(t,r),s=r.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,a=s[n].length;i<a;i++)Q.event.add(t,n,s[n][i])}o.data&&(o.data=Q.extend({},o.data))}}function h(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!Q.support.noCloneEvent&&t[Q.expando]){a=Q._data(t);for(i in a.events)Q.removeEvent(t,i,a.handle);t.removeAttribute(Q.expando)}"script"===n&&t.text!==e.text?(d(t).text=e.text,c(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Q.support.html5Clone&&e.innerHTML&&!Q.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function v(e,t){var n,i,a=0,r=typeof e.getElementsByTagName!==B?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==B?e.querySelectorAll(t||"*"):undefined;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||Q.nodeName(i,t)?r.push(i):Q.merge(r,v(i,t));return t===undefined||t&&Q.nodeName(e,t)?Q.merge([e],r):r}function m(e){ze.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=ft.length;a--;)if((t=ft[a]+n)in e)return t;return i}function x(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,a,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(r[o]=Q._data(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(r[o]=Q._data(i,"olddisplay",T(i.nodeName)))):r[o]||(a=x(i),(n&&"none"!==n||!a)&&Q._data(i,"olddisplay",a?n:Q.css(i,"display"))));for(o=0;o<s;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function b(e,t,n){var i=rt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function w(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===n&&(o+=Q.css(e,n+ct[r],!0,a)),i?("content"===n&&(o-=Q.css(e,"padding"+ct[r],!0,a)),"margin"!==n&&(o-=Q.css(e,"border"+ct[r]+"Width",!0,a))):(o+=Q.css(e,"padding"+ct[r],!0,a),"padding"!==n&&(o+=Q.css(e,"border"+ct[r]+"Width",!0,a)));return o}function C(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=Ke(e),o=Q.support.boxSizing&&"border-box"===Q.css(e,"boxSizing",!1,r);if(a<=0||null==a){if(((a=Je(e,t,r))<0||null==a)&&(a=e.style[t]),ot.test(a))return a;i=o&&(Q.support.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+w(e,t,n||(o?"border":"content"),i,r)+"px"}function T(e){var t=$,n=lt[e];return n||("none"!==(n=k(e,t))&&n||((t=((Qe=(Qe||Q("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Qe[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=k(e,t),Qe.detach()),lt[e]=n),n}function k(e,t){var n=Q(t.createElement(e)).appendTo(t.body),i=Q.css(n[0],"display");return n.remove(),i}function _(e,t,n,i){var a;if(Q.isArray(t))Q.each(t,function(t,a){n||ht.test(e)?i(e,a):_(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==Q.type(t))i(e,t);else for(a in t)_(e+"["+a+"]",t[a],n,i)}function S(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(J)||[];if(Q.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function I(e,t,n,i){function a(s){var l;return r[s]=!0,Q.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),l}var r={},o=e===Pt;return a(t.dataTypes[0])||!r["*"]&&a("*")}function D(e,t){var n,i,a=Q.ajaxSettings.flatOptions||{};for(i in t)t[i]!==undefined&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&Q.extend(!0,e,n),e}function E(){try{return new window.XMLHttpRequest}catch(e){}}function P(){return setTimeout(function(){$t=undefined}),$t=Q.now()}function A(e,t,n){var i,a,r=0,o=Vt.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=$t||P(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,o=u.tweens.length;r<o;r++)u.tweens[r].run(i);return s.notifyWith(e,[u,i,n]),i<1&&o?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:$t||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Q.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),d=u.props;for(!function(e,t){var n,i,a,r,o;for(a in e)if(i=Q.camelCase(a),r=t[i],n=e[a],Q.isArray(n)&&(r=n[1],n=e[a]=n[0]),a!==i&&(e[i]=n,delete e[a]),(o=Q.cssHooks[i])&&"expand"in o){n=o.expand(n),delete e[i];for(a in n)a in e||(e[a]=n[a],t[a]=r)}else t[i]=r}(d,u.opts.specialEasing);r<o;r++)if(i=Vt[r].call(u,e,d,u.opts))return i;return function(e,t){Q.each(t,function(t,n){for(var i=(zt[t]||[]).concat(zt["*"]),a=0,r=i.length;a<r;a++)if(i[a].call(e,t,n))return})}(u,d),Q.isFunction(u.opts.start)&&u.opts.start.call(e,u),Q.fx.timer(Q.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function M(e,t,n,i,a){return new M.prototype.init(e,t,n,i,a)}function O(e,t){var n,i={height:e},a=0;for(t=t?1:0;a<4;a+=2-t)i["margin"+(n=ct[a])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function N(e){return Q.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var L,R,B=typeof undefined,$=window.document,q=window.location,F=window.jQuery,j=window.$,H={},V=[],z=V.concat,U=V.push,W=V.slice,Y=V.indexOf,G=H.toString,Z=H.hasOwnProperty,X="1.9.1".trim,Q=function(e,t){return new Q.fn.init(e,t,R)},K=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=/\S+/g,ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ne=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ie=/^[\],:{}\s]*$/,ae=/(?:^|:|,)(?:\s*\[)+/g,re=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,oe=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,se=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()},de=function(e){($.addEventListener||"load"===e.type||"complete"===$.readyState)&&(ce(),Q.ready())},ce=function(){$.addEventListener?($.removeEventListener("DOMContentLoaded",de,!1),window.removeEventListener("load",de,!1)):($.detachEvent("onreadystatechange",de),window.detachEvent("onload",de))};Q.fn=Q.prototype={jquery:"1.9.1",constructor:Q,init:function(e,t,n){var i,a;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:te.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),ne.test(i[1])&&Q.isPlainObject(t))for(i in t)Q.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((a=$.getElementById(i[2]))&&a.parentNode){if(a.id!==i[2])return n.find(e);this.length=1,this[0]=a}return this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return W.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},ready:function(e){return Q.ready.promise().done(e),this},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},Q.fn.init.prototype=Q.fn,Q.extend=Q.fn.extend=function(){var e,t,n,i,a,r,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},s=2),"object"==typeof o||Q.isFunction(o)||(o={}),l===s&&(o=this,--s);s<l;s++)if(null!=(a=arguments[s]))for(i in a)e=o[i],o!==(n=a[i])&&(u&&n&&(Q.isPlainObject(n)||(t=Q.isArray(n)))?(t?(t=!1,r=e&&Q.isArray(e)?e:[]):r=e&&Q.isPlainObject(e)?e:{},o[i]=Q.extend(u,r,n)):n!==undefined&&(o[i]=n));return o},Q.extend({noConflict:function(e){return window.$===Q&&(window.$=j),e&&window.jQuery===Q&&(window.jQuery=F),Q},isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){if(!0===e?!--Q.readyWait:!Q.isReady){if(!$.body)return setTimeout(Q.ready);Q.isReady=!0,!0!==e&&--Q.readyWait>0||(L.resolveWith($,[Q]),Q.fn.trigger&&Q($).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray||function(e){return"array"===Q.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?H[G.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==Q.type(e)||e.nodeType||Q.isWindow(e))return!1;try{if(e.constructor&&!Z.call(e,"constructor")&&!Z.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var t;for(t in e);return t===undefined||Z.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||$;var i=ne.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=Q.buildFragment([e],t,a),a&&Q(a).remove(),Q.merge([],i.childNodes))},parseJSON:function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e):null===e?e:"string"==typeof e&&(e=Q.trim(e))&&ie.test(e.replace(re,"@").replace(oe,"]").replace(ae,""))?new Function("return "+e)():void Q.error("Invalid JSON: "+e)},parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(i){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&Q.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(t,n,i){var a=0,r=t.length,o=e(t);if(i){if(o)for(;a<r&&!1!==n.apply(t[a],i);a++);else for(a in t)if(!1===n.apply(t[a],i))break}else if(o)for(;a<r&&!1!==n.call(t[a],a,t[a]);a++);else for(a in t)if(!1===n.call(t[a],a,t[a]))break;return t},trim:X&&!X.call("\ufeff ")?function(e){return null==e?"":X.call(e)}:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(t,n){var i=n||[];return null!=t&&(e(Object(t))?Q.merge(i,"string"==typeof t?[t]:t):U.call(i,t)),i},inArray:function(e,t,n){var i;if(t){if(Y)return Y.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,a=0;if("number"==typeof n)for(;a<n;a++)e[i++]=t[a];else for(;t[a]!==undefined;)e[i++]=t[a++];return e.length=i,e},grep:function(e,t,n){var i=[],a=0,r=e.length;for(n=!!n;a<r;a++)n!==!!t(e[a],a)&&i.push(e[a]);return i},map:function(t,n,i){var a,r=0,o=t.length,s=[];if(e(t))for(;r<o;r++)null!=(a=n(t[r],r,i))&&(s[s.length]=a);else for(r in t)null!=(a=n(t[r],r,i))&&(s[s.length]=a);return z.apply([],s)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(a=e[t],t=e,e=a),Q.isFunction(e)?(n=W.call(arguments,2),i=function(){return e.apply(t||this,n.concat(W.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):undefined},access:function(e,t,n,i,a,r,o){var s=0,l=e.length,u=null==n;if("object"===Q.type(n)){a=!0;for(s in n)Q.access(e,t,s,n[s],!0,r,o)}else if(i!==undefined&&(a=!0,Q.isFunction(i)||(o=!0),u&&(o?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;s<l;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return a?e:u?t.call(e):l?t(e[0],n):r},now:function(){return(new Date).getTime()}}),Q.ready.promise=function(e){if(!L)if(L=Q.Deferred(),"complete"===$.readyState)setTimeout(Q.ready);else if($.addEventListener)$.addEventListener("DOMContentLoaded",de,!1),window.addEventListener("load",de,!1);else{$.attachEvent("onreadystatechange",de),window.attachEvent("onload",de);var t=!1;try{t=null==window.frameElement&&$.documentElement}catch(n){}t&&t.doScroll&&function i(){if(!Q.isReady){try{t.doScroll("left")}catch(n){return setTimeout(i,50)}ce(),Q.ready()}}()}return L.promise(e)},Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),R=Q($);var fe={};Q.Callbacks=function(e){var t,n,i,a,r,o,s=[],l=!(e="string"==typeof e?fe[e]||function(e){var t=fe[e]={};return Q.each(e.match(J)||[],function(e,n){t[n]=!0}),t}(e):Q.extend({},e)).once&&[],u=function(c){for(n=e.memory&&c,i=!0,r=o||0,o=0,a=s.length,t=!0;s&&r<a;r++)if(!1===s[r].apply(c[0],c[1])&&e.stopOnFalse){n=!1;break}t=!1,s&&(l?l.length&&u(l.shift()):n?s=[]:d.disable())},d={add:function(){if(s){var i=s.length;!function r(t){Q.each(t,function(t,n){var i=Q.type(n);"function"===i?e.unique&&d.has(n)||s.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),t?a=s.length:n&&(o=i,u(n))}return this},remove:function(){return s&&Q.each(arguments,function(e,n){for(var i;(i=Q.inArray(n,s,i))>-1;)s.splice(i,1),t&&(i<=a&&a--,i<=r&&r--)}),this},has:function(e){return e?Q.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],this},disable:function(){return s=l=n=undefined,this},disabled:function(){return!s},lock:function(){return l=undefined,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return n=n||[],n=[e,n.slice?n.slice():n],!s||i&&!l||(t?l.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,r){var o=r[0],s=Q.isFunction(e[t])&&e[t];a[r[1]](function(){var e=s&&s.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,i):i}},a={};return i.pipe=i.then,Q.each(t,function(e,r){var o=r[2],s=r[3];i[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=W.call(arguments),o=r.length,s=1!==o||e&&Q.isFunction(e.promise)?o:0,l=1===s?e:Q.Deferred(),u=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?W.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);a<o;a++)r[a]&&Q.isFunction(r[a].promise)?r[a].promise().done(u(a,i,r)).fail(l.reject).progress(u(a,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}}),Q.support=function(){var e,t,n,i,a,r,o,s,l,u,d=$.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!t||!n||!t.length)return{};o=(a=$.createElement("select")).appendChild($.createElement("option")),i=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!i.value,optSelected:o.selected,enctype:!!$.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==$.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===$.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,e.noCloneChecked=i.cloneNode(!0).checked,a.disabled=!0,e.optDisabled=!o.disabled;try{delete d.test}catch(c){e.deleteExpando=!1}(i=$.createElement("input")).setAttribute("value",""),e.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),e.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),(r=$.createDocumentFragment()).appendChild(i),e.appendChecked=i.checked,e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(s="on"+u,"t"),e[u+"Bubbles"]=s in window||!1===d.attributes[s].expando;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===d.style.backgroundClip,Q(function(){var t,n,i,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=$.getElementsByTagName("body")[0];r&&((t=$.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(t).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=d.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e.reliableHiddenOffsets=l&&0===i[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===d.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==r.offsetTop,window.getComputedStyle&&(e.pixelPosition="1%"!==(window.getComputedStyle(d,null)||{}).top,e.boxSizingReliable="4px"===(window.getComputedStyle(d,null)||{width:"4px"}).width,(n=d.appendChild($.createElement("div"))).style.cssText=d.style.cssText=a,n.style.marginRight=n.style.width="0",d.style.width="1px",e.reliableMarginRight=!parseFloat((window.getComputedStyle(n,null)||{}).marginRight)),typeof d.style.zoom!==B&&(d.innerHTML="",d.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==d.offsetWidth,e.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(t),t=d=i=n=null)}),t=a=r=o=n=i=null,e}();var pe=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,he=/([A-Z])/g;Q.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?Q.cache[e[Q.expando]]:e[Q.expando])&&!a(e)},data:function(e,n,i){return t(e,n,i)},removeData:function(e,t){return n(e,t)},_data:function(e,n,i){return t(e,n,i,!0)},_removeData:function(e,t){return n(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&Q.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),Q.fn.extend({data:function(e,t){var n,a,r=this[0],o=0,s=null;if(e===undefined){if(this.length&&(s=Q.data(r),1===r.nodeType&&!Q._data(r,"parsedAttrs"))){for(n=r.attributes;o<n.length;o++)(a=n[o].name).indexOf("data-")||(a=Q.camelCase(a.slice(5)),i(r,a,s[a]));Q._data(r,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){Q.data(this,e)}):Q.access(this,function(t){if(t===undefined)return r?i(r,e,Q.data(r,e)):null;this.each(function(){Q.data(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.removeData(this,e)})}}),Q.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Q._data(e,t),n&&(!i||Q.isArray(n)?i=Q._data(e,t,Q.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),i=n.length,a=n.shift(),r=Q._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),r.cur=a,a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,function(){Q.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q._data(e,n)||Q._data(e,n,{empty:Q.Callbacks("once memory").add(function(){Q._removeData(e,t+"queue"),Q._removeData(e,n)})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):t===undefined?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},delay:function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=Q.Deferred(),r=this,o=this.length,s=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";o--;)(n=Q._data(r[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}});var ve,me,ge=/[\t\r\n]/g,xe=/\r/g,ye=/^(?:input|select|textarea|button|object)$/i,be=/^(?:a|area)$/i,we=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ce=/^(?:checked|selected)$/i,Te=Q.support.getSetAttribute,ke=Q.support.input;Q.fn.extend({attr:function(e,t){return Q.access(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})},prop:function(e,t){return Q.access(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Q.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})},addClass:function(e){var t,n,i,a,r,o=0,s=this.length,l="string"==typeof e&&e;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(J)||[];o<s;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ge," "):" ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");n.className=Q.trim(i)}return this},removeClass:function(e){var t,n,i,a,r,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(J)||[];o<s;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ge," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");n.className=e?Q.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var a,r=0,o=Q(this),s=t,l=e.match(J)||[];a=l[r++];)o[(s=i?s:!o.hasClass(a))?"addClass":"removeClass"](a);else n!==B&&"boolean"!==n||(this.className&&Q._data(this,"__className__",this.className),this.className=this.className||!1===e?"":Q._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ge," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,i,a=this[0];{if(arguments.length)return i=Q.isFunction(e),this.each(function(t){var a,r=Q(this);1===this.nodeType&&(null==(a=i?e.call(this,t,r.val()):e)?a="":"number"==typeof a?a+="":Q.isArray(a)&&(a=Q.map(a,function(e){return null==e?"":e+""})),(n=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,a,"value")!==undefined||(this.value=a))});if(a)return(n=Q.valHooks[a.type]||Q.valHooks[a.nodeName.toLowerCase()])&&"get"in n&&(t=n.get(a,"value"))!==undefined?t:"string"==typeof(t=a.value)?t.replace(xe,""):null==t?"":t}}}),Q.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||a<0,o=r?null:[],s=r?a+1:i.length,l=a<0?s:r?a:0;l<s;l++)if(((n=i[l]).selected||l===a)&&(Q.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),r)return t;o.push(t)}return o},set:function(e,t){var n=Q.makeArray(t);return Q(e).find("option").each(function(){this.selected=Q.inArray(Q(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var i,a,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===B?Q.prop(e,t,n):((a=1!==o||!Q.isXMLDoc(e))&&(t=t.toLowerCase(),i=Q.attrHooks[t]||(we.test(t)?me:ve)),n===undefined?i&&a&&"get"in i&&null!==(r=i.get(e,t))?r:(typeof e.getAttribute!==B&&(r=e.getAttribute(t)),null==r?undefined:r):null!==n?i&&a&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(J);if(r&&1===e.nodeType)for(;n=r[a++];)i=Q.propFix[n]||n,we.test(n)?!Te&&Ce.test(n)?e[Q.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:Q.attr(e,n,""),e.removeAttribute(Te?n:i)},attrHooks:{type:{set:function(e,t){if(!Q.support.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!Q.isXMLDoc(e))&&(t=Q.propFix[t]||t,a=Q.propHooks[t]),n!==undefined?a&&"set"in a&&(i=a.set(e,n,t))!==undefined?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):ye.test(e.nodeName)||be.test(e.nodeName)&&e.href?0:undefined}}}}),me={get:function(e,t){var n=Q.prop(e,t),i="boolean"==typeof n&&e.getAttribute(t),a="boolean"==typeof n?ke&&Te?null!=i:Ce.test(t)?e[Q.camelCase("default-"+t)]:!!i:e.getAttributeNode(t);return a&&!1!==a.value?t.toLowerCase():undefined},set:function(e,t,n){return!1===t?Q.removeAttr(e,n):ke&&Te||!Ce.test(n)?e.setAttribute(!Te&&Q.propFix[n]||n,n):e[Q.camelCase("default-"+n)]=e[n]=!0,n}},ke&&Te||(Q.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return Q.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:undefined},set:function(e,t,n){if(!Q.nodeName(e,"input"))return ve&&ve.set(e,t,n);e.defaultValue=t}}),Te||(ve=Q.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:undefined},set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:undefined}},Q.attrHooks.contenteditable={get:ve.get,set:function(e,t,n){ve.set(e,""!==t&&t,n)}},Q.each(["width","height"],function(e,t){Q.attrHooks[t]=Q.extend(Q.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})})),Q.support.hrefNormalized||(Q.each(["href","src","width","height"],function(e,t){Q.attrHooks[t]=Q.extend(Q.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?undefined:n}})}),Q.each(["href","src"],function(e,t){Q.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),Q.support.style||(Q.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}}),Q.support.optSelected||(Q.propHooks.selected=Q.extend(Q.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Q.support.enctype||(Q.propFix.enctype="encoding"),Q.support.checkOn||Q.each(["radio","checkbox"],function(){Q.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]=Q.extend(Q.valHooks[this],{set:function(e,t){if(Q.isArray(t))return e.checked=Q.inArray(Q(e).val(),t)>=0}})});var _e=/^(?:input|select|textarea)$/i,Se=/^key/,Ie=/^(?:mouse|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,i,a){var r,o,s,l,u,d,c,f,p,h,v,m=Q._data(e);if(m){for(n.handler&&(n=(l=n).handler,a=l.selector),n.guid||(n.guid=Q.guid++),(o=m.events)||(o=m.events={}),(d=m.handle)||((d=m.handle=function(e){return typeof Q===B||e&&Q.event.triggered===e.type?undefined:Q.event.dispatch.apply(d.elem,arguments)}).elem=e),s=(t=(t||"").match(J)||[""]).length;s--;)p=v=(r=Ee.exec(t[s])||[])[1],h=(r[2]||"").split(".").sort(),u=Q.event.special[p]||{},p=(a?u.delegateType:u.bindType)||p,u=Q.event.special[p]||{},c=Q.extend({type:p,origType:v,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&Q.expr.match.needsContext.test(a),namespace:h.join(".")},l),(f=o[p])||((f=o[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,h,d)||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,c):f.push(c),Q.event.global[p]=!0;e=null}},remove:function(e,t,n,i,a){var r,o,s,l,u,d,c,f,p,h,v,m=Q.hasData(e)&&Q._data(e);if(m&&(d=m.events)){for(u=(t=(t||"").match(J)||[""]).length;u--;)if(s=Ee.exec(t[u])||[],p=v=s[1],h=(s[2]||"").split(".").sort(),p){for(c=Q.event.special[p]||{},f=d[p=(i?c.delegateType:c.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=f.length;r--;)o=f[r],!a&&v!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(f.splice(r,1),o.selector&&f.delegateCount--,c.remove&&c.remove.call(e,o));l&&!f.length&&(c.teardown&&!1!==c.teardown.call(e,h,m.handle)||Q.removeEvent(e,p,m.handle),delete d[p])}else for(p in d)Q.event.remove(e,p+t[u],n,i,!0);Q.isEmptyObject(d)&&(delete m.handle,Q._removeData(e,"events"))}},trigger:function(e,t,n,i){var a,r,o,s,l,u,d,c=[n||$],f=Z.call(e,"type")?e.type:e,p=Z.call(e,"namespace")?e.namespace.split("."):[];if(o=u=n=n||$,3!==n.nodeType&&8!==n.nodeType&&!De.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(f=(p=f.split(".")).shift(),p.sort()),r=f.indexOf(":")<0&&"on"+f,e=e[Q.expando]?e:new Q.Event(f,"object"==typeof e&&e),e.isTrigger=!0,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:Q.makeArray(t,[e]),l=Q.event.special[f]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!Q.isWindow(n)){for(s=l.delegateType||f,De.test(s+f)||(o=o.parentNode);o;o=o.parentNode)c.push(o),u=o;u===(n.ownerDocument||$)&&c.push(u.defaultView||u.parentWindow||window)}for(d=0;(o=c[d++])&&!e.isPropagationStopped();)e.type=d>1?s:l.bindType||f,(a=(Q._data(o,"events")||{})[e.type]&&Q._data(o,"handle"))&&a.apply(o,t),(a=r&&o[r])&&Q.acceptData(o)&&a.apply&&!1===a.apply(o,t)&&e.preventDefault();if(e.type=f,!i&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(n.ownerDocument,t))&&("click"!==f||!Q.nodeName(n,"a"))&&Q.acceptData(n)&&r&&n[f]&&!Q.isWindow(n)){(u=n[r])&&(n[r]=null),Q.event.triggered=f;try{n[f]()}catch(h){}Q.event.triggered=undefined,u&&(n[r]=u)}return e.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,i,a,r,o=[],s=W.call(arguments),l=(Q._data(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=Q.event.handlers.call(this,e,l),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,r=0;(i=a.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(n=((Q.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s))!==undefined&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(a=[],r=0;r<s;r++)a[n=(i=t[r]).selector+" "]===undefined&&(a[n]=i.needsContext?Q(n,this).index(l)>=0:Q.find(n,this,null,[l]).length),a[n]&&a.push(i);a.length&&o.push({elem:l,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[Q.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Ie.test(a)?this.mouseHooks:Se.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new Q.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||$),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,r=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(a=(i=e.target.ownerDocument||$).documentElement,n=i.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||r===undefined||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(Q.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==$.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===$.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(a,null,t):Q.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=$.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===B&&(e[i]=null),e.detachEvent(i,n))},Q.Event=function(e,t){if(!(this instanceof Q.Event))return new Q.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?r:o):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),this[Q.expando]=!0},Q.Event.prototype={isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=r,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=r,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,a=e.handleObj;return i&&(i===this||Q.contains(this,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Q.support.submitBubbles||(Q.event.special.submit={setup:function(){if(Q.nodeName(this,"form"))return!1;Q.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=Q.nodeName(t,"input")||Q.nodeName(t,"button")?t.form:undefined;n&&!Q._data(n,"submitBubbles")&&(Q.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),Q._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Q.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(Q.nodeName(this,"form"))return!1;Q.event.remove(this,"._submit")}}),Q.support.changeBubbles||(Q.event.special.change={setup:function(){if(_e.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(Q.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Q.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Q.event.simulate("change",this,e,!0)})),!1;Q.event.add(this,"beforeactivate._change",function(e){var t=e.target;_e.test(t.nodeName)&&!Q._data(t,"changeBubbles")&&(Q.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Q.event.simulate("change",this.parentNode,e,!0)}),Q._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return Q.event.remove(this,"._change"),!_e.test(this.nodeName)}}),Q.support.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){0==n++&&$.addEventListener(e,i,!0)},teardown:function(){0==--n&&$.removeEventListener(e,i,!0)}}}),Q.fn.extend({on:function(e,t,n,i,a){var r,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(r in e)this.on(r,t,n,e[r],a);return this}if(null==n&&null==i?(i=t,n=t=undefined):null==i&&("string"==typeof t?(i=n,n=undefined):(i=n,n=t,t=undefined)),!1===i)i=o;else if(!i)return this;return 1===a&&(s=i,(i=function(e){return Q().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Q(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=o),this.each(function(){Q.event.remove(this,e,n,t)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Q.event.trigger(e,t,n,!0)}}),function(e,t){function n(e){return de.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>w.cacheLength&&delete e[t.shift()],e[n]=i}}function a(e){return e[R]=!0,e}function r(e){var t=D.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,i){var a,r,o,s,l,u,d,p,h,v;if((t?t.ownerDocument||t:B)!==D&&I(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!P&&!i){if(a=ce.exec(e))if(o=a[1]){if(9===s){if(!(r=t.getElementById(o))||!r.parentNode)return n;if(r.id===o)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&N(t,r)&&r.id===o)return n.push(r),n}else{if(a[2])return G.apply(n,Z.call(t.getElementsByTagName(e),0)),n;if((o=a[3])&&$.getByClassName&&t.getElementsByClassName)return G.apply(n,Z.call(t.getElementsByClassName(o),0)),n}if($.qsa&&!A.test(e)){if(d=!0,p=R,h=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=c(e),(d=t.getAttribute("id"))?p=d.replace(he,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+f(u[l]);h=ue.test(e)&&t.parentNode||t,v=u.join(",")}if(v)try{return G.apply(n,Z.call(h.querySelectorAll(v),0)),n}catch(m){}finally{d||t.removeAttribute("id")}}}return function(e,t,n,i){var a,r,o,s,l,u=c(e);if(!i&&1===u.length){if((r=u[0]=u[0].slice(0)).length>2&&"ID"===(o=r[0]).type&&9===t.nodeType&&!P&&w.relative[r[1].type]){if(!(t=w.find.ID(o.matches[0].replace(me,ge),t)[0]))return n;e=e.slice(r.shift().value.length)}for(a=le.needsContext.test(e)?0:r.length;a--&&(o=r[a],!w.relative[s=o.type]);)if((l=w.find[s])&&(i=l(o.matches[0].replace(me,ge),ue.test(r[0].type)&&t.parentNode||t))){if(r.splice(a,1),!(e=i.length&&f(r)))return G.apply(n,Z.call(i,0)),n;break}}return k(e,u)(i,t,P,n,ue.test(e)),n}(e.replace(ie,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return a(function(t){return t=+t,a(function(n,i){for(var a,r=e([],n.length,t),o=r.length;o--;)n[a=r[o]]&&(n[a]=!(i[a]=n[a]))})})}function c(e,t){var n,i,a,r,s,l,u,d=H[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],u=w.preFilter;s;){n&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),n=!1,(i=re.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(ie," ")}),s=s.slice(n.length));for(r in w.filter)!(i=le[r].exec(s))||u[r]&&!(i=u[r](i))||(n=i.shift(),a.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):H(e,l).slice(0)}function f(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=F++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,o){var s,l,u,d=q+" "+r;if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=t[R]||(t[R]={}),(l=u[i])&&l[0]===d){if(!0===(s=l[1])||s===b)return!0===s}else if(l=u[i]=[d],l[1]=e(t,n,o)||b,!0===l[1])return!0}}function h(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function v(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,a)||(o.push(r),u&&t.push(s)));return o}function m(e,t,n,i,r,s){return i&&!i[R]&&(i=m(i)),r&&!r[R]&&(r=m(r,s)),a(function(a,s,l,u){var d,c,f,p=[],h=[],m=s.length,g=a||function(e,t,n){for(var i=0,a=t.length;i<a;i++)o(e,t[i],n);return n}(t||"*",l.nodeType?[l]:l,[]),x=!e||!a&&t?g:v(g,p,e,l,u),y=n?r||(a?e:m||i)?[]:s:x;if(n&&n(x,y,l,u),i)for(d=v(y,h),i(d,[],l,u),c=d.length;c--;)(f=d[c])&&(y[h[c]]=!(x[h[c]]=f));if(a){if(r||e){if(r){for(d=[],c=y.length;c--;)(f=y[c])&&d.push(x[c]=f);r(null,y=[],d,u)}for(c=y.length;c--;)(f=y[c])&&(d=r?X.call(a,f):p[c])>-1&&(a[d]=!(s[d]=f))}}else y=v(y===s?y.splice(m,y.length):y),r?r(null,s,y,u):G.apply(s,y)})}function g(e){for(var t,n,i,a=e.length,r=w.relative[e[0].type],o=r||w.relative[" "],s=r?1:0,l=p(function(e){return e===t},o,!0),u=p(function(e){return X.call(t,e)>-1},o,!0),d=[function(e,n,i){return!r&&(i||n!==S)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];s<a;s++)if(n=w.relative[e[s].type])d=[p(h(d),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[R]){for(i=++s;i<a&&!w.relative[e[i].type];i++);return m(s>1&&h(d),s>1&&f(e.slice(0,s-1)).replace(ie,"$1"),n,s<i&&g(e.slice(s,i)),i<a&&g(e=e.slice(i)),i<a&&f(e))}d.push(n)}return h(d)}function x(){}var y,b,w,C,T,k,_,S,I,D,E,P,A,M,O,N,L,R="sizzle"+-new Date,B=e.document,$={},q=0,F=0,j=i(),H=i(),V=i(),z="undefined",U=1<<31,W=[],Y=W.pop,G=W.push,Z=W.slice,X=W.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},K="[\\x20\\t\\r\\n\\f]",J="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ee=J.replace("w","w#"),te="\\["+K+"*("+J+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ee+")|)|)"+K+"*\\]",ne=":("+J+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+te.replace(3,8)+")*)|.*)\\)|)",ie=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),ae=new RegExp("^"+K+"*,"+K+"*"),re=new RegExp("^"+K+"*([\\x20\\t\\r\\n\\f>+~])"+K+"*"),oe=new RegExp(ne),se=new RegExp("^"+ee+"$"),le={ID:new RegExp("^#("+J+")"),CLASS:new RegExp("^\\.("+J+")"),NAME:new RegExp("^\\[name=['\"]?("+J+")['\"]?\\]"),TAG:new RegExp("^("+J.replace("w","w*")+")"),ATTR:new RegExp("^"+te),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},ue=/[\x20\t\r\n\f]*[+~]/,de=/^[^{]+\{\s*\[native code/,ce=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/'|\\/g,ve=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,me=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ge=function(e,t){var n="0x"+t-65536;return n!=n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.call(B.documentElement.childNodes,0)[0].nodeType}catch(xe){Z=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}T=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},I=o.setDocument=function(e){var t=e?e.ownerDocument||e:B;return t!==D&&9===t.nodeType&&t.documentElement?(D=t,E=t.documentElement,P=T(t),$.tagNameNoComments=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),$.attributes=r(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),$.getByClassName=r(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),$.getByName=r(function(e){e.id=R+0,e.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>",E.insertBefore(e,E.firstChild);var n=t.getElementsByName&&t.getElementsByName(R).length===2+t.getElementsByName(R+0).length;return $.getIdNotName=!t.getElementById(R),E.removeChild(e),n}),w.attrHandle=r(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==z&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},$.getIdNotName?(w.find.ID=function(e,t){if(typeof t.getElementById!==z&&!P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(me,ge);return function(e){return e.getAttribute("id")===t}}):(w.find.ID=function(e,t){if(typeof t.getElementById!==z&&!P){var n=t.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==z&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},w.filter.ID=function(e){var t=e.replace(me,ge);return function(e){var n=typeof e.getAttributeNode!==z&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=$.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==z)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},w.find.NAME=$.getByName&&function(e,t){if(typeof t.getElementsByName!==z)return t.getElementsByName(name)},w.find.CLASS=$.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==z&&!P)return t.getElementsByClassName(e)},M=[],A=[":focus"],($.qsa=n(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||A.push("\\["+K+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||A.push(":checked")}),r(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&A.push("[*^$]="+K+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),A.push(",.*:")})),($.matchesSelector=n(O=E.matchesSelector||E.mozMatchesSelector||E.webkitMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&r(function(e){$.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),M.push("!=",ne)}),A=new RegExp(A.join("|")),M=new RegExp(M.join("|")),N=n(E.contains)||E.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},L=E.compareDocumentPosition?function(e,n){var i;return e===n?(_=!0,0):(i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n))?1&i||e.parentNode&&11===e.parentNode.nodeType?e===t||N(B,e)?-1:n===t||N(B,n)?1:0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,a=0,r=e.parentNode,o=n.parentNode,l=[e],u=[n];if(e===n)return _=!0,0;if(!r||!o)return e===t?-1:n===t?1:r?-1:o?1:0;if(r===o)return s(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)u.unshift(i);for(;l[a]===u[a];)a++;return a?s(l[a],u[a]):l[a]===B?-1:u[a]===B?1:0},_=!1,[0,0].sort(L),$.detectDuplicates=_,D):D},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&I(e),t=t.replace(ve,"='$1']"),$.matchesSelector&&!P&&(!M||!M.test(t))&&!A.test(t))try{var n=O.call(e,t);if(n||$.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(xe){}return o(t,D,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==D&&I(e),N(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==D&&I(e),P||(t=t.toLowerCase()),(n=w.attrHandle[t])?n(e):P||$.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=1,a=0;if(_=!$.detectDuplicates,e.sort(L),_){for(;t=e[i];i++)t===e[i-1]&&(a=n.push(i));for(;a--;)e.splice(n[a],1)}return e},C=o.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i];i++)n+=C(t);return n},w=o.selectors={cacheLength:50,createPseudo:a,match:le,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ge),e[3]=(e[4]||e[5]||"").replace(me,ge),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return le.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&oe.test(n)&&(t=c(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(me,ge).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+K+")"+e+"("+K+"|$)"))&&j(e,function(e){return t.test(e.className||typeof e.getAttribute!==z&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var a=o.attr(i,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var u,d,c,f,p,h,v=r!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),x=!l&&!s;if(m){if(r){for(;v;){for(c=t;c=c[v];)if(s?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?m.firstChild:m.lastChild],o&&x){for(p=(u=(d=m[R]||(m[R]={}))[e]||[])[0]===q&&u[1],f=u[0]===q&&u[2],c=p&&m.childNodes[p];c=++p&&c&&c[v]||(f=p=0)||h.pop();)if(1===c.nodeType&&++f&&c===t){d[e]=[q,p,f];break}}else if(x&&(u=(t[R]||(t[R]={}))[e])&&u[0]===q)f=u[1];else for(;(c=++p&&c&&c[v]||(f=p=0)||h.pop())&&((s?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++f||(x&&((c[R]||(c[R]={}))[e]=[q,f]),c!==t)););return(f-=a)===i||f%i==0&&f/i>=0}}},PSEUDO:function(e,t){var n,i=w.pseudos[e]||w.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return i[R]?i(t):i.length>1?(n=[e,e,"",t],w.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var a,r=i(e,t),o=r.length;o--;)e[a=X.call(e,r[o])]=!(n[a]=r[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:a(function(e){var t=[],n=[],i=k(e.replace(ie,"$1"));return i[R]?a(function(e,t,n,a){for(var r,o=i(e,null,a,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:a(function(e){return function(t){return o(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:a(function(e){return se.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(me,ge).toLowerCase(),function(t){var n;do{if(n=P?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===E},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[n<0?n+t:n]}),even:d(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:d(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}};for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=l(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=u(y);k=o.compile=function(e,t){var n,i=[],r=[],s=V[e+" "];if(!s){for(t||(t=c(e)),n=t.length;n--;)(s=g(t[n]))[R]?i.push(s):r.push(s);s=V(e,function(e,t){var n=0,i=t.length>0,r=e.length>0,s=function(a,s,l,u,d){var c,f,p,h=[],m=0,g="0",x=a&&[],y=null!=d,C=S,T=a||r&&w.find.TAG("*",d&&s.parentNode||s),k=q+=null==C?1:Math.random()||.1;for(y&&(S=s!==D&&s,b=n);null!=(c=T[g]);g++){if(r&&c){for(f=0;p=e[f++];)if(p(c,s,l)){u.push(c);break}y&&(q=k,b=++n)}i&&((c=!p&&c)&&m--,a&&x.push(c))}if(m+=g,i&&g!==m){for(f=0;p=t[f++];)p(x,h,s,l);if(a){if(m>0)for(;g--;)x[g]||h[g]||(h[g]=Y.call(u));h=v(h)}G.apply(u,h),y&&!a&&h.length>0&&m+t.length>1&&o.uniqueSort(u)}return y&&(q=k,S=C),x};return i?a(s):s}(r,i))}return s},w.pseudos.nth=w.pseudos.eq,w.filters=x.prototype=w.pseudos,w.setFilters=new x,I(),o.attr=Q.attr,Q.find=o,Q.expr=o.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=o.uniqueSort,Q.text=o.getText,Q.isXMLDoc=o.isXML,Q.contains=o.contains}(window);var Pe=/Until$/,Ae=/^(?:parents|prev(?:Until|All))/,Me=/^.[^:#\[\.,]*$/,Oe=Q.expr.match.needsContext,Ne={children:!0,contents:!0,next:!0,prev:!0};Q.fn.extend({find:function(e){var t,n,i,a=this.length;if("string"!=typeof e)return i=this,this.pushStack(Q(e).filter(function(){for(t=0;t<a;t++)if(Q.contains(i[t],this))return!0}));for(n=[],t=0;t<a;t++)Q.find(e,this[t],n);return n=this.pushStack(a>1?Q.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=Q(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(Q.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(l(this,e,!1))},filter:function(e){return this.pushStack(l(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Oe.test(e)?Q(e,this.context).index(this[0])>=0:Q.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=Oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i<a;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:Q.find.matchesSelector(n,e)){r.push(n);break}n=n.parentNode}return this.pushStack(r.length>1?Q.unique(r):r)},index:function(e){return e?"string"==typeof e?Q.inArray(this[0],Q(e)):Q.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Q(e,t):Q.makeArray(e&&e.nodeType?[e]:e),i=Q.merge(this.get(),n);return this.pushStack(Q.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.fn.andSelf=Q.fn.addBack,Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return Q.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,i){var a=Q.map(this,t,n);return Pe.test(e)||(i=n),i&&"string"==typeof i&&(a=Q.filter(i,a)),a=this.length>1&&!Ne[e]?Q.unique(a):a,this.length>1&&Ae.test(e)&&(a=a.reverse()),this.pushStack(a)}}),Q.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Q.find.matchesSelector(t[0],e)?[t[0]]:[]:Q.find.matches(e,t)},dir:function(e,t,n){for(var i=[],a=e[t];a&&9!==a.nodeType&&(n===undefined||1!==a.nodeType||!Q(a).is(n));)1===a.nodeType&&i.push(a),a=a[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Re=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Le+")[\\s/>]","i"),$e=/^\s+/,qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,je=/<tbody/i,He=/<|&#?\w+;/,Ve=/<(?:script|style|link)/i,ze=/^(?:checkbox|radio)$/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^$|\/(?:java|ecma)script/i,Ye=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ze={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Q.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=u($).appendChild($.createElement("div"));Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,Q.fn.extend({text:function(e){return Q.access(this,function(e){return e===undefined?Q.text(this):this.empty().append((this[0]&&this[0].ownerDocument||$).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Q.isFunction(e))return this.each(function(t){Q(this).wrapAll(e.call(this,t))});if(this[0]){var t=Q(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Q.filter(e,[n]).length>0)&&(t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&f(v(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&Q.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&Q.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return Q.access(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(Re,""):undefined;if("string"==typeof e&&!Ve.test(e)&&(Q.support.htmlSerialize||!Be.test(e))&&(Q.support.leadingWhitespace||!$e.test(e))&&!Ze[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(qe,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return Q.isFunction(e)||"string"==typeof e||(e=Q(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(Q(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=z.apply([],e);var i,a,r,o,s,l,u=0,f=this.length,p=this,h=f-1,m=e[0],g=Q.isFunction(m);if(g||!(f<=1||"string"!=typeof m||Q.support.checkClone)&&Ue.test(m))return this.each(function(i){var a=p.eq(i);g&&(e[0]=m.call(this,i,t?a.html():undefined)),a.domManip(e,t,n)});if(f&&(l=Q.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(t=t&&Q.nodeName(i,"tr"),r=(o=Q.map(v(l,"script"),d)).length;u<f;u++)a=l,u!==h&&(a=Q.clone(a,!0,!0),r&&Q.merge(o,v(a,"script"))),n.call(t&&Q.nodeName(this[u],"table")?function(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}(this[u],"tbody"):this[u],a,u);if(r)for(s=o[o.length-1].ownerDocument,Q.map(o,c),u=0;u<r;u++)a=o[u],We.test(a.type||"")&&!Q._data(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Q.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ge,"")));l=i=null}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,i=0,a=[],r=Q(e),o=r.length-1;i<=o;i++)n=i===o?this:this.clone(!0),Q(r[i])[t](n),U.apply(a,n.get());return this.pushStack(a)}}),Q.extend({clone:function(e,t,n){var i,a,r,o,s,l=Q.contains(e.ownerDocument,e);if(Q.support.html5Clone||Q.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Xe.innerHTML=e.outerHTML,Xe.removeChild(r=Xe.firstChild)),!(Q.support.noCloneEvent&&Q.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(i=v(r),s=v(e),o=0;null!=(a=s[o]);++o)i[o]&&h(a,i[o]);if(t)if(n)for(s=s||v(e),i=i||v(r),o=0;null!=(a=s[o]);o++)p(a,i[o]);else p(e,r);return(i=v(r,"script")).length>0&&f(i,!l&&v(e,"script")),i=s=a=null,r},buildFragment:function(e,t,n,i){for(var a,r,o,s,l,d,c,p=e.length,h=u(t),g=[],x=0;x<p;x++)if((r=e[x])||0===r)if("object"===Q.type(r))Q.merge(g,r.nodeType?[r]:r);else if(He.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(Fe.exec(r)||["",""])[1].toLowerCase(),c=Ze[l]||Ze._default,s.innerHTML=c[1]+r.replace(qe,"<$1></$2>")+c[2],a=c[0];a--;)s=s.lastChild;if(!Q.support.leadingWhitespace&&$e.test(r)&&g.push(t.createTextNode($e.exec(r)[0])),!Q.support.tbody)for(a=(r="table"!==l||je.test(r)?"<table>"!==c[1]||je.test(r)?0:s:s.firstChild)&&r.childNodes.length;a--;)Q.nodeName(d=r.childNodes[a],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(Q.merge(g,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else g.push(t.createTextNode(r));for(s&&h.removeChild(s),Q.support.appendChecked||Q.grep(v(g,"input"),m),x=0;r=g[x++];)if((!i||-1===Q.inArray(r,i))&&(o=Q.contains(r.ownerDocument,r),s=v(h.appendChild(r),"script"),o&&f(s),n))for(a=0;r=s[a++];)We.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,a,r,o=0,s=Q.expando,l=Q.cache,u=Q.support.deleteExpando,d=Q.event.special;null!=(n=e[o]);o++)if((t||Q.acceptData(n))&&(a=n[s],r=a&&l[a])){if(r.events)for(i in r.events)d[i]?Q.event.remove(n,i):Q.removeEvent(n,i,r.handle);l[a]&&(delete l[a],u?delete n[s]:typeof n.removeAttribute!==B?n.removeAttribute(s):n[s]=null,V.push(a))}}});var Qe,Ke,Je,et=/alpha\([^)]*\)/i,tt=/opacity\s*=\s*([^)]*)/,nt=/^(top|right|bottom|left)$/,it=/^(none|table(?!-c[ea]).+)/,at=/^margin/,rt=new RegExp("^("+K+")(.*)$","i"),ot=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),st=new RegExp("^([+-])=("+K+")","i"),lt={BODY:"block"},ut={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:0,fontWeight:400},ct=["Top","Right","Bottom","Left"],ft=["Webkit","O","Moz","ms"];Q.fn.extend({css:function(e,t){return Q.access(this,function(e,t,n){var i,a,r={},o=0;if(Q.isArray(t)){for(a=Ke(e),i=t.length;o<i;o++)r[t[o]]=Q.css(e,t[o],!1,a);return r}return n!==undefined?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?Q(this).show():Q(this).hide()})}}),Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=Q.camelCase(t),l=e.style;if(t=Q.cssProps[s]||(Q.cssProps[s]=g(l,s)),o=Q.cssHooks[t]||Q.cssHooks[s],n===undefined)return o&&"get"in o&&(a=o.get(e,!1,i))!==undefined?a:l[t];if(!("string"==(r=typeof n)&&(a=st.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(Q.css(e,t)),r="number"),null==n||"number"===r&&isNaN(n)||("number"!==r||Q.cssNumber[s]||(n+="px"),Q.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&(n=o.set(e,n,i))===undefined)))try{l[t]=n}catch(u){}}},css:function(e,t,n,i){var a,r,o,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=g(e.style,s)),(o=Q.cssHooks[t]||Q.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),r===undefined&&(r=Je(e,t,i)),"normal"===r&&t in dt&&(r=dt[t]),""===n||n?(a=parseFloat(r),!0===n||Q.isNumeric(a)?a||0:r):r},swap:function(e,t,n,i){var a,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=o[r];return a}}),window.getComputedStyle?(Ke=function(e){return window.getComputedStyle(e,null)},Je=function(e,t,n){var i,a,r,o=n||Ke(e),s=o?o.getPropertyValue(t)||o[t]:undefined,l=e.style;return o&&(""!==s||Q.contains(e.ownerDocument,e)||(s=Q.style(e,t)),ot.test(s)&&at.test(t)&&(i=l.width,a=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=o.width,l.width=i,l.minWidth=a,l.maxWidth=r)),s}):$.documentElement.currentStyle&&(Ke=function(e){return e.currentStyle},Je=function(e,t,n){var i,a,r,o=n||Ke(e),s=o?o[t]:undefined,l=e.style;return null==s&&l&&l[t]&&(s=l[t]),ot.test(s)&&!nt.test(t)&&(i=l.left,(r=(a=e.runtimeStyle)&&a.left)&&(a.left=e.currentStyle.left),l.left="fontSize"===t?"1em":s,s=l.pixelLeft+"px",l.left=i,r&&(a.left=r)),""===s?"auto":s}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,i){if(n)return 0===e.offsetWidth&&it.test(Q.css(e,"display"))?Q.swap(e,ut,function(){return C(e,t,i)}):C(e,t,i)},set:function(e,n,i){var a=i&&Ke(e);return b(0,n,i?w(e,t,i,Q.support.boxSizing&&"border-box"===Q.css(e,"boxSizing",!1,a),a):0)}}}),Q.support.opacity||(Q.cssHooks.opacity={get:function(e,t){return tt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=Q.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===Q.trim(r.replace(et,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=et.test(r)?r.replace(et,a):r+" "+a)}}),Q(function(){Q.support.reliableMarginRight||(Q.cssHooks.marginRight={get:function(e,t){if(t)return Q.swap(e,{display:"inline-block"},Je,[e,"marginRight"])}}),!Q.support.pixelPosition&&Q.fn.position&&Q.each(["top","left"],function(e,t){Q.cssHooks[t]={get:function(e,n){if(n)return n=Je(e,t),ot.test(n)?Q(e).position()[t]+"px":n}}})}),Q.expr&&Q.expr.filters&&(Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!Q.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Q.css(e,"display"))},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];i<4;i++)a[e+ct[i]+t]=r[i]||r[i-2]||r[0];return a}},at.test(e)||(Q.cssHooks[e+t].set=b)});var pt=/%20/g,ht=/\[\]$/,vt=/\r?\n/g,mt=/^(?:submit|button|image|reset|file)$/i,gt=/^(?:input|select|textarea|keygen)/i;Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&gt.test(this.nodeName)&&!mt.test(e)&&(this.checked||!ze.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(vt,"\r\n")}}):{name:t.name,value:n.replace(vt,"\r\n")}}).get()}}),Q.param=function(e,t){var n,i=[],a=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){a(this.name,this.value)});else for(n in e)_(n,e[n],t,a);return i.join("&").replace(pt,"+")},Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var xt,yt,bt=Q.now(),wt=/\?/,Ct=/#.*$/,Tt=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_t=/^(?:GET|HEAD)$/,St=/^\/\//,It=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Dt=Q.fn.load,Et={},Pt={},At="*/".concat("*");try{yt=q.href}catch(Ut){(yt=$.createElement("a")).href="",yt=yt.href}xt=It.exec(yt.toLowerCase())||[],Q.fn.load=function(e,t,n){if("string"!=typeof e&&Dt)return Dt.apply(this,arguments);var i,a,r,o=this,s=e.indexOf(" ");return s>=0&&(i=e.slice(s,e.length),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(r="POST"),o.length>0&&Q.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?Q("<div>").append(Q.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,i,a){return Q.isFunction(n)&&(a=a||i,i=n,n=undefined),Q.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,Q.ajaxSettings),t):D(Q.ajaxSettings,e)},ajaxPrefilter:S(Et),ajaxTransport:S(Pt),ajax:function(e,t){function n(e,t,n,i){var a,d,g,x,b,C=t;2!==y&&(y=2,s&&clearTimeout(s),u=undefined,o=i||"",w.readyState=e>0?4:0,n&&(x=function(e,t,n){var i,a,r,o,s=e.contents,l=e.dataTypes,u=e.responseFields;for(o in u)o in n&&(t[u[o]]=n[o]);for(;"*"===l[0];)l.shift(),a===undefined&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}i||(i=o)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}(c,w,n)),e>=200&&e<300||304===e?(c.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(Q.lastModified[r]=b),(b=w.getResponseHeader("etag"))&&(Q.etag[r]=b)),204===e?(a=!0,C="nocontent"):304===e?(a=!0,C="notmodified"):(C=(a=function(e,t){var n,i,a,r,o={},s=0,l=e.dataTypes.slice(),u=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(a in e.converters)o[a.toLowerCase()]=e.converters[a];for(;i=l[++s];)if("*"!==i){if("*"!==u&&u!==i){if(!(a=o[u+" "+i]||o["* "+i]))for(n in o)if((r=n.split(" "))[1]===i&&(a=o[u+" "+r[0]]||o["* "+r[0]])){!0===a?a=o[n]:!0!==o[n]&&(i=r[0],l.splice(s--,0,i));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(Ut){return{state:"parsererror",error:a?Ut:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}(c,x)).state,d=a.data,a=!(g=a.error))):(g=C,!e&&C||(C="error",e<0&&(e=0))),w.status=e,w.statusText=(t||C)+"",a?h.resolveWith(f,[d,C,w]):h.rejectWith(f,[w,C,g]),w.statusCode(m),m=undefined,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[w,c,a?d:g]),v.fireWith(f,[w,C]),l&&(p.trigger("ajaxComplete",[w,c]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var i,a,r,o,s,l,u,d,c=Q.ajaxSetup({},t),f=c.context||c,p=c.context&&(f.nodeType||f.jquery)?Q(f):Q.event,h=Q.Deferred(),v=Q.Callbacks("once memory"),m=c.statusCode||{},g={},x={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!d)for(d={};t=kt.exec(o);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=x[n]=x[n]||e,g[e]=t),this},overrideMimeType:function(e){return y||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,c.url=((e||c.url||yt)+"").replace(Ct,"").replace(St,xt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=Q.trim(c.dataType||"*").toLowerCase().match(J)||[""],null==c.crossDomain&&(i=It.exec(c.url.toLowerCase()),c.crossDomain=!(!i||i[1]===xt[1]&&i[2]===xt[2]&&(i[3]||("http:"===i[1]?80:443))==(xt[3]||("http:"===xt[1]?80:443)))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Q.param(c.data,c.traditional)),I(Et,c,t,w),2===y)return w;(l=c.global)&&0==Q.active++&&Q.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!_t.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(wt.test(r)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=Tt.test(r)?r.replace(Tt,"$1_="+bt++):r+(wt.test(r)?"&":"?")+"_="+bt++)),c.ifModified&&(Q.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&w.setRequestHeader("If-None-Match",Q.etag[r])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+At+"; q=0.01":""):c.accepts["*"]);for(a in c.headers)w.setRequestHeader(a,c.headers[a]);if(c.beforeSend&&(!1===c.beforeSend.call(f,w,c)||2===y))return w.abort();b="abort";for(a in{success:1,error:1,complete:1})w[a](c[a]);if(u=I(Pt,c,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},c.timeout));try{y=1,u.send(g,n)}catch(Ut){if(!(y<2))throw Ut;n(-1,Ut)}}else n(-1,"No Transport");return w},getScript:function(e,t){return Q.get(e,undefined,t,"script")},getJSON:function(e,t,n){return Q.get(e,t,n,"json")}}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=$.head||Q("head")[0]||$.documentElement;return{send:function(i,a){(t=$.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var Mt=[],Ot=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||Q.expando+"_"+bt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(e,t,n){var i,a,r,o=!1!==e.jsonp&&(Ot.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Ot,"$1"+i):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||Q.error(i+" was not called"),r[0]},e.dataTypes[0]="json",a=window[i],window[i]=function(){r=arguments},n.always(function(){window[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Mt.push(i)),r&&Q.isFunction(a)&&a(r[0]),r=a=undefined}),"script"});var Nt,Lt,Rt=0,Bt=window.ActiveXObject&&function(){var e;for(e in Nt)Nt[e](undefined,!0)};Q.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&E()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(Ut){}}()}:E,Lt=Q.ajaxSettings.xhr(),Q.support.cors=!!Lt&&"withCredentials"in Lt,(Lt=Q.support.ajax=!!Lt)&&Q.ajaxTransport(function(e){if(!e.crossDomain||Q.support.cors){var t;return{send:function(n,i){var a,r,o=e.xhr();if(e.username?o.open(e.type,e.url,e.async,e.username,e.password):o.open(e.type,e.url,e.async),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(r in n)o.setRequestHeader(r,n[r])}catch(s){}o.send(e.hasContent&&e.data||null),t=function(n,r){var s,l,u,d;try{if(t&&(r||4===o.readyState))if(t=undefined,a&&(o.onreadystatechange=Q.noop,Bt&&delete Nt[a]),r)4!==o.readyState&&o.abort();else{d={},s=o.status,l=o.getAllResponseHeaders(),"string"==typeof o.responseText&&(d.text=o.responseText);try{u=o.statusText}catch(Ut){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(c){r||i(-1,c)}d&&i(s,u,d,l)},e.async?4===o.readyState?setTimeout(t):(a=++Rt,Bt&&(Nt||(Nt={},Q(window).unload(Bt)),Nt[a]=t),o.onreadystatechange=t):t()},abort:function(){t&&t(undefined,!0)}}}});var $t,qt,Ft=/^(?:toggle|show|hide)$/,jt=new RegExp("^(?:([+-])=|)("+K+")([a-z%]*)$","i"),Ht=/queueHooks$/,Vt=[function(e,t,n){var i,a,r,o,s,l,u,d,c,f=this,p=e.style,h={},v=[],m=e.nodeType&&x(e);n.queue||(null==(d=Q._queueHooks(e,"fx")).unqueued&&(d.unqueued=0,c=d.empty.fire,d.empty.fire=function(){d.unqueued||c()}),d.unqueued++,f.always(function(){f.always(function(){d.unqueued--,Q.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Q.css(e,"display")&&"none"===Q.css(e,"float")&&(Q.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",Q.support.shrinkWrapBlocks||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(a in t)if(o=t[a],Ft.exec(o)){if(delete t[a],l=l||"toggle"===o,o===(m?"hide":"show"))continue;v.push(a)}if(r=v.length){"hidden"in(s=Q._data(e,"fxshow")||Q._data(e,"fxshow",{}))&&(m=s.hidden),l&&(s.hidden=!m),m?Q(e).show():f.done(function(){Q(e).hide()}),f.done(function(){var t;Q._removeData(e,"fxshow");for(t in h)Q.style(e,t,h[t])});for(a=0;a<r;a++)i=v[a],u=f.createTween(i,m?s[i]:0),h[i]=s[i]||Q.style(e,i),i in s||(s[i]=u.start,m&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}],zt={"*":[function(e,t){var n,i,a=this.createTween(e,t),r=jt.exec(t),o=a.cur(),s=+o||0,l=1,u=20;if(r){if(n=+r[2],"px"!==(i=r[3]||(Q.cssNumber[e]?"":"px"))&&s){s=Q.css(a.elem,e,!0)||n||1;do{s/=l=l||".5",Q.style(a.elem,e,s+i)}while(l!==(l=a.cur()/o)&&1!==l&&--u)}a.unit=i,a.start=s,a.end=r[1]?s+(r[1]+1)*n:n}return a}]};return Q.Animation=Q.extend(A,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;i<a;i++)n=e[i],zt[n]=zt[n]||[],zt[n].unshift(t)},prefilter:function(e,t){t?Vt.unshift(e):Vt.push(e)}}),Q.Tween=M,M.prototype={constructor:M,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Q.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,a)}}),Q.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=Q.isEmptyObject(e),r=Q.speed(t,n,i),o=function(){var t=A(this,Q.extend({},e),r);o.finish=function(){t.stop(!0)},(a||Q._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=Q.timers,o=Q._data(this);if(a)o[a]&&o[a].stop&&i(o[a]);else for(a in o)o[a]&&o[a].stop&&Ht.test(a)&&i(o[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(n),t=!1,r.splice(a,1));!t&&n||Q.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=Q.timers,o=i?i.length:0;for(n.finish=!0,Q.queue(this,e,[]),a&&a.cur&&a.cur.finish&&a.cur.finish.call(this),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Q.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Q.speed=function(e,t,n){var i=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.timers=[],Q.fx=M.prototype.init,Q.fx.tick=function(){var e,t=Q.timers,n=0;for($t=Q.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||Q.fx.stop(),$t=undefined},Q.fx.timer=function(e){e()&&Q.timers.push(e)&&Q.fx.start()},Q.fx.interval=13,Q.fx.start=function(){qt||(qt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(qt),qt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fx.step={},Q.expr&&Q.expr.filters&&(Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length}),Q.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},a=this[0],r=a&&a.ownerDocument;if(r)return t=r.documentElement,Q.contains(t,a)?(typeof a.getBoundingClientRect!==B&&(i=a.getBoundingClientRect()),n=N(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},Q.offset={setOffset:function(e,t,n){var i=Q.css(e,"position");"static"===i&&(e.style.position="relative");var a,r,o=Q(e),s=o.offset(),l=Q.css(e,"top"),u=Q.css(e,"left"),d={},c={};("absolute"===i||"fixed"===i)&&Q.inArray("auto",[l,u])>-1?(a=(c=o.position()).top,r=c.left):(a=parseFloat(l)||0,r=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):o.css(d)}},Q.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===Q.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(n=e.offset()),n.top+=Q.css(e[0],"borderTopWidth",!0),n.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Q.css(i,"marginTop",!0),left:t.left-n.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||$.documentElement;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||$.documentElement})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);Q.fn[e]=function(i){return Q.access(this,function(e,i,a){var r=N(e);if(a===undefined)return r?t in r?r[t]:r.document.documentElement[i]:e[i];r?r.scrollTo(n?Q(r).scrollLeft():a,n?a:Q(r).scrollTop()):e[i]=a},e,i,arguments.length,null)}}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Q.fn[i]=function(i,a){var r=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===a?"margin":"border");return Q.access(this,function(t,n,i){var a;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):i===undefined?Q.css(t,n,o):Q.style(t,n,i,o)},t,r?i:undefined,r,null)}})}),Q}),define("jquery",["jquery/jquery"],function(e){return e}),define("lodash/lodash",[],function(){function e(e,t){if(e!==t){var n=null===e,i=e===b,a=e==e,r=null===t,o=t===b,s=t==t;if(e>t&&!r||!a||n&&!o&&s||i&&s)return 1;if(e<t&&!n||!s||r&&!i&&a||o&&a)return-1}return 0}function t(e,t,n){for(var i=e.length,a=n?i:-1;n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function n(e,t,n){if(t!=t)return f(e,n);for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}function i(e){return"function"==typeof e||!1}function a(e){return null==e?"":e+""}function r(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function o(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(e){return Be[e]}function u(e){return $e[e]}function d(e,t,n){return t?e=je[e]:n&&(e=He[e]),"\\"+e}function c(e){return"\\"+He[e]}function f(e,t,n){for(var i=e.length,a=t+(n?0:-1);n?a--:++a<i;){var r=e[a];if(r!=r)return a}return-1}function p(e){return!!e&&"object"==typeof e}function h(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,i=e.length,a=-1,r=[];++n<i;)e[n]===t&&(e[n]=q,r[++a]=n);return r}function m(e){for(var t=-1,n=e.length;++t<n&&h(e.charCodeAt(t)););return t}function g(e){for(var t=e.length;t--&&h(e.charCodeAt(t)););return t}function x(e){return qe[e]}function y(h){function Be(e){if(p(e)&&!_r(e)&&!(e instanceof Fe)){if(e instanceof qe)return e;if(Gi.call(e,"__chain__")&&Gi.call(e,"__wrapped__"))return Ln(e)}return new qe(e)}function $e(){}function qe(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Fe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wa,this.__views__=[]}function je(){this.__data__={}}function He(e){var t=e?e.length:0;for(this.data={hash:da(null),set:new aa};t--;)this.push(e[t])}function Ve(e,t){var n=e.data;return("string"==typeof t||ui(t)?n.set.has(t):n.hash[t])?0:-1}function ze(e,t){var n=-1,i=e.length;for(t||(t=Oi(i));++n<i;)t[n]=e[n];return t}function Ue(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function We(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Ye(e,t){for(var n=-1,i=e.length,a=-1,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[++a]=o)}return r}function Qe(e,t){for(var n=-1,i=e.length,a=Oi(i);++n<i;)a[n]=t(e[n],n,e);return a}function Ke(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}function Je(e,t,n,i){var a=-1,r=e.length;for(i&&r&&(n=e[++a]);++a<r;)n=t(n,e[a],a,e);return n}function et(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function tt(e,t,n,i){return e!==b&&Gi.call(i,n)?e:t}function nt(e,t,n){for(var i=-1,a=Rr(t),r=a.length;++i<r;){var o=a[i],s=e[o],l=n(s,t[o],o,e,t);(l==l?l===s:s!=s)&&(s!==b||o in e)||(e[o]=l)}return e}function it(e,t){return null==t?e:rt(t,Rr(t),e)}function at(e,t){for(var n=-1,i=null==e,a=!i&&wn(e),r=a?e.length:0,o=t.length,s=Oi(o);++n<o;){var l=t[n];s[n]=a?Cn(l,r)?e[l]:b:i?b:e[l]}return s}function rt(e,t,n){n||(n={});for(var i=-1,a=t.length;++i<a;){var r=t[i];n[r]=e[r]}return n}function ot(e,t,n){var i=typeof e;return"function"==i?t===b?e:$t(e,t,n):null==e?Di:"object"==i?Ct(e):t===b?Mi(e):Tt(e,t)}function st(e,t,n,i,a,r,o){var s;if(n&&(s=a?n(e,i,a):n(e)),s!==b)return s;if(!ui(e))return e;var l=_r(e);if(l){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Gi.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return ze(e,s)}else{var u=Xi.call(e),d=u==U;if(u!=Y&&u!=F&&(!d||a))return Re[u]?function(e,t,n){var i=e.constructor;switch(t){case X:return qt(e);case H:case V:return new i(+e);case Q:case K:case J:case ee:case te:case ne:case ie:case ae:case re:i instanceof i&&(i=Da[t]);var a=e.buffer;return new i(n?qt(a):a,e.byteOffset,e.length);case W:case Z:return new i(e);case G:var r=new i(e.source,ke.exec(e));r.lastIndex=e.lastIndex}return r}(e,u,t):a?e:{};if(Ze(e))return a?e:{};if(s=function(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=qi);return new t}(d?{}:e),!t)return it(s,e)}r||(r=[]),o||(o=[]);for(var c=r.length;c--;)if(r[c]==e)return o[c];return r.push(e),o.push(s),(l?Ue:vt)(e,function(i,a){s[a]=st(i,t,n,a,e,r,o)}),s}function lt(e,t,n){if("function"!=typeof e)throw new Hi($);return ra(function(){e.apply(b,n)},t)}function ut(e,t){var i=e?e.length:0,a=[];if(!i)return a;var r=-1,o=gn(),s=o===n,l=s&&t.length>=L?Wt(t):null,u=t.length;l&&(o=Ve,s=!1,t=l);e:for(;++r<i;){var d=e[r];if(s&&d==d){for(var c=u;c--;)if(t[c]===d)continue e;a.push(d)}else o(t,d,0)<0&&a.push(d)}return a}function dt(e,t){var n=!0;return Ma(e,function(e,i,a){return n=!!t(e,i,a)}),n}function ct(e,t){var n=[];return Ma(e,function(e,i,a){t(e,i,a)&&n.push(e)}),n}function ft(e,t,n,i){var a;return n(e,function(e,n,r){if(t(e,n,r))return a=i?n:e,!1}),a}function pt(e,t,n,i){i||(i=[]);for(var a=-1,r=e.length;++a<r;){var o=e[a];p(o)&&wn(o)&&(n||_r(o)||ri(o))?t?pt(o,t,n,i):Ke(i,o):n||(i[i.length]=o)}return i}function ht(e,t){return Na(e,t,bi)}function vt(e,t){return Na(e,t,Rr)}function mt(e,t){return La(e,t,Rr)}function gt(e,t){for(var n=-1,i=t.length,a=-1,r=[];++n<i;){var o=t[n];li(e[o])&&(r[++a]=o)}return r}function xt(e,t,n){if(null!=e){e=On(e),n!==b&&n in e&&(t=[n]);for(var i=0,a=t.length;null!=e&&i<a;)e=On(e)[t[i++]];return i&&i==a?e:b}}function yt(e,t,n,i,a,r){return e===t||(null==e||null==t||!ui(e)&&!p(t)?e!=e&&t!=t:function(e,t,n,i,a,r,o){var s=_r(e),l=_r(t),u=j,d=j;s||((u=Xi.call(e))==F?u=Y:u!=Y&&(s=vi(e)));l||((d=Xi.call(t))==F?d=Y:d!=Y&&(l=vi(t)));var c=u==Y&&!Ze(e),f=d==Y&&!Ze(t),p=u==d;if(p&&!s&&!c)return function(e,t,n){switch(n){case H:case V:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case W:return e!=+e?t!=+t:e==+t;case G:case Z:return e==t+""}return!1}(e,t,u);if(!a){var h=c&&Gi.call(e,"__wrapped__"),v=f&&Gi.call(t,"__wrapped__");if(h||v)return n(h?e.value():e,v?t.value():t,i,a,r,o)}if(!p)return!1;r||(r=[]),o||(o=[]);var m=r.length;for(;m--;)if(r[m]==e)return o[m]==t;r.push(e),o.push(t);var g=(s?function(e,t,n,i,a,r,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;for(;++s<l;){var d=e[s],c=t[s],f=i?i(a?c:d,a?d:c,s):b;if(f!==b){if(f)continue;return!1}if(a){if(!et(t,function(e){return d===e||n(d,e,i,a,r,o)}))return!1}else if(d!==c&&!n(d,c,i,a,r,o))return!1}return!0}:function(e,t,n,i,a,r,o){var s=Rr(e),l=s.length,u=Rr(t).length;if(l!=u&&!a)return!1;var d=l;for(;d--;){var c=s[d];if(!(a?c in t:Gi.call(t,c)))return!1}var f=a;for(;++d<l;){c=s[d];var p=e[c],h=t[c],v=i?i(a?h:p,a?p:h,c):b;if(!(v===b?n(p,h,i,a,r,o):v))return!1;f||(f="constructor"==c)}if(!f){var m=e.constructor,g=t.constructor;if(m!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g))return!1}return!0})(e,t,n,i,a,r,o);return r.pop(),o.pop(),g}(e,t,yt,n,i,a,r))}function bt(e,t,n){var i=t.length,a=i,r=!n;if(null==e)return!a;for(e=On(e);i--;){var o=t[i];if(r&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var s=(o=t[i])[0],l=e[s],u=o[1];if(r&&o[2]){if(l===b&&!(s in e))return!1}else{var d=n?n(l,u,s):b;if(!(d===b?yt(u,l,n,!0):d))return!1}}return!0}function wt(e,t){var n=-1,i=wn(e)?Oi(e.length):[];return Ma(e,function(e,a,r){i[++n]=t(e,a,r)}),i}function Ct(e){var t=xn(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null!=e&&((e=On(e))[n]===i&&(i!==b||n in e))}}return function(e){return bt(e,t)}}function Tt(e,t){var n=_r(e),i=kn(e)&&In(t),a=e+"";return e=Nn(e),function(r){if(null==r)return!1;var o=a;if(r=On(r),(n||!i)&&!(o in r)){if(null==(r=1==e.length?r:xt(r,Dt(e,0,-1))))return!1;o=Fn(e),r=On(r)}return r[o]===t?t!==b||o in r:yt(t,r[o],b,!0)}}function kt(e,t,n,i,a){if(!ui(e))return e;var r=wn(t)&&(_r(t)||vi(t)),o=r?b:Rr(t);return Ue(o||t,function(s,l){if(o&&(s=t[l=s]),p(s))i||(i=[]),a||(a=[]),function(e,t,n,i,a,r,o){var s=r.length,l=t[n];for(;s--;)if(r[s]==l)return void(e[n]=o[s]);var u=e[n],d=a?a(u,l,n,e,t):b,c=d===b;c&&(d=l,wn(l)&&(_r(l)||vi(l))?d=_r(u)?u:wn(u)?ze(u):[]:fi(l)||ri(l)?d=ri(u)?xi(u):fi(u)?u:{}:c=!1);r.push(l),o.push(d),c?e[n]=i(d,l,a,r,o):(d==d?d!==u:u==u)&&(e[n]=d)}(e,t,l,kt,n,i,a);else{var u=e[l],d=n?n(u,s,l,e,t):b,c=d===b;c&&(d=s),d===b&&(!r||l in e)||!c&&(d==d?d===u:u!=u)||(e[l]=d)}}),e}function _t(e){return function(t){return null==t?b:On(t)[e]}}function St(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=a&&Cn(i)){var a=i;oa.call(e,i,1)}}return e}function It(e,t){return e+ca(ya()*(t-e+1))}function Dt(e,t,n){var i=-1,a=e.length;(t=null==t?0:+t||0)<0&&(t=-t>a?0:a+t),(n=n===b||n>a?a:+n||0)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var r=Oi(a);++i<a;)r[i]=e[i+t];return r}function Et(e,t){var n;return Ma(e,function(e,i,a){return!(n=t(e,i,a))}),!!n}function Pt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function At(t,n,i){var a=vn(),r=-1;n=Qe(n,function(e){return a(e)});return Pt(wt(t,function(e){return{criteria:Qe(n,function(t){return t(e)}),index:++r,value:e}}),function(t,n){return function(t,n,i){for(var a=-1,r=t.criteria,o=n.criteria,s=r.length,l=i.length;++a<s;){var u=e(r[a],o[a]);if(u){if(a>=l)return u;var d=i[a];return u*("asc"===d||!0===d?1:-1)}}return t.index-n.index}(t,n,i)})}function Mt(e,t){var i=-1,a=gn(),r=e.length,o=a===n,s=o&&r>=L,l=s?Wt():null,u=[];l?(a=Ve,o=!1):(s=!1,l=t?[]:u);e:for(;++i<r;){var d=e[i],c=t?t(d,i,e):d;if(o&&d==d){for(var f=l.length;f--;)if(l[f]===c)continue e;t&&l.push(c),u.push(d)}else a(l,c,0)<0&&((t||s)&&l.push(c),u.push(d))}return u}function Ot(e,t){for(var n=-1,i=t.length,a=Oi(i);++n<i;)a[n]=e[t[n]];return a}function Nt(e,t,n,i){for(var a=e.length,r=i?a:-1;(i?r--:++r<a)&&t(e[r],r,e););return n?Dt(e,i?0:r,i?r+1:a):Dt(e,i?r+1:0,i?a:r)}function Lt(e,t){var n=e;n instanceof Fe&&(n=n.value());for(var i=-1,a=t.length;++i<a;){var r=t[i];n=r.func.apply(r.thisArg,Ke([n],r.args))}return n}function Rt(e,t,n){var i=0,a=e?e.length:i;if("number"==typeof t&&t==t&&a<=ka){for(;i<a;){var r=i+a>>>1,o=e[r];(n?o<=t:o<t)&&null!==o?i=r+1:a=r}return a}return Bt(e,t,Di,n)}function Bt(e,t,n,i){t=n(t);for(var a=0,r=e?e.length:0,o=t!=t,s=null===t,l=t===b;a<r;){var u=ca((a+r)/2),d=n(e[u]),c=d!==b,f=d==d;if(o)var p=f||i;else p=s?f&&c&&(i||null!=d):l?f&&(i||c):null!=d&&(i?d<=t:d<t);p?a=u+1:r=u}return ma(r,Ta)}function $t(e,t,n){if("function"!=typeof e)return Di;if(t===b)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)};case 5:return function(n,i,a,r,o){return e.call(t,n,i,a,r,o)}}return function(){return e.apply(t,arguments)}}function qt(e){var t=new Ji(e.byteLength);return new sa(t).set(new sa(e)),t}function Ft(e,t,n){for(var i=n.length,a=-1,r=va(e.length-i,0),o=-1,s=t.length,l=Oi(s+r);++o<s;)l[o]=t[o];for(;++a<i;)l[n[a]]=e[a];for(;r--;)l[o++]=e[a++];return l}function jt(e,t,n){for(var i=-1,a=n.length,r=-1,o=va(e.length-a,0),s=-1,l=t.length,u=Oi(o+l);++r<o;)u[r]=e[r];for(var d=r;++s<l;)u[d+s]=t[s];for(;++i<a;)u[d+n[i]]=e[r++];return u}function Ht(e,t){return function(n,i,a){var r=t?t():{};if(i=vn(i,a,3),_r(n))for(var o=-1,s=n.length;++o<s;){var l=n[o];e(r,l,i(l,o,n),n)}else Ma(n,function(t,n,a){e(r,t,i(t,n,a),a)});return r}}function Vt(e){return ii(function(t,n){var i=-1,a=null==t?0:n.length,r=a>2?n[a-2]:b,o=a>2?n[2]:b,s=a>1?n[a-1]:b;for("function"==typeof r?(r=$t(r,s,5),a-=2):a-=(r="function"==typeof s?s:b)?1:0,o&&Tn(n[0],n[1],o)&&(r=a<3?b:r,a=1);++i<a;){var l=n[i];l&&e(t,l,r)}return t})}function zt(e,t){return function(n,i){var a=n?$a(n):0;if(!Sn(a))return e(n,i);for(var r=t?a:-1,o=On(n);(t?r--:++r<a)&&!1!==i(o[r],r,o););return n}}function Ut(e){return function(t,n,i){for(var a=On(t),r=i(t),o=r.length,s=e?o:-1;e?s--:++s<o;){var l=r[s];if(!1===n(a[l],l,a))break}return t}}function Wt(e){return da&&aa?new He(e):null}function Yt(e){return function(t){for(var n=-1,i=Si(Ti(t)),a=i.length,r="";++n<a;)r=e(r,i[n],n);return r}}function Gt(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Aa(e.prototype),i=e.apply(n,t);return ui(i)?i:n}}function Zt(e){function t(n,i,a){a&&Tn(n,i,a)&&(i=b);var r=hn(n,e,b,b,b,b,b,i);return r.placeholder=t.placeholder,r}return t}function Xt(e,t){return ii(function(n){var i=n[0];return null==i?i:(n.push(t),e.apply(b,n))})}function Qt(e,t){return function(n,i,a){if(a&&Tn(n,i,a)&&(i=b),1==(i=vn(i,a,3)).length){var r=function(e,t,n,i){for(var a=-1,r=e.length,o=i,s=o;++a<r;){var l=e[a],u=+t(l);n(u,o)&&(o=u,s=l)}return s}(n=_r(n)?n:Mn(n),i,e,t);if(!n.length||r!==t)return r}return function(e,t,n,i){var a=i,r=a;return Ma(e,function(e,o,s){var l=+t(e,o,s);(n(l,a)||l===i&&l===r)&&(a=l,r=e)}),r}(n,i,e,t)}}function Kt(e,n){return function(i,a,r){if(a=vn(a,r,3),_r(i)){var o=t(i,a,n);return o>-1?i[o]:b}return ft(i,a,e)}}function Jt(e){return function(n,i,a){return n&&n.length?(i=vn(i,a,3),t(n,i,e)):-1}}function en(e){return function(t,n,i){return n=vn(n,i,3),ft(t,n,e,!0)}}function tn(e){return function(){for(var t,n=arguments.length,i=e?n:-1,a=0,r=Oi(n);e?i--:++i<n;){var o=r[a++]=arguments[i];if("function"!=typeof o)throw new Hi($);!t&&qe.prototype.thru&&"wrapper"==mn(o)&&(t=new qe([],!0))}for(i=t?-1:n;++i<n;){var s=mn(o=r[i]),l="wrapper"==s?Ba(o):b;t=l&&_n(l[0])&&l[1]==(E|_|I|P)&&!l[4].length&&1==l[9]?t[mn(l[0])].apply(t,l[3]):1==o.length&&_n(o)?t[s]():t.thru(o)}return function(){var e=arguments,i=e[0];if(t&&1==e.length&&_r(i)&&i.length>=L)return t.plant(i).value();for(var a=0,o=n?r[a].apply(this,e):i;++a<n;)o=r[a].call(this,o);return o}}}function nn(e,t){return function(n,i,a){return"function"==typeof i&&a===b&&_r(n)?e(n,i):t(n,$t(i,a,3))}}function an(e){return function(t,n,i){return"function"==typeof n&&i===b||(n=$t(n,i,3)),e(t,n,bi)}}function rn(e){return function(t,n,i){return"function"==typeof n&&i===b||(n=$t(n,i,3)),e(t,n)}}function on(e){return function(t,n,i){var a={};return n=vn(n,i,3),vt(t,function(t,i,r){var o=n(t,i,r);i=e?o:i,t=e?t:o,a[i]=t}),a}}function sn(e){return function(t,n,i){return t=a(t),(e?t:"")+cn(t,n,i)+(e?"":t)}}function ln(e){var t=ii(function(n,i){var a=v(i,t.placeholder);return hn(n,e,b,i,a)});return t}function un(e,t){return function(n,i,a,r){var o=arguments.length<3;return"function"==typeof i&&r===b&&_r(n)?e(n,i,a,o):function(e,t,n,i,a){return a(e,function(e,a,r){n=i?(i=!1,e):t(n,e,a,r)}),n}(n,vn(i,r,4),a,o,t)}}function dn(e,t,n,i,a,r,o,s,l,u){function d(){for(var y=arguments.length,w=y,k=Oi(y);w--;)k[w]=arguments[w];if(i&&(k=Ft(k,i,a)),r&&(k=jt(k,r,o)),h||g){var _=d.placeholder,S=v(k,_);if((y-=S.length)<u){var E=s?ze(s):b,P=va(u-y,0);t|=h?I:D,t&=~(h?D:I),m||(t&=~(C|T));var A=[e,t,n,h?k:b,h?S:b,h?b:k,h?b:S,E,l,P],M=dn.apply(b,A);return _n(e)&&qa(M,A),M.placeholder=_,M}}var O=f?n:this,N=p?O[e]:e;return s&&(k=function(e,t){var n=e.length,i=ma(t.length,n),a=ze(e);for(;i--;){var r=t[i];e[i]=Cn(r,n)?a[r]:b}return e}(k,s)),c&&l<k.length&&(k.length=l),this&&this!==Ge&&this instanceof d&&(N=x||Gt(e)),N.apply(O,k)}var c=t&E,f=t&C,p=t&T,h=t&_,m=t&k,g=t&S,x=p?b:Gt(e);return d}function cn(e,t,n){var i=e.length;if(t=+t,i>=t||!pa(t))return"";var a=t-i;return n=null==n?" ":n+"",ki(n,ua(a/n.length)).slice(0,a)}function fn(e){var t=Bi[e];return function(e,n){return(n=n===b?0:+n||0)?(n=na(10,n),t(e*n)/n):t(e)}}function pn(e){return function(t,n,i,a){var r=vn(i);return null==i&&r===ot?Rt(t,n,e):Bt(t,n,r(i,a,1),e)}}function hn(e,t,n,i,a,r,o,s){var l=t&T;if(!l&&"function"!=typeof e)throw new Hi($);var u=i?i.length:0;if(u||(t&=~(I|D),i=a=b),u-=a?a.length:0,t&D){var d=i,c=a;i=a=b}var f=l?b:Ba(e),p=[e,t,n,i,a,d,c,r,o,s];if(f&&(!function(e,t){var n=e[1],i=t[1],a=n|i,r=a<E,o=i==E&&n==_||i==E&&n==P&&e[7].length<=t[8]||i==(E|P)&&n==_;if(!r&&!o)return e;i&C&&(e[2]=t[2],a|=n&C?0:k);var s=t[3];if(s){var l=e[3];e[3]=l?Ft(l,s,t[4]):ze(s),e[4]=l?v(e[3],q):ze(t[4])}(s=t[5])&&(l=e[5],e[5]=l?jt(l,s,t[6]):ze(s),e[6]=l?v(e[5],q):ze(t[6]));(s=t[7])&&(e[7]=ze(s));i&E&&(e[8]=null==e[8]?t[8]:ma(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(p,f),t=p[1],s=p[9]),p[9]=null==s?l?0:e.length:va(s-u,0)||0,t==C)var h=function(e,t){function n(){return(this&&this!==Ge&&this instanceof n?i:e).apply(t,arguments)}var i=Gt(e);return n}(p[0],p[2]);else h=t!=I&&t!=(C|I)||p[4].length?dn.apply(b,p):function(e,t,n,i){function a(){for(var t=-1,s=arguments.length,l=-1,u=i.length,d=Oi(u+s);++l<u;)d[l]=i[l];for(;s--;)d[l++]=arguments[++t];return(this&&this!==Ge&&this instanceof a?o:e).apply(r?n:this,d)}var r=t&C,o=Gt(e);return a}.apply(b,p);return(f?Ra:qa)(h,p)}function vn(e,t,n){var i=Be.callback||Ii;return i=i===Ii?ot:i,n?i(e,t,n):i}function mn(e){for(var t=e.name+"",n=Ia[t],i=n?n.length:0;i--;){var a=n[i],r=a.func;if(null==r||r==e)return a.name}return t}function gn(e,t,i){var a=Be.indexOf||qn;return a=a===qn?n:a,e?a(e,t,i):a}function xn(e){for(var t=wi(e),n=t.length;n--;)t[n][2]=In(t[n][1]);return t}function yn(e,t){var n=null==e?b:e[t];return di(n)?n:b}function bn(e,t,n){null==e||kn(t,e)||(e=1==(t=Nn(t)).length?e:xt(e,Dt(t,0,-1)),t=Fn(t));var i=null==e?e:e[t];return null==i?b:i.apply(e,n)}function wn(e){return null!=e&&Sn($a(e))}function Cn(e,t){return e="number"==typeof e||Ie.test(e)?+e:-1,t=null==t?_a:t,e>-1&&e%1==0&&e<t}function Tn(e,t,n){if(!ui(n))return!1;var i=typeof t;if("number"==i?wn(n)&&Cn(t,n.length):"string"==i&&t in n){var a=n[t];return e==e?e===a:a!=a}return!1}function kn(e,t){var n=typeof e;if("string"==n&&ge.test(e)||"number"==n)return!0;if(_r(e))return!1;return!me.test(e)||null!=t&&e in On(t)}function _n(e){var t=mn(e),n=Be[t];if("function"!=typeof n||!(t in Fe.prototype))return!1;if(e===n)return!0;var i=Ba(n);return!!i&&e===i[0]}function Sn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_a}function In(e){return e==e&&!ui(e)}function Dn(e,t){return e===b?t:Sr(e,t,Dn)}function En(e,t){e=On(e);for(var n=-1,i=t.length,a={};++n<i;){var r=t[n];r in e&&(a[r]=e[r])}return a}function Pn(e,t){var n={};return ht(e,function(e,i,a){t(e,i,a)&&(n[i]=e)}),n}function An(e){for(var t=bi(e),n=t.length,i=n&&e.length,a=!!i&&Sn(i)&&(_r(e)||ri(e)||hi(e)),r=-1,o=[];++r<n;){var s=t[r];(a&&Cn(s,i)||Gi.call(e,s))&&o.push(s)}return o}function Mn(e){return null==e?[]:wn(e)?Be.support.unindexedChars&&hi(e)?e.split(""):ui(e)?e:qi(e):Ci(e)}function On(e){if(Be.support.unindexedChars&&hi(e)){for(var t=-1,n=e.length,i=qi(e);++t<n;)i[t]=e.charAt(t);return i}return ui(e)?e:qi(e)}function Nn(e){if(_r(e))return e;var t=[];return a(e).replace(xe,function(e,n,i,a){t.push(i?a.replace(Ce,"$1"):n||e)}),t}function Ln(e){return e instanceof Fe?e.clone():new qe(e.__wrapped__,e.__chain__,ze(e.__actions__))}function Rn(e,t,n){return(e?e.length:0)?((n?Tn(e,t,n):null==t)&&(t=1),Dt(e,t<0?0:t)):[]}function Bn(e,t,n){var i=e?e.length:0;return i?((n?Tn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Dt(e,0,t<0?0:t)):[]}function $n(e){return e?e[0]:b}function qn(e,t,i){var a=e?e.length:0;if(!a)return-1;if("number"==typeof i)i=i<0?va(a+i,0):i;else if(i){var r=Rt(e,t);return r<a&&(t==t?t===e[r]:e[r]!=e[r])?r:-1}return n(e,t,i||0)}function Fn(e){var t=e?e.length:0;return t?e[t-1]:b}function jn(e){return Rn(e,1)}function Hn(e,t,i,a){if(!(e?e.length:0))return[];null!=t&&"boolean"!=typeof t&&(i=Tn(e,t,a=i)?b:t,t=!1);var r=vn();return null==i&&r===ot||(i=r(i,a,3)),t&&gn()===n?function(e,t){for(var n,i=-1,a=e.length,r=-1,o=[];++i<a;){var s=e[i],l=t?t(s,i,e):s;i&&n===l||(n=l,o[++r]=s)}return o}(e,i):Mt(e,i)}function Vn(e){if(!e||!e.length)return[];var t=-1,n=0;e=Ye(e,function(e){if(wn(e))return n=va(e.length,n),!0});for(var i=Oi(n);++t<n;)i[t]=Qe(e,_t(t));return i}function zn(e,t,n){if(!(e?e.length:0))return[];var i=Vn(e);return null==t?i:(t=$t(t,n,4),Qe(i,function(e){return Je(e,t,b,!0)}))}function Un(e,t){var n=-1,i=e?e.length:0,a={};for(!i||t||_r(e[0])||(t=[]);++n<i;){var r=e[n];t?a[r]=t[n]:r&&(a[r[0]]=r[1])}return a}function Wn(e){var t=Be(e);return t.__chain__=!0,t}function Yn(e,t,n){return t.call(n,e)}function Gn(e,t,n){var i=_r(e)?We:dt;return n&&Tn(e,t,n)&&(t=b),"function"==typeof t&&n===b||(t=vn(t,n,3)),i(e,t)}function Zn(e,t,n){var i=_r(e)?Ye:ct;return t=vn(t,n,3),i(e,t)}function Xn(e,t,n,i){var a=e?$a(e):0;return Sn(a)||(a=(e=Ci(e)).length),n="number"!=typeof n||i&&Tn(t,n,i)?0:n<0?va(a+n,0):n||0,"string"==typeof e||!_r(e)&&hi(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&gn(e,t,n)>-1}function Qn(e,t,n){var i=_r(e)?Qe:wt;return t=vn(t,n,3),i(e,t)}function Kn(e,t,n){if(n?Tn(e,t,n):null==t){return(i=(e=Mn(e)).length)>0?e[It(0,i-1)]:b}var i,a=-1,r=gi(e),o=(i=r.length)-1;for(t=ma(t<0?0:+t||0,i);++a<t;){var s=It(a,o),l=r[s];r[s]=r[a],r[a]=l}return r.length=t,r}function Jn(e,t,n){var i=_r(e)?et:Et;return n&&Tn(e,t,n)&&(t=b),"function"==typeof t&&n===b||(t=vn(t,n,3)),i(e,t)}function ei(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Hi($);var i=e;e=t,t=i}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=b),n}}function ti(e,t,n){function i(t,n){n&&ea(n),l=f=p=b,t&&(h=cr(),u=e.apply(c,s),f||l||(s=c=b))}function a(){var e=t-(cr()-d);e<=0||e>t?i(p,l):f=ra(a,e)}function r(){i(m,f)}function o(){if(s=arguments,d=cr(),c=this,p=m&&(f||!g),!1===v)var n=g&&!f;else{l||g||(h=d);var i=v-(d-h),o=i<=0||i>v;o?(l&&(l=ea(l)),h=d,u=e.apply(c,s)):l||(l=ra(r,i))}return o&&f?f=ea(f):f||t===v||(f=ra(a,t)),n&&(o=!0,u=e.apply(c,s)),!o||f||l||(s=c=b),u}var s,l,u,d,c,f,p,h=0,v=!1,m=!0;if("function"!=typeof e)throw new Hi($);if(t=t<0?0:+t||0,!0===n){var g=!0;m=!1}else ui(n)&&(g=!!n.leading,v="maxWait"in n&&va(+n.maxWait||0,t),m="trailing"in n?!!n.trailing:m);return o.cancel=function(){f&&ea(f),l&&ea(l),h=0,l=f=p=b},o}function ni(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Hi($);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var o=e.apply(this,i);return n.cache=r.set(a,o),o};return n.cache=new ni.Cache,n}function ii(e,t){if("function"!=typeof e)throw new Hi($);return t=va(t===b?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,a=va(n.length-t,0),r=Oi(a);++i<a;)r[i]=n[t+i];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,n[0],r);case 2:return e.call(this,n[0],n[1],r)}var o=Oi(t+1);for(i=-1;++i<t;)o[i]=n[i];return o[t]=r,e.apply(this,o)}}function ai(e,t){return e>t}function ri(e){return p(e)&&wn(e)&&Gi.call(e,"callee")&&!ia.call(e,"callee")}function oi(e,t,n,i){var a=(n="function"==typeof n?$t(n,i,3):b)?n(e,t):b;return a===b?yt(e,t,n):!!a}function si(e){return p(e)&&"string"==typeof e.message&&Xi.call(e)==z}function li(e){return ui(e)&&Xi.call(e)==U}function ui(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function di(e){return null!=e&&(li(e)?Ki.test(Yi.call(e)):p(e)&&(Ze(e)?Ki:Se).test(e))}function ci(e){return"number"==typeof e||p(e)&&Xi.call(e)==W}function fi(e){var t;if(!p(e)||Xi.call(e)!=Y||Ze(e)||ri(e)||!Gi.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var n;return Be.support.ownLast?(ht(e,function(e,t,i){return n=Gi.call(i,t),!1}),!1!==n):(ht(e,function(e,t){n=t}),n===b||Gi.call(e,n))}function pi(e){return ui(e)&&Xi.call(e)==G}function hi(e){return"string"==typeof e||p(e)&&Xi.call(e)==Z}function vi(e){return p(e)&&Sn(e.length)&&!!Le[Xi.call(e)]}function mi(e,t){return e<t}function gi(e){var t=e?$a(e):0;return Sn(t)?t?Be.support.unindexedChars&&hi(e)?e.split(""):ze(e):[]:Ci(e)}function xi(e){return rt(e,bi(e))}function yi(e){return gt(e,bi(e))}function bi(e){if(null==e)return[];ui(e)||(e=qi(e));var t=e.length,n=Be.support;t=t&&Sn(t)&&(_r(e)||ri(e)||hi(e))&&t||0;for(var i=e.constructor,a=-1,r=li(i)&&i.prototype||Ui,o=r===e,s=Oi(t),l=t>0,u=n.enumErrorProps&&(e===zi||e instanceof Li),d=n.enumPrototypes&&li(e);++a<t;)s[a]=a+"";for(var c in e)d&&"prototype"==c||u&&("message"==c||"name"==c)||l&&Cn(c,t)||"constructor"==c&&(o||!Gi.call(e,c))||s.push(c);if(n.nonEnumShadows&&e!==Ui){var f=e===Wi?Z:e===zi?z:Xi.call(e),p=Ea[f]||Ea[Y];for(f==Y&&(r=Ui),t=Oe.length;t--;){var h=p[c=Oe[t]];o&&h||(h?!Gi.call(e,c):e[c]===r[c])||s.push(c)}}return s}function wi(e){e=On(e);for(var t=-1,n=Rr(e),i=n.length,a=Oi(i);++t<i;){var r=n[t];a[t]=[r,e[r]]}return a}function Ci(e){return Ot(e,Rr(e))}function Ti(e){return(e=a(e))&&e.replace(De,l).replace(we,"")}function ki(e,t){var n="";if(e=a(e),(t=+t)<1||!e||!pa(t))return n;do{t%2&&(n+=e),t=ca(t/2),e+=e}while(t);return n}function _i(e,t,n){var i=e;return(e=a(e))?(n?Tn(i,t,n):null==t)?e.slice(m(e),g(e)+1):(t+="",e.slice(r(e,t),o(e,t)+1)):e}function Si(e,t,n){return n&&Tn(e,t,n)&&(t=b),(e=a(e)).match(t||Ae)||[]}function Ii(e,t,n){return n&&Tn(e,t,n)&&(t=b),p(e)?Ei(e):ot(e,t)}function Di(e){return e}function Ei(e){return Ct(st(e,!0))}function Pi(e,t,n){if(null==n){var i=ui(t),a=i?Rr(t):b,r=a&&a.length?gt(t,a):b;(r?r.length:i)||(r=!1,n=t,t=e,e=this)}r||(r=gt(t,Rr(t)));var o=!0,s=-1,l=li(e),u=r.length;!1===n?o=!1:ui(n)&&"chain"in n&&(o=n.chain);for(;++s<u;){var d=r[s],c=t[d];e[d]=c,l&&(e.prototype[d]=function(t){return function(){var n=this.__chain__;if(o||n){var i=e(this.__wrapped__);return(i.__actions__=ze(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,Ke([this.value()],arguments))}}(c))}return e}function Ai(){}function Mi(e){return kn(e)?_t(e):function(e){var t=e+"";return e=Nn(e),function(n){return xt(n,e,t)}}(e)}var Oi=(h=h?Xe.defaults(Ge.Object(),h,Xe.pick(Ge,Me)):Ge).Array,Ni=h.Date,Li=h.Error,Ri=h.Function,Bi=h.Math,$i=h.Number,qi=h.Object,Fi=h.RegExp,ji=h.String,Hi=h.TypeError,Vi=Oi.prototype,zi=Li.prototype,Ui=qi.prototype,Wi=ji.prototype,Yi=Ri.prototype.toString,Gi=Ui.hasOwnProperty,Zi=0,Xi=Ui.toString,Qi=Ge._,Ki=Fi("^"+Yi.call(Gi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ji=h.ArrayBuffer,ea=h.clearTimeout,ta=h.parseFloat,na=Bi.pow,ia=Ui.propertyIsEnumerable,aa=yn(h,"Set"),ra=h.setTimeout,oa=Vi.splice,sa=h.Uint8Array,la=yn(h,"WeakMap"),ua=Bi.ceil,da=yn(qi,"create"),ca=Bi.floor,fa=yn(Oi,"isArray"),pa=h.isFinite,ha=yn(qi,"keys"),va=Bi.max,ma=Bi.min,ga=yn(Ni,"now"),xa=h.parseInt,ya=Bi.random,ba=$i.NEGATIVE_INFINITY,wa=$i.POSITIVE_INFINITY,Ca=4294967295,Ta=Ca-1,ka=Ca>>>1,_a=9007199254740991,Sa=la&&new la,Ia={},Da={};Da[Q]=h.Float32Array,Da[K]=h.Float64Array,Da[J]=h.Int8Array,Da[ee]=h.Int16Array,Da[te]=h.Int32Array,Da[ne]=sa,Da[ie]=h.Uint8ClampedArray,Da[ae]=h.Uint16Array,Da[re]=h.Uint32Array;var Ea={};Ea[j]=Ea[V]=Ea[W]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ea[H]=Ea[Z]={constructor:!0,toString:!0,valueOf:!0},Ea[z]=Ea[U]=Ea[G]={constructor:!0,toString:!0},Ea[Y]={constructor:!0},Ue(Oe,function(e){for(var t in Ea)if(Gi.call(Ea,t)){var n=Ea[t];n[e]=Gi.call(n,e)}});var Pa=Be.support={};!function(e){var t=function(){this.x=1},n={0:1,length:1},i=[];t.prototype={valueOf:1,y:1};for(var a in new t)i.push(a);Pa.enumErrorProps=ia.call(zi,"message")||ia.call(zi,"name"),Pa.enumPrototypes=ia.call(t,"prototype"),Pa.nonEnumShadows=!/valueOf/.test(i),Pa.ownLast="x"!=i[0],Pa.spliceObjects=(oa.call(n,0,1),!n[0]),Pa.unindexedChars="x"[0]+qi("x")[0]!="xx"}(),Be.templateSettings={escape:pe,evaluate:he,interpolate:ve,variable:"",imports:{_:Be}};var Aa=function(){function e(){}return function(t){if(ui(t)){e.prototype=t;var n=new e;e.prototype=b}return n||{}}}(),Ma=zt(vt),Oa=zt(mt,!0),Na=Ut(),La=Ut(!0),Ra=Sa?function(e,t){return Sa.set(e,t),e}:Di,Ba=Sa?function(e){return Sa.get(e)}:Ai,$a=_t("length"),qa=function(){var e=0,t=0;return function(n,i){var a=cr(),r=N-(a-t);if(t=a,r>0){if(++e>=O)return n}else e=0;return Ra(n,i)}}(),Fa=ii(function(e,t){return p(e)&&wn(e)?ut(e,pt(t,!1,!0)):[]}),ja=Jt(),Ha=Jt(!0),Va=ii(function(e){for(var t=e.length,i=t,a=Oi(c),r=gn(),o=r===n,s=[];i--;){var l=e[i]=wn(l=e[i])?l:[];a[i]=o&&l.length>=120?Wt(i&&l):null}var u=e[0],d=-1,c=u?u.length:0,f=a[0];e:for(;++d<c;)if(l=u[d],(f?Ve(f,l):r(s,l,0))<0){for(i=t;--i;){var p=a[i];if((p?Ve(p,l):r(e[i],l,0))<0)continue e}f&&f.push(l),s.push(l)}return s}),za=ii(function(t,n){var i=at(t,n=pt(n));return St(t,n.sort(e)),i}),Ua=pn(),Wa=pn(!0),Ya=ii(function(e){return Mt(pt(e,!1,!0))}),Ga=ii(function(e,t){return wn(e)?ut(e,t):[]}),Za=ii(Vn),Xa=ii(function(e){var t=e.length,n=t>2?e[t-2]:b,i=t>1?e[t-1]:b;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof i?(--t,i):b,i=b),e.length=t,zn(e,n,i)}),Qa=ii(function(e){return e=pt(e),this.thru(function(t){return function(e,t){for(var n=-1,i=e.length,a=-1,r=t.length,o=Oi(i+r);++n<i;)o[n]=e[n];for(;++a<r;)o[n++]=t[a];return o}(_r(t)?t:[On(t)],e)})}),Ka=ii(function(e,t){return wn(e)&&(e=Mn(e)),at(e,pt(t))}),Ja=Ht(function(e,t,n){Gi.call(e,n)?++e[n]:e[n]=1}),er=Kt(Ma),tr=Kt(Oa,!0),nr=nn(Ue,Ma),ir=nn(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},Oa),ar=Ht(function(e,t,n){Gi.call(e,n)?e[n].push(t):e[n]=[t]}),rr=Ht(function(e,t,n){e[n]=t}),or=ii(function(e,t,n){var i=-1,a="function"==typeof t,r=kn(t),o=wn(e)?Oi(e.length):[];return Ma(e,function(e){var s=a?t:r&&null!=e?e[t]:b;o[++i]=s?s.apply(e,n):bn(e,t,n)}),o}),sr=Ht(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),lr=un(Je,Ma),ur=un(function(e,t,n,i){var a=e.length;for(i&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n},Oa),dr=ii(function(e,t){if(null==e)return[];var n=t[2];return n&&Tn(t[0],t[1],n)&&(t.length=1),At(e,pt(t),[])}),cr=ga||function(){return(new Ni).getTime()},fr=ii(function(e,t,n){var i=C;if(n.length){var a=v(n,fr.placeholder);i|=I}return hn(e,i,t,n,a)}),pr=ii(function(e,t){for(var n=-1,i=(t=t.length?pt(t):yi(e)).length;++n<i;){var a=t[n];e[a]=hn(e[a],C,e)}return e}),hr=ii(function(e,t,n){var i=C|T;if(n.length){var a=v(n,hr.placeholder);i|=I}return hn(t,i,e,n,a)}),vr=Zt(_),mr=Zt(S),gr=ii(function(e,t){return lt(e,1,t)}),xr=ii(function(e,t,n){return lt(e,t,n)}),yr=tn(),br=tn(!0),wr=ii(function(e,t){if(t=pt(t),"function"!=typeof e||!We(t,i))throw new Hi($);var n=t.length;return ii(function(i){for(var a=ma(i.length,n);a--;)i[a]=t[a](i[a]);return e.apply(this,i)})}),Cr=ln(I),Tr=ln(D),kr=ii(function(e,t){return hn(e,P,b,b,b,pt(t))}),_r=fa||function(e){return p(e)&&Sn(e.length)&&Xi.call(e)==j},Sr=Vt(kt),Ir=Vt(function(e,t,n){return n?nt(e,t,n):it(e,t)}),Dr=Xt(Ir,function(e,t){return e===b?t:e}),Er=Xt(Sr,Dn),Pr=en(vt),Ar=en(mt),Mr=an(Na),Or=an(La),Nr=rn(vt),Lr=rn(mt),Rr=ha?function(e){var t=null==e?b:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?Be.support.enumPrototypes:wn(e))?An(e):ui(e)?ha(e):[]}:An,Br=on(!0),$r=on(),qr=ii(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){t=Qe(pt(t),ji);return En(e,ut(bi(e),t))}var n=$t(t[0],t[1],3);return Pn(e,function(e,t,i){return!n(e,t,i)})}),Fr=ii(function(e,t){return null==e?{}:"function"==typeof t[0]?Pn(e,$t(t[0],t[1],3)):En(e,pt(t))}),jr=Yt(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Hr=Yt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Vr=sn(),zr=sn(!0),Ur=Yt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Wr=Yt(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Yr=ii(function(e,t){try{return e.apply(b,t)}catch(n){return si(n)?n:new Li(n)}}),Gr=ii(function(e,t){return function(n){return bn(n,e,t)}}),Zr=ii(function(e,t){return function(n){return bn(e,n,t)}}),Xr=fn("ceil"),Qr=fn("floor"),Kr=Qt(ai,ba),Jr=Qt(mi,wa),eo=fn("round");return Be.prototype=$e.prototype,qe.prototype=Aa($e.prototype),qe.prototype.constructor=qe,Fe.prototype=Aa($e.prototype),Fe.prototype.constructor=Fe,je.prototype["delete"]=function(e){return this.has(e)&&delete this.__data__[e]},je.prototype.get=function(e){return"__proto__"==e?b:this.__data__[e]},je.prototype.has=function(e){return"__proto__"!=e&&Gi.call(this.__data__,e)},je.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},He.prototype.push=function(e){var t=this.data;"string"==typeof e||ui(e)?t.set.add(e):t.hash[e]=!0},ni.Cache=je,Be.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Hi($);var n=e;e=t,t=n}return e=pa(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},Be.ary=function(e,t,n){return n&&Tn(e,t,n)&&(t=b),t=e&&null==t?e.length:va(+t||0,0),hn(e,E,b,b,b,b,t)},Be.assign=Ir,Be.at=Ka,Be.before=ei,Be.bind=fr,Be.bindAll=pr,Be.bindKey=hr,Be.callback=Ii,Be.chain=Wn,Be.chunk=function(e,t,n){t=(n?Tn(e,t,n):null==t)?1:va(ca(t)||1,1);for(var i=0,a=e?e.length:0,r=-1,o=Oi(ua(a/t));i<a;)o[++r]=Dt(e,i,i+=t);return o},Be.compact=function(e){for(var t=-1,n=e?e.length:0,i=-1,a=[];++t<n;){var r=e[t];r&&(a[++i]=r)}return a},Be.constant=function(e){return function(){return e}},Be.countBy=Ja,Be.create=function(e,t,n){var i=Aa(e);return n&&Tn(e,t,n)&&(t=b),t?it(i,t):i},Be.curry=vr,Be.curryRight=mr,Be.debounce=ti,Be.defaults=Dr,Be.defaultsDeep=Er,Be.defer=gr,Be.delay=xr,Be.difference=Fa,Be.drop=Rn,Be.dropRight=Bn,Be.dropRightWhile=function(e,t,n){return e&&e.length?Nt(e,vn(t,n,3),!0,!0):[]},Be.dropWhile=function(e,t,n){return e&&e.length?Nt(e,vn(t,n,3),!0):[]},Be.fill=function(e,t,n,i){var a=e?e.length:0;return a?(n&&"number"!=typeof n&&Tn(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=null==n?0:+n||0)<0&&(n=-n>a?0:a+n),(i=i===b||i>a?a:+i||0)<0&&(i+=a),a=n>i?0:i>>>0,n>>>=0;n<a;)e[n++]=t;return e}(e,t,n,i)):[]},Be.filter=Zn,Be.flatten=function(e,t,n){var i=e?e.length:0;return n&&Tn(e,t,n)&&(t=!1),i?pt(e,t):[]},Be.flattenDeep=function(e){return e&&e.length?pt(e,!0):[]},Be.flow=yr,Be.flowRight=br,Be.forEach=nr,Be.forEachRight=ir,Be.forIn=Mr,Be.forInRight=Or,Be.forOwn=Nr,Be.forOwnRight=Lr,Be.functions=yi,Be.groupBy=ar,Be.indexBy=rr,Be.initial=function(e){return Bn(e,1)},Be.intersection=Va,Be.invert=function(e,t,n){n&&Tn(e,t,n)&&(t=b);for(var i=-1,a=Rr(e),r=a.length,o={};++i<r;){var s=a[i],l=e[s];t?Gi.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o},Be.invoke=or,Be.keys=Rr,Be.keysIn=bi,Be.map=Qn,Be.mapKeys=Br,Be.mapValues=$r,Be.matches=Ei,Be.matchesProperty=function(e,t){return Tt(e,st(t,!0))},Be.memoize=ni,Be.merge=Sr,Be.method=Gr,Be.methodOf=Zr,Be.mixin=Pi,Be.modArgs=wr,Be.negate=function(e){if("function"!=typeof e)throw new Hi($);return function(){return!e.apply(this,arguments)}},Be.omit=qr,Be.once=function(e){return ei(2,e)},Be.pairs=wi,Be.partial=Cr,Be.partialRight=Tr,Be.partition=sr,Be.pick=Fr,Be.pluck=function(e,t){return Qn(e,Mi(t))},Be.property=Mi,Be.propertyOf=function(e){return function(t){return xt(e,Nn(t),t+"")}},Be.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=gn(),a=e.length;++n<a;)for(var r=0,o=e[n];(r=i(t,o,r))>-1;)oa.call(t,r,1);return t},Be.pullAt=za,Be.range=function(e,t,n){n&&Tn(e,t,n)&&(t=n=b),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,a=va(ua((t-e)/(n||1)),0),r=Oi(a);++i<a;)r[i]=e,e+=n;return r},Be.rearg=kr,Be.reject=function(e,t,n){var i=_r(e)?Ye:ct;return t=vn(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})},Be.remove=function(e,t,n){var i=[];if(!e||!e.length)return i;var a=-1,r=[],o=e.length;for(t=vn(t,n,3);++a<o;){var s=e[a];t(s,a,e)&&(i.push(s),r.push(a))}return St(e,r),i},Be.rest=jn,Be.restParam=ii,Be.set=function(e,t,n){if(null==e)return e;for(var i=t+"",a=-1,r=(t=null!=e[i]||kn(t,e)?[i]:Nn(t)).length,o=r-1,s=e;null!=s&&++a<r;){var l=t[a];ui(s)&&(a==o?s[l]=n:null==s[l]&&(s[l]=Cn(t[a+1])?[]:{})),s=s[l]}return e},Be.shuffle=function(e){return Kn(e,wa)},Be.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Tn(e,t,n)&&(t=0,n=i),Dt(e,t,n)):[]},Be.sortBy=function(e,t,n){if(null==e)return[];n&&Tn(e,t,n)&&(t=b);var i=-1;return t=vn(t,n,3),Pt(wt(e,function(e,n,a){return{criteria:t(e,n,a),index:++i,value:e}}),s)},Be.sortByAll=dr,Be.sortByOrder=function(e,t,n,i){return null==e?[]:(i&&Tn(t,n,i)&&(n=b),_r(t)||(t=null==t?[]:[t]),_r(n)||(n=null==n?[]:[n]),At(e,t,n))},Be.spread=function(e){if("function"!=typeof e)throw new Hi($);return function(t){return e.apply(this,t)}},Be.take=function(e,t,n){return e&&e.length?((n?Tn(e,t,n):null==t)&&(t=1),Dt(e,0,t<0?0:t)):[]},Be.takeRight=function(e,t,n){var i=e?e.length:0;return i?((n?Tn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Dt(e,t<0?0:t)):[]},Be.takeRightWhile=function(e,t,n){return e&&e.length?Nt(e,vn(t,n,3),!1,!0):[]},Be.takeWhile=function(e,t,n){return e&&e.length?Nt(e,vn(t,n,3)):[]},Be.tap=function(e,t,n){return t.call(n,e),e},Be.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new Hi($);return!1===n?i=!1:ui(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),ti(e,t,{leading:i,maxWait:+t,trailing:a})},Be.thru=Yn,Be.times=function(e,t,n){if((e=ca(e))<1||!pa(e))return[];var i=-1,a=Oi(ma(e,Ca));for(t=$t(t,n,1);++i<e;)i<Ca?a[i]=t(i):t(i);return a},Be.toArray=gi,Be.toPlainObject=xi,Be.transform=function(e,t,n,i){var a=_r(e)||vi(e);if(t=vn(t,i,4),null==n)if(a||ui(e)){var r=e.constructor;n=a?_r(e)?new r:[]:Aa(li(r)?r.prototype:b)}else n={};return(a?Ue:vt)(e,function(e,i,a){return t(n,e,i,a)}),n},Be.union=Ya,Be.uniq=Hn,Be.unzip=Vn,Be.unzipWith=zn,Be.values=Ci,Be.valuesIn=function(e){return Ot(e,bi(e))},Be.where=function(e,t){return Zn(e,Ct(t))},Be.without=Ga,Be.wrap=function(e,t){return t=null==t?Di:t,hn(t,I,b,[e],[])},Be.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(wn(n))var i=i?Ke(ut(i,n),ut(n,i)):n}return i?Mt(i):[]},Be.zip=Za,Be.zipObject=Un,Be.zipWith=Xa,Be.backflow=br,Be.collect=Qn,Be.compose=br,Be.each=nr,Be.eachRight=ir,Be.extend=Ir,Be.iteratee=Ii,Be.methods=yi,Be.object=Un,Be.select=Zn,Be.tail=jn,Be.unique=Hn,Pi(Be,Be),Be.add=function(e,t){return(+e||0)+(+t||0)},Be.attempt=Yr,Be.camelCase=jr,Be.capitalize=function(e){return(e=a(e))&&e.charAt(0).toUpperCase()+e.slice(1)},Be.ceil=Xr,Be.clone=function(e,t,n,i){return t&&"boolean"!=typeof t&&Tn(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?st(e,t,$t(n,i,3)):st(e,t)},Be.cloneDeep=function(e,t,n){return"function"==typeof t?st(e,!0,$t(t,n,3)):st(e,!0)},Be.deburr=Ti,Be.endsWith=function(e,t,n){t+="";var i=(e=a(e)).length;return n=n===b?i:ma(n<0?0:+n||0,i),(n-=t.length)>=0&&e.indexOf(t,n)==n},Be.escape=function(e){return(e=a(e))&&fe.test(e)?e.replace(de,u):e},Be.escapeRegExp=function(e){return(e=a(e))&&be.test(e)?e.replace(ye,d):e||"(?:)"},Be.every=Gn,Be.find=er,Be.findIndex=ja,Be.findKey=Pr,Be.findLast=tr,Be.findLastIndex=Ha,Be.findLastKey=Ar,Be.findWhere=function(e,t){return er(e,Ct(t))},Be.first=$n,Be.floor=Qr,Be.get=function(e,t,n){var i=null==e?b:xt(e,Nn(t),t+"");return i===b?n:i},Be.gt=ai,Be.gte=function(e,t){return e>=t},Be.has=function(e,t){if(null==e)return!1;var n=Gi.call(e,t);if(!n&&!kn(t)){if(t=Nn(t),null==(e=1==t.length?e:xt(e,Dt(t,0,-1))))return!1;t=Fn(t),n=Gi.call(e,t)}return n||Sn(e.length)&&Cn(t,e.length)&&(_r(e)||ri(e)||hi(e))},Be.identity=Di,Be.includes=Xn,Be.indexOf=qn,Be.inRange=function(e,t,n){return t=+t||0,n===b?(n=t,t=0):n=+n||0,e>=ma(t,n)&&e<va(t,n)},Be.isArguments=ri,Be.isArray=_r,Be.isBoolean=function(e){return!0===e||!1===e||p(e)&&Xi.call(e)==H},Be.isDate=function(e){return p(e)&&Xi.call(e)==V},Be.isElement=function(e){return!!e&&1===e.nodeType&&p(e)&&!fi(e)},Be.isEmpty=function(e){return null==e||(wn(e)&&(_r(e)||hi(e)||ri(e)||p(e)&&li(e.splice))?!e.length:!Rr(e).length)},Be.isEqual=oi,Be.isError=si,Be.isFinite=function(e){return"number"==typeof e&&pa(e)},Be.isFunction=li,Be.isMatch=function(e,t,n,i){return n="function"==typeof n?$t(n,i,3):b,bt(e,xn(t),n)},Be.isNaN=function(e){return ci(e)&&e!=+e},Be.isNative=di,Be.isNull=function(e){return null===e},Be.isNumber=ci,Be.isObject=ui,Be.isPlainObject=fi,Be.isRegExp=pi,Be.isString=hi,Be.isTypedArray=vi,Be.isUndefined=function(e){return e===b},Be.kebabCase=Hr,Be.last=Fn,Be.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var a=i;if("number"==typeof n)a=(n<0?va(i+n,0):ma(n||0,i-1))+1;else if(n){var r=e[a=Rt(e,t,!0)-1];return(t==t?t===r:r!=r)?a:-1}if(t!=t)return f(e,a,!0);for(;a--;)if(e[a]===t)return a;return-1},Be.lt=mi,Be.lte=function(e,t){return e<=t},Be.max=Kr,Be.min=Jr,Be.noConflict=function(){return Ge._=Qi,this},Be.noop=Ai,Be.now=cr,Be.pad=function(e,t,n){t=+t;var i=(e=a(e)).length;if(i>=t||!pa(t))return e;var r=(t-i)/2,o=ca(r);return(n=cn("",ua(r),n)).slice(0,o)+e+n},Be.padLeft=Vr,Be.padRight=zr,Be.parseInt=function(e,t,n){return(n?Tn(e,t,n):null==t)?t=0:t&&(t=+t),e=_i(e),xa(e,t||(_e.test(e)?16:10))},Be.random=function(e,t,n){n&&Tn(e,t,n)&&(t=n=b);var i=null==e,a=null==t;if(null==n&&(a&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,a=!0)),i&&a&&(t=1,a=!1),e=+e||0,a?(t=e,e=0):t=+t||0,n||e%1||t%1){var r=ya();return ma(e+r*(t-e+ta("1e-"+((r+"").length-1))),t)}return It(e,t)},Be.reduce=lr,Be.reduceRight=ur,Be.repeat=ki,Be.result=function(e,t,n){var i=null==e?b:On(e)[t];return i===b&&(null==e||kn(t,e)||(i=null==(e=1==(t=Nn(t)).length?e:xt(e,Dt(t,0,-1)))?b:On(e)[Fn(t)]),i=i===b?n:i),li(i)?i.call(e):i},Be.round=eo,Be.runInContext=y,Be.size=function(e){var t=e?$a(e):0;return Sn(t)?t:Rr(e).length},Be.snakeCase=Ur,Be.some=Jn,Be.sortedIndex=Ua,Be.sortedLastIndex=Wa,Be.startCase=Wr,Be.startsWith=function(e,t,n){return e=a(e),n=null==n?0:ma(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},Be.sum=function(e,t,n){return n&&Tn(e,t,n)&&(t=b),1==(t=vn(t,n,3)).length?function(e,t){for(var n=e.length,i=0;n--;)i+=+t(e[n])||0;return i}(_r(e)?e:Mn(e),t):function(e,t){var n=0;return Ma(e,function(e,i,a){n+=+t(e,i,a)||0}),n}(e,t)},Be.template=function(e,t,n){var i=Be.templateSettings;n&&Tn(e,t,n)&&(t=n=b),e=a(e);var r,o,s=nt(it({},(t=nt(it({},n||t),i,tt)).imports),i.imports,tt),l=Rr(s),u=Ot(s,l),d=0,f=t.interpolate||Ee,p="__p += '",h=Fi((t.escape||Ee).source+"|"+f.source+"|"+(f===ve?Te:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),v="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ne+"]")+"\n";e.replace(h,function(t,n,i,a,s,l){return i||(i=a),p+=e.slice(d,l).replace(Pe,c),n&&(r=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+t.length,t}),p+="';\n";var m=t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(oe,""):p).replace(se,"$1").replace(le,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Yr(function(){return Ri(l,v+"return "+p).apply(b,u)});if(g.source=p,si(g))throw g;return g},Be.trim=_i,Be.trimLeft=function(e,t,n){var i=e;return(e=a(e))?(n?Tn(i,t,n):null==t)?e.slice(m(e)):e.slice(r(e,t+"")):e},Be.trimRight=function(e,t,n){var i=e;return(e=a(e))?(n?Tn(i,t,n):null==t)?e.slice(0,g(e)+1):e.slice(0,o(e,t+"")+1):e},Be.trunc=function(e,t,n){n&&Tn(e,t,n)&&(t=b);var i=A,r=M;if(null!=t)if(ui(t)){var o="separator"in t?t.separator:o;i="length"in t?+t.length||0:i,r="omission"in t?a(t.omission):r}else i=+t||0;if(e=a(e),i>=e.length)return e;var s=i-r.length;if(s<1)return r;var l=e.slice(0,s);if(null==o)return l+r;if(pi(o)){if(e.slice(s).search(o)){var u,d,c=e.slice(0,s);for(o.global||(o=Fi(o.source,(ke.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(c);)d=u.index;l=l.slice(0,null==d?s:d)}}else if(e.indexOf(o,s)!=s){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+r},Be.unescape=function(e){return(e=a(e))&&ce.test(e)?e.replace(ue,x):e},Be.uniqueId=function(e){var t=++Zi;return a(e)+t},Be.words=Si,Be.all=Gn,Be.any=Jn,Be.contains=Xn,Be.eq=oi,Be.detect=er,Be.foldl=lr,Be.foldr=ur,Be.head=$n,Be.include=Xn,Be.inject=lr,Pi(Be,function(){var e={};return vt(Be,function(t,n){Be.prototype[n]||(e[n]=t)}),e}(),!1),Be.sample=Kn,Be.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Kn(t,e)}):Kn(this.value())},Be.VERSION=w,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Be[e].placeholder=Be}),Ue(["drop","take"],function(e,t){Fe.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new Fe(this);n=null==n?1:va(ca(n)||0,0);var a=this.clone();return i?a.__takeCount__=ma(a.__takeCount__,n):a.__views__.push({size:n,type:e+(a.__dir__<0?"Right":"")}),a},Fe.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Ue(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n!=B;Fe.prototype[e]=function(e,t){var a=this.clone();return a.__iteratees__.push({iteratee:vn(e,t,1),type:n}),a.__filtered__=a.__filtered__||i,a}}),Ue(["first","last"],function(e,t){var n="take"+(t?"Right":"");Fe.prototype[e]=function(){return this[n](1).value()[0]}}),Ue(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Fe.prototype[e]=function(){return this.__filtered__?new Fe(this):this[n](1)}}),Ue(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?Ct:Mi;Fe.prototype[e]=function(e){return this[n](i(e))}}),Fe.prototype.compact=function(){return this.filter(Di)},Fe.prototype.reject=function(e,t){return e=vn(e,t,1),this.filter(function(t){return!e(t)})},Fe.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new Fe(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==b&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},Fe.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Fe.prototype.toArray=function(){return this.take(wa)},vt(Fe.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t),a=Be[i?"take"+("last"==t?"Right":""):t];a&&(Be.prototype[t]=function(){var t=i?[1]:arguments,r=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof Fe,u=t[0],d=l||_r(o);d&&n&&"function"==typeof u&&1!=u.length&&(l=d=!1);var c=function(e){return i&&r?a(e,1)[0]:a.apply(b,Ke([e],t))},f={func:Yn,args:[c],thisArg:b},p=l&&!s;if(i&&!r)return p?((o=o.clone()).__actions__.push(f),e.call(o)):a.call(b,this.value())[0];if(!i&&d){o=p?o:new Fe(this);var h=e.apply(o,t);return h.__actions__.push(f),new qe(h,r)}return this.thru(c)})}),Ue(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Wi:Vi)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=!Pa.spliceObjects&&/^(?:pop|shift|splice)$/.test(e),a=/^(?:join|pop|replace|shift)$/.test(e),r=i?function(){var e=t.apply(this,arguments);return 0===this.length&&delete this[0],e}:t;Be.prototype[e]=function(){var e=arguments;return a&&!this.__chain__?r.apply(this.value(),e):this[n](function(t){return r.apply(t,e)})}}),vt(Fe.prototype,function(e,t){var n=Be[t];if(n){var i=n.name+"";(Ia[i]||(Ia[i]=[])).push({name:t,func:n})}}),Ia[dn(b,T).name]=[{name:"wrapper",func:b}],Fe.prototype.clone=function(){var e=new Fe(this.__wrapped__);return e.__actions__=ze(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ze(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ze(this.__views__),e},Fe.prototype.reverse=function(){if(this.__filtered__){var e=new Fe(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Fe.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=_r(e),i=t<0,a=n?e.length:0,r=function(e,t,n){for(var i=-1,a=n.length;++i<a;){var r=n[i],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ma(t,e+o);break;case"takeRight":e=va(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=r.start,s=r.end,l=s-o,u=i?s:o-1,d=this.__iteratees__,c=d.length,f=0,p=ma(l,this.__takeCount__);if(!n||a<L||a==l&&p==l)return Lt(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var v=-1,m=e[u+=t];++v<c;){var g=d[v],x=g.iteratee,y=g.type,b=x(m);if(y==B)m=b;else if(!b){if(y==R)continue e;break e}}h[f++]=m}return h},Be.prototype.chain=function(){return Wn(this)},Be.prototype.commit=function(){return new qe(this.value(),this.__chain__)},Be.prototype.concat=Qa,Be.prototype.plant=function(e){for(var t,n=this;n instanceof $e;){var i=Ln(n);t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Be.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Fe){var n=e;return this.__actions__.length&&(n=new Fe(this)),(n=n.reverse()).__actions__.push({func:Yn,args:[t],thisArg:b}),new qe(n,this.__chain__)}return this.thru(t)},Be.prototype.toString=function(){return this.value()+""},Be.prototype.run=Be.prototype.toJSON=Be.prototype.valueOf=Be.prototype.value=function(){return Lt(this.__wrapped__,this.__actions__)},Be.prototype.collect=Be.prototype.map,Be.prototype.head=Be.prototype.first,Be.prototype.select=Be.prototype.filter,Be.prototype.tail=Be.prototype.rest,Be}var b,w="3.10.1",C=1,T=2,k=4,_=8,S=16,I=32,D=64,E=128,P=256,A=30,M="...",O=150,N=16,L=200,R=1,B=2,$="Expected a function",q="__lodash_placeholder__",F="[object Arguments]",j="[object Array]",H="[object Boolean]",V="[object Date]",z="[object Error]",U="[object Function]",W="[object Number]",Y="[object Object]",G="[object RegExp]",Z="[object String]",X="[object ArrayBuffer]",Q="[object Float32Array]",K="[object Float64Array]",J="[object Int8Array]",ee="[object Int16Array]",te="[object Int32Array]",ne="[object Uint8Array]",ie="[object Uint8ClampedArray]",ae="[object Uint16Array]",re="[object Uint32Array]",oe=/\b__p \+= '';/g,se=/\b(__p \+=) '' \+/g,le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ue=/&(?:amp|lt|gt|quot|#39|#96);/g,de=/[&<>"'`]/g,ce=RegExp(ue.source),fe=RegExp(de.source),pe=/<%-([\s\S]+?)%>/g,he=/<%([\s\S]+?)%>/g,ve=/<%=([\s\S]+?)%>/g,me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ge=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ye=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,be=RegExp(ye.source),we=/[\u0300-\u036f\ufe20-\ufe23]/g,Ce=/\\(\\)?/g,Te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,_e=/^0[xX]/,Se=/^\[object .+?Constructor\]$/,Ie=/^\d+$/,De=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ee=/($^)/,Pe=/['\n\r\u2028\u2029\\]/g,Ae=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Me=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ne=-1,Le={};Le[Q]=Le[K]=Le[J]=Le[ee]=Le[te]=Le[ne]=Le[ie]=Le[ae]=Le[re]=!0,Le[F]=Le[j]=Le[X]=Le[H]=Le[V]=Le[z]=Le[U]=Le["[object Map]"]=Le[W]=Le[Y]=Le[G]=Le["[object Set]"]=Le[Z]=Le["[object WeakMap]"]=!1;var Re={};Re[F]=Re[j]=Re[X]=Re[H]=Re[V]=Re[Q]=Re[K]=Re[J]=Re[ee]=Re[te]=Re[W]=Re[Y]=Re[G]=Re[Z]=Re[ne]=Re[ie]=Re[ae]=Re[re]=!0,Re[z]=Re[U]=Re["[object Map]"]=Re["[object Set]"]=Re["[object WeakMap]"]=!1;var Be={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Fe={"function":!0,object:!0},je={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=Fe[typeof exports]&&exports&&!exports.nodeType&&exports,ze=Fe[typeof module]&&module&&!module.nodeType&&module,Ue=Ve&&ze&&"object"==typeof global&&global&&global.Object&&global,We=Fe[typeof self]&&self&&self.Object&&self,Ye=Fe[typeof window]&&window&&window.Object&&window,Ge=(ze&&ze.exports,Ue||Ye!==(this&&this.window)&&Ye||We||this),Ze=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}(),Xe=y();return Xe}),define("lodash",["lodash/lodash"],function(e){return e}),define("underscore/underscore",["require","exports","module"],function(require,exports,module){(function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,r=Function.prototype,o=i.push,s=i.slice,l=i.concat,u=a.toString,d=a.hasOwnProperty,c=Array.isArray,f=Object.keys,p=r.bind,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};void 0!==exports?(void 0!==module&&module.exports&&(exports=module.exports=h),exports._=h):e._=h,h.VERSION="1.6.0";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return null==e?h.identity:h.isFunction(e)?v(e,t,n):h.isObject(e)?h.matches(e):h.property(e)};h.each=h.forEach=function(e,t,i){var a,r;if(null==e)return e;if(t=v(t,i),e.length===+e.length)for(a=0,r=e.length;a<r&&t(e[a],a,e)!==n;a++);else{var o=h.keys(e);for(a=0,r=o.length;a<r&&t(e[o[a]],o[a],e)!==n;a++);}return e},h.map=h.collect=function(e,t,n){var i=[];return null==e?i:(t=m(t,n),h.each(e,function(e,n,a){i.push(t(e,n,a))}),i)};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),t=v(t,i,4),h.each(e,function(e,i,r){a?n=t(n,e,i,r):(n=e,a=!0)}),!a)throw TypeError(g);return n},h.reduceRight=h.foldr=function(e,t,n,i){var a=arguments.length>2;null==e&&(e=[]);var r=e.length;if(t=v(t,i,4),r!==+r){var o=h.keys(e);r=o.length}if(h.each(e,function(i,s,l){s=o?o[--r]:--r,a?n=t(n,e[s],s,l):(n=e[s],a=!0)}),!a)throw TypeError(g);return n},h.find=h.detect=function(e,t,n){var i;return t=m(t,n),h.some(e,function(e,n,a){if(t(e,n,a))return i=e,!0}),i},h.filter=h.select=function(e,t,n){var i=[];return null==e?i:(t=m(t,n),h.each(e,function(e,n,a){t(e,n,a)&&i.push(e)}),i)},h.reject=function(e,t,n){return h.filter(e,h.negate(m(t)),n)},h.every=h.all=function(e,t,i){var a=!0;return null==e?a:(t=m(t,i),h.each(e,function(e,i,r){if(!(a=t(e,i,r)))return n}),!!a)},h.some=h.any=function(e,t,i){var a=!1;return null==e?a:(t=m(t,i),h.each(e,function(e,i,r){if(a=t(e,i,r))return n}),!!a)},h.contains=h.include=function(e,t){return null!=e&&(e.length===+e.length?h.indexOf(e,t)>=0:h.some(e,function(e){return e===t}))},h.invoke=function(e,t){var n=s.call(arguments,2),i=h.isFunction(t);return h.map(e,function(e){return(i?t:e[t]).apply(e,n)})},h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matches(t))},h.findWhere=function(e,t){return h.find(e,h.matches(t))},h.max=function(e,t,n){var i,a,r=-Infinity,o=-Infinity;if(!t&&h.isArray(e))for(var s=0,l=e.length;s<l;s++)(i=e[s])>r&&(r=i);else t=m(t,n),h.each(e,function(e,n,i){((a=t(e,n,i))>o||a===-Infinity&&r===-Infinity)&&(r=e,o=a)});return r},h.min=function(e,t,n){var i,a,r=Infinity,o=Infinity;if(!t&&h.isArray(e))for(var s=0,l=e.length;s<l;s++)(i=e[s])<r&&(r=i);else t=m(t,n),h.each(e,function(e,n,i){((a=t(e,n,i))<o||a===Infinity&&r===Infinity)&&(r=e,o=a)});return r},h.shuffle=function(e){var t,n=0,i=[];return h.each(e,function(e){t=h.random(n++),i[n-1]=i[t],i[t]=e}),i},h.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=h.values(e)),e[h.random(e.length-1)]):h.shuffle(e).slice(0,Math.max(0,t))},h.sortBy=function(e,t,n){return t=m(t,n),h.pluck(h.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,i){var a={};return n=m(n,i),h.each(t,function(i,r){var o=n(i,r,t);e(a,i,o)}),a}};h.groupBy=x(function(e,t,n){h.has(e,n)?e[n].push(t):e[n]=[t]}),h.indexBy=x(function(e,t,n){e[n]=t}),h.countBy=x(function(e,t,n){h.has(e,n)?e[n]++:e[n]=1}),h.sortedIndex=function(e,t,n,i){for(var a=(n=m(n,i,1))(t),r=0,o=e.length;r<o;){var s=r+o>>>1;n(e[s])<a?r=s+1:o=s}return r},h.toArray=function(e){return e?h.isArray(e)?s.call(e):e.length===+e.length?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:e.length===+e.length?e.length:h.keys(e).length},h.partition=function(e,t,n){t=m(t,n);var i=[],a=[];return h.each(e,function(e,n,r){(t(e,n,r)?i:a).push(e)}),[i,a]},h.first=h.head=h.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:t<0?[]:s.call(e,0,t)},h.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},h.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},h.rest=h.tail=h.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},h.compact=function(e){return h.filter(e,h.identity)};var y=function(e,t,n,i){if(t&&h.every(e,h.isArray))return l.apply(i,e);for(var a=0,r=e.length;a<r;a++){var s=e[a];h.isArray(s)||h.isArguments(s)?t?o.apply(i,s):y(s,t,n,i):n||i.push(s)}return i};h.flatten=function(e,t){return y(e,t,!1,[])},h.without=function(e){return h.difference(e,s.call(arguments,1))},h.uniq=h.unique=function(e,t,n,i){if(null==e)return[];h.isFunction(t)&&(i=n,n=t,t=!1),n&&(n=m(n,i));for(var a=[],r=[],o=0,s=e.length;o<s;o++){var l=e[o];n&&(l=n(l,o,e)),(t?o&&r===l:h.contains(r,l))||(t?r=l:r.push(l),a.push(e[o]))}return a},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,a=e.length;i<a;i++){var r=e[i];if(!h.contains(t,r)){for(var o=1;o<n&&h.contains(arguments[o],r);o++);o===n&&t.push(r)}}return t},h.difference=function(e){var t=y(s.call(arguments,1),!0,!0,[]);return h.filter(e,function(e){return!h.contains(t,e)})},h.zip=function(e){if(null==e)return[];for(var t=h.max(arguments,"length").length,n=Array(t),i=0;i<t;i++)n[i]=h.pluck(arguments,i);return n},h.object=function(e,t){if(null==e)return{};for(var n={},i=0,a=e.length;i<a;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},h.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n){if("number"!=typeof n)return i=h.sortedIndex(e,t),e[i]===t?i:-1;i=n<0?Math.max(0,a+n):n}for(;i<a;i++)if(e[i]===t)return i;return-1},h.lastIndexOf=function(e,t,n){if(null==e)return-1;for(var i=null==n?e.length:n;i--;)if(e[i]===t)return i;return-1},h.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=0,r=Array(i);a<i;)r[a++]=e,e+=n;return r};var b=function(){};h.bind=function(e,t){var n,i;if(p&&e.bind===p)return p.apply(e,s.call(arguments,1));if(!h.isFunction(e))throw TypeError("Bind must be called on a function");return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));b.prototype=e.prototype;var a=new b;b.prototype=null;var r=e.apply(a,n.concat(s.call(arguments)));return Object(r)===r?r:a}},h.partial=function(e){var t=s.call(arguments,1);return function(){for(var n=0,i=t.slice(),a=0,r=i.length;a<r;a++)i[a]===h&&(i[a]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},h.bindAll=function(e){var t,n=1,i=arguments.length;if(i<=1)throw Error("bindAll must be passed function names");for(;n<i;n++)e[t=arguments[n]]=v(e[t],e,Infinity);return e},h.memoize=function(e,t){var n=function(i){var a=n.cache,r=t?t.apply(this,arguments):i;return h.has(a,r)||(a[r]=e.apply(this,arguments)),a[i]};return n.cache={},n},h.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},h.defer=function(e){return h.delay.apply(h,[e,1].concat(s.call(arguments,1)))},h.throttle=function(e,t,n){var i,a,r,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:h.now(),o=null,r=e.apply(i,a),o||(i=a=null)};return function(){var u=h.now();s||!1!==n.leading||(s=u);var d=t-(u-s);return i=this,a=arguments,d<=0||d>t?(clearTimeout(o),o=null,s=u,r=e.apply(i,a),o||(i=a=null)):o||!1===n.trailing||(o=setTimeout(l,d)),r}},h.debounce=function(e,t,n){var i,a,r,o,s,l=function(){var u=h.now()-o;u<t&&u>0?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(r,a),i||(r=a=null)))};return function(){r=this,a=arguments,o=h.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(r,a),r=a=null),s}},h.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},h.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},h.keys=function(e){if(!h.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)h.has(e,n)&&t.push(n);return t},h.values=function(e){for(var t=h.keys(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=e[t[a]];return i},h.pairs=function(e){for(var t=h.keys(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=[t[a],e[t[a]]];return i},h.invert=function(e){for(var t={},n=h.keys(e),i=0,a=n.length;i<a;i++)t[e[n[i]]]=n[i];return t},h.functions=h.methods=function(e){var t=[];for(var n in e)h.isFunction(e[n])&&t.push(n);return t.sort()},h.extend=function(e){if(!h.isObject(e))return e;for(var t,n,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(n in t)e[n]=t[n]}return e},h.pick=function(e,t,n){var i,a={};if(h.isFunction(t))for(i in e){var r=e[i];t.call(n,r,i,e)&&(a[i]=r)}else for(var o=l.apply([],s.call(arguments,1)),u=0,d=o.length;u<d;u++)(i=o[u])in e&&(a[i]=e[i]);return a},h.omit=function(e,t,n){if(h.isFunction(t))t=h.negate(t);else{var i=h.map(l.apply([],s.call(arguments,1)),String);t=function(e,t){return!h.contains(i,t)}}return h.pick(e,t,n)},h.defaults=function(e){if(!h.isObject(e))return e;for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var a in i)void 0===e[a]&&(e[a]=i[a])}return e},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e};var w=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var a=u.call(e);if(a!==u.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]===e)return i[r]===t;var o=e.constructor,s=t.constructor;if(o!==s&&"constructor"in e&&"constructor"in t&&!(h.isFunction(o)&&o instanceof o&&h.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var l,d;if("[object Array]"===a){if(l=e.length,d=l===t.length)for(;l--&&(d=w(e[l],t[l],n,i)););}else{var c,f=h.keys(e);if(l=f.length,d=h.keys(t).length==l)for(;l--&&(c=f[l],d=h.has(t,c)&&w(e[c],t[c],n,i)););}return n.pop(),i.pop(),d};h.isEqual=function(e,t){return w(e,t,[],[])},h.isEmpty=function(e){if(null==e)return!0;if(h.isArray(e)||h.isString(e)||h.isArguments(e))return 0===e.length;for(var t in e)if(h.has(e,t))return!1;return!0},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=c||function(e){return"[object Array]"===u.call(e)},h.isObject=function(e){return e===Object(e)},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){h["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return h.has(e,"callee")}),"function"!=typeof/./&&(h.isFunction=function(e){return"function"==typeof e}),h.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&e!==+e},h.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){return null!=e&&d.call(e,t)},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return function(t){return t[e]}},h.matches=function(e){return function(t){if(null==t)return h.isEmpty(e);if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},h.times=function(e,t,n){var i=Array(Math.max(0,e));t=v(t,n,1);for(var a=0;a<e;a++)i[a]=t(a);return i},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};C.unescape=h.invert(C.escape);var T={escape:RegExp("["+h.keys(C.escape).join("")+"]","g"),unescape:RegExp("("+h.keys(C.unescape).join("|")+")","g")};h.each(["escape","unescape"],function(e){h[e]=function(t){return null==t?"":(""+t).replace(T[e],function(t){return C[e][t]})}}),h.result=function(e,t){if(null!=e){var n=e[t];return h.isFunction(n)?e[t]():n}};var k=0;h.uniqueId=function(e){var t=++k+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+S[e]};h.template=function(e,t,n){n=h.defaults({},n,h.templateSettings);var i=RegExp([(n.escape||_).source,(n.interpolate||_).source,(n.evaluate||_).source].join("|")+"|$","g"),a=0,r="__p+='";e.replace(i,function(t,n,i,o,s){return r+=e.slice(a,s).replace(I,D),a=s+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t}),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=Function(n.variable||"obj","_",r)}catch(u){throw u.source=r,u}if(t)return o(t,h);var s=function(e){return o.call(this,e,h)},l=n.variable||"obj";return s.source="function("+l+"){\n"+r+"}",s},h.chain=function(e){var t=h(e);return t._chain=!0,t};var E=function(e){return this._chain?h(e).chain():e};h.mixin=function(e){h.each(h.functions(e),function(t){var n=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),E.call(this,n.apply(h,e))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];h.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],E.call(this,n)}}),h.each(["concat","join","slice"],function(e){var t=i[e];h.prototype[e]=function(){return E.call(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped}}).call(this)}),define("underscore",["underscore/underscore"],function(e){return e}),define("urijs/IPv6",["require","exports","module"],function(require,exports,module){return{best:function(e){var t=e.toLowerCase().split(":"),n=t.length,i=8;""===t[0]&&""===t[1]&&""===t[2]?(t.shift(),t.shift()):""===t[0]&&""===t[1]?t.shift():""===t[n-1]&&""===t[n-2]&&t.pop(),-1!==t[(n=t.length)-1].indexOf(".")&&(i=7);var a;for(a=0;a<n&&""!==t[a];a++);if(a<i){for(t.splice(a,1,"0000");t.length<i;)t.splice(a,0,"0000");n=t.length}for(var r,o=0;o<i;o++){r=t[o].split("");for(var s=0;s<3&&"0"===r[0]&&r.length>1;s++)r.splice(0,1);t[o]=r.join("")}var l=-1,u=0,d=0,c=-1,f=!1;for(o=0;o<i;o++)f?"0"===t[o]?d+=1:(f=!1,d>u&&(l=c,u=d)):"0"==t[o]&&(f=!0,c=o,d=1);d>u&&(l=c,u=d),u>1&&t.splice(l,u,""),n=t.length;var p="";for(""===t[0]&&(beststr=":"),o=0;o<n&&(p+=t[o],o!==n-1);o++)p+=":";return""===t[n-1]&&(p+=":"),p}}}),define("urijs/punycode",["require","exports","module"],function(require,exports,module){function e(e){throw RangeError(C[e])}function t(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function n(e,n){return t(e.split(w),n).join(".")}function i(e){for(var t,n,i=[],a=0,r=e.length;a<r;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function a(e){return t(e,function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)}).join("")}function r(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function o(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function s(e,t,n){var i=0;for(e=n?k(e/v):e>>1,e+=k(e/t);e>T*p>>1;i+=c)e=k(e/T);return k(i+(T+1)*e/(e+h))}function l(t){var n,i,o,l,u,h,v,y,b,w,C=[],T=t.length,_=0,S=g,I=m;for((i=t.lastIndexOf(x))<0&&(i=0),o=0;o<i;++o)t.charCodeAt(o)>=128&&e("not-basic"),C.push(t.charCodeAt(o));for(l=i>0?i+1:0;l<T;){for(u=_,h=1,v=c;l>=T&&e("invalid-input"),((y=r(t.charCodeAt(l++)))>=c||y>k((d-_)/h))&&e("overflow"),_+=y*h,b=v<=I?f:v>=I+p?p:v-I,!(y<b);v+=c)h>k(d/(w=c-b))&&e("overflow"),h*=w;I=s(_-u,n=C.length+1,0==u),k(_/n)>d-S&&e("overflow"),S+=k(_/n),_%=n,C.splice(_++,0,S)}return a(C)}function u(t){var n,a,r,l,u,h,v,y,b,w,C,T,S,I,D,E=[];for(T=(t=i(t)).length,n=g,a=0,u=m,h=0;h<T;++h)(C=t[h])<128&&E.push(_(C));for(r=l=E.length,l&&E.push(x);r<T;){for(v=d,h=0;h<T;++h)(C=t[h])>=n&&C<v&&(v=C);for(v-n>k((d-a)/(S=r+1))&&e("overflow"),a+=(v-n)*S,n=v,h=0;h<T;++h)if((C=t[h])<n&&++a>d&&e("overflow"),C==n){for(y=a,b=c;w=b<=u?f:b>=u+p?p:b-u,!(y<w);b+=c)D=y-w,I=c-w,E.push(_(o(w+D%I,0))),y=k(D/I);E.push(_(o(y,0))),u=s(a,S,r==l),a=0,++r}++a,++n}return E.join("")}var d=2147483647,c=36,f=1,p=26,h=38,v=700,m=72,g=128,x="-",y=/^xn--/,b=/[^ -~]/,w=/\x2E|\u3002|\uFF0E|\uFF61/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-f,k=Math.floor,_=String.fromCharCode;return{version:"1.2.3",ucs2:{decode:i,encode:a},decode:l,encode:u,toASCII:function(e){return n(e,function(e){return b.test(e)?"xn--"+u(e):e})},toUnicode:function(e){return n(e,function(e){return y.test(e)?l(e.slice(4).toLowerCase()):e})}}}),define("urijs/SecondLevelDomains",["require","exports","module"],function(require,exports,module){var e=Object.prototype.hasOwnProperty,t={list:{ac:"com|gov|mil|net|org",ae:"ac|co|gov|mil|name|net|org|pro|sch",af:"com|edu|gov|net|org",al:"com|edu|gov|mil|net|org",ao:"co|ed|gv|it|og|pb",ar:"com|edu|gob|gov|int|mil|net|org|tur",at:"ac|co|gv|or",au:"asn|com|csiro|edu|gov|id|net|org",ba:"co|com|edu|gov|mil|net|org|rs|unbi|unmo|unsa|untz|unze",bb:"biz|co|com|edu|gov|info|net|org|store|tv",bh:"biz|cc|com|edu|gov|info|net|org",bn:"com|edu|gov|net|org",bo:"com|edu|gob|gov|int|mil|net|org|tv",br:"adm|adv|agr|am|arq|art|ato|b|bio|blog|bmd|cim|cng|cnt|com|coop|ecn|edu|eng|esp|etc|eti|far|flog|fm|fnd|fot|fst|g12|ggf|gov|imb|ind|inf|jor|jus|lel|mat|med|mil|mus|net|nom|not|ntr|odo|org|ppg|pro|psc|psi|qsl|rec|slg|srv|tmp|trd|tur|tv|vet|vlog|wiki|zlg",bs:"com|edu|gov|net|org",bz:"du|et|om|ov|rg",ca:"ab|bc|mb|nb|nf|nl|ns|nt|nu|on|pe|qc|sk|yk",ck:"biz|co|edu|gen|gov|info|net|org",cn:"ac|ah|bj|com|cq|edu|fj|gd|gov|gs|gx|gz|ha|hb|he|hi|hl|hn|jl|js|jx|ln|mil|net|nm|nx|org|qh|sc|sd|sh|sn|sx|tj|tw|xj|xz|yn|zj",co:"com|edu|gov|mil|net|nom|org",cr:"ac|c|co|ed|fi|go|or|sa",cy:"ac|biz|com|ekloges|gov|ltd|name|net|org|parliament|press|pro|tm","do":"art|com|edu|gob|gov|mil|net|org|sld|web",dz:"art|asso|com|edu|gov|net|org|pol",ec:"com|edu|fin|gov|info|med|mil|net|org|pro",eg:"com|edu|eun|gov|mil|name|net|org|sci",er:"com|edu|gov|ind|mil|net|org|rochest|w",es:"com|edu|gob|nom|org",et:"biz|com|edu|gov|info|name|net|org",fj:"ac|biz|com|info|mil|name|net|org|pro",fk:"ac|co|gov|net|nom|org",fr:"asso|com|f|gouv|nom|prd|presse|tm",gg:"co|net|org",gh:"com|edu|gov|mil|org",gn:"ac|com|gov|net|org",gr:"com|edu|gov|mil|net|org",gt:"com|edu|gob|ind|mil|net|org",gu:"com|edu|gov|net|org",hk:"com|edu|gov|idv|net|org",id:"ac|co|go|mil|net|or|sch|web",il:"ac|co|gov|idf|k12|muni|net|org","in":"ac|co|edu|ernet|firm|gen|gov|i|ind|mil|net|nic|org|res",iq:"com|edu|gov|i|mil|net|org",ir:"ac|co|dnssec|gov|i|id|net|org|sch",it:"edu|gov",je:"co|net|org",jo:"com|edu|gov|mil|name|net|org|sch",jp:"ac|ad|co|ed|go|gr|lg|ne|or",ke:"ac|co|go|info|me|mobi|ne|or|sc",kh:"com|edu|gov|mil|net|org|per",ki:"biz|com|de|edu|gov|info|mob|net|org|tel",km:"asso|com|coop|edu|gouv|k|medecin|mil|nom|notaires|pharmaciens|presse|tm|veterinaire",kn:"edu|gov|net|org",kr:"ac|busan|chungbuk|chungnam|co|daegu|daejeon|es|gangwon|go|gwangju|gyeongbuk|gyeonggi|gyeongnam|hs|incheon|jeju|jeonbuk|jeonnam|k|kg|mil|ms|ne|or|pe|re|sc|seoul|ulsan",kw:"com|edu|gov|net|org",ky:"com|edu|gov|net|org",kz:"com|edu|gov|mil|net|org",lb:"com|edu|gov|net|org",lk:"assn|com|edu|gov|grp|hotel|int|ltd|net|ngo|org|sch|soc|web",lr:"com|edu|gov|net|org",lv:"asn|com|conf|edu|gov|id|mil|net|org",ly:"com|edu|gov|id|med|net|org|plc|sch",ma:"ac|co|gov|m|net|org|press",mc:"asso|tm",me:"ac|co|edu|gov|its|net|org|priv",mg:"com|edu|gov|mil|nom|org|prd|tm",mk:"com|edu|gov|inf|name|net|org|pro",ml:"com|edu|gov|net|org|presse",mn:"edu|gov|org",mo:"com|edu|gov|net|org",mt:"com|edu|gov|net|org",mv:"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro",mw:"ac|co|com|coop|edu|gov|int|museum|net|org",mx:"com|edu|gob|net|org",my:"com|edu|gov|mil|name|net|org|sch",nf:"arts|com|firm|info|net|other|per|rec|store|web",ng:"biz|com|edu|gov|mil|mobi|name|net|org|sch",ni:"ac|co|com|edu|gob|mil|net|nom|org",np:"com|edu|gov|mil|net|org",nr:"biz|com|edu|gov|info|net|org",om:"ac|biz|co|com|edu|gov|med|mil|museum|net|org|pro|sch",pe:"com|edu|gob|mil|net|nom|org|sld",ph:"com|edu|gov|i|mil|net|ngo|org",pk:"biz|com|edu|fam|gob|gok|gon|gop|gos|gov|net|org|web",pl:"art|bialystok|biz|com|edu|gda|gdansk|gorzow|gov|info|katowice|krakow|lodz|lublin|mil|net|ngo|olsztyn|org|poznan|pwr|radom|slupsk|szczecin|torun|warszawa|waw|wroc|wroclaw|zgora",pr:"ac|biz|com|edu|est|gov|info|isla|name|net|org|pro|prof",ps:"com|edu|gov|net|org|plo|sec",pw:"belau|co|ed|go|ne|or",ro:"arts|com|firm|info|nom|nt|org|rec|store|tm|www",rs:"ac|co|edu|gov|in|org",sb:"com|edu|gov|net|org",sc:"com|edu|gov|net|org",sh:"co|com|edu|gov|net|nom|org",sl:"com|edu|gov|net|org",st:"co|com|consulado|edu|embaixada|gov|mil|net|org|principe|saotome|store",sv:"com|edu|gob|org|red",sz:"ac|co|org",tr:"av|bbs|bel|biz|com|dr|edu|gen|gov|info|k12|name|net|org|pol|tel|tsk|tv|web",tt:"aero|biz|cat|co|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel",tw:"club|com|ebiz|edu|game|gov|idv|mil|net|org",mu:"ac|co|com|gov|net|or|org",mz:"ac|co|edu|gov|org",na:"co|com",nz:"ac|co|cri|geek|gen|govt|health|iwi|maori|mil|net|org|parliament|school",pa:"abo|ac|com|edu|gob|ing|med|net|nom|org|sld",pt:"com|edu|gov|int|net|nome|org|publ",py:"com|edu|gov|mil|net|org",qa:"com|edu|gov|mil|net|org",re:"asso|com|nom",ru:"ac|adygeya|altai|amur|arkhangelsk|astrakhan|bashkiria|belgorod|bir|bryansk|buryatia|cbg|chel|chelyabinsk|chita|chukotka|chuvashia|com|dagestan|e-burg|edu|gov|grozny|int|irkutsk|ivanovo|izhevsk|jar|joshkar-ola|kalmykia|kaluga|kamchatka|karelia|kazan|kchr|kemerovo|khabarovsk|khakassia|khv|kirov|koenig|komi|kostroma|kranoyarsk|kuban|kurgan|kursk|lipetsk|magadan|mari|mari-el|marine|mil|mordovia|mosreg|msk|murmansk|nalchik|net|nnov|nov|novosibirsk|nsk|omsk|orenburg|org|oryol|penza|perm|pp|pskov|ptz|rnd|ryazan|sakhalin|samara|saratov|simbirsk|smolensk|spb|stavropol|stv|surgut|tambov|tatarstan|tom|tomsk|tsaritsyn|tsk|tula|tuva|tver|tyumen|udm|udmurtia|ulan-ude|vladikavkaz|vladimir|vladivostok|volgograd|vologda|voronezh|vrn|vyatka|yakutia|yamal|yekaterinburg|yuzhno-sakhalinsk",rw:"ac|co|com|edu|gouv|gov|int|mil|net",sa:"com|edu|gov|med|net|org|pub|sch",sd:"com|edu|gov|info|med|net|org|tv",se:"a|ac|b|bd|c|d|e|f|g|h|i|k|l|m|n|o|org|p|parti|pp|press|r|s|t|tm|u|w|x|y|z",sg:"com|edu|gov|idn|net|org|per",sn:"art|com|edu|gouv|org|perso|univ",sy:"com|edu|gov|mil|net|news|org",th:"ac|co|go|in|mi|net|or",tj:"ac|biz|co|com|edu|go|gov|info|int|mil|name|net|nic|org|test|web",tn:"agrinet|com|defense|edunet|ens|fin|gov|ind|info|intl|mincom|nat|net|org|perso|rnrt|rns|rnu|tourism",tz:"ac|co|go|ne|or",ua:"biz|cherkassy|chernigov|chernovtsy|ck|cn|co|com|crimea|cv|dn|dnepropetrovsk|donetsk|dp|edu|gov|if|in|ivano-frankivsk|kh|kharkov|kherson|khmelnitskiy|kiev|kirovograd|km|kr|ks|kv|lg|lugansk|lutsk|lviv|me|mk|net|nikolaev|od|odessa|org|pl|poltava|pp|rovno|rv|sebastopol|sumy|te|ternopil|uzhgorod|vinnica|vn|zaporizhzhe|zhitomir|zp|zt",ug:"ac|co|go|ne|or|org|sc",uk:"ac|bl|british-library|co|cym|gov|govt|icnet|jet|lea|ltd|me|mil|mod|national-library-scotland|nel|net|nhs|nic|nls|org|orgn|parliament|plc|police|sch|scot|soc",us:"dni|fed|isa|kids|nsn",uy:"com|edu|gub|mil|net|org",ve:"co|com|edu|gob|info|mil|net|org|web",vi:"co|com|k12|net|org",vn:"ac|biz|com|edu|gov|health|info|int|name|net|org|pro",ye:"co|com|gov|ltd|me|net|org|plc",yu:"ac|co|edu|gov|org",za:"ac|agric|alt|bourse|city|co|cybernet|db|edu|gov|grondar|iaccess|imt|inca|landesign|law|mil|net|ngo|nis|nom|olivetti|org|pix|school|tm|web",zm:"ac|co|com|edu|gov|net|org|sch"},has_expression:null,is_expression:null,has:function(e){return!!e.match(t.has_expression)},is:function(e){return!!e.match(t.is_expression)},get:function(e){var n=e.match(t.has_expression);return n&&n[1]||null},init:function(){var n="";for(var i in t.list)if(e.call(t.list,i)){n+="|("+("("+t.list[i]+")."+i)+")"}t.has_expression=new RegExp("\\.("+n.substr(1)+")$","i"),t.is_expression=new RegExp("^("+n.substr(1)+")$","i")}};return t.init(),t}),define("urijs/URI",["require","exports","module","./punycode","./IPv6","./SecondLevelDomains"],function(require,exports,module){function e(t,n){return this instanceof e?(t===undefined&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),n!==undefined?this.absoluteTo(n):this):new e(t,n)}function t(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function n(e){return e===undefined?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function i(e){return"Array"===n(e)}function a(e,t){var r,o;if(i(t)){for(r=0,o=t.length;r<o;r++)if(!a(e,t[r]))return!1;return!0}var s=n(t);for(r=0,o=e.length;r<o;r++)if("RegExp"===s){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function r(e,t){if(!i(e)||!i(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,a=e.length;n<a;n++)if(e[n]!==t[n])return!1;return!0}function o(e){return escape(e)}function s(e){return encodeURIComponent(e).replace(/[!'()*]/g,o).replace(/\*/g,"%2A")}var l=require("./punycode"),u=require("./IPv6"),d=require("./SecondLevelDomains");e.version="1.12.0";var c=e.prototype,f=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\.-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},e.getDomAttribute=function(t){if(!t||!t.nodeName)return undefined;var n=t.nodeName.toLowerCase();return"input"===n&&"image"!==t.type?undefined:e.domAttributes[n]},e.encode=s,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape},e.unicode=function(){e.encode=s,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},e.encodeQuery=function(t,n){var i=e.encode(t+"");return n?i.replace(/%20/g,"+"):i},e.decodeQuery=function(t,n){t+="";try{return e.decode(n?t.replace(/\+/g,"%20"):t)}catch(i){return t}},e.recodePath=function(t){for(var n=(t+"").split("/"),i=0,a=n.length;i<a;i++)n[i]=e.encodePathSegment(e.decode(n[i]));return n.join("/")},e.decodePath=function(t){for(var n=(t+"").split("/"),i=0,a=n.length;i<a;i++)n[i]=e.decodePathSegment(n[i]);return n.join("/")};var p,h={encode:"encode",decode:"decode"},v=function(t,n){return function(i){return e[n](i+"").replace(e.characters[t][n].expression,function(i){return e.characters[t][n].map[i]})}};for(p in h)e[p+"PathSegment"]=v("pathname",h[p]);e.encodeReserved=v("reserved","encode"),e.parse=function(t,n){var i;return n||(n={}),(i=t.indexOf("#"))>-1&&(n.fragment=t.substring(i+1)||null,t=t.substring(0,i)),(i=t.indexOf("?"))>-1&&(n.query=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(n.protocol=null,t=t.substring(2),t=e.parseAuthority(t,n)):(i=t.indexOf(":"))>-1&&(n.protocol=t.substring(0,i)||null,n.protocol&&!n.protocol.match(e.protocol_expression)?n.protocol=undefined:"file"===n.protocol?t=t.substring(i+3):"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=e.parseAuthority(t,n)):(t=t.substring(i+1),n.urn=!0)),n.path=t,n},e.parseHost=function(e,t){var n,i,a=e.indexOf("/");return-1===a&&(a=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,a)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,a)||null,t.port=null):(i=e.substring(0,a).split(":"),t.hostname=i[0]||null,t.port=i[1]||null),t.hostname&&"/"!==e.substring(a).charAt(0)&&(a++,e="/"+e),e.substring(a)||"/"},e.parseAuthority=function(t,n){return t=e.parseUserinfo(t,n),e.parseHost(t,n)},e.parseUserinfo=function(t,n){var i,a=t.indexOf("/"),r=a>-1?t.lastIndexOf("@",a):t.indexOf("@");return r>-1&&(-1===a||r<a)?(i=t.substring(0,r).split(":"),n.username=i[0]?e.decode(i[0]):null,i.shift(),n.password=i[0]?e.decode(i.join(":")):null,t=t.substring(r+1)):(n.username=null,n.password=null),t},e.parseQuery=function(t,n){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,a,r,o={},s=t.split("&"),l=s.length,u=0;u<l;u++)i=s[u].split("="),a=e.decodeQuery(i.shift(),n),r=i.length?e.decodeQuery(i.join("="),n):null,o[a]?("string"==typeof o[a]&&(o[a]=[o[a]]),o[a].push(r)):o[a]=r;return o},e.build=function(t){var n="";return t.protocol&&(n+=t.protocol+":"),t.urn||!n&&!t.hostname||(n+="//"),n+=e.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(n+="/"),n+=t.path),"string"==typeof t.query&&t.query&&(n+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(n+="#"+t.fragment),n},e.buildHost=function(t){var n="";return t.hostname?(e.ip6_expression.test(t.hostname)?t.port?n+="["+t.hostname+"]:"+t.port:n+=t.hostname:(n+=t.hostname,t.port&&(n+=":"+t.port)),n):""},e.buildAuthority=function(t){return e.buildUserinfo(t)+e.buildHost(t)},e.buildUserinfo=function(t){var n="";return t.username&&(n+=e.encode(t.username),t.password&&(n+=":"+e.encode(t.password)),n+="@"),n},e.buildQuery=function(t,n,a){var r,o,s,l,u="";for(o in t)if(f.call(t,o)&&o)if(i(t[o]))for(r={},s=0,l=t[o].length;s<l;s++)t[o][s]!==undefined&&r[t[o][s]+""]===undefined&&(u+="&"+e.buildQueryParameter(o,t[o][s],a),!0!==n&&(r[t[o][s]+""]=!0));else t[o]!==undefined&&(u+="&"+e.buildQueryParameter(o,t[o],a));return u.substring(1)},e.buildQueryParameter=function(t,n,i){return e.encodeQuery(t,i)+(null!==n?"="+e.encodeQuery(n,i):"")},e.addQuery=function(t,n,a){if("object"==typeof n)for(var r in n)f.call(n,r)&&e.addQuery(t,r,n[r]);else{if("string"!=typeof n)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(t[n]===undefined)return void(t[n]=a);"string"==typeof t[n]&&(t[n]=[t[n]]),i(a)||(a=[a]),t[n]=t[n].concat(a)}},e.removeQuery=function(t,n,a){var r,o,s;if(i(n))for(r=0,o=n.length;r<o;r++)t[n[r]]=undefined;else if("object"==typeof n)for(s in n)f.call(n,s)&&e.removeQuery(t,s,n[s]);else{if("string"!=typeof n)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");a!==undefined?t[n]===a?t[n]=undefined:i(t[n])&&(t[n]=function(e,t){var n,a,r={};if(i(t))for(n=0,a=t.length;n<a;n++)r[t[n]]=!0;else r[t]=!0;for(n=0,a=e.length;n<a;n++)r[e[n]]!==undefined&&(e.splice(n,1),a--,n--);return e}(t[n],a)):t[n]=undefined}},e.hasQuery=function(t,o,s,l){if("object"==typeof o){for(var u in o)if(f.call(o,u)&&!e.hasQuery(t,u,o[u]))return!1;return!0}if("string"!=typeof o)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(n(s)){case"Undefined":return o in t;case"Boolean":return s===Boolean(i(t[o])?t[o].length:t[o]);case"Function":return!!s(t[o],o,t);case"Array":if(!i(t[o]))return!1;return(l?a:r)(t[o],s);case"RegExp":return i(t[o])?!!l&&a(t[o],s):Boolean(t[o]&&t[o].match(s));case"Number":s=String(s);case"String":return i(t[o])?!!l&&a(t[o],s):t[o]===s;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.commonPath=function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},e.withinString=function(t,n,i){i||(i={});var a=i.start||e.findUri.start,r=i.end||e.findUri.end,o=i.trim||e.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(a.lastIndex=0;;){var l=a.exec(t);if(!l)break;var u=l.index;if(i.ignoreHtml){var d=t.slice(Math.max(u-3,0),u);if(d&&s.test(d))continue}var c=u+t.slice(u).search(r),f=t.slice(u,c).replace(o,"");if(!i.ignore||!i.ignore.test(f)){var p=n(f,u,c=u+f.length,t);t=t.slice(0,u)+p+t.slice(c),a.lastIndex=u+p.length}}return a.lastIndex=0,t},e.ensureValidHostname=function(t){if(t.match(e.invalid_hostname_characters)){if(!l)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(l.toASCII(t).match(e.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},c.build=function(t){return!0===t?this._deferred_build=!0:(t===undefined||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},c.clone=function(){return new e(this)},c.valueOf=c.toString=function(){return this.build(!1)._string},h={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},v=function(e){return function(t,n){return t===undefined?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}};for(p in h)c[p]=v(h[p]);h={query:"?",fragment:"#"},v=function(e,t){return function(n,i){return n===undefined?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!i),this)}};for(p in h)c[p]=v(p,h[p]);h={search:["?","query"],hash:["#","fragment"]},v=function(e,t){return function(n,i){var a=this[e](n,i);return"string"==typeof a&&a.length?t+a:a}};for(p in h)c[p]=v(h[p][1],h[p][0]);c.pathname=function(t,n){if(t===undefined||!0===t){var i=this._parts.path||(this._parts.hostname?"/":"");return t?e.decodePath(i):i}return this._parts.path=t?e.recodePath(t):"/",this.build(!n),this},c.path=c.pathname,c.href=function(t,n){var i;if(t===undefined)return this.toString();this._string="",this._parts=e._parts();var a=t instanceof e,r="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){t=t[e.getDomAttribute(t)]||"",r=!1}if(!a&&r&&t.pathname!==undefined&&(t=t.toString()),"string"==typeof t)this._parts=e.parse(t,this._parts);else{if(!a&&!r)throw new TypeError("invalid input");var o=a?t._parts:t;for(i in o)f.call(this._parts,i)&&(this._parts[i]=o[i])}return this.build(!n),this},c.is=function(t){var n=!1,i=!1,a=!1,r=!1,o=!1,s=!1,l=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,i=e.ip4_expression.test(this._parts.hostname),a=e.ip6_expression.test(this._parts.hostname),o=(r=!(n=i||a))&&d&&d.has(this._parts.hostname),s=r&&e.idn_expression.test(this._parts.hostname),l=r&&e.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return r;case"sld":return o;case"ip":return n;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return a;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var m=c.protocol,g=c.port,x=c.hostname;c.protocol=function(t,n){if(t!==undefined&&t&&!(t=t.replace(/:(\/\/)?$/,"")).match(e.protocol_expression))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return m.call(this,t,n)},c.scheme=c.protocol,c.port=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e!==undefined&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return g.call(this,e,t)},c.hostname=function(t,n){if(this._parts.urn)return t===undefined?"":this;if(t!==undefined){var i={};e.parseHost(t,i),t=i.hostname}return x.call(this,t,n)},c.host=function(t,n){return this._parts.urn?t===undefined?"":this:t===undefined?this._parts.hostname?e.buildHost(this._parts):"":(e.parseHost(t,this._parts),this.build(!n),this)},c.authority=function(t,n){return this._parts.urn?t===undefined?"":this:t===undefined?this._parts.hostname?e.buildAuthority(this._parts):"":(e.parseAuthority(t,this._parts),this.build(!n),this)},c.userinfo=function(t,n){if(this._parts.urn)return t===undefined?"":this;if(t===undefined){if(!this._parts.username)return"";var i=e.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==t[t.length-1]&&(t+="@"),e.parseUserinfo(t,this._parts),this.build(!n),this},c.resource=function(t,n){var i;return t===undefined?this.path()+this.search()+this.hash():(i=e.parse(t),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!n),this)},c.subdomain=function(n,i){if(this._parts.urn)return n===undefined?"":this;if(n===undefined){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,a)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),s=new RegExp("^"+t(o));return n&&"."!==n.charAt(n.length-1)&&(n+="."),n&&e.ensureValidHostname(n),this._parts.hostname=this._parts.hostname.replace(s,n),this.build(!i),this},c.domain=function(n,i){if(this._parts.urn)return n===undefined?"":this;if("boolean"==typeof n&&(i=n,n=undefined),n===undefined){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.match(/\./g);if(a&&a.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(i).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!n)throw new TypeError("cannot set domain empty");if(e.ensureValidHostname(n),!this._parts.hostname||this.is("IP"))this._parts.hostname=n;else{var o=new RegExp(t(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,n)}return this.build(!i),this},c.tld=function(e,n){if(this._parts.urn)return e===undefined?"":this;if("boolean"==typeof e&&(n=e,e=undefined),e===undefined){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),a=this._parts.hostname.substring(i+1);return!0!==n&&d&&d.list[a.toLowerCase()]?d.get(this._parts.hostname)||a:a}var r;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!d||!d.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");r=new RegExp(t(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(t(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!n),this},c.directory=function(n,i){if(this._parts.urn)return n===undefined?"":this;if(n===undefined||!0===n){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var a=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,a)||(this._parts.hostname?"/":"");return n?e.decodePath(r):r}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),l=new RegExp("^"+t(s));return this.is("relative")||(n||(n="/"),"/"!==n.charAt(0)&&(n="/"+n)),n&&"/"!==n.charAt(n.length-1)&&(n+="/"),n=e.recodePath(n),this._parts.path=this._parts.path.replace(l,n),this.build(!i),this},c.filename=function(n,i){if(this._parts.urn)return n===undefined?"":this;if(n===undefined||!0===n){if(!this._parts.path||"/"===this._parts.path)return"";var a=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(a+1);return n?e.decodePathSegment(r):r}var o=!1;"/"===n.charAt(0)&&(n=n.substring(1)),n.match(/\.?\//)&&(o=!0);var s=new RegExp(t(this.filename())+"$");return n=e.recodePath(n),this._parts.path=this._parts.path.replace(s,n),o?this.normalizePath(i):this.build(!i),this},c.suffix=function(n,i){if(this._parts.urn)return n===undefined?"":this;if(n===undefined||!0===n){if(!this._parts.path||"/"===this._parts.path)return"";var a,r,o=this.filename(),s=o.lastIndexOf(".");return-1===s?"":(a=o.substring(s+1),r=/^[a-z0-9%]+$/i.test(a)?a:"",n?e.decodePathSegment(r):r)}"."===n.charAt(0)&&(n=n.substring(1));var l,u=this.suffix();if(u)l=n?new RegExp(t(u)+"$"):new RegExp(t("."+u)+"$");else{if(!n)return this;this._parts.path+="."+e.recodePath(n)}return l&&(n=e.recodePath(n),this._parts.path=this._parts.path.replace(l,n)),this.build(!i),this},c.segment=function(e,t,n){var a=this._parts.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),s=r.split(a);if(e!==undefined&&"number"!=typeof e&&(n=t,t=e,e=undefined),e!==undefined&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(o&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),t===undefined)return e===undefined?s:s[e];if(null===e||s[e]===undefined)if(i(t)){s=[];for(var l=0,u=t.length;l<u;l++)(t[l].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(t[l]))}else(t||"string"==typeof t)&&(""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t||"string"==typeof t&&t.length?s[e]=t:s.splice(e,1);return o&&s.unshift(""),this.path(s.join(a),n)},c.segmentCoded=function(t,n,a){var r,o,s;if("number"!=typeof t&&(a=n,n=t,t=undefined),n===undefined){if(r=this.segment(t,n,a),i(r))for(o=0,s=r.length;o<s;o++)r[o]=e.decode(r[o]);else r=r!==undefined?e.decode(r):undefined;return r}if(i(n))for(o=0,s=n.length;o<s;o++)n[o]=e.decode(n[o]);else n="string"==typeof n?e.encode(n):n;return this.segment(t,n,a)};var y=c.query;return c.query=function(t,n){if(!0===t)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var i=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),a=t.call(this,i);return this._parts.query=e.buildQuery(a||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!n),this}return t!==undefined&&"string"!=typeof t?(this._parts.query=e.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!n),this):y.call(this,t,n)},c.setQuery=function(t,n,i){var a=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var r in t)f.call(t,r)&&(a[r]=t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");a[t]=n!==undefined?n:null}return this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=n),this.build(!i),this},c.addQuery=function(t,n,i){var a=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(a,t,n===undefined?null:n),this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=n),this.build(!i),this},c.removeQuery=function(t,n,i){var a=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(a,t,n),this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=n),this.build(!i),this},c.hasQuery=function(t,n,i){var a=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(a,t,n,i)},c.setSearch=c.setQuery,c.addSearch=c.addQuery,c.removeSearch=c.removeQuery,c.hasSearch=c.hasQuery,c.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},c.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},c.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&l?this._parts.hostname=l.toASCII(this._parts.hostname):this.is("IPv6")&&u&&(this._parts.hostname=u.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},c.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},c.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var n,i,a,r=this._parts.path,o="";for("/"!==r.charAt(0)&&(n=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(o=r.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(i=r.indexOf("/.."));)0!==i?(-1===(a=r.substring(0,i).lastIndexOf("/"))&&(a=i),r=r.substring(0,a)+r.substring(i+3)):r=r.substring(3);return n&&this.is("relative")&&(r=o+r.substring(1)),r=e.recodePath(r),this._parts.path=r,this.build(!t),this},c.normalizePathname=c.normalizePath,c.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},c.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},c.normalizeSearch=c.normalizeQuery,c.normalizeHash=c.normalizeFragment,c.iso8859=function(){var t=e.encode,n=e.decode;return e.encode=escape,e.decode=decodeURIComponent,this.normalize(),e.encode=t,e.decode=n,this},c.unicode=function(){var t=e.encode,n=e.decode;return e.encode=s,e.decode=unescape,this.normalize(),e.encode=t,e.decode=n,this},c.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&l?(n+=l.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var i="",a=0,r=t._parts.query.split("&"),o=r.length;a<o;a++){var s=(r[a]||"").split("=");i+="&"+e.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),s[1]!==undefined&&(i+="="+e.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+i.substring(1)}return n+=e.decodeQuery(t.hash(),!0)},c.absoluteTo=function(t){var n,i,a,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof e||(t=new e(t)),r._parts.protocol||(r._parts.protocol=t._parts.protocol),this._parts.hostname)return r;for(i=0;a=o[i];i++)r._parts[a]=t._parts[a];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=t._parts.path,r._parts.query||(r._parts.query=t._parts.query)),"/"!==r.path().charAt(0)&&(n=t.directory(),r._parts.path=(n?n+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},c.relativeTo=function(t){var n,i,a,r,o,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new e(t).normalize(),n=s._parts,i=t._parts,r=s.path(),o=t.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(n.protocol===i.protocol&&(n.protocol=null),n.username!==i.username||n.password!==i.password)return s.build();if(null!==n.protocol||null!==n.username||null!==n.password)return s.build();if(n.hostname!==i.hostname||n.port!==i.port)return s.build();if(n.hostname=null,n.port=null,r===o)return n.path="",s.build();if(!(a=e.commonPath(s.path(),t.path())))return s.build();var l=i.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return n.path=l+n.path.substring(a.length),s.build()},c.equals=function(t){var n,a,o,s=this.clone(),l=new e(t),u={},d={},c={};if(s.normalize(),l.normalize(),s.toString()===l.toString())return!0;if(n=s.query(),a=l.query(),s.query(""),l.query(""),s.toString()!==l.toString())return!1;if(n.length!==a.length)return!1;u=e.parseQuery(n,this._parts.escapeQuerySpace),d=e.parseQuery(a,this._parts.escapeQuerySpace);for(o in u)if(f.call(u,o)){if(i(u[o])){if(!r(u[o],d[o]))return!1}else if(u[o]!==d[o])return!1;c[o]=!0}for(o in d)if(f.call(d,o)&&!c[o])return!1;return!0},c.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},c.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},e}),define("urijs",["urijs/URI"],function(e){return e}),define("mini-event/Event",["require","./lib"],function(require){function e(){return!0}function t(){return!1}function n(e,t){"object"==typeof e&&(e=(t=e).type),!function(e){return"[object Object]"===Object.prototype.toString.call(e)}(t)?t&&(this.data=t):i.extend(this,t),e&&(this.type=e)}var i=require("./lib");n.prototype.isDefaultPrevented=t,n.prototype.preventDefault=function(){this.isDefaultPrevented=e},n.prototype.isPropagationStopped=t,n.prototype.stopPropagation=function(){this.isPropagationStopped=e},n.prototype.isImmediatePropagationStopped=t,n.prototype.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=e,this.stopPropagation()};var a=function(){return this}();n.fromDOMEvent=function(e,t,i){e=e||a.event;var r=new n(t=t||e.type,i);return r.preventDefault=function(){e.preventDefault?e.preventDefault():e.returnValue=!1,n.prototype.preventDefault.call(this)},r.stopPropagation=function(){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,n.prototype.stopPropagation.call(this)},r.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),n.prototype.stopImmediatePropagation.call(this)},r};var r={type:!0,target:!0,preventDefault:!0,isDefaultPrevented:!0,stopPropagation:!0,isPropagationStopped:!0,stopImmediatePropagation:!0,isImmediatePropagationStopped:!0};return n.fromEvent=function(e,t){var a={type:e.type,preserveData:!1,syncState:!1},o=new n((t=i.extend(a,t)).type);if(t.preserveData)for(var s in e)e.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(o[s]=e[s]);return t.extend&&i.extend(o,t.extend),t.syncState&&(o.preventDefault=function(){e.preventDefault(),n.prototype.preventDefault.call(this)},o.stopPropagation=function(){e.stopPropagation(),n.prototype.stopPropagation.call(this)},o.stopImmediatePropagation=function(){e.stopImmediatePropagation(),n.prototype.stopImmediatePropagation.call(this)}),o},n.delegate=function(e,t,a,r,o){var s="string"==typeof t,l={object:e,type:s?t:a},u={object:s?a:t,type:s?r:a},d=s?o:r;if(d=i.extend({preserveData:!1},d),"function"==typeof l.object.on&&"function"==typeof u.object.on&&"function"==typeof u.object.fire){l.object.on(l.type,function(e){var t=n.fromEvent(e,d);t.type=u.type,t.target=u.object,u.object.fire(u.type,t)})}},n}),define("mini-event/EventQueue",["require","./lib"],function(require){function e(e,t,n){return e&&e.handler===t&&e.thisObject==n}function t(){this.queue=[]}var n=require("./lib");return t.prototype.add=function(t,i){if(!1!==t&&"function"!=typeof t)throw new Error("event handler must be a function or const false");var a={handler:t};n.extend(a,i);for(var r=0;r<this.queue.length;r++){if(e(this.queue[r],t,a.thisObject))return}this.queue.push(a)},t.prototype.remove=function(t,n){if(t)for(var i=0;i<this.queue.length;i++){if(e(this.queue[i],t,n))return void(this.queue[i]=null)}else this.clear()},t.prototype.clear=function(){this.queue.length=0},t.prototype.execute=function(e,t){for(var n=this.queue,i=0;i<n.length;i++){if("function"==typeof e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped())return;var a=n[i];if(a){var r=a.handler;!1===r?("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()):r.call(a.thisObject||t,e),a.once&&this.remove(a.handler,a.thisObject)}}},t.prototype.getLength=function(){for(var e=0,t=0;t<this.queue.length;t++)this.queue[t]&&e++;return e},t.prototype.length=t.prototype.getLength,t.prototype.dispose=function(){this.clear(),this.queue=null},t}),define("mini-event/EventTarget",["require","./lib","./Event","./EventQueue"],function(require){function e(){}var t=require("./lib"),n=require("./Event"),i=require("./EventQueue");return e.prototype.on=function(e,n,a,r){this.miniEventPool||(this.miniEventPool={}),this.miniEventPool.hasOwnProperty(e)||(this.miniEventPool[e]=new i);var o=this.miniEventPool[e];r=t.extend({},r),a&&(r.thisObject=a),o.add(n,r)},e.prototype.once=function(e,n,i,a){(a=t.extend({},a)).once=!0,this.on(e,n,i,a)},e.prototype.un=function(e,t,n){if(this.miniEventPool&&this.miniEventPool.hasOwnProperty(e)){this.miniEventPool[e].remove(t,n)}},e.prototype.fire=function(e,t){if(1===arguments.length&&"object"==typeof e&&(e=(t=e).type),!e)throw new Error("No event type specified");if("*"===e)throw new Error("Cannot fire global event");var i=t instanceof n?t:new n(e,t);i.target=this,e&&"*"!==e&&i.type!==e&&(i.type=e);var a=this["on"+e];if("function"==typeof a&&a.call(this,i),this.miniEventPool&&this.miniEventPool.hasOwnProperty(e)){this.miniEventPool[e].execute(i,this)}if(this.miniEventPool&&this.miniEventPool.hasOwnProperty("*")){this.miniEventPool["*"].execute(i,this)}return i},e.prototype.destroyEvents=function(){if(this.miniEventPool){for(var e in this.miniEventPool)this.miniEventPool.hasOwnProperty(e)&&this.miniEventPool[e].dispose();this.miniEventPool=null}},e.enable=function(n){n.miniEventPool={},t.extend(n,e.prototype)},e}),define("mini-event/lib",["require"],function(require){var e={};return e.extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},e}),define("mini-event/main",["require","./Event"],function(require){var e=require("./Event");return{version:"1.0.2",Event:e,fromDOMEvent:e.fromDOMEvent,fromEvent:e.fromEvent,delegate:e.delegate}}),define("mini-event",["mini-event/main"],function(e){return e}),define("moment/moment",["require","exports","module"],function(require,exports,module){(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){var n=!0;return l(function(){return n&&(!1===G.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e),n=!1),t.apply(this,arguments)},t)}function i(e,t){return function(n){return d(e.call(this,n),t)}}function a(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function o(e){C(e),l(this,e)}function s(e){var t=v(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*u+6e4*l+36e5*s,this._days=+o+7*r,this._months=+a+3*i+12*n,this._data={},this._bubble()}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){return e<0?Math.ceil(e):Math.floor(e)}function d(e,t,n){for(var i=""+Math.abs(e),a=e>=0;i.length<t;)i="0"+i;return(a?n?"+":"":"-")+i}function c(e,t,n,i){var a=t._milliseconds,r=t._days,o=t._months;i=null==i||i,a&&e._d.setTime(+e._d+a*n),r&&z(e,"Date",V(e,"Date")+r*n),o&&H(e,V(e,"Month")+o*n),i&&G.updateOffset(e,r||o)}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function p(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&o++;return o+r}function h(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Oe[e]||Ne[t]||t}return e}function v(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=h(n))&&(i[t]=e[n]);return i}function m(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}G[t]=function(a,r){var o,s,l=G.fn._lang[t],u=[];if("number"==typeof a&&(r=a,a=e),s=function(e){var t=G().utc().set(i,e);return l.call(G.fn._lang,t,a||"")},null!=r)return s(r);for(o=0;o<n;o++)u.push(s(o));return u}}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function x(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function y(e,t,n){return q(G([e,11,31+t-n]),t,n).week}function b(e){return w(e)?366:365}function w(e){return e%4==0&&e%100!=0||e%400==0}function C(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[K]<0||e._a[K]>11?K:e._a[J]<1||e._a[J]>x(e._a[Q],e._a[K])?J:e._a[ee]<0||e._a[ee]>23?ee:e._a[te]<0||e._a[te]>59?te:e._a[ne]<0||e._a[ne]>59?ne:e._a[ie]<0||e._a[ie]>999?ie:-1,e._pf._overflowDayOfYear&&(t<Q||t>J)&&(t=J),e._pf.overflow=t)}function T(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function k(e){return e?e.toLowerCase().replace("_","-"):e}function _(e,t){return t._isUTC?G(e).zone(t._offset||0):G(e).local()}function S(e){var t,n,i,a,r=0,o=function(e){if(!ae[e]&&oe)try{require("./lang/"+e)}catch(t){}return ae[e]};if(!e)return G.fn._lang;if(!f(e)){if(n=o(e))return n;e=[e]}for(;r<e.length;){for(t=(a=k(e[r]).split("-")).length,i=(i=k(e[r+1]))?i.split("-"):null;t>0;){if(n=o(a.slice(0,t).join("-")))return n;if(i&&i.length>=t&&p(a,i,!0)>=t-1)break;t--}r++}return G.fn._lang}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function D(e,t){return e.isValid()?(t=E(t,e.lang()),Le[t]||(Le[t]=function(e){var t,n,i=e.match(de);for(t=0,n=i.length;t<n;t++)qe[i[t]]?i[t]=qe[i[t]]:i[t]=I(i[t]);return function(a){var r="";for(t=0;t<n;t++)r+=i[t]instanceof Function?i[t].call(a,e):i[t];return r}}(t)),Le[t](e)):e.lang().invalidDate()}function E(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(ce.lastIndex=0;i>=0&&ce.test(e);)e=e.replace(ce,n),ce.lastIndex=0,i-=1;return e}function P(e,t){var n=t._strict;switch(e){case"Q":return Ce;case"DDDD":return ke;case"YYYY":case"GGGG":case"gggg":return n?_e:he;case"Y":case"G":case"g":return Ie;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Se:ve;case"S":if(n)return Ce;case"SS":if(n)return Te;case"SSS":if(n)return ke;case"DDD":return pe;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return ge;case"a":case"A":return S(t._l)._meridiemParse;case"X":return be;case"Z":case"ZZ":return xe;case"T":return ye;case"SSSS":return me;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Te:fe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return fe;case"Do":return we;default:return new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(function(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a})}(e.replace("\\",""))))}}function A(e){var t=(e=e||"").match(xe)||[],n=((t[t.length-1]||[])+"").match(Ae)||["-",0,0],i=60*n[1]+g(n[2]);return"+"===n[0]?-i:i}function M(e,t,n){var i,a=n._a;switch(e){case"Q":null!=t&&(a[K]=3*(g(t)-1));break;case"M":case"MM":null!=t&&(a[K]=g(t)-1);break;case"MMM":case"MMMM":null!=(i=S(n._l).monthsParse(t))?a[K]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[J]=g(t));break;case"Do":null!=t&&(a[J]=g(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=g(t));break;case"YY":a[Q]=G.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Q]=g(t);break;case"a":case"A":n._isPm=S(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":a[ee]=g(t);break;case"m":case"mm":a[te]=g(t);break;case"s":case"ss":a[ne]=g(t);break;case"S":case"SS":case"SSS":case"SSSS":a[ie]=g(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=A(t);break;case"dd":case"ddd":case"dddd":null!=(i=S(n._l).weekdaysParse(t))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=g(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=G.parseTwoDigitYear(t)}}function O(e){var n,i,a,r,o,s,l,u;null!=(n=e._w).GG||null!=n.W||null!=n.E?(o=1,s=4,i=t(n.GG,e._a[Q],q(G(),1,4).year),a=t(n.W,1),r=t(n.E,1)):(o=(u=S(e._l))._week.dow,s=u._week.doy,i=t(n.gg,e._a[Q],q(G(),o,s).year),a=t(n.w,1),null!=n.d?(r=n.d)<o&&++a:r=null!=n.e?n.e+o:o),l=function(e,t,n,i,a){var r,o,s=$(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:a,r=a-s+(s>i?7:0)-(s<a?7:0),o=7*(t-1)+(n-a)+r+1,{year:o>0?e:e-1,dayOfYear:o>0?o:b(e-1)+o}}(i,a,r,s,o),e._a[Q]=l.year,e._dayOfYear=l.dayOfYear}function N(e){var n,i,a,r,o=[];if(!e._d){for(a=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[J]&&null==e._a[K]&&O(e),e._dayOfYear&&(r=t(e._a[Q],a[Q]),e._dayOfYear>b(r)&&(e._pf._overflowDayOfYear=!0),i=$(r,0,e._dayOfYear),e._a[K]=i.getUTCMonth(),e._a[J]=i.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=o[n]=a[n];for(;n<7;n++)e._a[n]=o[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?$:function(e,t,n,i,a,r,o){var s=new Date(e,t,n,i,a,r,o);e<1970&&s.setFullYear(e);return s}).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function L(e){if(e._f!==G.ISO_8601){e._a=[],e._pf.empty=!0;var t,n,i,a,r,o=S(e._l),s=""+e._i,l=s.length,u=0;for(i=E(e._f,o).match(de)||[],t=0;t<i.length;t++)a=i[t],(n=(s.match(P(a,e))||[])[0])&&((r=s.substr(0,s.indexOf(n))).length>0&&e._pf.unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),u+=n.length),qe[a]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(a),M(a,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=l-u,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[ee]<12&&(e._a[ee]+=12),!1===e._isPm&&12===e._a[ee]&&(e._a[ee]=0),N(e),C(e)}else R(e)}function R(e){var t,n,i=e._i,a=De.exec(i);if(a){for(e._pf.iso=!0,t=0,n=Ee.length;t<n;t++)if(Ee[t][1].exec(i)){e._f=Ee[t][0]+(a[6]||" ");break}for(t=0,n=Pe.length;t<n;t++)if(Pe[t][1].exec(i)){e._f+=Pe[t][0];break}i.match(xe)&&(e._f+="Z"),L(e)}else e._isValid=!1}function B(t){var n=t._i,i=se.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?function(e){R(e),!1===e._isValid&&(delete e._isValid,G.createFromInputFallback(e))}(t):f(n)?(t._a=n.slice(0),N(t)):function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}(n)?t._d=new Date(+n):"object"==typeof n?function(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],N(e))}(t):"number"==typeof n?t._d=new Date(n):G.createFromInputFallback(t)}function $(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function q(e,t,n){var i,a=n-t,r=n-e.day();return r>a&&(r-=7),r<a-7&&(r+=7),i=G(e).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function F(t){var n=t._i,i=t._f;return null===n||i===e&&""===n?G.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=S().preparse(n)),G.isMoment(n)?(t=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&re.hasOwnProperty(t)&&(n[t]=e[t]);return n}(n))._d=new Date(+n._d):i?f(i)?function(e){var t,n,i,a,r;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,(t=l({},e))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[a],L(t),T(t)&&(r+=t._pf.charsLeftOver,r+=10*t._pf.unusedTokens.length,t._pf.score=r,(null==i||r<i)&&(i=r,n=t));l(e,n||t)}(t):L(t):B(t),new o(t))}function j(e,t){var n,i;if(1===t.length&&f(t[0])&&(t=t[0]),!t.length)return G();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function H(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.lang().monthsParse(t))?e:(n=Math.min(e.date(),x(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function V(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function z(e,t,n){return"Month"===t?H(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e,t){return function(n){return null!=n?(z(this,e,n),G.updateOffset(this,t),this):V(this,e)}}function W(e){G.duration.fn[e]=function(){return this._data[e]}}function Y(e,t){G.duration.fn["as"+e]=function(){return+this/t}}"undefined"!=typeof global&&global;for(var G,Z,X=Math.round,Q=0,K=1,J=2,ee=3,te=4,ne=5,ie=6,ae={},re={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},oe=void 0!==module&&module.exports,se=/^\/?Date\((\-?\d+)/i,le=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ue=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,de=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ce=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,fe=/\d\d?/,pe=/\d{1,3}/,he=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,me=/\d+/,ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xe=/Z|[\+\-]\d\d:?\d\d/gi,ye=/T/i,be=/[\+\-]?\d+(\.\d{1,3})?/,we=/\d{1,2}/,Ce=/\d/,Te=/\d\d/,ke=/\d{3}/,_e=/\d{4}/,Se=/[+-]?\d{6}/,Ie=/[+-]?\d+/,De=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ee=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Pe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ae=/([\+\-]|\d\d)/gi,Me=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Oe={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ne={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Le={},Re={s:45,m:45,h:22,dd:25,dm:45,dy:345},Be="DDD w W M D d".split(" "),$e="M D H h m s w W".split(" "),qe={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+d(Math.abs(e),6)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return d(this.weekYear(),4)},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return d(this.isoWeekYear(),4)},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return g(this.milliseconds()/100)},SS:function(){return d(g(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},SSSS:function(){return d(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+d(g(e/60),2)+":"+d(g(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+d(g(e/60),2)+d(g(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Fe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Be.length;)Z=Be.pop(),qe[Z+"o"]=a(qe[Z],Z);for(;$e.length;)Z=$e.pop(),qe[Z+Z]=i(qe[Z],2);for(qe.DDDD=i(qe.DDD,3),l(r.prototype,{set:function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=G.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=G([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return q(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(G=function(t,n,i,a){var r;return"boolean"==typeof i&&(a=i,i=e),r={},r._isAMomentObject=!0,r._i=t,r._f=n,r._l=i,r._strict=a,r._isUTC=!1,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},F(r)}).suppressDeprecationWarnings=!1,G.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),G.min=function(){return j("isBefore",[].slice.call(arguments,0))},G.max=function(){return j("isAfter",[].slice.call(arguments,0))},G.utc=function(t,n,i,a){var r;return"boolean"==typeof i&&(a=i,i=e),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=i,r._i=t,r._f=n,r._strict=a,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},F(r).utc()},G.unix=function(e){return G(1e3*e)},G.duration=function(e,t){var n,i,a,r=e,o=null;return G.isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(o=le.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:g(o[J])*n,h:g(o[ee])*n,m:g(o[te])*n,s:g(o[ne])*n,ms:g(o[ie])*n}):(o=ue.exec(e))&&(n="-"===o[1]?-1:1,r={y:(a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n})(o[2]),M:a(o[3]),d:a(o[4]),h:a(o[5]),m:a(o[6]),s:a(o[7]),w:a(o[8])}),i=new s(r),G.isDuration(e)&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},G.version="2.7.0",G.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",G.ISO_8601=function(){},G.momentProperties=re,G.updateOffset=function(){},G.relativeTimeThreshold=function(t,n){return Re[t]!==e&&(Re[t]=n,!0)},G.lang=function(e,t){return e?(t?function(e,t){t.abbr=e,ae[e]||(ae[e]=new r),ae[e].set(t),ae[e]}(k(e),t):null===t?(!function(e){delete ae[e]}(e),e="en"):ae[e]||S(e),(G.duration.fn._lang=G.fn._lang=S(e))._abbr):G.fn._lang._abbr},G.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),S(e)},G.isMoment=function(e){return e instanceof o||null!=e&&e.hasOwnProperty("_isAMomentObject")},G.isDuration=function(e){return e instanceof s},Z=Fe.length-1;Z>=0;--Z)m(Fe[Z]);G.normalizeUnits=function(e){return h(e)},G.invalid=function(e){var t=G.utc(NaN);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},G.parseZone=function(){return G.apply(null,arguments).parseZone()},G.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)},l(G.fn=o.prototype,{clone:function(){return G(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=G(this).utc();return 0<e.year()&&e.year()<=9999?D(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return T(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&p(this._a,(this._isUTC?G.utc(this._a):G(this._a)).toArray())>0)},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=D(this,e||G.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e&&"string"==typeof t?G.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?G.duration(+t,e):G.duration(e,t),c(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e&&"string"==typeof t?G.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?G.duration(+t,e):G.duration(e,t),c(this,n,-1),this},diff:function(e,t,n){var i,a,r=_(e,this),o=6e4*(this.zone()-r.zone());return"year"===(t=h(t))||"month"===t?(i=432e5*(this.daysInMonth()+r.daysInMonth()),a=12*(this.year()-r.year())+(this.month()-r.month()),a+=(this-G(this).startOf("month")-(r-G(r).startOf("month")))/i,a-=6e4*(this.zone()-G(this).startOf("month").zone()-(r.zone()-G(r).startOf("month").zone()))/i,"year"===t&&(a/=12)):(i=this-r,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?a:u(a)},from:function(e,t){return G.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(G(),e)},calendar:function(e){var t=_(e||G(),this).startOf("day"),n=this.diff(t,"days",!0),i=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){return w(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}(e,this.lang()),this.add({d:e-t})):t},month:U("Month",!0),startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=h(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+G(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+G(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+_(e,this).startOf(t)},min:n("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return(e=G.apply(null,arguments))<this?this:e}),max:n("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return(e=G.apply(null,arguments))>this?this:e}),zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=A(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?c(this,G.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,G.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?G(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(e){var t=X((G(this).startOf("day")-G(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=q(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=q(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=q(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return y(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return y(this.year(),e.dow,e.doy)},get:function(e){return e=h(e),this[e]()},set:function(e,t){return e=h(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=S(t),this)}}),G.fn.millisecond=G.fn.milliseconds=U("Milliseconds",!1),G.fn.second=G.fn.seconds=U("Seconds",!1),G.fn.minute=G.fn.minutes=U("Minutes",!1),G.fn.hour=G.fn.hours=U("Hours",!0),G.fn.date=U("Date",!0),G.fn.dates=n("dates accessor is deprecated. Use date instead.",U("Date",!0)),G.fn.year=U("FullYear",!0),G.fn.years=n("years accessor is deprecated. Use year instead.",U("FullYear",!0)),G.fn.days=G.fn.day,G.fn.months=G.fn.month,G.fn.weeks=G.fn.week,G.fn.isoWeeks=G.fn.isoWeek,G.fn.quarters=G.fn.quarter,G.fn.toJSON=G.fn.toISOString,l(G.duration.fn=s.prototype,{_bubble:function(){var e,t,n,i,a=this._milliseconds,r=this._days,o=this._months,s=this._data;s.milliseconds=a%1e3,e=u(a/1e3),s.seconds=e%60,t=u(e/60),s.minutes=t%60,n=u(t/60),s.hours=n%24,r+=u(n/24),s.days=r%30,o+=u(r/30),s.months=o%12,i=u(o/12),s.years=i},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},humanize:function(e){var t=+this,n=function(e,t,n){var i=X(Math.abs(e)/1e3),a=X(i/60),r=X(a/60),o=X(r/24),s=X(o/365),l=i<Re.s&&["s",i]||1===a&&["m"]||a<Re.m&&["mm",a]||1===r&&["h"]||r<Re.h&&["hh",r]||1===o&&["d"]||o<=Re.dd&&["dd",o]||o<=Re.dm&&["M"]||o<Re.dy&&["MM",X(o/30)]||1===s&&["y"]||["yy",s];return l[2]=t,l[3]=e>0,l[4]=n,function(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}.apply({},l)}(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=G.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=G.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=h(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=h(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:G.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||r?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"}});for(Z in Me)Me.hasOwnProperty(Z)&&(Y(Z,Me[Z]),W(Z.toLowerCase()));Y("Weeks",6048e5),G.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},G.lang("en",{ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),oe&&(module.exports=G)}).call(this)}),define("moment",["moment/moment"],function(e){return e}),define("promise/enhance",["require","./util"],function(require){function e(e){return"function"==typeof r.getThen(e)}function t(e){var t=!1,n=new this(function(n,i){window.require(e,function(){!t&&n([].slice.call(arguments))})});return n.abort=function(){t=!0},n}function n(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})}function i(t,n,i){try{i=[].slice.call(arguments,2);var a=t.apply(n,i);return e(a)?a:this.resolve(a)}catch(r){return this.reject(r)}}function a(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})}var r=require("./util");return function(r){return r.isPromise=e,r.require=t,r.invoke=i,r.cast=a,r.prototype["finally"]=n,r.prototype.ensure=n,r.prototype.fail=r.prototype["catch"],r}}),define("promise/hook",["require","./PromiseCapacity"],function(require){var e=require("./PromiseCapacity");return function(t){return t.onReject=function(t){"function"==typeof t&&(e.onReject=t)},t.onResolve=function(t){"function"==typeof t&&(e.onResolve=t)},t}}),define("promise/main",["require","./Promise","./enhance","./then","./hook"],function(require){var e=require("./Promise"),t=require("./enhance"),n=require("./then");return require("./hook")(n(t(e)))}),define("promise",["promise/main"],function(e){return e}),define("promise/Promise",["require","./util","./PromiseCapacity"],function(require){function e(i){if("function"!=typeof i)throw new TypeError("Promise resolver undefined is not a function");if(!(this instanceof e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var a=new n(this);this.then=t.bind(a.then,a),i(t.bind(a.resolve,a),t.bind(a.reject,a))}var t=require("./util"),n=require("./PromiseCapacity");return e.prototype.then=function(e,t){},e.prototype["catch"]=function(e){return this.then(null,e)},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(e){if(!t.isArray(e))throw new TypeError("You must pass an array to all.");return new this(function(n,i){function a(e){return function(t){r(e,t)}}function r(e,t){o[e]=t,0==--s&&n(o)}var o=[],s=e.length,l=null;0===s&&n([]);for(var u=0,d=e.length;u<d;u++){l=e[u];"function"==typeof t.getThen(l)?l.then(a(u),i):r(u,l)}})},e.race=function(e){if(!t.isArray(e))throw new TypeError("You must pass an array to race.");return new this(function(n,i){for(var a=0,r=e.length;a<r;a++){var o=e[a],s=t.getThen(o);"function"==typeof s?s.call(o,n,i):n(o)}})},e}),define("promise/PromiseCapacity",["require","./util","./setImmediate"],function(require){function e(e){this.promise=e,this.status=a,this.isResolved=!1,this.result=undefined,this.fulfilledCallbacks=[],this.rejectedCallbacks=[],this.syncModeEnabled=!1,this.invoke=o}function t(e,t,n,i){return function(a){try{"function"==typeof t&&(a=t(a),e=n),e(a)}catch(r){i(r)}}}function n(e){if(e.status!==a){var t=null;e.status===r?(e.rejectedCallbacks=[],t=e.fulfilledCallbacks):(e.fulfilledCallbacks=[],t=e.rejectedCallbacks),e.invoke(function(){for(var n,i=e.result;n=t.shift();)n(i)})}}var i=require("./util"),a="pending",r="fulfilled",o=require("./setImmediate"),s=function(e){e()};return e.onResolve=function(e){},e.onReject=function(e){"undefined"!=typeof console&&console.error(e)},e.prototype={constructor:e,resolve:function(e){if(this.status===a&&!this.isResolved)if(e!==this.promise){try{var t=i.getThen(e);if("function"==typeof t)return void function(e,t){t.isResolved=!0,new t.promise.constructor(function(t,n){var i=!1;try{e(function(e){t(e),i=!0},function(e){n(e),i=!0})}catch(a){!i&&n(a)}}).then(function(e){t.isResolved=!1,t.resolve(e)},function(e){t.isResolved=!1,t.reject(e)})}(i.bind(t,e),this)}catch(o){return void(this.status===a&&this.reject(o))}this.result=e,this.status=r,this.constructor.onResolve.call(this.promise,e),n(this)}else this.reject(new TypeError("Chaining cycle detected for promise #<Promise>"))},reject:function(e){this.status!==a||this.isResolved||(this.result=e,this.status="rejected",this.constructor.onReject.call(this.promise,e),n(this))},then:function(e,i){var a=this;this.syncModeEnabled=this.promise.syncModeEnabled,this.invoke=this.syncModeEnabled?s:o;var r=new this.promise.constructor(function(n,r){a.fulfilledCallbacks.push(t(n,e,n,r)),a.rejectedCallbacks.push(t(r,i,n,r))});return r.syncModeEnabled=this.syncModeEnabled,n(this),r}},e}),define("promise/setImmediate",["require","./util"],function(require){function e(e){return i[a]=e,a++}function t(e){var t=i[e];t&&(delete i[e],t())}var n=function(){return this}(),i={},a=1;if("function"==typeof n.setImmediate)return require("./util").bind(n.setImmediate,n);if("function"==typeof n.nextTick)return n.nextTick;if(n.MutationObserver||n.webKitMutationObserver){var r="data-promise-tick",o=n.MutationObserver||n.webKitMutationObserver,s=function(e,n){var i=e[0];if(i.attributeName===r){t(i.target.getAttribute(r)),n.disconnect(i.target)}};return function(t){var n=document.createElement("div");new o(s).observe(n,{attributes:!0});var i=e(t);n.setAttribute(r,i)}}if("function"==typeof postMessage&&"function"!=typeof n.importScript){var l=!0,u=n.onmessage;if(n.onmessage=function(){l=!1},n.postMessage("","*"),n.onmessage=u,l){var d=function(e){if(e.source===n&&"string"==typeof e.data&&0===e.data.indexOf("promise-tick-")){t(e.data.substring("promise-tick-".length))}};return n.addEventListener?n.addEventListener("message",d,!1):n.attachEvent("onmessage",d),function(t){var i=e(t);n.postMessage("promise-tick-"+i,"*")}}}if(n.MessageChannel){var c=new MessageChannel;return c.port1.onmessage=function(e){t(e.data)},function(t){var n=e(t);c.port2.postMessage(n)}}if("onreadystatechange"in document.createElement("script")){var f=document.documentElement;return function(e){var t=document.createElement("script");t.onreadystatechange=function(){e(),t.onreadystatechange=null,f.removeChild(t),t=null},f.appendChild(t)}}return function(e){setTimeout(e,0)}}),define("promise/then",["require","./util"],function(require){function e(){}var t=require("./util");return function(n){return n.prototype.thenGetProperty=function(e){return this.then(function(e){return function(t){return t[e]}}(e))},n.prototype.thenReturn=function(e){return this.then(function(e){return function(){return e}}(e))},n.prototype.thenBind=function(){return this.then(t.bind.apply(t,arguments))},n.prototype.thenSwallowException=function(){return this["catch"](e)},n}}),define("promise/util",["require"],function(require){var e={},t=Function.prototype.bind;return e.bind="function"==typeof t?function(e){return t.apply(e,[].slice.call(arguments,1))}:function(e,t){var n=[].slice.call(arguments,2);return function(){var i=n.concat([].slice.call(arguments));return e.apply(t,i)}},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.getThen=function(e){return e&&("object"==typeof e||"function"==typeof e)&&e.then},e}),define("saber-cookie/cookie",["require"],function(require){function e(e){return"string"==typeof e&&""!==e}function t(t){return e(t)}var exports={};return exports.set=function(e,n,i){if(t(e)){var a=(i=i||{}).expires;"number"==typeof a&&(a=new Date).setTime(a.getTime()+i.expires),document.cookie=e+"="+(i.raw?n:encodeURIComponent(n))+(a instanceof Date?"; expires="+a.toUTCString():"")+(i.domain?"; domain="+i.domain:"")+(i.path?"; path="+i.path:"")+(i.secure?"; secure":"")}},exports.get=function(n,i){return i=i||{},function(t,n){if(e(t)){var i=String(document.cookie).match(new RegExp("(?:^|)"+t+"(?:(?:=([^;]*))|;|$)"));if(i)return(i=i[1])?n?decodeURIComponent(i):i:""}return null}(t(n)?n:"",!i.raw)},exports.remove=function(e,t){(t=t||{}).raw=!0,t.expires=new Date(0),this.set(e,"",t)},exports}),define("saber-cookie",["saber-cookie/cookie"],function(e){return e}),define("uioc/DependencyTree",[],function(){var e=function(){this.data=[],this.children=[],this.parent=null};return e.prototype.appendChild=function(e){return e.parent=this,this.children.push(e),e},e.prototype.checkForCircular=function(e){var t=this.parent;if(null!==t)for(var n=t.data.length-1;n>-1;--n)return t.data[n].id&&t.data[n].id===e?t.data[n]:t.checkForCircular(e);return null},e.prototype.addData=function(e,t){return(!(t=!!t)||!this.checkForCircular(e.id))&&(this.data.push(e),!0)},e}),define("uioc/Injector",["require","./util"],function(require){function e(e){this.context=e,this.singletons={}}var t=require("./util");return e.prototype.createInstance=function(e,n){if(!e)return n(null);var i=e.id;if("singleton"===e.scope&&t.hasOwn(this.singletons,i))return n(this.singletons[i]);if("static"===e.scope)return n(e.creator);var a=this;this.injectArgs(e,function(t){var r=e.creator.apply(null,t);"singleton"===e.scope&&(a.singletons[i]=r),n(r)})},e.prototype.injectArgs=function(e,t){var n=e.args,i=n.length,a=new Array(i),r=this.context.operators.ref;if(!i)return t(a);for(var o=function(e){return function(n){a[e]=n,0==--i&&t(a)}},s=n.length-1;s>-1;--s){var l=n[s];r.has(l)?this.context.getComponent(l.$ref,o(s)):o(s)(l)}},e.prototype.injectProperties=function(e,n,i){var a=n.propDeps,r=n.properties,o=this.context.operators.ref,s=this.context.operators.setter;this.context.getComponent(a,function(){for(var n in r){var l=r[n],u=o.has(l)?arguments[t.indexOf(a,l.$ref)]:l;s.setProperty(e,n,u,s.has(l)&&l.$setter)}i()})},e.prototype.injectSetters=function(e,t,n){var i=t.setterDeps||[],a=this.context.operators.setter;this.context.getComponent(i,function(){for(var t=i.length-1;t>-1;--t){var r=i[t];a.setProperty(e,r,arguments[t])}n()})},e.prototype.injectDependencies=function(e,n,i){var a={prop:!1,setter:!1},r=function(e){a[e]=!0,a.prop&&a.setter&&i()};this.injectProperties(e,n,t.bind(r,null,"prop")),this.injectSetters(e,n,t.bind(r,null,"setter"))},e.prototype.dispose=function(){var e=this.singletons;for(var t in e){var n=e[t];n&&"function"==typeof n.dispose&&n.dispose()}this.singletons=null},e}),define("uioc/Loader",["require","./DependencyTree","./util"],function(require){function e(e,t){return e.apply(this,t)}function t(e){this.context=e}function n(e,t,r,o,s){var module=e.module;"function"!=typeof e.creator&&module&&(r[module]=r[module]||[],r[module].push(e)),t.processStaticConfig(e.id);if(o.checkForCircular(e.id)){var l=e.id+" has circular dependencies ";throw new a.CircularError(l,e)}o.addData(e);for(var u=o.appendChild(new i),d=(s=s||e.argDeps.concat(e.propDeps).concat(e.setterDeps||[])).length-1;d>-1;--d)t.hasComponent(s[d])&&n(t.getComponentConfig(s[d]),t,r,u);return r}var i=require("./DependencyTree"),a=require("./util");return t.prototype.setLoaderFunction=function(e){this.amdLoader=e},t.prototype.resolveDependentModules=function(e,t,a){return n(e,this.context,t||{},new i,a)},t.prototype.loadModuleMap=function(e,t){var n=a.keys(e),i=this;this.amdLoader(n,function(){for(var a=arguments.length-1;a>-1;--a)for(var r=arguments[a],o=e[n[a]],s=o.length-1;s>-1;--s){var l=o[s];"function"!=typeof l.creator&&i.wrapCreator(l,r)}t()})},t.prototype.wrapCreator=function(t,n){var i=t.creator=t.creator||n;if("string"==typeof i){var a=n[i];i=t.isFactory&&"static"!==t.scope?function(){return a.apply(n,arguments)}:a,t.creator=i}t.isFactory||"static"===t.scope||(t.creator=function(){return e.prototype=i.prototype,new e(i,arguments)})},t}),define("uioc/main",["require","./Injector","./util","./operator/Ref","./operator/Import","./operator/Setter","./operator/List","./operator/Map","./Loader"],function(require){function e(t){if(t=t||{},!(this instanceof e))return new e(t);this.loader=new u(this),this.setLoaderFunction(t.loader||d),this.components={},this.operators={opImport:new r(this),ref:new a(this),setter:new o(this),list:new s(this),map:new l(this)},this.injector=new n(this),this.addComponent(s.LIST_COMPONENT_ID,s.LIST_COMPONENT_CONFIG),this.addComponent(l.MAP_COMPONENT_ID,l.MAP_COMPONENT_CONFIG),this.addComponent(t.components||{})}function t(e,t){var n=new Array(e.length);if(0===e.length)return t.apply(null,n);for(var a=this.injector,r=this.loader,o=this,s={},l=e.length,u=function(){0==--l&&t.apply(null,n)},d=function(e,t){return function(l){n[e]=l,t?(o.operators.setter.resolveDependencies(t,l),s=r.resolveDependentModules(t,{},t.propDeps.concat(t.setterDeps)),r.loadModuleMap(s,i.bind(a.injectDependencies,a,l,t,u))):u()}},c=e.length-1;c>-1;--c){var f=this.hasComponent(e[c])?this.getComponentConfig(e[c]):null;a.createInstance(f,d(c,f))}}var n=require("./Injector"),i=require("./util"),a=require("./operator/Ref"),r=require("./operator/Import"),o=require("./operator/Setter"),s=require("./operator/List"),l=require("./operator/Map"),u=require("./Loader"),d=window.require;return e.prototype.addComponent=function(e,t){if("string"==typeof e){var n={};n[e]=t,this.addComponent(n)}else for(var a in e)this.hasComponent(a)?i.warn(a+" has been add! This will be no effect"):this.components[a]=function(e,t){var n={id:e,args:t.args||[],properties:t.properties||{},anonyDeps:null,argDeps:null,propDeps:null,setterDeps:null,scope:t.scope||"transient",creator:t.creator||null,module:t.module||undefined,isFactory:!!t.isFactory,auto:!!t.auto,instance:null};return"function"==typeof n.creator&&this.loader.wrapCreator(n),n}.call(this,a,e[a])},e.prototype.getComponent=function(e,n){for(var a={},r=0,o=(e=e instanceof Array?e:[e]).length;r<o;++r){var s=e[r];if(this.hasComponent(s)){var l=this.getComponentConfig(s);this.processStaticConfig(s),a=this.loader.resolveDependentModules(l,a,l.argDeps)}else i.warn("`%s` has not been added to the Ioc",s)}return this.loader.loadModuleMap(a,i.bind(t,this,e,n)),this},e.prototype.hasComponent=function(e){return!!this.components[e]},e.prototype.getComponentConfig=function(e){return e?this.components[e]:this.components},e.prototype.processStaticConfig=function(e){var t=this.getComponentConfig(e);this.operators.list.process(t),this.operators.map.process(t),this.operators.opImport.process(t),this.operators.ref.process(t)},e.prototype.setLoaderFunction=function(e){this.loader.setLoaderFunction(e)},e.prototype.dispose=function(){this.injector.dispose(),this.components=null},e}),define("uioc",["uioc/main"],function(e){return e}),define("uioc/operator/Import",["require","../util"],function(require){function e(e){this.context=e}var t=require("../util");return e.prototype.process=function(e){return e.anonyDeps=e.anonyDeps||this.transformAnonymousComponents(e),e},e.prototype.has=function(e){return t.isObject(e)&&"string"==typeof e.$import},e.prototype.transformAnonymousComponents=function(e){for(var t=[],n=e.args,i=null,a=n.length-1;a>-1;--a)this.has(n[a])&&(i=this.createAnonymousConfig(e,n[a],"$arg."+a+"."),n[a]={$ref:i},t.push(i));var r=e.properties;for(var o in r)this.has(r[o])&&(i=this.createAnonymousConfig(e,r[o],"$prop."+o+"."),r[o]={$ref:i},t.push(i));return t},e.prototype.createAnonymousConfig=function(e,n,i){var a=n&&n.$import;if(!this.context.hasComponent(a))throw new Error("$import `%s` component, but it is not exist, please check!!",n.$import);var r=this.context.getComponentConfig(a),o=e.id+"-"+i+a;return n.id=o=(-1!==o.indexOf("^uioc-")?"":"^uioc-")+o,n.$import=null,this.context.addComponent(o,t.merge(r,n)),o},e}),define("uioc/operator/List",["require","../util"],function(require){function e(e){this.context=e}var t=require("../util");return e.prototype.process=function(t){for(var n=t.args,i=0,a=n.length;i<a;++i){var r=n[i];this.has(r)&&(n[i]={$import:e.LIST_COMPONENT_ID,args:r.$list})}var o=t.properties;for(var s in o){var l=o[s];this.has(l)&&(o[s]={$import:e.LIST_COMPONENT_ID,args:l.$list})}return t},e.prototype.has=function(e){return t.isObject(e)&&e.$list instanceof Array},e.LIST_COMPONENT_CONFIG={creator:function(){return[].slice.call(arguments,0)},isFactory:!0},e.LIST_COMPONENT_ID=(new Date).getTime()+"_list",e}),define("uioc/operator/Map",["require","../util"],function(require){function e(e){this.context=e}var t=require("../util");return e.prototype.process=function(t){for(var n=t.args,i=0,a=n.length;i<a;++i){var r=n[i];this.has(r)&&(n[i]={$import:e.MAP_COMPONENT_ID,properties:r.$map})}var o=t.properties;for(var s in o){var l=o[s];this.has(l)&&(o[s]={$import:e.MAP_COMPONENT_ID,properties:l.$map})}return t},e.prototype.has=function(e){return t.isObject(e)&&t.isObject(e.$map)},e.MAP_COMPONENT_CONFIG={creator:Object,isFactory:!0},e.MAP_COMPONENT_ID=(new Date).getTime()+"_map",e}),define("uioc/operator/Ref",["require","../util"],function(require){function e(e){this.context=e}var t=require("../util");return e.prototype.process=function(e){return e.argDeps=e.argDeps||this.getDependenciesFromArgs(e.args),e.propDeps=e.propDeps||this.getDependenciesFromProperties(e.properties),e},e.prototype.has=function(e){return t.isObject(e)&&"string"==typeof e.$ref},e.prototype.getDependenciesFromArgs=function(e){for(var n=[],i=e.length-1;i>-1;--i)this.has(e[i])&&t.addToSet(n,e[i].$ref);return n},e.prototype.getDependenciesFromProperties=function(e){var n=[];for(var i in e)if(t.hasOwn(e,i)){var a=e[i];this.has(a)&&t.addToSet(n,a.$ref)}return n},e}),define("uioc/operator/Setter",["require","../util"],function(require){function e(e){this.context=e}var t=require("../util"),n=/^set[A-Z]/,i="set".length;return e.prototype.resolveDependencies=function(e,n){if(e.setterDeps||!e.auto)return e;var i=e.properties||{},a=[],r=this.context,o=null;if("function"==typeof Object.getOwnPropertyNames&&"function"==typeof Object.getPrototypeOf)for(var s=Object.create(null),l=n;l;l=Object.getPrototypeOf(l))for(var u=Object.getOwnPropertyNames(l),d=0,c=u.length;d<c;++d)s[o=u[d]]||(s[o]=!0,(o=this.getPropertyFromSetter(n,o))&&!t.hasOwn(i,o)&&r.hasComponent(o)&&a.push(o));else for(var f in n)(o=this.getPropertyFromSetter(n,f))&&!t.hasOwn(i,o)&&r.hasComponent(o)&&a.push(o);return e.setterDeps=a,e},e.prototype.has=function(e){return t.isObject(e)&&"string"==typeof e.$setter},e.prototype.getPropertyFromSetter=function(e,t){var a=null;return"function"==typeof e[t]&&n.test(t)&&(a=t.charAt(i).toLowerCase()+t.slice(i+1)),a},e.prototype.setProperty=function(e,t,n,i){if(i)return e[i](n);var a="set"+t.charAt(0).toUpperCase()+t.slice(1);"function"==typeof e[a]?e[a](n):e[t]=n},e}),define("uioc/util",[],function(){function e(e,t){if("function"==typeof r&&e.indexOf===r)return e.indexOf(t);for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1}function t(t,n){return e(t,n)>-1}function n(){"undefined"!=typeof console&&Function.prototype.apply.call(console.warn,console,arguments)}function i(e){return null!==e&&e!==undefined&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){this.message=e,this.component=t}var r=Array.prototype.indexOf,o=Array.prototype.slice,s=Function.prototype.bind;return a.prototype=Error.prototype,a.prototype.print=function(){n(this.message)},{CircularError:a,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},contains:t,addToSet:function(e,n){!t(e,n)&&e.push(n)},merge:function(){for(var e={},t=0,n=arguments.length;t<n;++t){var i=arguments[t];for(var a in i)e[a]=i[a]}return e},isObject:i,bind:function(e){var t=o.call(arguments,1);return"function"==typeof e.bind&&e.bind===s?e.bind.apply(e,t):function(){var n=t.shift();t.push.apply(t,arguments),Function.prototype.apply.call(e,n,t)}},indexOf:e,hasReference:function(e){return i(e)&&"string"==typeof e.$ref},warn:n,keys:function(e){if("function"==typeof Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t}}}),define("babel-runtime/core-js/json/stringify",[],function(){var exports={__esModule:!0};return exports["default"]=function(e){return JSON.stringify(e)},exports}),define("babel-runtime/core-js/object/define-property",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e,t,n){e[t]=n},exports}),define("babel-runtime/core-js/object/get-own-property-descriptor",[],function(){var exports={__esModule:!0};return exports["default"]=function(e,t){return Object.getOwnPropertyDescriptor(e,t)},exports}),define("babel-runtime/core-js/object/keys",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e,t){return Object.keys(e)},exports}),define("babel-runtime/core-js/promise",["require","promise"],function(require){return{__esModule:!0,"default":require("promise")}}),define("babel-runtime/core-js/symbol",["require"],function(require){var exports={__esModule:!0},e=(new Date).getTime().toString(36),t=0;return exports["default"]=function(n){return n||e+"_"+(t++).toString(36)},exports}),define("babel-runtime/helpers/class-call-check",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},exports}),define("babel-runtime/helpers/classCallCheck",["require","./class-call-check"],function(require){return require("./class-call-check")}),define("babel-runtime/helpers/create-class",["require"],function(require){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n],a=i.decorators,r=i.key;if(delete i.key,delete i.decorators,a)for(var o=0;o<a.length;o++){var s=a[o];if("function"!=typeof s)throw new TypeError("The decorator for method "+r+" is of the invalid type "+typeof s);i=s(e,r,i)||i}"function"==typeof i.get?e[r]=i.get():"function"==typeof i.value&&(e[r]=i.value)}}var exports={__esModule:!0};return exports["default"]=function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t},exports}),define("babel-runtime/helpers/create-decorated-class",["require","./create-class"],function(require){return require("./create-class")}),define("babel-runtime/helpers/createClass",["require","./create-class"],function(require){return require("./create-class")}),define("babel-runtime/helpers/defaults",["require","lodash"],function(require){var e=require("lodash"),exports={__esModule:!0};return exports["default"]=function(t,n){return e.defaults(t,n)},exports}),define("babel-runtime/helpers/extends",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},exports}),define("babel-runtime/helpers/get",["require"],function(require){var exports={};return exports["default"]=function(e,t,n){return e[t]},exports}),define("babel-runtime/helpers/inherits",["require"],function(require){var exports={__esModule:!0},e=!{toString:1}.propertyIsEnumerable("toString");return exports["default"]=function(t,n){var i=function(){};i.prototype=n.prototype;var a=new i,r=t.prototype;t.prototype=a;for(var o in r)a[o]=r[o];return e&&(r.hasOwnProperty("toString")&&(a.toString=r.toString),r.hasOwnProperty("valueOf")&&(a.valueOf=r.valueOf)),t.prototype.constructor=t,"__proto__"in t.prototype||(t.prototype.__proto__=n.prototype),t},exports}),define("babel-runtime/helpers/interop-export-wildcard",[],function(){var exports={__esModule:!0};return exports["default"]=function(e,t){var n=t({},e);return delete n["default"],n},exports}),define("babel-runtime/helpers/interop-require-default",["require"],function(require){var exports={};return exports["default"]=function(e){return{"default":e}},exports}),define("babel-runtime/helpers/interop-require",["require"],function(require){var exports={};return exports["default"]=function(e){return e},exports}),define("babel-runtime/helpers/object-without-properties",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},exports}),define("babel-runtime/helpers/possibleConstructorReturn",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},exports}),define("babel-runtime/helpers/tagged-template-literal-loose",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e,t){return e.raw=t,e},exports}),define("babel-runtime/helpers/typeof",["require"],function(require){var exports={__esModule:!0};return exports["default"]=function(e){return typeof e},exports}),define("babel-runtime/regenerator",["require","./runtime"],function(require){return{__esModule:!0,"default":require("./runtime")}}),define("babel-runtime/runtime",["require","promise"],function(require){function e(e,i,a,r){var o=Object.create((i||n).prototype),s=new d(r||[]);return o._invoke=function(e,n,i){var a=y;return function(r,o){if(a===w)throw new Error("Generator is already running");if(a===C){if("throw"===r)throw o;return f()}for(;;){var s=i.delegate;if(s){if("return"===r||"throw"===r&&s.iterator[r]===undefined){i.delegate=null;var l=s.iterator["return"];if(l){var u=t(l,s.iterator,o);if("throw"===u.type){r="throw",o=u.arg;continue}}if("return"===r)continue}var u=t(s.iterator[r],s.iterator,o);if("throw"===u.type){i.delegate=null,r="throw",o=u.arg;continue}r="next",o=undefined;var d=u.arg;if(!d.done)return a=b,d;i[s.resultName]=d.value,i.next=s.nextLoc,i.delegate=null}if("next"===r)i.sent=a===b?o:undefined;else if("throw"===r){if(a===y)throw a=C,o;i.dispatchException(o)&&(r="next",o=undefined)}else"return"===r&&i.abrupt("return",o);a=w;var u=t(e,n,i);if("normal"===u.type){a=i.done?C:b;var d={value:u.arg,done:i.done};if(u.arg!==T)return d;i.delegate&&"next"===r&&(o=undefined)}else"throw"===u.type&&(a=C,r="throw",o=u.arg)}}}(e,a,s),o}function t(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}function n(){}function i(){}function a(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function o(e){this.arg=e}function s(e){function n(i,a,r,s){var l=t(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d instanceof o?p.resolve(d.arg).then(function(e){n("next",e,r,s)},function(e){n("throw",e,r,s)}):p.resolve(d).then(function(e){u.value=e,r(u)},s)}s(l.arg)}"object"==typeof process&&process.domain&&(n=process.domain.bind(n));var i;this._invoke=function(e,t){function a(){return new p(function(i,a){n(e,t,i,a)})}return i=i?i.then(a,a):a()}}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function c(e){if(e){var t=e[m];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function a(){for(;++n<e.length;)if(h.call(e,n))return a.value=e[n],a.done=!1,a;return a.value=undefined,a.done=!0,a};return i.next=i}}return{next:f}}function f(){return{value:undefined,done:!0}}var p=require("promise"),h=Object.prototype.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},m=v.iterator||"@@iterator",g=v.toStringTag||"@@toStringTag",x={};x.wrap=e;var y="suspendedStart",b="suspendedYield",w="executing",C="completed",T={},k=a.prototype=n.prototype;return i.prototype=k.constructor=a,a.constructor=i,a[g]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,g in e||(e[g]="GeneratorFunction")),e.prototype=Object.create(k),e},x.awrap=function(e){return new o(e)},r(s.prototype),x.async=function(t,n,i,a){var r=new s(e(t,n,i,a));return x.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},r(k),k[m]=function(){return this},k[g]="Generator",k.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},x.values=c,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=undefined,this.done=!1,this.delegate=null,this.tryEntries.forEach(u),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=undefined)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,i){return n.type="throw",n.arg=e,a.next=t,!!i}if(this.done)throw e;for(var n,i,a=this,r=this.tryEntries.length-1;r>=0;--r){if(i=this.tryEntries[r],n=i.completion,"root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=h.call(i,"catchLoc"),s=h.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&h.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?this.next=a.finallyLoc:this.complete(r),T},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),u(n),T}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;u(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:c(e),resultName:t,nextLoc:n},T}},x}),define("bce-sdk-js/auth",["exports","module","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","./vendor/helper","./vendor/util","./vendor/crypto","./headers","./strings","./date"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=n["default"](t),d=n["default"](i),c=n["default"](a),f=n["default"](r),p=n["default"](o),h=n["default"](s),v=n["default"](l),m=function(){function t(n,i){e["default"](this,t),this.ak=n,this.sk=i}return t.prototype.generateAuthorization=function(e,t,n,i,a,r,o){var s=v["default"].newDate(a),l=c["default"].format("bce-auth-v1/%s/%s/%d",this.ak,d["default"].toUTCString(s),r||1800),u=this.hash(l,this.sk),f=this.uriCanonicalization(t),p=this.queryStringCanonicalization(n||{}),h=this.headersCanonicalization(i||{},o),m=h[0],g=h[1],x=c["default"].format("%s\n%s\n%s\n%s",e,f,p,m),y=this.hash(x,u);return g.length?c["default"].format("%s/%s/%s",l,g.join(";"),y):c["default"].format("%s//%s",l,y)},t.prototype.uriCanonicalization=function(e){return e},t.prototype.queryStringCanonicalization=function(e){var t=[];return u["default"].each(u["default"].keys(e),function(n){if(n.toLowerCase()!==p["default"].AUTHORIZATION.toLowerCase()){var i=null==e[n]?"":e[n];t.push(n+"="+h["default"].normalize(i))}}),t.sort(),t.join("&")},t.prototype.headersCanonicalization=function(e,t){t&&t.length||(t=[p["default"].HOST,p["default"].CONTENT_MD5,p["default"].CONTENT_LENGTH,p["default"].CONTENT_TYPE]);var n={};u["default"].each(t,function(e){n[e.toLowerCase()]=!0});var i=[];u["default"].each(u["default"].keys(e),function(t){var a=e[t];null!=(a=u["default"].isString(a)?h["default"].trim(a):a)&&""!==a&&(t=t.toLowerCase(),(/^x\-bce\-/.test(t)||!0===n[t])&&i.push(c["default"].format("%s:%s",h["default"].normalize(t),h["default"].normalize(a))))}),i.sort();var a=[];return u["default"].each(i,function(e){a.push(e.split(":")[0])}),[i.join("\n"),a]},t.prototype.hash=function(e,t){var n=f["default"].createHmac("sha256",t);return n.update(e),n.digest("hex")},t}();module.exports=m}),define("bce-sdk-js/bcc_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./bce_base_client","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(e){t["default"](this,i),n.call(this,e,"bcc",!0),this.version="v2"}return e["default"](i,n),i.prototype.listZone=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return this.sendRequest("GET","/zone",e)},i}(i["default"](n)["default"]);module.exports=a}),define("bce-sdk-js/bcc/Disk",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","../bce_base_client","./helper"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=i["default"](a),l=i["default"](r),u=function(n){function i(e){t["default"](this,i),n.call(this,e,"bcc",!0),this.version="v2"}return e["default"](i,n),i.prototype.list=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params=o["default"].extend({maxKeys:1e3},o["default"].pick(e,"maxKeys","marker","instanceId","zoneName"))),this.sendRequest("GET","/volume",e)},i.prototype.get=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/volume/"+e,t)},i.prototype.attach=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={attach:""},n.body=JSON.stringify({instanceId:t}),this.sendRequest("PUT","/volume/"+e,n)},i.prototype.detach=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={detach:""},n.body=JSON.stringify({instanceId:t}),this.sendRequest("PUT","/volume/"+e,n)},i.prototype.release=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/volume/"+e,t)},i.prototype.resize=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={resize:"",clientToken:l["default"].getClientToken()},n.body=JSON.stringify(t),this.sendRequest("PUT","/volume/"+e,n)},i.prototype.rollback=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={rollback:""},n.body=JSON.stringify({snapshotId:t}),this.sendRequest("PUT","/volume/"+e,n)},i.prototype.renew=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={purchaseReserved:"",clientToken:l["default"].getClientToken()},n.body=JSON.stringify(t),this.sendRequest("PUT","/volume/"+e,n)},i.prototype.create=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={clientToken:l["default"].getClientToken()},t.body=JSON.stringify(e),this.sendRequest("POST","/volume",t)},i}(s["default"]);module.exports=u}),define("bce-sdk-js/bcc/helper",["exports","module"],function(exports,module){module.exports={getClientToken:function(){return Date.now().toString(16)+(Number.MAX_VALUE*Math.random()).toString(16).substr(0,8)}}}),define("bce-sdk-js/bcc/Image",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","../bce_base_client","./helper"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=i["default"](a),l=i["default"](r),u=function(n){function i(e){t["default"](this,i),n.call(this,e,"bcc",!0),this.version="v2"}return e["default"](i,n),i.prototype.list=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params=o["default"].extend({maxKeys:1e3,imageType:"All"},o["default"].pick(e,"maxKeys","marker","imageType"))),this.sendRequest("GET","/image",e)},i.prototype.get=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/image/"+e,t)},i.prototype.release=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/image/"+e,t)},i.prototype.create=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={clientToken:l["default"].getClientToken()},t.body=JSON.stringify(e),this.sendRequest("POST","/image",t)},i}(s["default"]);module.exports=u}),define("bce-sdk-js/bcc/Instance",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","../bce_base_client","./helper"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=i["default"](a),l=i["default"](r),u=function(n){function i(e){t["default"](this,i),n.call(this,e,"bcc",!0),this.version="v2"}return e["default"](i,n),i.prototype.list=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params=o["default"].extend({maxKeys:1e3},o["default"].pick(e,"maxKeys","marker","internalIp","dedicatedHostId","zoneName"))),this.sendRequest("GET","/instance",e)},i.prototype.listInstances=function(){return this.list.apply(this,arguments)},i.prototype.get=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/instance/"+e,t)},i.prototype.start=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={start:""},this.sendRequest("PUT","/instance/"+e,t)},i.prototype.stop=function(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={stop:""},n.body=JSON.stringify({forceStop:t}),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.reboot=function(e){var t=!(arguments.length<=1||arguments[1]===undefined)&&arguments[1],n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={reboot:""},n.body=JSON.stringify({forceStop:t}),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.changePass=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={changePass:""},n.body=JSON.stringify({adminPass:t}),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.modifyAttribute=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={modifyAttribute:""},n.body=JSON.stringify(t),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.rebuild=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={rebuild:""},n.body=JSON.stringify(t),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.release=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/instance/"+e,t)},i.prototype.resize=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={resize:"",clientToken:l["default"].getClientToken()},n.body=JSON.stringify(t),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.bindSecurityGroup=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={bind:""},n.body=JSON.stringify({securityGroupId:t}),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.unbindSecurityGroup=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={unbind:""},n.body=JSON.stringify({securityGroupId:t}),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.getVNCUrl=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/instance/${instanceId}/vnc",t)},i.prototype.renew=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={purchaseReserved:"",clientToken:l["default"].getClientToken()},n.body=JSON.stringify(t),this.sendRequest("PUT","/instance/"+e,n)},i.prototype.create=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={clientToken:l["default"].getClientToken()},t.body=JSON.stringify(e),this.sendRequest("POST","/instance",t)},i}(s["default"]);module.exports=u}),define("bce-sdk-js/bcc/SecurityGroup",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","../bce_base_client","./helper"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=i["default"](a),l=i["default"](r),u=function(n){function i(e){t["default"](this,i),n.call(this,e,"bcc",!0),this.version="v2"}return e["default"](i,n),i.prototype.list=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params=o["default"].extend({maxKeys:1e3},o["default"].pick(e,"maxKeys","marker","instanceId"))),this.sendRequest("GET","/securityGroup",e)},i.prototype.get=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/securityGroup/"+e,t)},i.prototype.release=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/securityGroup/"+e,t)},i.prototype.authorizeRule=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={authorizeRule:"",clientToken:l["default"].getClientToken()},n.body=JSON.stringify({rule:t}),this.sendRequest("PUT","/securityGroup/"+e,n)},i.prototype.revokeRule=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params={revokeRule:"",clientToken:l["default"].getClientToken()},n.body=JSON.stringify({rule:t}),this.sendRequest("PUT","/securityGroup/"+e,n)},i.prototype.create=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={clientToken:l["default"].getClientToken()},t.body=JSON.stringify(e),this.sendRequest("POST","/securityGroup",t)},i}(s["default"]);module.exports=u}),define("bce-sdk-js/bcc/Snapshot",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","../bce_base_client","./helper"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=i["default"](a),l=i["default"](r),u=function(n){function i(e){t["default"](this,i),n.call(this,e,"bcc",!0),this.version="v2"}return e["default"](i,n),i.prototype.list=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params=o["default"].extend({maxKeys:1e3},o["default"].pick(e,"maxKeys","marker","volumeId"))),this.sendRequest("GET","/snapshot",e)},i.prototype.get=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/snapshot/"+e,t)},i.prototype.release=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/snapshot/"+e,t)},i.prototype.create=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={clientToken:l["default"].getClientToken()},t.body=JSON.stringify(e),this.sendRequest("POST","/snapshot",t)},i}(s["default"]);module.exports=u}),define("bce-sdk-js/bce_base_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","promise","./vendor/events","./vendor/util","./headers","./config","./auth","./http_client"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d){var c=i["default"](n),f=i["default"](a),p=i["default"](o),h=i["default"](s),v=i["default"](l),m=i["default"](u),g=i["default"](d),x=function(n){function i(e,a,r){t["default"](this,i),n.call(this),this.config=c["default"].extend({},v["default"].DEFAULT_CONFIG,e),this.serviceId=a,this.regionSupported=!!r,this.config.endpoint=this._computeEndpoint(),this._httpAgent=null}return e["default"](i,n),i.prototype._computeEndpoint=function(){return this.config.endpoint?this.config.endpoint:this.regionSupported?p["default"].format("%s://%s.%s.%s",this.config.protocol,this.serviceId,this.config.region,v["default"].DEFAULT_SERVICE_DOMAIN):p["default"].format("%s://%s.%s",this.config.protocol,this.serviceId,v["default"].DEFAULT_SERVICE_DOMAIN)},i.prototype.createSignature=function(e,t,n,i,a){try{return f["default"].resolve(new m["default"](e.ak,e.sk).generateAuthorization(t,n,i,a))}catch(r){return f["default"].reject(r)}},i.prototype.sendRequest=function(e,t,n){var i=c["default"].extend({body:null,headers:{},params:{},config:{},outputStream:null},n),a=c["default"].extend({},this.config,i.config);return a.sessionToken&&(i.headers[h["default"].SESSION_TOKEN]=a.sessionToken),this.sendHTTPRequest(e,t,i,a)},i.prototype.sendHTTPRequest=function(e,t,n,i){var a=this,r=this._httpAgent=new g["default"](i),o=c["default"].bind(this.createSignature,this);return c["default"].each(["progress","error","abort"],function(e){return r.on(e,function(t){return a.emit(e,t)})}),this.internalHTTPRequest(this._httpAgent,e,t,n.body,n.headers,n.params,o,n.outputStream)},i.prototype.internalHTTPRequest=function(e,t,n,i,a,r,o,s){return e.sendRequest(t,n,i,a,r,o,s)},i.prototype.buildUrl=function(e){return this.version?"/"+this.version+e:e},i}(r.EventEmitter);module.exports=x}),define("bce-sdk-js/bos_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","./vendor/path","./vendor/util","./vendor/Buffer","./headers","./strings","./http_client","./bce_base_client","./mime.types"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d,c){var f=i["default"](n),p=i["default"](a),h=i["default"](r),v=i["default"](o),m=i["default"](s),g=i["default"](l),x=i["default"](u),y=i["default"](d),b=i["default"](c),w=function(n){function i(e){t["default"](this,i),n.call(this,e,"bos",!0),this._httpAgent=null}return e["default"](i,n),i.prototype.listBuckets=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return this.sendRequest("GET",e)},i.prototype.createBucket=function(e){var t=arguments.length<=1||arguments[1]===undefined?"bj":arguments[1],n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.bucketName=e,n.body=JSON.stringify({locationConstraint:t}),this.sendRequest("PUT",n)},i.prototype.deleteBucket=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.bucketName=e,this.sendRequest("DELETE",t)},i.prototype.listImageStyles=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.styles="",t.bucketName=e,this.sendRequest("GET",t)},i.prototype.getImageStyle=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.params.style=t,n.bucketName=e,this.sendRequest("GET",n)},i.prototype.setImageStyle=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.params.style=t.name,n.params.format="commands",n.bucketName=e,n.body=JSON.stringify(t),this.sendRequest("PUT",n)},i.prototype.removeImageStyle=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.params.style=t,n.bucketName=e,this.sendRequest("DELETE",n)},i.prototype.setBucketMirroring=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.params.mirroring="",n.bucketName=e,n.body=JSON.stringify({bucketMirroringConfiguration:t}),this.sendRequest("PUT",n)},i.prototype.getBucketMirroring=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.mirroring="",t.bucketName=e,this.sendRequest("GET",t)},i.prototype.removeBucketMirroring=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.mirroring="",t.bucketName=e,this.sendRequest("DELETE",t)},i.prototype.listBucketDomains=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.bucketName=e,t.params.domains="",this.sendRequest("GET",t)},i.prototype.addBucketDomain=function(e,t,n){var i=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];return i.params||(i.params={}),i.bucketName=e,i.params.domain=t,i.params.icp=n,this.sendRequest("PUT",i)},i.prototype.removeBucketDomain=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.bucketName=e,n.params.domain=t,this.sendRequest("DELETE",n)},i.prototype.getBucketAcl=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.bucketName=e,t.params.acl="",this.sendRequest("GET",t)},i.prototype.setBucketCannedAcl=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.headers||(n.headers={}),n.params||(n.params={}),n.headers[m["default"].X_BCE_ACL]=t,n.bucketName=e,n.params.acl="",this.sendRequest("PUT",n)},i.prototype.setBucketAcl=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.bucketName=e,n.body=JSON.stringify({accessControlList:t}),n.params.acl="",this.sendRequest("PUT",n)},i.prototype.removeBucketCors=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.cors="",t.bucketName=e,this.sendRequest("DELETE",t)},i.prototype.getBucketCors=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.cors="",t.bucketName=e,this.sendRequest("GET",t)},i.prototype.setBucketCors=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.params.cors="",n.bucketName=e,n.body=JSON.stringify({corsConfiguration:t}),this.sendRequest("PUT",n)},i.prototype.getBucketLogging=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.logging="",t.bucketName=e,this.sendRequest("GET",t)},i.prototype.setBucketLogging=function(e,t,n){var i=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];return i.params||(i.params={}),i.params.logging="",i.bucketName=e,i.body=JSON.stringify({targetBucket:t,targetPrefix:n}),this.sendRequest("PUT",i)},i.prototype.getBucketLifecycle=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.lifecycle="",t.bucketName=e,this.sendRequest("GET",t)},i.prototype.setBucketLifecycle=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.params||(n.params={}),n.params.lifecycle="",n.bucketName=e,n.body=JSON.stringify({rule:t}),this.sendRequest("PUT",n)},i.prototype.removeBucketLifecycle=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.lifecycle="",t.bucketName=e,this.sendRequest("DELETE",t)},i.prototype.removeBucketLogging=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params||(t.params={}),t.params.logging="",t.bucketName=e,this.sendRequest("DELETE",t)},i.prototype.listObjects=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.bucketName=e,t.params||(t.params=f["default"].extend({maxKeys:1e3},f["default"].pick(t,"maxKeys","prefix","marker","delimiter"))),this.sendRequest("GET",t)},i.prototype.deleteObject=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.bucketName=e,n.key=t,this.sendRequest("DELETE",n)},i.prototype.deleteMultipleObjects=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return t=f["default"].map(t,function(e){return{key:e}}),n.params||(n.params={}),n.params["delete"]="",n.body=JSON.stringify({objects:t}),n.bucketName=e,this.sendRequest("POST",n)},i.prototype.copyObject=function(e,t,n,i){var a=arguments.length<=4||arguments[4]===undefined?{}:arguments[4];a.headers||(a.headers={});var r=!1;return f["default"].some(a.headers,function(e,t){if(0===t.indexOf("x-bce-meta-"))return r=!0,!0}),a.headers["x-bce-copy-source"]=g["default"].normalize(h["default"].format("/%s/%s",e,t),!1),a.headers.hasOwnProperty("ETag")&&(a.headers["x-bce-copy-source-if-match"]=a.headers.ETag),a.headers["x-bce-metadata-directive"]=r?"replace":"copy",a.bucketName=n,a.key=i,this.sendRequest("PUT",a)},i.prototype.putObject=function(e,t,n,i){if(!t)throw new TypeError("key should not be empty.");return i=this._checkOptions(i||{}),this.sendRequest("PUT",{bucketName:e,key:t,body:n,headers:i.headers,config:i.config})},i.prototype.putObjectFromBlob=function(e,t,n,i){var a,r=(a={},a[m["default"].CONTENT_LENGTH]=n.size,a);return i=f["default"].extend(r,i),this.putObject(e,t,n,i)},i.prototype.getObjectMetadata=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];return n.bucketName=e,n.key=t,this.sendRequest("HEAD",n)},i.prototype.initiateMultipartUpload=function(e,t){var n,i=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],a=(n={},n[m["default"].CONTENT_TYPE]=i[m["default"].CONTENT_TYPE]||b["default"].guess(p["default"].extname(t)),n);return this.sendRequest("POST",{bucketName:e,key:t,params:{uploads:""},headers:a,config:i.config})},i.prototype.abortMultipartUpload=function(e,t,n){var i=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];return i.bucketName=e,i.key=t,i.params={uploadId:n},this.sendRequest("DELETE",i)},i.prototype.completeMultipartUpload=function(e,t,n,i){var a,r=arguments.length<=4||arguments[4]===undefined?{}:arguments[4],o=(a={},a[m["default"].CONTENT_TYPE]="application/json; charset=UTF-8",a);return r=this._checkOptions(f["default"].extend(o,r)),this.sendRequest("POST",{bucketName:e,key:t,body:JSON.stringify({parts:i}),headers:r.headers,params:{uploadId:n},config:r.config})},i.prototype.uploadPartFromBlob=function(e,t,n,i,a,r,o){var s;if(r.size!==a)throw new TypeError(h["default"].format("Invalid partSize %d and data length %d",a,r.size));var l=(s={},s[m["default"].CONTENT_LENGTH]=a,s[m["default"].CONTENT_TYPE]="application/octet-stream",s);return o=this._checkOptions(f["default"].extend(l,o)),this.sendRequest("PUT",{bucketName:e,key:t,body:r,headers:o.headers,params:{partNumber:i,uploadId:n},config:o.config})},i.prototype.listParts=function(e,t,n,i){if(!n)throw new TypeError("uploadId should not empty");return i.params||(i.params=f["default"].pick(i||{},["maxParts","partNumberMarker","uploadId"])),i.params.uploadId=n,i.bucketName=e,i.key=t,this.sendRequest("GET",i)},i.prototype.listMultipartUploads=function(e,t){return t.params||(t.params=f["default"].pick(t||{},["delimiter","maxUploads","keyMarker","prefix","uploads"])),t.params.uploads="",t.bucketName=e,this.sendRequest("GET",t)},i.prototype.appendObject=function(e,t,n,i,a){if(!t)throw new TypeError("key should not be empty.");a=this._checkOptions(a||{});var r={append:""};return f["default"].isNumber(i)&&(r.offset=i),this.sendRequest("POST",{bucketName:e,key:t,body:n,headers:a.headers,params:r,config:a.config})},i.prototype.appendObjectFromBlob=function(e,t,n,i,a){var r,o=(r={},r[m["default"].CONTENT_LENGTH]=n.size,r);return a=f["default"].extend(o,a),this.appendObject(e,t,n,i,a)},i.prototype.sendRequest=function(e,t){var n=f["default"].extend({bucketName:null,key:null,body:null,headers:{},params:{},config:{},outputStream:null},t),i=f["default"].extend({},this.config,n.config),a=p["default"].normalize(["/v1",g["default"].normalize(n.bucketName||""),g["default"].normalize(n.key||"",!1)].join("/"));return i.sessionToken&&(n.headers[m["default"].SESSION_TOKEN]=i.sessionToken),this.sendHTTPRequest(e,a,n,i)},i.prototype.sendHTTPRequest=function(e,t,n,i){var a=this,r=this._httpAgent=new x["default"](i),o={httpMethod:e,resource:t,args:n,config:i};f["default"].each(["progress","error","abort"],function(e){r.on(e,function(t){a.emit(e,t,o)})});var s=this.internalHTTPRequest(this._httpAgent,e,t,n.body,n.headers,n.params,f["default"].bind(this.createSignature,this),n.outputStream);return s.abort=function(){if(r._req&&r._req.xhr){r._req.xhr.abort()}},s},i.prototype._checkOptions=function(e,t){return{config:e.config||{},headers:this._prepareObjectHeaders(e),params:f["default"].pick(e,t||[])}},i.prototype._prepareObjectHeaders=function(e){var t={};f["default"].each([m["default"].CONTENT_LENGTH,m["default"].CONTENT_ENCODING,m["default"].CONTENT_MD5,m["default"].X_BCE_CONTENT_SHA256,m["default"].CONTENT_TYPE,m["default"].CONTENT_DISPOSITION,m["default"].ETAG,m["default"].SESSION_TOKEN,m["default"].CACHE_CONTROL,m["default"].EXPIRES,m["default"].X_BCE_OBJECT_ACL,m["default"].X_BCE_OBJECT_GRANT_READ],function(e){t[e]=!0});var n=0,i=f["default"].pick(e,function(e,i){return!!t[i]||(/^x\-bce\-meta\-/.test(i)?(n+=v["default"].byteLength(i)+v["default"].byteLength(""+e),!0):void 0)});if(n>2048)throw new TypeError("Metadata size should not be greater than 2048.");if(i.hasOwnProperty(m["default"].CONTENT_LENGTH)){var a=i[m["default"].CONTENT_LENGTH];if(a<0)throw new TypeError("content_length should not be negative.");if(a>5368709120)throw new TypeError("Object length should be less than 5368709120. Use multi-part upload instead.")}if(i.hasOwnProperty("ETag")){var r=i.ETag;/^"/.test(r)||(i.ETag=h["default"].format('"%s"',r))}return i.hasOwnProperty(m["default"].CONTENT_TYPE)||(i[m["default"].CONTENT_TYPE]="application/octet-stream"),i},i}(y["default"]);module.exports=w}),define("bce-sdk-js/cce_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./bce_base_client","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.quotaCluster=function(){return this.sendRequest("GET","/v1/cluster/quota")},i.prototype.listClusters=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.pageSize||(e.pageSize=20),e.manner="page",this.sendRequest("GET","/v1/cluster",{params:e})},i.prototype.detailCluster=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("GET","/v1/cluster/"+e,t)},i.prototype.releaseCluster=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/v1/cluster/"+e,t)},i.prototype.listNodes=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.pageSize||(e.pageSize=20),e.manner="page",this.sendRequest("GET","/v1/node",{params:e})},i.prototype.listImages=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.pageSize=20,e.manner="page",this.sendRequest("GET","/v1/image",{params:e})},i.prototype.deleteImage=function(e){return this.sendRequest("DELETE","/v1/image/meta",{params:e})},i.prototype.createImage=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.body=JSON.stringify(e),this.sendRequest("POST","/v1/image/meta",t)},i.prototype.createImageUser=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.body=JSON.stringify(e),this.sendRequest("POST","/v1/image/user",t)},i.prototype.getImageUser=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return this.sendRequest("GET","/v1/image/user",e)},i.prototype.updateImageUserPwd=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.body=JSON.stringify(e),this.sendRequest("PUT","/v1/image/user",t)},i.prototype.listNamespace=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.pageSize=20,e.manner="page",this.sendRequest("GET","/v1/image/namespace",{params:e})},i.prototype.createNamespace=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.body=JSON.stringify(e),this.sendRequest("POST","/v1/image/namespace",t)},i.prototype.listDockerImages=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.pageSize=20,e.manner="page",this.sendRequest("GET","/v1/image/docker",{params:e})},i}(i["default"](n)["default"]);module.exports=a}),define("bce-sdk-js/cdn_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./bce_base_client","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.listDomains=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params={pageNo:1,pageSize:20}),this.sendRequest("GET","/domain",e)},i.prototype.deleteDomain=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return this.sendRequest("DELETE","/domain/"+e,t)},i.prototype.refreshHistory=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return this.sendRequest("GET","/cache/purge",e)},i}(i["default"](n)["default"]);module.exports=a}),define("bce-sdk-js/config",["exports","module"],function(exports,module){module.exports={DEFAULT_SERVICE_DOMAIN:"baidubce.com",DEFAULT_CONFIG:{protocol:"http",region:"bj"}}}),define("bce-sdk-js/date",["exports","module"],function(exports,module){module.exports={delta:0,setDelta:function(e){this.delta=1e3*e},now:function(){return(new Date).getTime()+this.delta},newDate:function(e){var t=e?1e3*e:this.now();return new Date(t)}}}),define("bce-sdk-js/headers",["exports","module"],function(exports,module){module.exports={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",CONTENT_MD5:"Content-MD5",CONTENT_ENCODING:"Content-Encoding",CONTENT_DISPOSITION:"Content-Disposition",ETAG:"ETag",CONNECTION:"Connection",HOST:"Host",USER_AGENT:"User-Agent",CACHE_CONTROL:"Cache-Control",EXPIRES:"Expires",AUTHORIZATION:"Authorization",X_BCE_DATE:"x-bce-date",X_BCE_ACL:"x-bce-acl",X_BCE_REQUEST_ID:"x-bce-request-id",X_BCE_CONTENT_SHA256:"x-bce-content-sha256",X_BCE_OBJECT_ACL:"x-bce-object-acl",X_BCE_OBJECT_GRANT_READ:"x-bce-object-grant-read",X_HTTP_HEADERS:"http_headers",X_BODY:"body",X_STATUS_CODE:"status_code",X_MESSAGE:"message",X_CODE:"code",X_REQUEST_ID:"request_id",SESSION_TOKEN:"x-bce-security-token",X_VOD_MEDIA_TITLE:"x-vod-media-title",X_VOD_MEDIA_DESCRIPTION:"x-vod-media-description",ACCEPT_ENCODING:"accept-encoding",ACCEPT:"accept"}}),define("bce-sdk-js/http_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","promise","./vendor/events","./vendor/Buffer","./vendor/helper","./vendor/querystring","./headers","./date"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d){var c=i["default"](n),f=i["default"](a),p=i["default"](o),h=i["default"](s),v=i["default"](l),m=i["default"](u),g=i["default"](d),x=function(n){function i(e){t["default"](this,i),n.call(this),this.config=e,this._req=null}return e["default"](i,n),i.prototype.sendRequest=function(e,t,n,i,a,r,o){var s,l=this,u=this._getRequestUrl(t,a),d=(s={},s[m["default"].X_BCE_DATE]=h["default"].toUTCString(g["default"].newDate()),s[m["default"].CONTENT_TYPE]="application/json; charset=UTF-8",s[m["default"].HOST]=/^\w+:\/\/([^\/]+)/.exec(this.config.endpoint)[1],s);i&&i["content-type"]&&(i[m["default"].CONTENT_TYPE]=i["content-type"],delete i["content-type"]);var p=c["default"].extend(d,i);if(!p.hasOwnProperty(m["default"].CONTENT_LENGTH)){var v=this._guessContentLength(n);0===v&&/GET|HEAD/i.test(e)||(p[m["default"].CONTENT_LENGTH]=v)}var x=r||c["default"].noop;try{return f["default"].resolve(x(this.config.credentials,e,t,a,p)).then(function(t,i){return t&&(p[m["default"].AUTHORIZATION]=t),i&&(p[m["default"].X_BCE_DATE]=i),l._doRequest(e,u,c["default"].omit(p,m["default"].CONTENT_LENGTH,m["default"].HOST),n,o)})}catch(y){return f["default"].reject(y)}},i.prototype.parseJSON=function(e){try{return JSON.parse(e)}catch(t){return null}},i.prototype._doRequest=function(e,t,n,i,a){var r=this;return new f["default"](function(a,o){var s=new XMLHttpRequest;try{s.open(e,t,!0);for(var l in n)if(n.hasOwnProperty(l)){var u=n[l];s.setRequestHeader(l,u)}}catch(d){return o(d)}s.onerror=o,s.onabort=function(){return o(new Error("xhr aborted"))},s.onreadystatechange=function(){if(4===s.readyState){var e=s.status;1223===e&&(e=204);var n=s.getResponseHeader("Content-Type"),i=/application\/json/.test(n)?r.parseJSON(s.responseText):s.responseText;i||(i={location:t});if(e>=200&&e<300||304===e){var l=r._fixHeaders(s.getAllResponseHeaders());a({http_headers:l,body:i})}else o({status_code:e,message:i.message||"<message>",code:i.code||"<code>",request_id:i.requestId||"<request_id>"})}},s.upload&&c["default"].each(["progress","error","abort"],function(e){s.upload.addEventListener(e,function(t){"function"==typeof r.emit&&r.emit(e,t)},!1)}),s.send(i),r._req={xhr:s}})},i.prototype._guessContentLength=function(e){if(null==e||""===e)return 0;if(c["default"].isString(e))return p["default"].byteLength(e);if("undefined"!=typeof Blob&&e instanceof Blob)return e.size;if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return e.byteLength;throw new Error("No Content-Length is specified.")},i.prototype._fixHeaders=function(e){var t={};return e&&c["default"].each(e.split(/\r?\n/),function(e){var n=e.indexOf(":");if(-1!==n){var i=e.substring(0,n).toLowerCase(),a=e.substring(n+1).replace(/^\s+|\s+$/,"");"etag"===i&&(a=a.replace(/"/g,"")),t[i]=a}}),t},i.prototype.buildQueryString=function(e){return v["default"].stringify(e).replace(/[()'!~.*\-_]/g,function(e){return"%"+e.charCodeAt().toString(16)})},i.prototype._getRequestUrl=function(e,t){var n=e,i=this.buildQueryString(t);return i&&(n+="?"+i),this.config.endpoint+n},i}(r.EventEmitter);module.exports=x}),define("bce-sdk-js/mime.types",["exports","module"],function(exports,module){var e={};module.exports={guess:function(t){return t&&t.length?("."===t[0]&&(t=t.substr(1)),e[t.toLowerCase()]||"application/octet-stream"):"application/octet-stream"}}}),define("bce-sdk-js/resource_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./bce_base_client","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.listServices=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.body=JSON.stringify(e),this.sendRequest("POST","/services",t)},i}(i["default"](n)["default"]);module.exports=a}),define("bce-sdk-js/risk_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./bce_base_client","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.getUserStatus=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={userId:e},this.sendRequest("GET","/userstatus",t)},i.prototype.unban=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return t.params={userId:e},this.sendRequest("PUT","/unban",t)},i}(i["default"](n)["default"]);module.exports=a}),define("bce-sdk-js/strings",["exports","module"],function(exports,module){var e={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"};module.exports={normalize:function(t,n){var i=encodeURIComponent(t);return i=i.replace(/[!'\(\)\*]/g,function(t){return e[t]}),!1===n&&(i=i.replace(/%2F/gi,"/")),i},trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")}}}),define("bce-sdk-js/vendor/Buffer",["exports","module","babel-runtime/helpers/class-call-check"],function(exports,module,e){var t=function(){function t(){e["default"](this,t)}return t.byteLength=function(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)},t}();module.exports=t}),define("bce-sdk-js/vendor/crypto-js/core",["exports","babel-runtime/helpers/class-call-check","babel-runtime/helpers/inherits"],function(exports,e,t){exports.__esModule=!0;var n=function(){function t(n,i){n===undefined&&(n=[]),e["default"](this,t),this.words=n,i!=undefined?this.sigBytes=i:this.sigBytes=4*n.length}return t.prototype.toString=function(e){return(e||i).stringify(this)},t.prototype.concat=function(e){var t=this.words,n=e.words,i=this.sigBytes,a=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<a;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else for(r=0;r<a;r+=4)t[i+r>>>2]=n[r>>>2];return this.sigBytes+=a,this},t.prototype.clamp=function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)},t.prototype.clone=function(){return new t(this.words.slice(0))},t.prototype.random=function(e){for(var n=[],i=function(e){var t=987654321;return function(){var n=((t=36969*(65535&t)+(t>>16)&4294967295)<<16)+(e=18e3*(65535&e)+(e>>16)&4294967295)&4294967295;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}},a=0,r=undefined;a<e;a+=4){var o=i(4294967296*(r||Math.random()));r=987654071*o(),n.push(4294967296*o()|0)}return new t(n,e)},t}();exports.WordArray=n;var i={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],a=0;a<n;a++){var r=t[a>>>2]>>>24-a%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],a=0;a<t;a+=2)i[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new n(i,t/2)}};exports.Hex=i;var a={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],a=0;a<n;a++){var r=t[a>>>2]>>>24-a%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,i=[],a=0;a<t;a++)i[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new n(i,t)}};exports.Latin1=a;var r={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}};exports.Utf8=r;var o=function(){function t(){e["default"](this,t),this._minBufferSize=0,this._nDataBytes=0,this._data=null}return t.prototype.reset=function(){this._data=new n,this._nDataBytes=0},t.prototype._append=function(e){"string"==typeof e&&(e=r.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},t.prototype._process=function(e){var t=this._data,i=t.words,a=t.sigBytes,r=this.blockSize,o=a/(4*r),s=(o=e?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0))*r,l=Math.min(4*s,a),u=undefined;if(s){for(var d=0;d<s;d+=r)this._doProcessBlock(i,d);u=i.splice(0,s),t.sigBytes-=l}return new n(u,l)},t.prototype.clone=function(){var e=new t;return e._data=this._data.clone(),e},t}();exports.BufferedBlockAlgorithm=o;var s=function(n){function i(t){e["default"](this,i),n.call(this),this.blockSize=16,this.cfg=t,this.reset()}return t["default"](i,n),i.prototype.reset=function(){n.prototype.reset.call(this),this._doReset()},i.prototype._doReset=function(){},i.prototype.update=function(e){return this._append(e),this._process(),this},i.prototype.finalize=function(e){e&&this._append(e);return this._doFinalize()},i._createHelper=function(e){return function(t,n){return new e(n).finalize(t)}},i._createHmacHelper=function(e){return function(t,n){return new l(e,n).finalize(t)}},i}(o);exports.Hasher=s;var l=function(){function t(n,i){e["default"](this,t);var a=this._hasher=new n;"string"==typeof i&&(i=r.parse(i));var o=a.blockSize,s=4*o;i.sigBytes>s&&(i=a.finalize(i)),i.clamp();for(var l=this._oKey=i.clone(),u=this._iKey=i.clone(),d=l.words,c=u.words,f=0;f<o;f++)d[f]^=1549556828,c[f]^=909522486;l.sigBytes=u.sigBytes=s,this.reset()}return t.prototype.reset=function(){var e=this._hasher;e.reset(),e.update(this._iKey)},t.prototype.update=function(e){return this._hasher.update(e),this},t.prototype.finalize=function(e){var t=this._hasher,n=t.finalize(e);t.reset();return t.finalize(this._oKey.clone().concat(n))},t}();exports.HMAC=l}),define("bce-sdk-js/vendor/crypto-js/sha256",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./core"],function(exports,e,t,n){exports.__esModule=!0;var i=[],a=[],r=[];!function(){function e(e){for(var t=Math.sqrt(e),n=2;n<=t;n++)if(!(e%n))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var n=2,r=0;r<64;)e(n)&&(r<8&&(i[r]=t(Math.pow(n,.5))),a[r]=t(Math.pow(n,1/3)),r++),n++}();var o=function(o){function s(){t["default"](this,s),o.apply(this,arguments)}return e["default"](s,o),s.prototype._doReset=function(){this._hash=new n.WordArray(i.slice(0))},s.prototype._doProcessBlock=function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],l=n[3],u=n[4],d=n[5],c=n[6],f=n[7],p=0;p<64;p++){if(p<16)r[p]=0|e[t+p];else{var h=r[p-15],v=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=r[p-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;r[p]=v+r[p-7]+g+r[p-16]}var x=i&o^i&s^o&s,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&d^~u&c)+a[p]+r[p];f=c,c=d,d=u,u=l+b|0,l=s,s=o,o=i,i=b+(y+x)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+u|0,n[5]=n[5]+d|0,n[6]=n[6]+c|0,n[7]=n[7]+f|0},s.prototype._doFinalize=function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},s.prototype.clone=function(){var e=o.prototype.clone.call(this);return e._hash=this._hash.clone(),e},s}(n.Hasher),s=n.Hasher._createHelper(o);exports.SHA256=s;var l=n.Hasher._createHmacHelper(o);exports.HmacSHA256=l}),define("bce-sdk-js/vendor/crypto",["exports","module","./crypto-js/core","./crypto-js/sha256"],function(exports,module,e,t){module.exports={createHmac:function(n,i){if("sha256"===n){return{_result:null,update:function(n){this._result=t.HmacSHA256(n,i).toString(e.Hex)},digest:function(){return this._result}}}}}}),define("bce-sdk-js/vendor/events",["exports","babel-runtime/helpers/class-call-check"],function(exports,e){exports.__esModule=!0;var t=function(){function t(){e["default"](this,t),this.__events={}}return t.prototype.emit=function(e){var t=this.__events[e];if(!t)return!1;for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];for(var r=0;r<t.length;r++){var o=t[r];try{o.apply(this,i)}catch(s){}}return!0},t.prototype.on=function(e,t){this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},t}();exports.EventEmitter=t}),define("bce-sdk-js/vendor/helper",["exports","module"],function(exports,module){function e(e){return e<10?"0"+e:e}function t(t){return t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}module.exports={toISOString:t,toUTCString:function(e){return t(e).replace(/\.\d+Z$/,"Z")}}}),define("bce-sdk-js/vendor/path",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function n(e){var t="/"===e.charAt(0),n="/"===r(e,-1);return(e=function(e,t){for(var n=0,i=e.length-1;i>=0;i--){var a=e[i];"."===a?e.splice(i,1):".."===a?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(i["default"].filter(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}var i=t["default"](e),a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};module.exports={extname:function(e){return function(e){return a.exec(e).slice(1)}(e)[3]},join:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(i["default"].filter(t,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},normalize:n}}),define("bce-sdk-js/vendor/querystring",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){function n(e){return"string"==typeof e?e:"number"==typeof e&&isFinite(e)?""+e:"boolean"==typeof e?e?"true":"false":""}var i=t["default"](e);module.exports={stringify:function(e){var t=arguments.length<=1||arguments[1]===undefined?"&":arguments[1],a=arguments.length<=2||arguments[2]===undefined?"=":arguments[2],r=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],o=encodeURIComponent;if(r&&"function"==typeof r.encodeURIComponent&&(o=r.encodeURIComponent),null!==e&&"object"==typeof e){for(var s=i["default"].keys(e),l=s.length,u=l-1,d="",c=0;c<l;++c){var f=s[c],p=e[f],h=o(n(f))+a;if(i["default"].isArray(p)){for(var v=p.length,m=v-1,g=0;g<v;++g)d+=h+o(n(p[g])),g<m&&(d+=t);v&&c<u&&(d+=t)}else d+=h+o(n(p)),c<u&&(d+=t)}return d}return""}}}),define("bce-sdk-js/vendor/stream",["exports","babel-runtime/helpers/class-call-check"],function(exports,e){exports.__esModule=!0;exports.Writable=function t(){e["default"](this,t)};exports.Readable=function n(){e["default"](this,n)}}),define("bce-sdk-js/vendor/util",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={inherits:function(e,t){var i=e.prototype,a=new Function;a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e,n["default"].extend(e.prototype,i)},format:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],a=t.length;if(1===a)return i;for(var r="",o=1,s=0,l=0;l<i.length;){if(37===i.charCodeAt(l)&&l+1<i.length)switch(i.charCodeAt(l+1)){case 100:if(o>=a)break;s<l&&(r+=i.slice(s,l)),r+=Number(t[o++]),s=l+=2;continue;case 115:if(o>=a)break;s<l&&(r+=i.slice(s,l)),r+=String(t[o++]),s=l+=2;continue;case 37:s<l&&(r+=i.slice(s,l)),r+="%",s=l+=2;continue}++l}return 0===s?r=i:s<i.length&&(r+=i.slice(s)),r}}}),define("bce-sdk-js/viz_client",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./bce_base_client","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.listDatasources=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return e.params||(e.params={orderBy:"createTime",order:"desc",pageNo:1,pageSize:20}),this.sendRequest("GET","/v2/datasources",e)},i}(i["default"](n)["default"]);module.exports=a}),define("clipboard/Clipboard",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","mini-event/EventTarget","./ClipboardAction"],function(exports,module,e,t,n,i,a,r){function o(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=i["default"](n),l=i["default"](a),u=i["default"](r),d=function(n){function i(e,a){t["default"](this,i),n.call(this),this.resolveOptions(a),this.listenClick(e)}return e["default"](i,n),i.prototype.resolveOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},i.prototype.listenClick=function(e){var t=this;s["default"](e).on("click",function(e){return t.onClick(e)})},i.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.fire("beforecopy"),this.clipboardAction=new u["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},i.prototype.defaultAction=function(e){return o("action",e)},i.prototype.defaultTarget=function(e){var t=o("target",e);if(t)return document.querySelector(t)},i.prototype.defaultText=function(e){return o("text",e)},i.prototype.destroy=function(){this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},i}(l["default"]);module.exports=d}),define("clipboard/ClipboardAction",["exports","module","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","./select","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=i["default"](n),r=function(){function n(e){t["default"](this,n),this.resolveOptions(e),this.initSelection()}return n.prototype.resolveOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},n.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},n.prototype.selectFake=function(){var e=this,t="rtl"===document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=a["default"](this.fakeElem),this.copyText()},n.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},n.prototype.selectTarget=function(){this.selectedText=a["default"](this.target),this.copyText()},n.prototype.copyText=function(){var e=undefined;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},n.prototype.handleResult=function(e){this.emitter.fire(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},n.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},n.prototype.destroy=function(){this.removeFake()},e["default"](n,[{key:"action",set:function(){var e=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(e!==undefined){if(!e||"object"!=typeof e||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),n}();module.exports=r}),define("clipboard/select",["exports","module"],function(exports,module){module.exports=function(e){var t=undefined;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}}),define("zeroclipboard/ZeroClipboard",["require"],function(require){"use strict";var e,t=window,n=t.document,i=t.navigator,a=t.setTimeout,r=t.Number.parseInt||t.parseInt,o=t.Number.parseFloat||t.parseFloat,s=t.Number.isNaN||t.isNaN,l=t.encodeURIComponent,u=t.Math,d=t.Date,c=t.ActiveXObject,f=t.Array.prototype.slice,p=t.Object.keys,h=t.Object.prototype.hasOwnProperty,v=function(){if("function"==typeof t.Object.defineProperty&&function(){try{var e={};return t.Object.defineProperty(e,"y",{value:"z"}),"z"===e.y}catch(n){return!1}}())return t.Object.defineProperty}(),m=function(e){return f.call(e,0)},g=function(e,t,n){if("function"==typeof t.indexOf)return t.indexOf(e,n);var i,a=t.length;for(void 0===n?n=0:n<0&&(n=a+n),i=n;i<a;i++)if(h.call(t,i)&&t[i]===e)return i;return-1},x=function(){var e,t,n,i,a,r=m(arguments),o=r[0]||{};for(e=1,t=r.length;e<t;e++)if(null!=(n=r[e]))for(i in n)if(h.call(n,i)){if(o[i],a=n[i],o===a)continue;a!==undefined&&(o[i]=a)}return o},y=function(e){var t,n,i,a;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,i=e.length;n<i;n++)h.call(e,n)&&(t[n]=y(e[n]));else{t={};for(a in e)h.call(e,a)&&(t[a]=y(e[a]))}return t},b=function(e){if(null==e)return[];if(p)return p(e);var t=[];for(var n in e)h.call(e,n)&&t.push(n);return t},w=function(e){return function(){return e.now?e.now():(new e).getTime()}}(d),C={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},T={},k={},_=null,S={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},I={swfPath:function(){var e,t,i,a,r="ZeroClipboard.swf";if(!n.currentScript||!(a=n.currentScript.src)){var o=n.getElementsByTagName("script");if("readyState"in o[0])for(e=o.length;e--&&("interactive"!==o[e].readyState||!(a=o[e].src)););else if("loading"===n.readyState)a=o[o.length-1].src;else{for(e=o.length;e--;){if(!(i=o[e].src)){t=null;break}if(i=i.split("#")[0].split("?")[0],i=i.slice(0,i.lastIndexOf("/")+1),null==t)t=i;else if(t!==i){t=null;break}}null!==t&&(a=t)}}return a&&(r=(a=a.split("#")[0].split("?")[0]).slice(0,a.lastIndexOf("/")+1)+r),r}(),trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},D=function(){return{browser:function(e,t){for(var n={},i=0,a=t.length;i<a;i++)t[i]in e&&(n[t[i]]=e[t[i]]);return n}(i,["userAgent","platform","appName"]),flash:function(e,t){var n={};for(var i in e)-1===g(i,t)&&(n[i]=e[i]);return n}(C,["bridge"]),zeroclipboard:{version:ie.version,config:ie.config()}}},E=function(e){void 0===e?(!function(e){if(e)for(var t in e)h.call(e,t)&&delete e[t]}(k),_=null):"string"==typeof e&&h.call(k,e)&&delete k[e]},P=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},A=function(t){var n;if("string"==typeof t&&t?(n=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(n=t.type),n){x(t,{type:n.toLowerCase(),target:t.target||e||null,relatedTarget:t.relatedTarget||null,currentTarget:C&&C.bridge||null,timeStamp:t.timeStamp||w()||null});var i=S[t.type];return"error"===t.type&&t.name&&i&&(i=i[t.name]),i&&(t.message=i),"ready"===t.type&&x(t,{target:null,version:C.version}),"error"===t.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(t.name)&&x(t,{target:null,minimumVersion:"11.0.0"}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(t.name)&&x(t,{version:C.version})),"copy"===t.type&&(t.clipboardData={setData:ie.setData,clearData:ie.clearData}),"aftercopy"===t.type&&(t=V(t,_)),t.target&&!t.relatedTarget&&(t.relatedTarget=M(t.target)),t=O(t)}},M=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?n.getElementById(t):null},O=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var i=e.target,a="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:undefined,r="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:undefined,o=J(i),s=t.screenLeft||t.screenX||0,l=t.screenTop||t.screenY||0,u=n.body.scrollLeft+n.documentElement.scrollLeft,d=n.body.scrollTop+n.documentElement.scrollTop,c=o.left+("number"==typeof e._stageX?e._stageX:0),f=o.top+("number"==typeof e._stageY?e._stageY:0),p=c-u,h=f-d,v=s+p,m=l+h,g="number"==typeof e.movementX?e.movementX:0,y="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,x(e,{srcElement:i,fromElement:a,toElement:r,screenX:v,screenY:m,pageX:c,pageY:f,clientX:p,clientY:h,x:p,y:h,movementX:g,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},N=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},L=function(e,t,n,i){i?a(function(){e.apply(t,n)},0):e.apply(t,n)},R=function(e){if("object"==typeof e&&e&&e.type){var n=N(e),i=T["*"]||[],a=T[e.type]||[],r=i.concat(a);if(r&&r.length){var o,s,l,u,d;for(o=0,s=r.length;o<s;o++)u=this,"string"==typeof(l=r[o])&&"function"==typeof t[l]&&(l=t[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(d=x({},e),L(l,u,[d],n))}return this}},B=function(t){var n=t.target||e||null,i="swf"===t._source;switch(delete t._source,t.type){case"error":g(t.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"])&&x(C,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1});break;case"ready":var a=!0===C.deactivated;x(C,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:a,ready:!a});break;case"copy":var r,o,s=t.relatedTarget;!k["text/html"]&&!k["text/plain"]&&s&&(o=s.value||s.outerHTML||s.innerHTML)&&(r=s.value||s.textContent||s.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",r),o!==r&&t.clipboardData.setData("text/html",o)):!k["text/plain"]&&t.target&&(r=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",r));break;case"aftercopy":ie.clearData(),n&&n!==G()&&n.focus&&n.focus();break;case"_mouseover":ie.activate(n),!0===I.bubbleEvents&&i&&($(x({},t,{type:"mouseover"})),$(x({},t,{type:"mouseenter",bubbles:!1})));break;case"_mouseout":ie.deactivate(),!0===I.bubbleEvents&&i&&($(x({},t,{type:"mouseout"})),$(x({},t,{type:"mouseleave",bubbles:!1})));break;case"_mousedown":Z(n,I.activeClass),!0===I.bubbleEvents&&i&&$(x({},t,{type:t.type.slice(1)}));break;case"_mouseup":X(n,I.activeClass),!0===I.bubbleEvents&&i&&$(x({},t,{type:t.type.slice(1)}));break;case"_click":case"_mousemove":!0===I.bubbleEvents&&i&&$(x({},t,{type:t.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type))return!0},$=function(e){if(e&&"string"==typeof e.type&&e){var i,a=e.target||e.srcElement||null,r=a&&a.ownerDocument||n,o={view:r.defaultView||t,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:r.createEvent?0:1},s=x(o,e);a&&(r.createEvent&&a.dispatchEvent?(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],(i=r.createEvent("MouseEvents")).initMouseEvent&&(i.initMouseEvent.apply(i,s),a.dispatchEvent(i))):r.createEventObject&&a.fireEvent&&(i=r.createEventObject(s),a.fireEvent("on"+s.type,i)))}},q=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},F=function(){var e,i=C.bridge,a=q(i);if(!i){var r=Y(t.location.host,I),o="never"===r?"none":"all",s=U(I),l=I.swfPath+z(I.swfPath,I);a=function(){var e=n.createElement("div");return e.id=I.containerId,e.className=I.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+ne(I.zIndex),e}();var u=n.createElement("div");a.appendChild(u),n.body.appendChild(a);var d=n.createElement("div"),c="activex"===C.pluginType;d.innerHTML='<object id="'+I.swfObjectId+'" name="'+I.swfObjectId+'" width="100%" height="100%" '+(c?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(c?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+o+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/></object>',i=d.firstChild,d=null,i.ZeroClipboard=ie,a.replaceChild(i,u)}return i||((i=n[I.swfObjectId])&&(e=i.length)&&(i=i[e-1]),!i&&a&&(i=a.firstChild)),C.bridge=i||null,i},j=function(){var e=C.bridge;if(e){var t=q(e);t&&("activex"===C.pluginType&&"readyState"in e?(e.style.display="none",function n(){if(4===e.readyState){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t)}else a(n,10)}()):(e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t))),C.ready=null,C.bridge=null,C.deactivated=null}},H=function(e){var t={},n={};if("object"==typeof e&&e){for(var i in e)if(i&&h.call(e,i)&&"string"==typeof e[i]&&e[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[i],n.rtf=i}return{data:t,formatMap:n}}},V=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var i in e)if(h.call(e,i)){if("success"!==i&&"data"!==i){n[i]=e[i];continue}n[i]={};var a=e[i];for(var r in a)r&&h.call(a,r)&&h.call(t,r)&&(n[i][t[r]]=a[r])}return n},z=function(e,t){return null==t||t&&!0===t.cacheBust?(-1===e.indexOf("?")?"?":"&")+"noCache="+w():""},U=function(e){var n,i,a,r,o="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?r=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(r=e.trustedDomains)),r&&r.length)for(n=0,i=r.length;n<i;n++)if(h.call(r,n)&&r[n]&&"string"==typeof r[n]){if(!(a=W(r[n])))continue;if("*"===a){s=[a];break}s.push.apply(s,[a,"//"+a,t.location.protocol+"//"+a])}return s.length&&(o+="trustedOrigins="+l(s.join(","))),!0===e.forceEnhancedClipboard&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+l(e.swfObjectId)),o},W=function(e){if(null==e||""===e)return null;if(""===(e=e.replace(/^\s+|\s+$/g,"")))return null;var t=e.indexOf("//"),n=(e=-1===t?e:e.slice(t+2)).indexOf("/");return(e=-1===n?e:-1===t||0===n?null:e.slice(0,n))&&".swf"===e.slice(-4).toLowerCase()?null:e||null},Y=function(){var e=function(e,t){var n,i,a;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"number"==typeof e.length))for(n=0,i=e.length;n<i;n++)if(h.call(e,n)&&(a=W(e[n]))){if("*"===a){t.length=0,t.push("*");break}-1===g(a,t)&&t.push(a)}};return function(t,n){var i=W(n.swfPath);null===i&&(i=t);var a=[];e(n.trustedOrigins,a),e(n.trustedDomains,a);var r=a.length;if(r>0){if(1===r&&"*"===a[0])return"always";if(-1!==g(t,a))return 1===r&&t===i?"sameDomain":"always"}return"never"}}(),G=function(){try{return n.activeElement}catch(e){return null}},Z=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",a=e.className,r=0,o=n.length;r<o;r++)i.indexOf(" "+n[r]+" ")<0&&(a+=" "+n[r]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},X=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var n=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var i=(" "+e.className+" ").replace(/[\n\t]/g," "),a=0,r=n.length;a<r;a++)i=i.replace(" "+n[a]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}}return e},Q=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),K=function(e,n){var i,a;return t.getComputedStyle?i=t.getComputedStyle(e,null).getPropertyValue(n):(a=Q(n),i=e.currentStyle?e.currentStyle[a]:e.style[a]),"cursor"!==n||i&&"auto"!==i||"a"!==e.tagName.toLowerCase()?i:"pointer"},J=function(e){var i={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var a,r,o,s=e.getBoundingClientRect();"pageXOffset"in t&&"pageYOffset"in t?(a=t.pageXOffset,r=t.pageYOffset):(o=function(){var e,t,i,a=1;return"function"==typeof n.body.getBoundingClientRect&&(t=(e=n.body.getBoundingClientRect()).right-e.left,i=n.body.offsetWidth,a=u.round(t/i*100)/100),a}(),a=u.round(n.documentElement.scrollLeft/o),r=u.round(n.documentElement.scrollTop/o));var l=n.documentElement.clientLeft||0,d=n.documentElement.clientTop||0;i.left=s.left+a-l,i.top=s.top+r-d,i.width="width"in s?s.width:s.right-s.left,i.height="height"in s?s.height:s.bottom-s.top}return i},ee=function(){var t;if(e&&(t=q(C.bridge))){var n=J(e);x(t.style,{width:n.width+"px",height:n.height+"px",top:n.top+"px",left:n.left+"px",zIndex:""+ne(I.zIndex)})}},te=function(e){!0===C.ready&&(C.bridge&&"function"==typeof C.bridge.setHandCursor?C.bridge.setHandCursor(e):C.ready=!1)},ne=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||s(e)?"string"==typeof e&&(t=ne(r(e,10))):t=e,"number"==typeof t?t:"auto"};!function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){e&&(s=!0,e.version&&(d=t(e.version)),!d&&e.description&&(d=t(e.description)),e.filename&&(u=function(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}(e.filename)))}var a,r,s=!1,l=!1,u=!1,d="";if(i.plugins&&i.plugins.length)n(i.plugins["Shockwave Flash"]),i.plugins["Shockwave Flash 2.0"]&&(s=!0,d="2.0.0.11");else if(i.mimeTypes&&i.mimeTypes.length)n((r=i.mimeTypes["application/x-shockwave-flash"])&&r.enabledPlugin);else if(void 0!==e){l=!0;try{a=new e("ShockwaveFlash.ShockwaveFlash.7"),s=!0,d=t(a.GetVariable("$version"))}catch(c){try{a=new e("ShockwaveFlash.ShockwaveFlash.6"),s=!0,d="6.0.21"}catch(f){try{a=new e("ShockwaveFlash.ShockwaveFlash"),s=!0,d=t(a.GetVariable("$version"))}catch(p){l=!1}}}}C.disabled=!0!==s,C.outdated=d&&o(d)<o("11.0.0"),C.version=d||"0.0.0",C.pluginType=u?"pepper":l?"activex":s?"netscape":"unknown"}(c);var ie=function(){if(!(this instanceof ie))return new ie;"function"==typeof ie._createClient&&ie._createClient.apply(this,m(arguments))};ie.version="2.0.0",function(e,t){t in e&&"function"==typeof v&&v(e,t,{value:e[t],writable:!1,configurable:!0,enumerable:!0})}(ie,"version"),ie.config=function(){return function(e){if("object"==typeof e&&null!==e)for(var t in e)if(h.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))I[t]=e[t];else if(null==C.bridge)if("containerId"===t||"swfObjectId"===t){if(!P(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");I[t]=e[t]}else I[t]=e[t];{if("string"!=typeof e||!e)return y(I);if(h.call(I,e))return I[e]}}.apply(this,m(arguments))},ie.state=function(){return D.apply(this,m(arguments))},ie.isFlashUnusable=function(){return function(){return!!(C.disabled||C.outdated||C.unavailable||C.deactivated)}.apply(this,m(arguments))},ie.on=function(){return function(e,t){var n,i,a,r={};if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)h.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&ie.on(n,e[n]);if(a&&a.length){for(n=0,i=a.length;n<i;n++)r[e=a[n].replace(/^on/,"")]=!0,T[e]||(T[e]=[]),T[e].push(t);if(r.ready&&C.ready&&ie.emit({type:"ready"}),r.error){var o=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=o.length;n<i;n++)if(!0===C[o[n]]){ie.emit({type:"error",name:"flash-"+o[n]});break}}}return ie}.apply(this,m(arguments))},ie.off=function(){return function(e,t){var n,i,a,r,o;if(0===arguments.length)r=b(T);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)h.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&ie.off(n,e[n]);if(r&&r.length)for(n=0,i=r.length;n<i;n++)if(e=r[n].toLowerCase().replace(/^on/,""),(o=T[e])&&o.length)if(t)for(a=g(t,o);-1!==a;)o.splice(a,1),a=g(t,o,a);else o.length=0;return ie}.apply(this,m(arguments))},ie.handlers=function(){return function(e){return"string"==typeof e&&e?y(T[e])||null:y(T)}.apply(this,m(arguments))},ie.emit=function(){return function(e){var t,n,i;if((e=A(e))&&!B(e))return"ready"===e.type&&!0===C.overdue?ie.emit({type:"error",name:"flash-overdue"}):(t=x({},e),R.call(this,t),"copy"===e.type&&(n=(i=H(k)).data,_=i.formatMap),n)}.apply(this,m(arguments))},ie.create=function(){return function(){if("boolean"!=typeof C.ready&&(C.ready=!1),!ie.isFlashUnusable()&&null===C.bridge){var e=I.flashLoadTimeout;"number"==typeof e&&e>=0&&a(function(){"boolean"!=typeof C.deactivated&&(C.deactivated=!0),!0===C.deactivated&&ie.emit({type:"error",name:"flash-deactivated"})},e),C.overdue=!1,F()}}.apply(this,m(arguments))},ie.destroy=function(){return function(){ie.clearData(),ie.deactivate(),ie.emit("destroy"),j(),ie.off()}.apply(this,m(arguments))},ie.setData=function(){return function(e,t){var n;if("object"==typeof e&&e&&void 0===t)n=e,ie.clearData();else{if("string"!=typeof e||!e)return;(n={})[e]=t}for(var i in n)"string"==typeof i&&i&&h.call(n,i)&&"string"==typeof n[i]&&n[i]&&(k[i]=n[i])}.apply(this,m(arguments))},ie.clearData=function(){return E.apply(this,m(arguments))},ie.activate=function(){return function(t){if(t&&1===t.nodeType){e&&(X(e,I.activeClass),e!==t&&X(e,I.hoverClass)),e=t,Z(t,I.hoverClass);var n=t.getAttribute("title")||I.title;if("string"==typeof n&&n){var i=q(C.bridge);i&&i.setAttribute("title",n)}var a=!0===I.forceHandCursor||"pointer"===K(t,"cursor");te(a),ee()}}.apply(this,m(arguments))},ie.deactivate=function(){return function(){var t=q(C.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.top="1px"),e&&(X(e,I.hoverClass),X(e,I.activeClass),e=null)}.apply(this,m(arguments))};var ae=0,re={},oe=0,se={},le={};x(I,{autoActivate:!0});var ue=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=re[this.id]&&re[this.id].elements,n=!!t&&t.length>0,i=!e.target||n&&-1!==g(e.target,t),a=e.relatedTarget&&n&&-1!==g(e.relatedTarget,t),r=e.client&&e.client===this;return!!(i||a||r)},de=function(e){if("object"==typeof e&&e&&e.type){var n=N(e),i=re[this.id]&&re[this.id].handlers["*"]||[],a=re[this.id]&&re[this.id].handlers[e.type]||[],r=i.concat(a);if(r&&r.length){var o,s,l,u,d;for(o=0,s=r.length;o<s;o++)u=this,"string"==typeof(l=r[o])&&"function"==typeof t[l]&&(l=t[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(d=x({},e),L(l,u,[d],n))}return this}},ce=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},fe=function(e){if(e&&1===e.nodeType){var n=function(n){(n||t.event)&&ie.activate(e)};!function(e,t,n){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))}(e,"mouseover",n),le[e.zcClippingId]={mouseover:n}}},pe=function(e){if(e&&1===e.nodeType){var t=le[e.zcClippingId];"object"==typeof t&&t&&("function"==typeof t.mouseover&&function(e,t,n){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))}(e,"mouseover",t.mouseover),delete le[e.zcClippingId])}};return ie._createClient=function(){(function(e){var t=this;t.id=""+ae++,re[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),ie.on("*",function(e){return t.emit(e)}),ie.on("destroy",function(){t.destroy()}),ie.create()}).apply(this,m(arguments))},ie.prototype.on=function(){return function(e,t){var n,i,a,r={},o=re[this.id]&&re[this.id].handlers;if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)h.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(a&&a.length){for(n=0,i=a.length;n<i;n++)r[e=a[n].replace(/^on/,"")]=!0,o[e]||(o[e]=[]),o[e].push(t);if(r.ready&&C.ready&&this.emit({type:"ready",client:this}),r.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=s.length;n<i;n++)if(C[s[n]]){this.emit({type:"error",name:"flash-"+s[n],client:this});break}}}return this}.apply(this,m(arguments))},ie.prototype.off=function(){return function(e,t){var n,i,a,r,o,s=re[this.id]&&re[this.id].handlers;if(0===arguments.length)r=b(s);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)h.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(r&&r.length)for(n=0,i=r.length;n<i;n++)if(e=r[n].toLowerCase().replace(/^on/,""),(o=s[e])&&o.length)if(t)for(a=g(t,o);-1!==a;)o.splice(a,1),a=g(t,o,a);else o.length=0;return this}.apply(this,m(arguments))},ie.prototype.handlers=function(){return function(e){var t=null,n=re[this.id]&&re[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:y(n)),t}.apply(this,m(arguments))},ie.prototype.emit=function(){return function(e){if(ue.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=x({},e));var t=x({},A(e),{client:this});de.call(this,t)}return this}.apply(this,m(arguments))},ie.prototype.clip=function(){return function(e){e=ce(e);for(var t=0;t<e.length;t++)if(h.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===g(this.id,se[e[t].zcClippingId])&&se[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+oe++,se[e[t].zcClippingId]=[this.id],!0===I.autoActivate&&fe(e[t]));var n=re[this.id]&&re[this.id].elements;-1===g(e[t],n)&&n.push(e[t])}return this}.apply(this,m(arguments))},ie.prototype.unclip=function(){return function(e){var t=re[this.id];if(!t)return this;for(var n,i=t.elements,a=(e=void 0===e?i.slice(0):ce(e)).length;a--;)if(h.call(e,a)&&e[a]&&1===e[a].nodeType){for(n=0;-1!==(n=g(e[a],i,n));)i.splice(n,1);var r=se[e[a].zcClippingId];if(r){for(n=0;-1!==(n=g(this.id,r,n));)r.splice(n,1);0===r.length&&(!0===I.autoActivate&&pe(e[a]),delete e[a].zcClippingId)}}return this}.apply(this,m(arguments))},ie.prototype.elements=function(){return function(){var e=re[this.id];return e&&e.elements?e.elements.slice(0):[]}.apply(this,m(arguments))},ie.prototype.destroy=function(){return function(){this.unclip(),this.off(),delete re[this.id]}.apply(this,m(arguments))},ie.prototype.setText=function(e){return ie.setData("text/plain",e),this},ie.prototype.setHtml=function(e){return ie.setData("text/html",e),this},ie.prototype.setRichText=function(e){return ie.setData("application/rtf",e),this},ie.prototype.setData=function(){return ie.setData.apply(this,m(arguments)),this},ie.prototype.clearData=function(){return ie.clearData.apply(this,m(arguments)),this},ie}),define("zeroclipboard",["zeroclipboard/ZeroClipboard"],function(e){return e}),define("er/Action",["require","./util","./Deferred","./events","./locator","eoo","mini-event/EventTarget"],function(require){function e(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];n.success||e.push(n)}return this.handleError(e)}var t=require("./util"),exports={};exports.constructor=function(){this.disposed=!1,this.initialize()},exports.initialize=t.noop,exports.context=null,exports.modelType=null,exports.viewType=null,exports.enter=function(n){this.context=n||{},this.fire("enter");var i=t.mix({},n&&n.args);if(this.model?this.model.fill(i):this.model=this.createModel(i),this.fire("beforemodelload"),this.model&&"function"==typeof this.model.load){return this.model.load().then(t.bind(this.forwardToView,this),t.bind(e,this))}return this.forwardToView(),require("./Deferred").resolved(this)},exports.handleError=function(e){throw e},exports.createModel=function(e){if(this.modelType){return new this.modelType(e)}return{}},exports.forwardToView=function(){if(this.disposed)return this;if(this.fire("modelloaded"),this.view||(this.view=this.createView()),this.view)this.view.model=this.model,this.view.container||(this.view.container=this.context.container),this.fire("beforerender"),this.view.render(),this.fire("rendered"),this.initBehavior(),this.fire("entercomplete");else{require("./events").notifyError("No view attached to this action")}return this},exports.createView=function(){return this.viewType?new this.viewType:null},exports.initBehavior=t.noop,exports.filterRedirect=t.noop,exports.leave=function(){if(this.disposed)return this;this.disposed=!0,this.fire("beforeleave"),this.model&&("function"==typeof this.model.dispose&&this.model.dispose(),this.model=null),this.view&&("function"==typeof this.view.dispose&&this.view.dispose(),this.view=null),this.fire("leave"),this.destroyEvents()},exports.redirect=function(e,t){require("./locator").redirect(e,t)},exports.reload=function(){require("./locator").reload()},exports.back=function(e){var t=this.context&&this.context.referrer||e;t&&this.redirect(t)};return require("eoo").create(require("mini-event/EventTarget"),exports)}),define("er/ajax",["require","./assert","./util","./Deferred","eoo","mini-event/EventTarget"],function(require){function e(e,t){for(var n=e?encodeURIComponent(e):"",i=[],a=0;a<t.length;a++){var r=t[a];i[a]=this.serializeData("",r)}return n?n+"="+i.join(","):i.join(",")}function t(e,t){1===arguments.length&&(t=e,e=""),null==t&&(t="");var n=this.serializeData.getKey,i=e?encodeURIComponent(e):"";switch(Object.prototype.toString.call(t)){case"[object Array]":return this.serializeArray(e,t);case"[object Object]":var a=[];for(var r in t){var o=n(r,e),s=this.serializeData(o,t[r]);a.push(s)}return a.join("&");default:return i?i+"="+encodeURIComponent(t):encodeURIComponent(t)}}t.getKey=function(e,t){return t?t+"."+e:e};var exports={};exports.constructor=function(){this.hooks={serializeData:t,serializeArray:e},this.config={cache:!1,timeout:0,charset:""}},exports.request=function(e){"function"==typeof this.hooks.beforeExecute&&this.hooks.beforeExecute(e);require("./assert").hasProperty(e,"url","url property is required");var t={method:"POST",data:{},startTime:(new Date).getTime(),cache:this.config.cache,timeout:this.config.timeout,charset:this.config.charset},n=require("./util");e=n.mix(t,e);var i=new(require("./Deferred"));if("function"==typeof this.hooks.beforeCreate){if(!0===this.hooks.beforeCreate(e,i)){return(r=i.promise).abort=function(){},r.setRequestHeader=function(){},r}}var a=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");n.mix(a,e.xhrFields);var r=i.promise,o={abort:function(){a.onreadystatechange=null;try{a.abort()}catch(e){}r.status||(r.status=0),r.readyState=a.readyState,r.responseText="",r.responseXML="",i.reject(r)},setRequestHeader:function(e,t){a.setRequestHeader(e,t)},getAllResponseHeaders:function(){return a.getAllResponseHeaders()},getResponseHeader:function(e){return a.getResponseHeader(e)},getRequestOption:function(t){return t?e[t]:e}};n.mix(r,o);var s={xhr:r,options:e};r.then(n.bind(this.fire,this,"done",s),n.bind(this.fire,this,"fail",s));a.onreadystatechange=n.bind(function(){if(4===a.readyState){var t=r.status||a.status;if(1223===t&&(t=204),r.status=r.status||t,r.readyState=a.readyState,r.responseText=a.responseText,r.responseXML=a.responseXML,"function"==typeof this.hooks.afterReceive&&this.hooks.afterReceive(r,e),t<200||t>=300&&304!==t)return void i.reject(r);var o=a.responseText;if("json"===e.dataType)try{o=n.parseJSON(o)}catch(s){return r.error=s,void i.reject(r)}if("function"==typeof this.hooks.afterParse)try{o=this.hooks.afterParse(o,r,e)}catch(s){return r.error=s,void i.reject(r)}i.resolve(o)}},this);var l=e.method.toUpperCase(),u={};"GET"===l&&n.mix(u,e.data),!1===e.cache&&(u._=+new Date);var d=this.hooks.serializeData("",u,"application/x-www-form-urlencoded"),c=e.url;if(d){c+=(c.indexOf("?")>=0?"&":"?")+d}if(a.open(l,c,!0),"function"==typeof this.hooks.beforeSend&&this.hooks.beforeSend(r,e),"GET"===l)a.send();else{var f=e.contentType||"application/x-www-form-urlencoded";d=this.hooks.serializeData("",e.data,f,r);e.charset&&(f+=";charset="+e.charset),a.setRequestHeader("Content-Type",f),a.send(d)}if(e.timeout>0){var p=setTimeout(n.bind(function(){this.fire("timeout",{xhr:r,options:e}),r.status=408,r.abort()},this),e.timeout);r.ensure(function(){clearTimeout(p)})}return r},exports.get=function(e,t,n){var i={method:"GET",url:e,data:t,cache:n||this.config.cache};return this.request(i)},exports.getJSON=function(e,t,n){var i={method:"GET",url:e,data:t,dataType:"json",cache:n||this.config.cache};return this.request(i)},exports.post=function(e,t,n){var i={method:"POST",url:e,data:t,dataType:n||"json"};return this.request(i)},exports.log=function(e,t){var n=new Image,i=window.ER_LOG_POOL||(window.ER_LOG_POOL={}),a=+new Date;i[a]=n,n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,i[a]=null,n=null};var r=this.hooks.serializeData("",t,"application/x-www-form-urlencoded");if(r){e+=(e.indexOf("?")>=0?":":"?")+r}n.src=e};var n=require("eoo").create(require("mini-event/EventTarget"),exports),i=new n;return i.Ajax=n,i}),define("er/assert",[],function(){if(window.DEBUG){return(e=function(e,t){if(!e)throw new Error(t)}).has=function(t,n){e(null!=t,n)},e.equals=function(t,n,i){e(t===n,i)},e.hasProperty=function(t,n,i){e(null!=t[n],i)},e.lessThan=function(t,n,i){e(t<n,i)},e.greaterThan=function(t,n,i){e(t>n,i)},e.lessThanOrEquals=function(t,n,i){e(t<=n,i)},e.greaterThanOrEquals=function(t,n,i){e(t>=n,i)},e}var e;return(e=function(){}).has=e,e.equals=e,e.hasProperty=e,e.lessThan=e,e.greaterThan=e,e.lessThanOrEquals=e,e.greaterThanOrEquals=e,e}),define("er/config",[],{mainElement:"main",indexURL:"/",systemName:"",noAuthorityLocation:"/401",notFoundLocation:"/404"}),define("er/controller",["require","./Deferred","./URL","./config","./util","./assert","mini-event/EventTarget","eoo","./locator","./router","./events","./permission"],function(require){function e(e,t,n){var i=e.childActionMapping[t.id];i&&(e.childActionMapping[t.id]=undefined,i.hijack&&(t.removeEventListener?t.removeEventListener("click",i.hijack,!1):t.detachEvent("onclick",i.hijack)),i.action&&(n||(n={url:null,referrer:i.url,container:t.id,isChildAction:!0}),e.getEventBus().fire("leaveaction",{controller:e,action:i.action,to:n}),"function"==typeof i.action.leave&&i.action.leave()))}var t=require("./Deferred"),n=require("./URL"),i=require("./config"),a=require("./util"),r=require("./assert"),exports={};exports.constructor=function(){this.actionPathMapping={},this.childActionMapping={},this.currentURL=null,this.currentAction=null,this.globalActionLoader=null,this.childActionLoaders={}},exports.registerAction=function(e){e.hasOwnProperty("length")||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];r.hasProperty(n,"path",'action config should contains a "path" property'),this.actionPathMapping[n.path]=n}},exports.getDefaultTitle=function(){return this.defaultTitle},exports.setDefaultTitle=function(e){this.defaultTitle=e},exports.getRouter=function(){return this.router},exports.setRouter=function(e){this.router=e},exports.getLocator=function(){return this.locator},exports.setLocator=function(e){this.locator=e},exports.getEventBus=function(){return this.eventBus},exports.setEventBus=function(e){this.eventBus=e},exports.getPermissionProvider=function(){return this.permissionProvider},exports.setPermissionProvider=function(e){this.permissionProvider=e},exports.getMainContainer=function(){return this.mainContainer||i.mainElement},exports.setMainContainer=function(e){this.mainContainer=e},exports.getNoAuthorityLocation=function(){return this.noAuthorityLocation||i.noAuthorityLocation},exports.setNoAuthorityLocation=function(e){this.noAuthorityLocation=e},exports.getNotFoundLocation=function(){return this.notFoundLocation||i.notFoundLocation},exports.setNotFoundLocation=function(e){this.notFoundLocation=e},exports.start=function(){this.getDefaultTitle()||this.setDefaultTitle(i.systemName||document.title),this.getRouter().setBackup(a.bind(this.renderAction,this))},exports.findActionConfig=function(e){var t=e.url.getPath();return this.actionPathMapping[t]},exports.resolveActionConfig=function(e,t){return e},exports.checkAuthority=function(e,t){var n=e.authority;if(!n)return!0;var i=this.getPermissionProvider();if("function"==typeof n)return n(t,e,i);"string"==typeof n&&(n=n.split("|"));for(var r=0;r<n.length;r++)if(i.isAllow(a.trim(n[r])))return!0;return!1},exports.findEligibleActionConfig=function(e){var t=this.findActionConfig(e);if(t&&t.movedTo)return this.getEventBus().fire("actionmoved",{controller:this,url:e.url,config:t,movedTo:t.movedTo}),e.originalURL=e.url,e.url=n.parse(t.movedTo),this.findEligibleActionConfig(e);if(t&&t.childActionOnly&&!e.isChildAction&&(t=null),!t)return this.getEventBus().fire("actionnotfound",a.mix({controller:this,failType:"NotFound",reason:"Not found"},e)),e.originalURL=e.url,e.url=n.parse(this.getNotFoundLocation()),this.actionPathMapping[e.url.getPath()]?this.findEligibleActionConfig(e):null;if(!this.checkAuthority(t,e)){this.getEventBus().fire("permissiondenied",a.mix({controller:this,failType:"PermissionDenied",reason:"Permission denied",config:t},e));var i=t.noAuthorityLocation||this.getNoAuthorityLocation();return e.originalURL=e.url,e.url=n.parse(i),this.findEligibleActionConfig(e)}return t},exports.loadAction=function(e){var n=this.findEligibleActionConfig(e);if(!(n=this.resolveActionConfig(n,e))){var i=new t;return i.syncModeEnabled=!1,i.reject("no action configured for url "+e.url.getPath()),i.promise}if(n.title&&(e.title=n.title,e.args.title=n.title),n.documentTitle&&(e.documentTitle=n.documentTitle,e.args.documentTitle=n.documentTitle),n.args)for(var r in n.args)n.args.hasOwnProperty(r)&&(e.args.hasOwnProperty(r)||(e.args[r]=n.args[r]),e.hasOwnProperty(r)||(e[r]=n.args[r]));var o=new t;o.syncModeEnabled=!1;var s=o.promise,l=!1;s.abort=a.bind(function(){l||(l=!0,this.getEventBus().fire("actionabort",a.mix({controller:this},e)))},this),e.isChildAction||(this.currentURL=e.url);var u=function(i){if(!l){if(!i){var r="No action implement for "+n.type,s=a.mix({controller:this,failType:"NoModule",config:n,reason:r},e);return this.getEventBus().fire("actionfail",s),this.getEventBus().notifyError(s),void o.reject(r)}if(this.getEventBus().fire("actionloaded",{controller:this,url:e.url,config:n,action:i}),"function"==typeof i)o.resolve(new i,e);else if("function"==typeof i.createRuntimeAction){var u=function(t){if(t)o.resolve(t,e);else{var i="Action factory returns non-action",r=a.mix({controller:this,failType:"InvalidFactory",config:n,reason:i,action:t},e);this.getEventBus().fire("actionfail",r),this.getEventBus().notifyError(r),o.reject(i)}};u=a.bind(u,this);var d=i.createRuntimeAction(e);t.when(d).then(u)}else o.resolve(i,e)}};return u=a.bind(u,this),"string"==typeof n.type?window.require([n.type],u):u(n.type),s},exports.enterAction=function(e,t){if(!t.isChildAction){if(t.url!==this.currentURL)return;this.currentAction&&(this.getEventBus().fire("leaveaction",{controller:this,action:this.currentAction,to:a.mix({},t)}),"function"==typeof this.currentAction.leave&&this.currentAction.leave()),this.currentAction=e,document.title=t.title||t.documentTitle||this.getDefaultTitle()}this.getEventBus().fire("enteraction",a.mix({controller:this,action:e},t));var n=function(){this.getEventBus().fire("enteractioncomplete",a.mix({controller:this,action:e},t))};n=a.bind(n,this);var i=function(e){var n="";if(e)if(e.message)n=e.message,e.stack&&(n+="\n"+e.stack);else if(window.JSON&&"function"==typeof JSON.stringify)try{n=JSON.stringify(e)}catch(r){n=e}else n=e;else n="Invoke action.enter() causes error";var i=a.mix({failType:"EnterFail",reason:n},t);this.getEventBus().fire("enteractionfail",i),this.getEventBus().notifyError(i)};i=a.bind(i,this);var r=e.enter(t);return r.then(n,i),r},exports.forward=function(e,n,i,o){var s={url:e,container:n,isChildAction:!!o};if(o){var l=this.childActionMapping[n];s.referrer=l?l.url:null}else s.referrer=this.currentURL;a.mix(s,i),s.args=a.mix({},s),a.mix(s.args,e.getQuery());var u=this.getEventBus().fire("forwardaction",a.mix({controller:this},s));if(u&&!0===u.isDefaultPrevented())return t.rejected();var d=this.loadAction(s);return r.has(d,"loadAction should always return a Promise"),d},exports.renderAction=function(e){if("string"==typeof e&&(e=n.parse(e)),this.globalActionLoader&&"function"==typeof this.globalActionLoader.abort&&this.globalActionLoader.abort(),this.currentAction&&"function"==typeof this.currentAction.filterRedirect&&!1===this.currentAction.filterRedirect(e))return t.rejected("Redirect aborted by previous action");this.globalActionLoader=this.forward(e,this.getMainContainer(),null,!1);var i=this.getEventBus();return this.globalActionLoader.then(a.bind(this.enterAction,this)).fail(a.bind(i.notifyError,i))},exports.enterChildAction=function(t,n){function i(t,i,a){if(i=i||{},t=o.resolveURL(t,i),i.global){var r=document.getElementById(n.container),l=o.redirect(t,i);return l&&r&&e(s,r),l}var u=s.childActionMapping[n.container],d=t.toString()!==u.url.toString()||i.force;return d&&(i.silent?u.url=t:s.renderChildAction(t,u.container,a)),d}this.childActionLoaders[n.container]=null;var r=document.getElementById(n.container);if(r){var o=this.getLocator(),s=this;return t.redirect=i,t.reload=function(e){this.redirect(n.url,{force:!0},e)},t.back=function(e,t){var n=this.context&&this.context.referrer||e;this.redirect(n,null,t)},function(t,n,i,a,r){e(t,n,r),n.addEventListener?n.addEventListener("click",a,!1):n.attachEvent("onclick",a);var o={url:r.url,container:n.id,action:i,hijack:a};t.childActionMapping[n.id]=o,i instanceof require("mini-event/EventTarget")&&i.on("leave",function(){e(t,n)})}(this,r,t,function(e){var t=(e=e||window.event).target||e.srcElement;if("a"===t.nodeName.toLowerCase()){var r=t.getAttribute("href",2)||"";if("#"===r.charAt(0)&&!function(e){if(e.isChildActionRedirected)return!0;for(var t=e.target||e.srcElement;t&&(!t.id||!s.childActionMapping[t.id]);)t=t.parentNode;return t.id!==n.container&&(e.isChildActionRedirected=!0,!0)}(e)){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var o=r.substring(1),l=(t.getAttribute("data-redirect")||"").split(/[,\s]/),u={},d=0;d<l.length;d++)u[a.trim(l[d])]=!0;i(o,u)}}},n),this.enterAction(t,n)}},exports.renderChildAction=function(e,i,o){r.has(i),"string"==typeof e&&(e=n.parse(e));var s=this.childActionLoaders[i];s&&"function"==typeof s.abort&&s.abort();var l=this.childActionMapping[i],u=l&&l.action;if(u&&"function"==typeof u.filterRedirect&&!1===u.filterRedirect(e))return t.rejected("Redirect aborted by previous action");var d=this.forward(e,i,o,!0),c=this.getEventBus(),f=d.then(a.bind(this.enterChildAction,this)).fail(a.bind(c.notifyError,c));return f.abort=d.abort,this.childActionLoaders[i]=f,f};var o=require("eoo").create(require("mini-event/EventTarget"),exports),s=new o;return s.setLocator(require("./locator")),s.setRouter(require("./router")),s.setEventBus(require("./events")),s.setPermissionProvider(require("./permission")),s.Controller=o,s}),define("er/datasource",["require","./util","./ajax","./permission"],function(require){var e={};return e.constant=function(e){return function(){return e}},e.remote=function(e,t){return function(n){"function"==typeof(t=require("./util").mix({url:e,dataType:"json"},t)).data&&(t.data=t.data(n));return require("./ajax").request(t)}},e.permission=function(e){return function(){return require("./permission").isAllow(e)}},e.defaultValue=function(e,t){return function(n,i){if(!i.name&&!t)throw new Error("No property name specified to determine whether value exists in this model");var a=t||i.name;return n.hasValue(a)?n.get(a):e}},e.convertTo=function(e,t){return function(n,i){if(!i.name&&!t)throw new Error("No property name specified to convert");var a=t||i.name,r=n.get(a);switch(e){case"number":return parseInt(r,10);case"string":return r+"";case"boolean":return!!r;default:return r}}},e}),define("er/Deferred",["require","./util","./assert","eoo","mini-event/EventTarget"],function(require){function e(e){function t(){for(var t=0;t<n.length;t++){var i=n[t];try{i.apply(e.promise,e._args)}catch(a){}}}if("pending"!==e.state){var n="resolved"===e.state?e._doneCallbacks.slice():e._failCallbacks.slice();e.syncModeEnabled?t():a(t),e._doneCallbacks=[],e._failCallbacks=[]}}function t(e,t,n,i){return function(){if("function"==typeof n){var a=t.resolver;try{var o=n.apply(e.promise,arguments);r.isPromise(o)?o.then(a.resolve,a.reject):a.resolve(o)}catch(s){r.fire("exception",{deferred:e,args:[s],reason:s}),a.reject(s)}}else t[i].apply(t,e._args)}}var n=require("./util"),i=require("./assert"),a="function"==typeof window.setImmediate?function(e){window.setImmediate(e)}:function(e){window.setTimeout(e,0)},exports={};exports.constructor=function(){this.state="pending",this._args=null,this._doneCallbacks=[],this._failCallbacks=[],this.promise={done:n.bind(this.done,this),fail:n.bind(this.fail,this),ensure:n.bind(this.ensure,this),then:n.bind(this.then,this)},this.promise.promise=this.promise,this.resolver={resolve:n.bind(this.resolve,this),reject:n.bind(this.reject,this)}},exports.syncModeEnabled=!1,exports.resolve=function(){"pending"===this.state&&(this.state="resolved",this._args=[].slice.call(arguments),r.fire("resolve",{deferred:this,args:this._args,reason:this._args[0]}),e(this))},exports.reject=function(){"pending"===this.state&&(this.state="rejected",this._args=[].slice.call(arguments),r.fire("reject",{deferred:this,args:this._args,reason:this._args[0]}),e(this))},exports.done=function(e){return this.then(e)},exports.fail=function(e){return this.then(null,e)},exports.ensure=function(e){return this.then(e,e)},exports.then=function(n,i){var a=new r;return a.syncModeEnabled=this.syncModeEnabled,this._doneCallbacks.push(t(this,a,n,"resolve")),this._failCallbacks.push(t(this,a,i,"reject")),e(this),a.promise};var r=require("eoo").create(exports);return require("mini-event/EventTarget").enable(r),r.isPromise=function(e){return e&&"function"==typeof e.then},r.all=function(){function e(e){o--,i.greaterThanOrEquals(o,0,"workingCount should be positive");var t=[].slice.call(arguments,1);t.length<=1&&(t=t[0]),l[e]=t,0===o&&u[s].apply(u,l)}function t(){s="reject",e.apply(this,arguments)}var a=[].concat.apply([],arguments),o=a.length;if(!o)return r.resolved();for(var s="resolve",l=[],u=new r,d=0;d<a.length;d++){var c=a[d];c.then(n.bind(e,c,d),n.bind(t,c,d))}return u.promise},r.resolved=function(){var e=new r;return e.resolve.apply(e,arguments),e.promise},r.rejected=function(){var e=new r;return e.reject.apply(e,arguments),e.promise},r.when=function(e){if(r.isPromise(e))return e;var t=new r;return t.syncModeEnabled=!0,t.resolve(e),t.promise},r.require=function(e){var t=new r;return window.require(e,t.resolver.resolve),t.promise.abort=t.resolver.reject,t.promise},r}),define("er/Enum",["require","eoo"],function(require){var exports={};exports.constructor=function(){this.valueIndex=[],this.aliasIndex={},this.textIndex={};for(var e=0;e<arguments.length;e++){var t=arguments[e];null==t.value&&(t.value=e),this.addElement(t)}},exports.addElement=function(e){if(this.hasOwnProperty(e.value))throw new Error("Already defined an element with value"+e.value+" in this enum type");if(this.hasOwnProperty(e.alias))throw new Error('Already defined an element with alias "'+e.alias+'" in this enum type');this[e.value]=e.alias,this[e.alias]=e.value,this.valueIndex[e.value]=e,this.aliasIndex[e.alias]=e,this.textIndex[e.text]=e},exports.fromValue=function(e){return this.valueIndex[e]},exports.fromAlias=function(e){return this.aliasIndex[e]},exports.fromText=function(e){return this.textIndex[e]},exports.getTextFromValue=function(e){return this.fromValue(e).text},exports.getTextFromAlias=function(e){return this.fromAlias(e).text},exports.getValueFromAlias=function(e){return this.fromAlias(e).value},exports.getValueFromText=function(e){return this.fromText(e).value},exports.getAliasFromValue=function(e){return this.fromValue(e).alias},exports.getAliasFromText=function(e){return this.fromText(e).alias},exports.toArray=function(){var e=[];if(arguments.length>0)for(var t=0;t<arguments.length;t++){var n=arguments[t];"string"==typeof n?e.push(this.fromAlias(n)):e.push(n)}else for(t=0;t<this.valueIndex.length;t++)this.valueIndex[t]&&e.push(this.valueIndex[t]);return e};return require("eoo").create(exports)}),define("er/events",["require","eoo","mini-event/EventTarget"],function(require){var exports={};exports.notifyError=function(e){return"string"==typeof e&&(e=new Error(e)),this.fire("error",{error:e}),e};var e=require("eoo").create(require("mini-event/EventTarget"),exports),t=new e;return t.EventBus=e,t}),define("er/locator",["require","./config","./events","mini-event/EventTarget"],function(require){function e(){var e=location.href.indexOf("#");return-1===e?"":location.href.slice(e)}function t(){var t=e();a.redirect(t)}function n(e){window.addEventListener?window.addEventListener("hashchange",t,!1):"onhashchange"in window&&document.documentMode>7?window.attachEvent("onhashchange",t):o=setInterval(t,100),e&&(s=setTimeout(t,0))}function i(){o&&(clearInterval(o),o=null),s&&(clearTimeout(s),s=null),window.removeEventListener?window.removeEventListener("hashchange",t,!1):"onhashchange"in window&&document.documentMode>7&&window.detachEvent("onhashchange",t)}var a={},r="",o=0,s=1;return a.start=function(){n(!0)},a.stop=i,a.resolveURL=function(e){return 0===(e+="").indexOf("#")&&(e=e.slice(1)),e&&"/"!==e||(e=require("./config").indexURL),e},a.redirect=function(t,o){o=o||{},t=a.resolveURL(t);var s=r,l=function(t,a){var o=r!==t;return o&&e()!==t&&(a.silent?(i(),location.hash=t,n(!1)):location.hash=t),r=t,o}(t,o)||o.force;return l&&(o.silent||a.fire("redirect",{url:t,referrer:s}),require("./events").fire("redirect",{url:t,referrer:s})),l},a.reload=function(){r&&a.redirect(r,{force:!0})},require("mini-event/EventTarget").enable(a),a}),define("er/main",["require","./controller","./router","./locator"],function(require){return{version:"3.1.0-beta.5",start:function(){require("./controller").start(),require("./router").start(),require("./locator").start()}}}),define("er",["er/main"],function(e){return e}),define("er/Model",["require","./util","./Deferred","eoo","mini-event/EventTarget"],function(require){function e(e,t){function n(n){return t.dump?e.fill(n,s):e.set(t.name,n,s),{success:!0,name:t.name,options:t,value:n}}function i(e){return{success:!1,name:t.name,options:t,error:e}}try{var a=t.retrieve(e,t);if(o.isPromise(a))return"function"==typeof a.abort&&e.addPendingWorker(a),a.then(n,function(t){t=i(t);try{return n(e.handleError(t))}catch(a){throw!1===a.success?a:i(a)}});var r=n(a);return o.resolved(r)}catch(u){var l=i(u);return o.rejected(l)}}function t(n,i){if(!i)return o.resolved();if("function"==typeof i){return e(n,{retrieve:i,dump:!0})}return i instanceof Array?function(e,n){for(var i=o.resolved(),a=0;a<n.length;a++){var s=n[a],l=r.bind(t,null,e,s);i=i.then(l)}return i}(n,i):"function"==typeof i.retrieve?e(n,i):function(e,n){var i=[];for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];"function"==typeof s?s={retrieve:s,name:a}:"function"==typeof s.retrieve&&(s=r.mix({name:a},s)),i.push(t(e,s))}return o.all(i)}(n,i)}function n(e,t){for(var n=0;n<e.pendingWorkers.length;n++)if(e.pendingWorkers[n]===t)return void e.pendingWorkers.splice(n,1)}function i(){function e(e){throw{success:!1,name:"$prepare",options:{},error:e}}try{var t=this.prepare();return o.isPromise(t)?t.fail(e):t}catch(n){e(n)}}function a(e,t,n){var i=e.store.hasOwnProperty(t)?"change":"add",a=e.store[t];return e.store[t]=n,a!==n?{type:i,name:t,oldValue:a,newValue:n}:null}var r=require("./util"),o=require("./Deferred"),s={silent:!0},exports={};exports.constructor=function(e){this.store={},this.pendingWorkers=[],e&&this.fill(e,s),this.initialize()},exports.initialize=r.noop,exports.addPendingWorker=function(e){this.pendingWorkers.push(e),e.ensure(r.bind(n,null,this,e))},exports.datasource=null,exports.getDatasource=function(){return this.datasource},exports.load=function(){try{return t(this,this.getDatasource()).then(r.bind(i,this))}catch(e){return o.rejected(e)}},exports.prepare=r.noop,exports.get=function(e){return this.store[e]},exports.set=function(e,t,n){n=n||{};var i=a(this,e,t);if(i&&!n.silent){var r={changes:[i]};this.fire("change",r)}return t},exports.fill=function(e,t){t=t||{};var n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=a(this,i,e[i]);r&&n.push(r)}if(n.length&&!t.silent){var o={changes:n};this.fire("change",o)}return e},exports.remove=function(e,t){if(this.store.hasOwnProperty(e)){t=t||{};var n=this.store[e];if(delete this.store[e],!t.silent){var i={changes:[{type:"remove",name:e,oldValue:n,newValue:undefined}]};this.fire("change",i)}return n}},exports.getAsModel=function(e){var t=this.get(e);return t&&"[object Object]"==={}.toString.call(t)?new l(t):new l},exports.dump=function(){return r.mix({},this.store)},exports.has=function(e){return this.store.hasOwnProperty(e)},exports.hasValue=function(e){return this.has(e)&&null!=this.store[e]},exports.hasReadableValue=function(e){return this.hasValue(e)&&""!==this.store[e]},exports.valueOf=function(){return this.dump()},exports.clone=function(){return new l(this.store)},exports.handleError=function(e){throw e},exports.dispose=function(){if(this.pendingWorkers){for(var e=0;e<this.pendingWorkers.length;e++){var t=this.pendingWorkers[e];if("function"==typeof t.abort)try{t.abort()}catch(n){}}this.pendingWorkers=null}};var l=require("eoo").create(require("mini-event/EventTarget"),exports);return l}),define("er/Observable",["require","mini-event/EventTarget"],function(require){return require("mini-event/EventTarget")}),define("er/permission",[],function(){var e={};return{add:function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"==typeof i?this.add(i):e[n]=i}},isAllow:function(t){return!!e[t]}}}),define("er/router",["require","./URL","eoo","mini-event/EventTarget","./locator","./events"],function(require){function e(e){for(var t=require("./URL").parse(e.url),n=t.getPath(),i=0;i<this.routes.length;i++){var a=this.routes[i];if(a.rule instanceof RegExp&&a.rule.test(n)||a.rule===n)return void a.handler.call(this,t)}this.backup&&this.backup(t),this.getEventBus().fire("route",{url:t,router:this})}var exports={},t=!1;exports.constructor=function(){this.routes=[],this.backup=null},exports.add=function(e,t){this.routes.push({rule:e,handler:t})},exports.setBackup=function(e){this.backup=e},exports.getLocator=function(){return this.locator},exports.setLocator=function(e){this.locator=e},exports.getEventBus=function(){return this.eventBus},exports.setEventBus=function(e){this.eventBus=e},exports.start=function(){t||(t=!0,this.getLocator().on("redirect",e,this))};var n=require("eoo").create(require("mini-event/EventTarget"),exports),i=new n;return i.setLocator(require("./locator")),i.setEventBus(require("./events")),i.Router=n,i}),define("er/template",["require","etpl/main"],function(require){var e=require("etpl/main");return e.merge=function(t,n,i){var a="";try{a=e.render(n,i)}catch(r){}return t&&(t.innerHTML=a),a},e}),define("er/tpl",["require","etpl/tpl"],function(require){return require("etpl/tpl")}),define("er/URL",["require","./util","eoo"],function(require){var e=require("./util"),exports={};exports.constructor=function(n,i,a){n=n||"/",i=i||"",a=a||"~",this.toString=function(){return i?n+a+i:n},this.getPath=function(){return n},this.getSearch=function(){return i};var r=null;this.getQuery=function(n){return r||(r=t.parseQuery(i)),n?r[n]:e.mix({},r)}},exports.compare=function(e){"string"==typeof e&&(e=t.parse(e));var n={},i=this.getPath(),a=e.getPath();n.path=i!==a&&{key:"path",self:i,other:a};var r=this.getQuery(),o=e.getQuery(),s={},l=[],u=!1;for(var d in r)if(r.hasOwnProperty(d)){var c=r[d],f=o[d];if(c!==f){u=!0;var p={key:d,self:c,other:f};l.push(p),s[d]=p}}for(var d in o)if(o.hasOwnProperty(d)&&!r.hasOwnProperty(d)){u=!0;p={key:d,self:undefined,other:o[d]};l.push(p),s[d]=p}return n.queryDifference=l,n.query=!!u&&s,n};var t=require("eoo").create(exports);return t.parse=function(n,i){i=e.mix({querySeparator:"~"},i);var a=n.indexOf(i.querySeparator);return a>=0?new t(n.slice(0,a),n.slice(a+1),i.querySeparator):new t(n,"",i.querySeparator)},t.withQuery=function(n,i,a){n+="";a=e.mix({querySeparator:"~"},a);var r=n+(n.indexOf(a.querySeparator)<0?a.querySeparator:"&")+t.serialize(i);return t.parse(r,a)},t.parseQuery=function(e){for(var t=e.split("&"),n={},i=0;i<t.length;i++){var a=t[i];if(a){var r=a.indexOf("="),o=r<0?decodeURIComponent(a):decodeURIComponent(a.slice(0,r)),s=r<0||decodeURIComponent(a.slice(r+1));n.hasOwnProperty(o)?!0!==s&&(n[o]=[].concat(n[o],s)):n[o]=s}}return n},t.serialize=function(e){if(!e)return"";var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(i)}return t.slice(1)},t.empty=new t,t}),define("er/util",[],function(){var e=+new Date,t={};t.guid=function(){return"er"+e++},t.mix=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e};var n=Function.prototype.bind;t.bind=n?function(e){return n.apply(e,[].slice.call(arguments,1))}:function(e,t){var n=[].slice.call(arguments,2);return function(){var i=n.concat([].slice.call(arguments));return e.apply(t,i)}},t.noop=function(){};var i=!{toString:1}.propertyIsEnumerable("toString");t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype;var a=new n,r=e.prototype;e.prototype=a;for(var o in r)a[o]=r[o];return i&&(r.hasOwnProperty("toString")&&(a.toString=r.toString),r.hasOwnProperty("valueOf")&&(a.valueOf=r.valueOf)),e.prototype.constructor=e,e},t.parseJSON=function(e){return e?window.JSON&&"function"==typeof JSON.parse?JSON.parse(e):new Function("return ("+e+");")():undefined};var a=/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g;return t.trim=function(e){return e.replace(a,"")},t.encodeHTML=function(e){return(e+="").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},t.getElement=function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},t}),define("er/View",["require","./util","./Model","etpl","eoo","mini-event/EventTarget"],function(require){var e=require("./util"),exports={};exports.constructor=function(){this.initialize()},exports.initialize=e.noop,exports.template="",exports.getTemplateName=function(){return this.template||""},exports.model=null,exports.container="",exports.getContainerElement=function(){return e.getElement(this.container)||null},exports.getTemplateData=function(){var e=this.model;if(e&&"function"!=typeof e.get){var t=require("./Model");e=new t(e)}return{get:function(t){for(var n=t.replace(/\[(\d+)\]/g,".$1").split("."),i=n.shift(),a=e.get(i);a&&(i=n.shift());)a=a[i];return a},relatedModel:e}},exports.render=function(){var e=this.getContainerElement();if(!e){var t=this.model&&"function"==typeof this.model.get&&this.model.get("url");throw new Error("Container not found when rendering "+(t?'"'+t+'"':"view"))}var n=require("etpl").render(this.getTemplateName(),this.getTemplateData());e.innerHTML=n,this.enterDocument()},exports.enterDocument=require("./util").noop,exports.dispose=function(){var e=this.getContainerElement();e&&(e.innerHTML="")};return require("eoo").create(require("mini-event/EventTarget"),exports)}),define("er-track/events",["require","er/events","er/Deferred","er/ajax"],function(require){var e=require("er/events"),t=require("er/Deferred"),n=require("er/ajax");return{pageView:function(t){e.on("redirect",function(e){t(["trackPageView",[e]])})},exception:function(e){t.on("exception",function(t){e(["trackException",[t]])})},requestTimeout:function(e){n.on("timeout",function(t){var n=[t.options.url,t.options,t.xhr];e(["trackRequestTimeout",n])})},requestComplete:function(e){n.on("done",function(t){var n=[t.options.url,t.options,t.xhr];e(["trackRequestComplete",n])})},forwardAction:function(t){e.on("forwardaction",function(e){t(["trackForwardAction",[e]])})},actionLoaded:function(t){e.on("actionloaded",function(e){t(["trackActionLoaded",[e]])})},beforeEnterAction:function(t){e.on("enteraction",function(e){t(["trackBeforeEnterAction",[e]])})},enterAction:function(t){e.on("enteractioncomplete",function(e){t(["trackEnterAction",[e]])})},afterEnterAction:function(t){e.on("afterenteraction",function(e){t(["trackAfterEnterAction",[e]])})},leaveAction:function(t){e.on("leaveaction",function(e){t(["trackLeaveAction",[e]])})}}}),define("er-track/loadScript",["require"],function(require){return function(e,t){var n=document.createElement("script");if(n.charset="utf-8",n.async=!0,n.src=e,t){var i=!1;n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,t())}}var a=document.getElementsByTagName("script")[0];if(a&&a.parentNode)a.parentNode.insertBefore(n,a);else{var r=document.getElementsByTagName("head")[0]||document.body;r.insertBefore(n,r.firstChild)}}}),define("er-track/main",["require","./events"],function(require){var exports={},e={packageName:"er-track"};return exports.config=function(t,n){return e[t]=n,this},exports.create=function(){function t(t){return a[t]||e[t]||null}function n(e,t){for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i[e]&&i[e].apply(i,t)}}function i(){s.push.apply(s,arguments)}var a={},r={},o={};o.config=function(e,t){return a[e]=t,this},o.use=function(e){if(r[e])return r[e];var t={name:e,configuration:{},config:function(e,t){return this.configuration[e]=t,this},setAccount:function(e){return this.config("account",e)},setLocalStorageKey:function(e){return this.config("localStorageKey",e)}};return r[e]=t,t};var s=[];o.start=function(){var e=[];for(var i in r)if(r.hasOwnProperty(i)){var a=t("packageName")+"/trackers/"+i;e.push(a)}window.require(e,function(){function e(){0===--t&&(!function(){for(var e=0;e<s.length;e++)n(s[e][0],s[e][1])}(),s={push:function(e){n(e[0],e[1])}})}for(var t=arguments.length,i=0;i<arguments.length;i++){var a=arguments[i],o=r[a.name].configuration,l=a.create(o);r[a.name]=l,l.load(e)}})};var l=require("./events");return o.include=function(e){return l.hasOwnProperty(e)&&l[e](i),this},o.includeAll=function(){for(var e in l)o.include(e);return this},o},exports}),define("er-track",["er-track/main"],function(e){return e}),define("er-track/trackers/baidu",["require","../loadScript"],function(require){window._hmt||(window._hmt=[]);var exports={name:"baidu"};return exports.create=function(e){return{name:"baidu",trackPageView:function(e){var t=e.referrer||document.referrer;return window._hmt.push(["_setReferrerOverride",t]),window._hmt.push(["_trackPageview",e.url]),this},load:function(t){if(!e.account)return t();setTimeout(function(){var t=e.scriptURL||"//hm.baidu.com/hm.js";t+="?"+e.account;require("../loadScript")(t,function(){})},3e3),t()}}},exports}),define("er-track/trackers/bce",["exports","jquery","babel-runtime/helpers/interop-require-default","fc-storage/localStorage"],function(exports,e,t,n){function i(){return!0===document.hidden||"hidden"===document.visibilityState}exports.__esModule=!0;var a=t["default"](e),r=t["default"](n),o={},s={},l=undefined,u=undefined;exports.name="bce";exports.create=function(e){var t=[],n={};return{name:"bce",trackPageView:function(e){},trackForwardAction:function(e){if(!i()){var t=e.url.toString();u=(new Date).getTime(),n[t]=(new Date).getTime()}},trackActionLoaded:function(e){if(!i()){var a=e.url.toString(),r=n[a]||0;if(r){var o=(new Date).getTime()-r;o<50||t.push({type:"AMD_MODULE_LOAD_TIME",key:a,time:o,page_sess_id:u})}}},trackBeforeEnterAction:function(e){if(!i()){l=e;var t=e.url.toString();o[t]=(new Date).getTime()}},trackEnterAction:function(n){if(!i()&&!n.action.disposed){var l=n.url.toString();if(o[l]){var d=(new Date).getTime()-o[l];if(!(d<=0)){t.push({type:"ACTION_LOAD_TIME",url:l,time:d,page_sess_id:u});var c=location.host+location.pathname;s[c]||(d=window.FRAMEWORK_LOADED_TIME-window.CONSOLE_START_TIME)>0&&(t.push({type:"FRAMEWORK_LOADED_TIME",module:c,time:d}),s[c]=d);var f=r["default"].getItem(e.localStorageKey)||{},p=f.apiRequestedTimes||[];if(p.length){for(var h=0;h<p.length;h++){var v=p[h];t.push({type:"API_LOAD_TIME",url:v[0],time:v[1],page_url:v[2],request_id:v[3],page_sess_id:v[4]})}f.apiRequestedTimes=[],r["default"].setItem(e.localStorageKey,f)}a["default"].ajax({method:"POST",url:"/api/log/csi",dataType:"json",headers:{"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"},data:JSON.stringify(t),success:function(e){t.length=0},error:function(e,n,i){t.length=0}})}}}},trackAfterEnterAction:function(e){if(!i()&&e.context&&e.context.url)for(var n=e.context.url.toString(),a=0;a<e.measures.length;a++){var r=e.measures[a];t.push({type:r.name,key:n,time:~~r.duration,page_sess_id:u})}},trackRequestComplete:function(t,n,a){if(!i()&&/^\/api\//.test(t)){var o=(new Date).getTime()-n.startTime;if(!(o<=0)){var s=[t,o,l?l.url.toString():"",a.getResponseHeader("x-bce-request-id")||"nil",u],d=r["default"].getItem(e.localStorageKey)||{};d.apiRequestedTimes||(d.apiRequestedTimes=[]),d.apiRequestedTimes.push(s),r["default"].setItem(e.localStorageKey,d)}}},load:function(e){e()}}}}),define("er-track/trackers/console",["require","underscore"],function(require){function e(e){window.console&&("function"==typeof console.log?console.log.apply(console,e):console.log(e.join(" ")))}function t(t){if(window.console)if(console.groupCollapsed){console.groupCollapsed(t);for(var n=1;n<arguments.length;n++)e(arguments[n]);console.groupEnd(t)}else{console.log("➤"+t);var i="├───";for(n=1;n<arguments.length;n++){n===arguments.length-1&&(i="└───");var a=arguments[n];"string"==typeof a?a=i+a:a[0]=i+a[0],e(a)}}}var n=require("underscore"),exports={name:"console"};return exports.create=function(e){return{name:"console",trackException:function(e){var i=["我靠，有个Promise出异常了",["出事的Deferred对象: ",e.deferred],["出事时给的参数: ",e.args],["出事的原因大概是: "+e.reason]],a=null,r=n.flatten(e.args);r[0]&&r[0].error instanceof Error?a=r[0].error:e.reason instanceof Error?a=e.reason:Array.isArray(e.reason)&&e.reason[0]instanceof Error&&(a=e.reason[0]),a&&i.push(["好像是一个异常对象，所以把调用堆栈给你看看好了：\n"+a.stack]),t.apply(null,i)},trackEnterAction:function(e){!e.action.disposed&&e.action.view&&t('亲你正在进入"'+e.url+'"',["Action：",e.action],["Model：",e.action.model],["Model里的数据：",e.action.model?e.action.model.dump():null],["View：",e.action.view],["DOM容器：",e.action.view?e.action.view.getContainerElement():null])},trackLeaveAction:function(e){t('亲你已经离开"'+(e.action.context?e.action.context.url:null)+'"',["当前的Action：",e.action],["前往的URL："+e.to.url])},load:function(e){e()}}},exports}),define("eoo/defineAccessor",["require"],function(require){var e="__eooPrivateMembers__";return function(t,n,i){var a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a,o="set"+a;i?("function"==typeof i.get&&(t[r]=i.get),"function"==typeof i.set&&(t[o]=i.set)):(t[r]=i&&"function"==typeof i.get?i.get:function(t){var n="return typeof this."+e+" === 'object' ? this."+e+"['"+t+"'] : undefined;";return new Function(n)}(n),t[o]=i&&"function"==typeof i.set?i.set:function(t){var n="this."+e+" = this."+e+" || {};\nthis."+e+"['"+t+"'] = value;";return new Function("value",n)}(n))}}),define("eoo/main",["require","./oo","./defineAccessor"],function(require){var e=require("./oo");return e.defineAccessor=require("./defineAccessor"),e}),define("eoo",["eoo/main"],function(e){return e}),define("eoo/oo",["require"],function(require){function e(){return e.create.apply(e,arguments)}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(){return this.prototype.constructor.toString()}var i=function(){};e.create=function(o,s){s=s||{},"object"==typeof(o=o||e)&&(s=o,o=e);var l=function(t){var n=function(){return n.prototype.constructor.apply(this,arguments)};i.prototype=t.prototype;var a=n.prototype=new i;return a.$self=n,"$super"in a||(a.$super=e.prototype.$super),n.$superClass=t,n}(o),u=l.prototype;return function(e,n){for(var i in e)t(e,i)&&n(e[i],i,e);if(a)for(var o=r.length-1;o>-1;--o){var s=r[o];t(e,s)&&n(e[s],s,e)}}(s,function(e,t){"function"==typeof e&&(e.__eooName__=t,e.__eooOwner__=l),u[t]=e}),l.toString=n,l},e["static"]="function"==typeof Object.create?Object.create:function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return i.prototype=e,new i},e.toString=function(){return"function Class() { [native code] }"},e.prototype={constructor:function(){},$self:e,$superClass:Object,$super:function(e){var t=this.$super.caller,n=t.__eooName__,i=t.__eooOwner__.$superClass.prototype[n];if("function"!=typeof i)throw new TypeError("Call the super class's "+n+", but it is not a function!");return i.apply(this,e)}};var a=!{toString:1}.propertyIsEnumerable("toString"),r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];return e}),define("ef/ActionDialog",["require","esui/main","esui/Dialog","./ActionPanel","mini-event","esui/painters","eoo","esui"],function(require){var e=require("esui/main"),t=require("esui/Dialog");require("./ActionPanel");var exports={};exports.type="ActionDialog",exports.styleType="Dialog",exports.setContent=function(){},exports.createBF=function(t,n){n?this.content=n.innerHTML:(n=document.createElement("div"),this.main.appendChild(n)),this.helper.addPartClasses(t+"-panel",n);var i={main:n},a="Panel";"body"===t&&(i.url=this.url,i.actionOptions=this.actionOptions,a="ActionPanel");var r=e.create(a,i);if("body"===t){r.on("actionattach",function(){if(this.resize(),this.autoClose){var e=this.get("action");"function"==typeof e.on&&(e.on("handlefinish",!1),e.on("handlefinish",this.dispose,this))}this.fire("actionattach")},this),r.on("*",function(e){0===e.type.indexOf("action@")&&this.fire(e)},this);var o=require("mini-event");o.delegate(r,this,"actionloaded"),o.delegate(r,this,"actionloadfail"),o.delegate(r,this,"actionloadabort")}return r.render(),this.addChild(r,t),r},exports.repaint=require("esui/painters").createRepaint(t.prototype.repaint,{name:["url","actionOptions"],paint:function(e,t,n){var i={url:t,actionOptions:n};e.getBody().setProperties(i)}}),exports.getAction=function(){var e=this.getBody();return e?e.get("action"):null},exports.reload=function(){var e=this.getBody();e&&e.reload()};var n=require("eoo").create(t,exports);return require("esui").register(n),n}),define("ef/ActionPanel",["require","er/events","esui/Panel","mini-event","er/Deferred","esui/painters","er/controller","eoo","esui"],function(require){function e(e){var t=require("mini-event").fromEvent(e,{preserveData:!0,syncState:!0});t.type="action@"+e.type,this.fire(t)}function t(t){t.isChildAction&&t.container===this.main.id&&(this.action=t.action,"function"==typeof this.action.on&&this.action.on("*",e,this),this.fire("actionattach"))}function n(e){e.isChildAction&&e.container===this.main.id&&this.fire("actionloaded")}function i(e){e.isChildAction&&e.container===this.main.id&&(this.action=null,this.fire("actionloadfail",{failType:e.failType,reason:e.reason}))}function a(e){e.isChildAction&&e.container===this.main.id&&this.fire("actionloadabort")}var r=require("er/events"),o=require("esui/Panel"),exports={};exports.type="ActionPanel",exports.setContent=function(){},exports.actionType=null,exports.action=null,exports.initStructure=function(){r.on("enteraction",t,this),r.on("enteractioncomplete",n,this),r.on("actionnotfound",i,this),r.on("permissiondenied",i,this),r.on("actionfail",i,this),r.on("enteractionfail",i,this),r.on("actionabort",a,this)},exports.disposeAction=function(){var t=require("er/Deferred"),n=this.action;n&&(t.isPromise(n)&&"function"==typeof n.abort?n.abort():("function"==typeof n.un&&n.un("*",e,this),"function"==typeof n.leave&&n.leave()),this.action=null,this.main.innerHTML="")},exports.repaint=require("esui/painters").createRepaint(o.prototype.repaint,{name:["url","actionOptions"],paint:function(e,t,n){if(e.disposeAction(),t&&(!e.lazy||!e.helper.isInStage("INITED"))){var i=require("er/controller");e.action=i.renderChildAction(t,e.main.id,n),"function"!=typeof e.action.abort&&(e.action=null)}}}),exports.dispose=function(){this.disposeAction(),r.un("enteraction",t,this),r.un("enteractioncomplete",n,this),r.un("actionnotfound",i,this),r.un("permissiondenied",i,this),r.un("actionfail",i,this),r.un("enteractionfail",i,this),r.un("actionabort",a,this),this.$super(arguments)},exports.reload=function(e){var t=this.url;this.url=null,this.setProperties({url:t,actionOptions:e})};var s=require("eoo").create(o,exports);return require("esui").register(s),s}),define("ef/ChildView",["require","underscore","esui/Control","esui/painters","er/Deferred","mini-event","eoo","esui"],function(require){function e(e){var t=require("mini-event").fromEvent(e,{preserveData:!0,syncState:!0});t.type="view@"+e.type,this.fire(t)}var t=require("underscore"),n=require("esui/Control"),exports={};exports.type="ChildView",exports.repaint=require("esui/painters").createRepaint(n.prototype.repaint,{name:"viewType",paint:function(e,n){e.disposeView();var i=require("er/Deferred");e.view=i.require([n]),e.view.then(t.bind(e.fire,e,"viewloaded")),e.view.then(t.bind(e.renderView,e))}}),exports.disposeView=function(){var e=this.get("view");e&&"function"==typeof e.dispose&&e.dispose(),this.view=null},exports.renderView=function(t){if(this.helper.isInStage("RENDERED")){this.loadedViewModule=t;var n=this.view="function"==typeof t?new t:t;n.model=this.get("model"),n.container=this.main.id,n.render(),this.fire("viewrendered"),n.on("*",e,this)}},exports.refresh=function(){var e=this.get("loadedViewModule");if(!e)throw new Error("No view module loaded yet");this.disposeView(),this.renderView(e)};var i=require("eoo").create(n,exports);return require("esui").register(i),i}),define("ef/RemoteTreeStrategy",["require","esui/lib","esui/TreeStrategy","er/ajax","eoo"],function(require){function e(e,n,i){var a=i.node;if(a.children)e.expandNode(a.id);else{var r=e.workingRequests[a.id];r&&r.abort(),r=this.requestNodeData(a),e.workingRequests[a.id]=r,r.done(t.bind(e.expandNode,e,a.id))}}var t=require("esui/lib"),n=require("esui/TreeStrategy"),exports={};exports.constructor=function(e){e.requestMethod&&(e.requestMethod=e.requestMethod.toLowerCase()),n.apply(this,arguments),this.workingRequests={}},exports.urlTemplate="",exports.requestMethod="get",exports.getRequestURL=function(e){return t.format(this.urlTemplate,e)},exports.getRequestData=function(e){return null},exports.requestNodeData=function(e){var t=this.getRequestURL(e),n=this.getRequestData(e),i=require("er/ajax");return"get"===this.requestMethod?i.getJSON(t,n,this.useCache||!1):i.post(t,n,"json")},exports.enableToggleStrategy=function(n){n.on("expand",t.curry(e,n,this)),n.on("collapse",function(e){this.collapseNode(e.node.id,!1)})};var i=require("eoo").create(n,exports);return t.inherits(i,n),i}),define("ef/UIModel",["require","er/Model","eoo"],function(require){function e(e){return 1===(e+="").length?"0"+e:e}var t=require("er/Model"),exports={},n={date:function(t){return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())},dateRange:function(e){return n.date(e.begin)+","+n.date(e.end)},time:function(t){return n.date(t)+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},timeRange:function(e){return n.time(e.begin)+","+n.time(e.end)}};exports.formatters={},exports.set=function(e,t,n){this.formatters.hasOwnProperty(e)&&(t=this.formatters[e](t)),this.$super([e,t,n])},exports.fill=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&this.formatters.hasOwnProperty(n)){var i=this.formatters[n],a=e[n];e[n]=i(a)}this.$super(arguments)},exports.getPart=function(e){"[object Array]"!==Object.prototype.toString.call(e)&&(e=[].slice.call(arguments));for(var t={},n=0;n<e.length;n++){var i=e[n];t[i]=this.get(i)}return t};var i=require("eoo").create(t,i);return i.formatters=n,i}),define("ef/UIView",["require","underscore","er/View","ef/ActionDialog","esui","esui/Dialog","esui/main","esui/ViewContext","eoo"],function(require){function e(e,t,n,i){if("string"==typeof i&&(i=e[i]),"function"!=typeof i)return i;var a=e.get(t);return a&&a.on(n,i,e),i}var t=require("underscore"),n=require("er/View");require("ef/ActionDialog");var exports={};exports.replaceValue=function(e){if("string"!=typeof e)return e;if("@@"===e||"**"===e)return this.model;var t=e.charAt(0),n=e.substring(1);if("@"===t||"*"===t){var i=n.split(".");return e=this.model.get(i[0]),i.length>1?function(e,t){for(var n=e,i=0;i<t.length;i++)n=n[t[i]];return n}(e,i.slice(1)):e}return e},exports.get=function(e){return this.viewContext.get(e)},exports.getSafely=function(e){return this.viewContext.getSafely(e)},exports.getGroup=function(e){return this.viewContext.getGroup(e)},exports.create=function(e,t){return(t=t||{}).viewContext||(t.viewContext=this.viewContext),require("esui").create(e,t)},exports.alert=function(e,n){var i="string"==typeof e?{title:n||document.title,content:e}:t.clone(e);i.viewContext||(i.viewContext=this.viewContext);return require("esui/Dialog").alert(i)},exports.confirm=function(e,n){var i="string"==typeof e?{title:n||document.title,content:e}:t.clone(e);i.viewContext||(i.viewContext=this.viewContext);return require("esui/Dialog").confirm(i)},exports.popActionDialog=function(e){var n=document.createElement("div");document.body.appendChild(n);var i={width:600,needFoot:!1,draggable:!0,closeOnHide:!0,autoClose:!0,main:n,viewContext:this.viewContext};e=t.defaults({},e,i);var a=require("esui/main").create("ActionDialog",e);return a.render(),a.show(),n.style.visibility="hidden",n.style.opacity="0",a},exports.uiEvents=null,exports.getUIEvents=function(){return this.uiEvents||{}},exports.uiProperties=null,exports.getUIProperties=function(){return this.uiProperties},exports.bindEvents=function(){var t=this.getUIEvents();if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=n.split(":");if(i.length>1){var a=i[0],r=i[1],o=t[n];e(this,a,r,o)}else{var s=t[n];if("object"!=typeof s)return;for(r in s)s.hasOwnProperty(r)&&e(this,n,r,o=s[r])}}};var i=8785925;exports.getViewName=function(){if(this.name)return this.name;var e=this.constructor&&this.constructor.name;if(!e&&this.constructor){var t=this.constructor.toString(),n=/function\s+([^\(]*)/.exec(t);e=n&&n[1].replace(/\s+$/g,"")}return e||(e="ef-"+i++),e=e.replace(/View$/,""),e=e.replace(/[A-Z]{2,}/g,function(e){return e.charAt(0)+e.slice(1,-1).toLowerCase()+e.charAt(e.length-1)}),"-"===(e=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})).charAt(0)&&(e=e.substring(1)),e},exports.createViewContext=function(){return new(require("esui/ViewContext"))(this.getViewName()||null)},exports.enterDocument=function(){this.viewContext=this.createViewContext();var e=this.getContainerElement(),n={viewContext:this.viewContext,properties:this.getUIProperties(),valueReplacer:t.bind(this.replaceValue,this)};try{require("esui").init(e,n)}catch(a){var i=new Error("ESUI initialization error on view because: "+a.message);throw i.actualError=a,i}this.bindEvents()},exports.dispose=function(){this.viewContext&&(this.viewContext.dispose(),this.viewContext=null),this.$super(arguments)};return require("eoo").create(n,exports)}),define("esui/BoxGroup",["require","underscore","./lib","./InputControl","./painters","./main"],function(require){function e(){r.apply(this,arguments)}function t(e){var t=e.parentNode,n=this.helper.getPartClasses("wrapper-checked");e.checked?a.addClasses(t,n):a.removeClasses(t,n)}function n(){i.each(this.getBoxElements(),t,this);var e=i.chain(this.getBoxElements()).where({checked:!0}).pluck("value").value();this.rawValue=e,this.fire("change")}var i=require("underscore"),a=require("./lib"),r=require("./InputControl");e.prototype.type="BoxGroup",e.prototype.initOptions=function(e){var t={datasource:[],orientation:"horizontal",boxType:"radio"};i.extend(t,e);var n=t.datasource;n.length||function(e,t){for(var n=e.getElementsByTagName("input"),i=e.getElementsByTagName("label"),r={},o=i.length-1;o>=0;o--){var s=i[o],l=a.getAttribute(s,"for");l&&(r[l]=s)}for(var u=[],d=[],c=0,f=n.length;c<f;c++){var p=n[c];if(p.type===t.boxType&&(t.name||"")===p.name){var h={value:p.value},v=p.id&&r[p.id];h.title=v?a.getText(v):"",h.title||(h.title=p.title||("on"===p.value?p.value:"")),u.push(h),a.hasAttribute(p,"checked")&&d.push(p.value)}}t.datasource=u,t.rawValue||t.value||(t.rawValue=d)}(this.main,t),t.hasOwnProperty("rawValue")||t.hasOwnProperty("value")||("radio"===t.boxType&&n.length?t.rawValue=[n[0].value]:t.rawValue=[]),this.setProperties(t)};var o=['<label title="${title}" class="${wrapperClass}">','<input type="${type}" name="${name}" id="${id}" title="${title}" value="${value}"${checked} ${disabled} />',"<span>${content}</span>","</label>"];return o=o.join(""),e.prototype.setProperties=function(e){!e.datasource&&!e.boxType||e.rawValue||e.value||this.rawValue&&this.rawValue.length||(e.rawValue=[]);r.prototype.setProperties.apply(this,arguments).hasOwnProperty("rawValue")&&this.fire("change")},e.prototype.repaint=require("./painters").createRepaint(r.prototype.repaint,{name:["datasource","boxType"],paint:function(e,t,r){e.helper.clearDOMEvents();for(var s="",l=[].concat(e.helper.getPartClasses(r),e.helper.getPartClasses("wrapper")),u=a.toDictionary(e.rawValue),d=e.name||a.getGUID(),c=0;c<t.length;c++){var f=t[c],p="";u[f.value]&&(p+=" "+e.helper.getPartClassName("wrapper-checked"));var h={wrapperClass:l.join(" ")+p,id:e.helper.getId("box-"+c),type:e.boxType,name:d,title:a.trim(f.title||f.name||f.text),content:a.trim(f.content||f.title||f.name||f.text),value:f.value,checked:u[f.value]?' checked="checked"':"",disabled:f.disabled?"disabled":""};s+=a.format(o,h)}e.main.innerHTML=s;var v=e.main.addEventListener?"change":"click";i.each(e.getBoxElements(),function(e){this.helper.addDOMEvent(e,v,n)},e)}},{name:["disabled","readOnly"],paint:function(e,t,n){i.each(e.getBoxElements(),function(e){e.disabled=t,e.readOnly=n})}},{name:"rawValue",paint:function(e,n){n=n||[],e.rawValue=n;for(var a={},r=0;r<n.length;r++)a[n[r]]=!0;i.each(e.getBoxElements(),function(n){n.checked=a.hasOwnProperty(n.value),t.call(e,n)})}},{name:"orientation",paint:function(e,t){e.removeState("vertical"),e.removeState("horizontal"),e.addState(t)}}),e.prototype.parseValue=function(e){return e.split(",")},e.prototype.getBoxElements=function(){return i.where(this.main.getElementsByTagName("input"),{type:this.boxType})},a.inherits(e,r),require("./main").register(e),e}),define("esui/Button",["require","underscore","./lib","./painters","./Control","./main"],function(require){function e(e){a.apply(this,arguments)}var t=require("underscore"),n=require("./lib"),i=require("./painters"),a=require("./Control");return e.prototype={type:"Button",initOptions:function(e){var i={content:"",disabled:!1};t.extend(i,e),i.tagName=this.main.nodeName.toLowerCase(),null==i.text&&(i.text=n.getText(this.main));var a=this.main.firstChild;!i.content&&a&&"div"!==a.nodeName.toLowerCase()&&(i.content=this.main.innerHTML),this.setProperties(i)},createMain:function(){var e=document.createElement("div");return e.innerHTML='<button type="button"></button>',e.firstChild},initEvents:function(){var e=this.main;this.helper.delegateDOMEvent(e,"click"),this.on("click",function(){e.blur()})},repaint:i.createRepaint(a.prototype.repaint,i.style("width"),{name:"height",paint:function(e,t){if(t){var i=e.main;i.style.height=t+"px";var a=t;i.style.lineHeight=a+"px";if(i.offsetHeight===t){var r=function(e){var t={};return t.borderTop=parseInt(n.getComputedStyle(e,"borderTopWidth"),10),t.borderBottom=parseInt(n.getComputedStyle(e,"borderBottomWidth"),10),t}(i),o=t+r.borderTop+r.borderBottom;i.style.height=o+"px"}}}},i.html("content"),{name:"disabled",paint:function(e,t){var n=e.main.nodeName.toLowerCase();"button"!==n&&"input"!==n||(e.main.disabled=!!t)}}),setContent:function(e){this.setProperties({content:e})}},n.inherits(e,a),require("./main").register(e),e}),define("esui/Calendar",["require","./MonthView","underscore","moment","./lib","./main","./InputControl","./Layer","./painters"],function(require){function e(){u.apply(this,arguments)}function t(){l.apply(this,arguments),this.layer=new e(this)}function n(){var e=this.getChild("monthView").getRawValue();e&&(this.rawValue=e,i(this),this.fire("change"))}function i(e){e.helper.getPart("text").innerHTML=a.escape(e.getValue())}require("./MonthView");var a=require("underscore"),r=require("moment"),o=require("./lib"),s=require("./main"),l=require("./InputControl"),u=require("./Layer");return o.inherits(e,u),e.prototype.render=function(e){var t=this.control;document.body.appendChild(e);var i=r(t.rawValue).format(t.paramFormat);e.innerHTML='<div data-ui-type="MonthView" data-ui-child-name="monthView" '+(t.time?'data-ui-time="true" data-ui-value="'+i+'"':"")+"></div>",t.helper.initChildren(e);var o=t.getChild("monthView");o.setProperties({rawValue:t.rawValue,range:t.range}),o.on("change",n,t),t.autoHideLayer&&o.on("itemclick",a.bind(t.layer.toggle,t.layer))},e.prototype.toggle=function(){var e=this.getElement();if(!e||this.control.helper.isPart(e,"layer-hidden")){var t=this.control;t.getChild("monthView").setProperties({rawValue:t.rawValue,range:t.range}),this.show()}else this.hide()},t.prototype={type:"Calendar",initOptions:function(e){var t=new Date,n={range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},dateFormat:"YYYY-MM-DD",paramFormat:"YYYY-MM-DD",rawValue:t,autoHideLayer:!1};"false"===e.autoHideLayer&&(e.autoHideLayer=!1),a.extend(n,e),e.time&&(n.dateFormat="YYYY-MM-DD HH:mm:ss",n.paramFormat="YYYY-MM-DD HH:mm:ss"),o.isInput(this.main)&&this.helper.extractOptionsFromInput(this.main,n),this.paramFormat=n.paramFormat,n.value&&(n.rawValue=this.parseValue(n.value));var i=n.range;if("string"==typeof i){var r=i.split(","),s=this.parseValue(r[0]),l=this.parseValue(r[1]);n.range={begin:s,end:l}}this.setProperties(n)},initStructure:function(){o.isInput(this.main)&&this.helper.replaceMain();this.main.innerHTML=o.format(['<div class="${classes}" id="${id}">${value}</div>','<div class="${arrow}"></div>'].join(""),{classes:this.helper.getPartClassName("text"),id:this.helper.getId("text"),arrow:this.helper.getPartClassName("arrow")})},initEvents:function(){this.helper.addDOMEvent(this.main,"click",a.bind(this.layer.toggle,this.layer))},repaint:require("./painters").createRepaint(l.prototype.repaint,{name:["rawValue","range"],paint:function(e,t,n){if(!e.disabled&&!e.readOnly){i(e);var a=e.getChild("monthView");a&&a.setProperties({rawValue:t,range:n})}}},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}}),setRange:function(e){this.setProperties({range:e})},stringifyValue:function(e){return r(e).format(this.dateFormat)||""},parseValue:function(e){return r(e,this.paramFormat).toDate()},dispose:function(){this.helper.isInStage("DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),l.prototype.dispose.apply(this,arguments))}},o.inherits(t,l),s.register(t),t}),define("esui/CheckBox",["require","underscore","./lib","./InputControl","./painters","./main"],function(require){function e(e){var t=i.g(this.boxId).checked;this.setProperties({checked:t})}function t(){a.apply(this,arguments)}var n=require("underscore"),i=require("./lib"),a=require("./InputControl");return t.prototype={type:"CheckBox",createMain:function(){return document.createElement("label")},getCategory:function(){return"check"},initOptions:function(e){var t={value:this.main.value||"on",checked:this.main.checked||!1};n.extend(t,e),t.name=t.name||this.main.getAttribute("name");var i=t.datasource;delete t.datasource,this.setProperties(t),null!=i&&(n.isArray(i)?this.checked=n.any(i,function(e){return e.value==this.value},this):this.rawValue==i&&(this.checked=!0)),this.title||(this.title=this.main.title||("on"===this.getValue()?"":this.getValue()))},initStructure:function(){"input"===this.main.nodeName.toLowerCase()?(this.boxId=this.main.id||this.helper.getId("box"),this.helper.replaceMain(),this.main.id=this.helper.getId()):this.boxId=this.helper.getId("box");this.main.innerHTML=i.format('<input type="checkbox" name="${name}" id="${id}" /><span id="${textId}"></span>',{name:this.name,id:this.boxId,textId:this.helper.getId("text")})},initEvents:function(){var t=i.g(this.boxId);this.helper.addDOMEvent(t,"click",function(n){this.fire("click"),t.addEventListener||e.call(this,n)}),t.addEventListener&&this.helper.addDOMEvent(t,"change",e)},setProperties:function(e){a.prototype.setProperties.apply(this,arguments).hasOwnProperty("checked")&&this.fire("change")},getFocusTarget:function(){return i.g(this.boxId)},updateTitle:function(e){this.title=e,e=n.escape(e),this.helper.getPart("text").innerHTML=e,i.setAttribute(this.boxId,"title",e)},repaint:require("./painters").createRepaint(a.prototype.repaint,{name:["rawValue","checked"],paint:function(e,t,n){var a=e.stringifyValue(t);(e=i.g(e.boxId)).value=a,e.checked=n}},{name:["disabled","readOnly"],paint:function(e,t,n){(e=i.g(e.boxId)).disabled=t,e.readOnly=n}},{name:"title",paint:function(e,t){e.updateTitle(t)}}),setChecked:function(e){this.setProperties({checked:e})},isChecked:function(){if(this.helper.isInStage("RENDERED")){return i.g(this.boxId).checked}return this.checked}},i.inherits(t,a),require("./main").register(t),t}),define("esui/CommandMenu",["require","underscore","./lib","./Control","./Layer","./painters","./main"],function(require){function e(e){for(var t=e.target;t!==e.currentTarget&&!a.hasAttribute(t,"data-index");)t=t.parentNode;var n=+t.getAttribute("data-index"),i=this.datasource[n];i.disabled||(this.layer.hide(),t!==e.currentTarget&&(i&&"function"==typeof i.handler&&i.handler.call(this,i,n),this.fire("select",{item:i,index:n})))}function t(){o.apply(this,arguments)}function n(){r.apply(this,arguments),this.layer=new t(this)}var i=require("underscore"),a=require("./lib"),r=require("./Control"),o=require("./Layer");a.inherits(t,o),t.prototype.nodeName="ul",t.prototype.dock={strictWidth:!0},t.prototype.render=function(e){for(var t="",n=0;n<this.control.datasource.length;n++){var i=this.control.helper.getPartClasses("node");n===this.control.activeIndex&&i.push.apply(i,this.control.helper.getPartClasses("node-active")),this.control.datasource[n].disabled&&i.push.apply(i,this.control.helper.getPartClasses("node-disabled")),t+='<li data-index="'+n+'" class="'+i.join(" ")+'">',t+=this.control.getItemHTML(this.control.datasource[n])}e.innerHTML=t},t.prototype.initBehavior=function(t){this.control.helper.addDOMEvent(t,"click",e)},n.prototype.type="CommandMenu",n.prototype.itemTemplate="<span>${text}</span>",n.prototype.getItemHTML=function(e){var t={text:i.escape(e.text)};return a.format(this.itemTemplate,t)},n.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",i.bind(this.layer.toggle,this.layer))};var s=require("./painters");return n.prototype.repaint=s.createRepaint(r.prototype.repaint,s.style("width"),s.style("height"),{name:"datasource",paint:function(e){e.layer.repaint()}},s.text("displayText"),{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}}),n.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),r.prototype.dispose.apply(this,arguments))},a.inherits(n,r),require("./main").register(n),n}),define("esui/Control",["require","./lib","underscore","./main","./Helper","./SafeWrapper","mini-event/EventTarget"],function(require){function e(e){e=e||{},this.helper=new a(this),this.helper.changeStage("NEW"),this.children=[],this.childrenIndex={},this.currentStates={},this.domEvents={},this.main=e.main?e.main:this.createMain(e),this.id||e.id||(this.id=t.getGUID()),this.initOptions(e),this.helper.initViewContext(),this.helper.initExtensions(),this.helper.changeStage("INITED"),this.fire("init")}var t=require("./lib"),n=require("underscore"),i=require("./main"),a=require("./Helper");e.prototype={constructor:e,ignoreStates:["disabled"],getCategory:function(){return"control"},initOptions:function(e){e=e||{},this.setProperties(e)},createMain:function(){if(!this.type)return document.createElement("div");var e=this.type.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()});return document.createElement(i.getConfig("customElementPrefix")+"-"+e.slice(1))},initStructure:function(){},initEvents:function(){},render:function(){this.helper.isInStage("INITED")&&(this.fire("beforerender"),this.domIDPrefix=this.viewContext.id,this.initStructure(),this.initEvents(),this.main.id||(this.main.id=this.helper.getId()),this.main.setAttribute(i.getConfig("instanceAttr"),this.id),this.main.setAttribute(i.getConfig("viewContextAttr"),this.viewContext.id),this.helper.addPartClasses(),this.states&&(this.states="string"==typeof this.states?this.states.split(" "):this.states,n.each(this.states,this.addState,this))),this.repaint(),this.helper.isInStage("INITED")&&(this.helper.changeStage("RENDERED"),this.fire("afterrender"))},repaint:function(e,t){if(!t||t.hasOwnProperty("disabled")){this[this.disabled?"addState":"removeState"]("disabled")}if(!t||t.hasOwnProperty("hidden")){this[this.hidden?"addState":"removeState"]("hidden")}},appendTo:function(t){t instanceof e&&(t=t.main),t.appendChild(this.main),(this.helper.isInStage("NEW")||this.helper.isInStage("INITED"))&&this.render()},insertBefore:function(t){t instanceof e&&(t=t.main),t.parentNode.insertBefore(this.main,t),(this.helper.isInStage("NEW")||this.helper.isInStage("INITED"))&&this.render()},dispose:function(){this.helper.isInStage("DISPOSED")||(this.helper.beforeDispose(),this.helper.dispose(),this.helper.afterDispose())},destroy:function(){var e=this.main;this.dispose(),t.removeNode(e)},get:function(e){var n=this["get"+t.pascalize(e)];return"function"==typeof n?n.call(this):this[e]},set:function(e,n){var i=this["set"+t.pascalize(e)];if("function"==typeof i)return i.call(this,n);var a={};a[e]=n,this.setProperties(a)},isPropertyChanged:function(e,t,n){return n!==t},setProperties:function(e){this.stage||(e.hasOwnProperty("id")&&(this.id=e.id),e.hasOwnProperty("group")&&(this.group=e.group),e.hasOwnProperty("skin")&&(this.skin=e.skin)),delete e.id,delete e.group,delete e.skin,e.hasOwnProperty("viewContext")&&(this.setViewContext(e.viewContext),delete e.viewContext),this.hasOwnProperty("disabled")&&(this.disabled=!!this.disabled),this.hasOwnProperty("hidden")&&(this.hidden=!!this.hidden);var n=[],i={};for(var a in e)if(e.hasOwnProperty(a)){var r=e[a],o="get"+t.pascalize(a)+"Property",s=this[o]?this[o]():this[a];if(this.isPropertyChanged(a,r,s)){this[a]=r;var l={name:a,oldValue:s,newValue:r};n.push(l),i[a]=l}}return n.length&&this.helper.isInStage("RENDERED")&&this.repaint(n,i),i},setViewContext:function(e){var t=this.viewContext;if(t!==e){t&&(this.viewContext=null,t.remove(this)),this.viewContext=e,e&&e.add(this);var n=this.children;if(n)for(var a=0,r=n.length;a<r;a++)n[a].setViewContext(e);this.viewContext&&this.helper.isInStage("RENDERED")&&this.main.setAttribute(i.getConfig("viewContextAttr"),this.viewContext.id)}},setDisabled:function(e){this[e?"disable":"enable"]()},disable:function(){this.addState("disabled")},enable:function(){this.removeState("disabled")},isDisabled:function(){return this.hasState("disabled")},show:function(){this.removeState("hidden"),this.fire("show")},hide:function(){this.addState("hidden")},toggle:function(){this[this.isHidden()?"show":"hide"]()},isHidden:function(){return this.hasState("hidden")},addState:function(e){if(!this.hasState(e)){this.currentStates[e]=!0,this.helper.addStateClasses(e);var t={};t[e.replace(/-(\w)/,function(e,t){return t.toUpperCase()})]=!0,this.setProperties(t)}},removeState:function(e){if(this.hasState(e)){this.currentStates[e]=!1,this.helper.removeStateClasses(e);var t={};t[e.replace(/-(\w)/,function(e,t){return t.toUpperCase()})]=!1,this.setProperties(t)}},toggleState:function(e){this[this.hasState(e)?"removeState":"addState"](e)},hasState:function(e){return!!this.currentStates[e]},addChild:function(e,t){t=t||e.childName,e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this,t&&(e.childName=t,this.childrenIndex[t]=e),this.viewContext!==e.viewContext&&e.setViewContext(this.viewContext)},removeChild:function(e){for(var t=this.children,n=t.length;n--;)t[n]===e&&t.splice(n,1);var i=e.childName;i&&(this.childrenIndex[i]=null),e.parent=null},disposeChildren:function(){for(var e=this.children.slice(),t=0;t<e.length;t++)e[t].dispose();this.children=[],this.childrenIndex={}},getChild:function(e){return this.childrenIndex[e]||null},getChildSafely:function(e){var t=this.getChild(e);if(!t){(t=new(require("./SafeWrapper"))).childName=e,t.parent=this,this.viewContext&&(t.viewContext=this.viewContext)}return t},initChildren:function(e,t){this.helper.initChildren(e,t)}};var r=require("mini-event/EventTarget");return t.inherits(e,r),e}),define("esui/ControlCollection",["require","underscore"],function(require){function e(){this.length=0}var t=require("underscore");return e.prototype.splice=Array.prototype.splice,e.prototype.add=function(e){t.indexOf(this,e)<0&&[].push.call(this,e)},e.prototype.remove=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return void[].splice.call(this,t,1)},e.prototype.each=function(e,n){t.each(this,function(t,i){e.call(n||t,t,i,this)})},e.prototype.invoke=function(e){var n=[this];return n.push.apply(n,arguments),t.invoke.apply(t,n)},t.each(["enable","disable","setDisabled","show","hide","toggle","addChild","removeChild","set","setProperties","addState","removeState","toggleState","on","off","fire","dispose","destroy","setViewContext","render","repaint","appendTo","insertBefore"],function(t){e.prototype[t]=function(){var e=[t];e.push.apply(e,arguments);var n=this.invoke.apply(this,e);return n&&n[0]}}),t.each(["isDisabled","isHidden","hasState","get","getCategory","getChild","getChildSafely"],function(t){e.prototype[t]=function(){var e=this[0];return e?e[t].apply(e,arguments):undefined}}),e}),define("esui/controlHelper",["require","./lib","./Helper","./painters","underscore","./Layer"],function(require){var e=require("./lib"),t=require("./Helper"),n={};n.getGUID=e.getGUID;n.createRepaint=require("./painters").createRepaint,require("underscore").each(["initViewContext","initExtensions","isInStage","changeStage","dispose","beforeDispose","afterDispose","getPartClasses","addPartClasses","removePartClasses","getStateClasses","addStateClasses","removeStateClasses","getId","replaceMain","addDOMEvent","removeDOMEvent","clearDOMEvents"],function(e){n[e]=function(n){var i=n.helper||new t(n),a=[].slice.call(arguments,1);return i[e].apply(i,a)}}),n.extractValueFromInput=function(t,n){var i=t.main;e.isInput(i)&&(i.value&&!n.value&&(n.value=i.value),i.name&&!n.name&&(n.name=i.name),!i.disabled||null!==n.disabled&&n.disabled!==undefined||(n.disabled=i.disabled),!i.readOnly||null!==n.readOnly&&n.readOnly!==undefined||(n.readOnly=i.readonly||i.readOnly))};var i=n.layer={},a=require("./Layer");return i.create=a.create,i.getZIndex=a.getZIndex,i.moveToTop=a.moveToTop,i.moveTo=a.moveTo,i.resize=a.resize,i.attachTo=a.attachTo,i.centerToView=a.centerToView,n}),define("esui/Crumb",["require","underscore","./lib","./Control","./painters","./main"],function(require){function e(){a.apply(this,arguments)}function t(e){for(var t=e.target,n=i.getChildren(this.main);t!==this.main;){if(this.helper.isPart(t,"node")){var a=i.hasAttribute(t,"data-index")?t.getAttribute("data-index"):function(e,t){for(var n=e.length-1;n>-1;n-=2)if(e[n]===t)return n/2}(n,t),r=this.fire("click",{item:this.path[a]});return r.isDefaultPrevented()&&e.preventDefault(),void(r.isPropagationStopped()&&e.stopPropagation())}t=t.parentNode}}var n=require("underscore"),i=require("./lib"),a=require("./Control");e.defaultProperties={separator:">"},e.prototype.type="Crumb",e.prototype.initOptions=function(t){var a={path:[]};n.extend(a,e.defaultProperties,t);var r=i.getChildren(this.main);!t.path&&r.length&&(a.path=n.map(r,function(e){var t={text:i.getText(e)};return"a"===e.nodeName.toLowerCase()&&(t.href=i.getAttribute(e,"href")),t})),this.setProperties(a)},e.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",t)},e.prototype.textNodeTemplate='<span class="${classes}" data-index="${index}">${text}</span>',e.prototype.linkNodeTemplate='<a class="${classes}" href="${href}" data-index="${index}">${text}</a>',e.prototype.separatorTemplate='<span class="${classes}">${text}</span>',e.prototype.getNodeHTML=function(e,t){var a=this.helper.getPartClasses("node");0===t&&a.push.apply(a,this.helper.getPartClasses("node-first")),t===this.path.length-1&&a.push.apply(a,this.helper.getPartClasses("node-last"));var r=e.href?this.linkNodeTemplate:this.textNodeTemplate,o={href:n.escape(e.href),text:n.escape(e.text),index:t,classes:a.join(" ")};return i.format(r,o)},e.prototype.getSeparatorHTML=function(){return i.format(this.separatorTemplate,{classes:this.helper.getPartClassName("separator"),text:n.escape(this.separator)})};var r=require("./painters");return e.prototype.repaint=r.createRepaint(a.prototype.repaint,{name:["path","separator"],paint:function(e,t){var i=n.map(t,e.getNodeHTML,e),a=e.getSeparatorHTML();e.main.innerHTML=i.join(a)}}),require("./main").register(e),i.inherits(e,a),e}),define("esui/Dialog",["require","./Button","./Panel","inf-i18n","underscore","./lib","./controlHelper","./Control","./main"],function(require){function e(e){p.apply(this,arguments)}function t(){var e=document.getElementById(f.getId(this,this.maxIcon)),t=[].concat(f.getPartClasses(this,this.maxIcon));c.removeClasses(e,t),this.isMax?(this.main.style.width=this.width+"px",this.main.style.height="",this.maxIcon="maximize-icon",this.isMax=!1):(this.main.style.width="100%",this.main.style.height="100%",this.maxIcon="restore-icon",this.isMax=!0),t=[].concat(f.getPartClasses(this,this.maxIcon)),c.setAttribute(e,"id",f.getId(this,this.maxIcon)),c.addClasses(e,t),i.apply(this),this.fire("afterResize")}function n(){if(this.fire("beforeclose").isDefaultPrevented())return!1;this.hide(),this.fire("close"),this.closeOnHide&&this.dispose()}function i(){var e=c.page,t=this.main,n=this.left,i=this.top,a=this.right,r=this.bottom;if(n!==undefined&&null!==n||(n=(e.getViewWidth()-t.offsetWidth)/2),n<0&&(n=0),i!==undefined&&null!==i||(i=(e.getViewHeight()-t.offsetHeight)/2),i=Math.max(i,0),t.style.left=n+"px",t.style.top=e.getScrollTop()+i+"px",a!==undefined&&null!==a&&(t.style.right=a+"px"),r!==undefined&&null!==r&&(t.style.bottom=r+"px"),"auto"===this.height){var o=e.getViewHeight()-i;t.style.height=o+"px";var s=this.getBody().main,l=this.getHead().main,u=parseInt(c.getStyle(l,"height"),10);s.style.height=o-u+"px"}}function a(e,t,n){n?f.addDOMEvent(e,t,"selectstart",function(e){e.preventDefault()}):f.removeDOMEvent(e,t,"selectstart")}function r(e){var t=e.button,n=!1;if((!e.which&&1===t||1===e.which)&&(n=!0),n){var i=document;this.addState("dragging"),a(this,this.main,!0),f.addDOMEvent(this,i,"mousemove",o),f.addDOMEvent(this,i,"mouseup",s),c.event.getMousePosition(e),this.dragStartPos={x:e.pageX,y:e.pageY}}}function o(e){c.event.getMousePosition(e);var t=e.pageX-this.dragStartPos.x,n=e.pageY-this.dragStartPos.y;this.dragStartPos={x:e.pageX,y:e.pageY};var i=this.main,a=c.getOffset(i),r=a.left+t,o=a.top+n,s=c.page.getWidth(),l=c.page.getHeight(),u=c.getOffset(i);o<0?o=0:o>l-u.height&&(o=l-u.height),r<0?r=0:r>s-u.width&&(r=s-u.width),i.style.left=r+"px",i.style.top=o+"px"}function s(e){f.removeDOMEvent(this,document,"mousemove",o),f.removeDOMEvent(this,document,"mouseup",s),this.removeState("dragging"),a(this,this.main,!1)}function l(e){var t=f.getId(e),n=v+"-"+t;return c.g(n)||function(e){var t=document.createElement("div");t.id=e,document.body.appendChild(t)}(n),c.g(n)}require("./Button"),require("./Panel");var u=require("inf-i18n"),d=require("underscore"),c=require("./lib"),f=require("./controlHelper"),p=require("./Control"),h=require("./main"),v="ctrl-mask";return e.OK_TEXT=u("确定"),e.CANCEL_TEXT=u("取消"),e.prototype={constructor:e,type:"Dialog",initOptions:function(t){!function(e){var t=e.main;if(t){for(var n,i=c.getChildren(t),a=i.length,r={};a--;)(n=i[a].getAttribute("data-role"))&&(r[n]=i[a]);e.roles=r}}(t);var n={maxButton:!1,maxIcon:"maximize-icon",isMax:!1,closeButton:!0,closeOnHide:!0,draggable:!1,mask:!0,title:"我是标题",content:"<p>我是内容</p>",defaultFoot:'<div class="'+this.helper.getPartClassName("ok-btn")+'" data-ui="type:Button;id:btnFootOk;childName:btnOk;skin:spring;">'+(t.okText||e.OK_TEXT)+'</div><div class="'+this.helper.getPartClassName("cancel-btn")+'" data-ui="type:Button;id:btnFootCancel;childName:btnCancel;">'+(t.cancelText||e.CANCEL_TEXT)+"</div>",needFoot:!0,roles:{}};"false"===t.closeOnHide&&(t.closeOnHide=!1),"false"===t.closeButton&&(t.closeButton=!1),"false"===t.mask&&(t.mask=!1),"false"===t.needFoot&&(t.needFoot=!1),c.extend(n,t),n.needFoot&&(n.foot||(n.foot=n.defaultFoot)),this.setProperties(n)},initStructure:function(){var e=this.main;e.parentNode&&"body"!==e.parentNode.nodeName.toLowerCase()&&document.body.appendChild(e),this.addState("hidden"),function(e,t){var n="";e.closeButton&&(n=c.format('<div class="${clsClass}" id="${clsId}">&nbsp;</div>',{clsId:f.getId(e,"close-icon"),clsClass:f.getPartClasses(e,"close-icon").join(" ")}));var i="";e.maxButton&&(i=c.format('<div class="${maxClass}" id="${maxId}"></div>',{maxId:f.getId(e,e.maxIcon),maxClass:f.getPartClasses(e,e.maxIcon).join(" ")}));var a=[].concat(f.getPartClasses(e,"head")),r={titleId:f.getId(e,"title"),titleClass:f.getPartClasses(e,"title").join(" "),maxIcon:i,closeIcon:n},o=c.format('<div id="${titleId}" class="${titleClass}"></div>${maxIcon}${closeIcon}',r);t?e.title=t.innerHTML:(t=document.createElement("div"),e.main.firstChild?c.insertBefore(t,e.main.firstChild):e.main.appendChild(t)),t.innerHTML=o,c.addClasses(t,a);var s={main:t,renderOptions:e.renderOptions},l=h.create("Panel",s);l.render(),e.addChild(l,"head")}(this,this.roles.title),this.createBF("body",this.roles.content),this.needFoot&&this.createBF("foot",this.roles.foot)},initEvents:function(){if(this.closeButton){var e=c.g(f.getId(this,"close-icon"));e&&f.addDOMEvent(this,e,"click",c.curry(n,this))}if(this.maxButton){var i=c.g(f.getId(this,this.maxIcon));i&&f.addDOMEvent(this,i,"click",c.curry(t,this))}},createBF:function(e,t){if(t)this.content=t.innerHTML;else if(t=document.createElement("div"),"body"===e){var n=this.getChild("head");n?c.insertAfter(t,n.main):this.main.firstChild?c.insertBefore(t,n,this.main.firstChild):this.main.appendChild(t)}else this.main.appendChild(t);c.addClasses(t,f.getPartClasses(this,e+"-panel"));var i={main:t,renderOptions:this.renderOptions},a=h.create("Panel",i);return a.render(),this.addChild(a,e),a},repaint:f.createRepaint(p.prototype.repaint,{name:"height",paint:function(e,t){"auto"===t?e.main.style.height="auto":t&&(e.main.style.height=t+"px"),e.isShow&&i.apply(e)}},{name:"width",paint:function(e,t){"auto"===t?e.main.style.width="auto":t&&(e.main.style.width=t+"px"),e.isShow&&i.apply(e)}},{name:"title",paint:function(e,t){var n=f.getId(e,"title");c.g(n).innerHTML=t}},{name:"content",paint:function(e,t){if(t){var n=e.getBody(),i=f.getId(e,"body"),a={"class":f.getPartClasses(e,"body").join(" "),id:i,content:t};n.setContent(c.format('<div class="${class}" id="${id}">${content}</div>',a))}}},{name:"foot",paint:function(e,t){var n=f.getId(e,"foot"),i=f.getPartClasses(e,"foot"),a=e.getFoot();if(null==t)e.needFoot=!1,a&&e.removeChild(a);else{e.needFoot=!0;var r={"class":i.join(" "),id:n,content:t};a||(a=e.createBF("foot")),a.setContent(c.format('<div class="${class}" id="${id}">${content}</div>',r))}}},{name:"draggable",paint:function(e,t){var n=!1;t?e.addState("draggable"):(e.removeState("draggable"),n=!0),function(e,t){var n=e,i=e.getChild("head").main;!0===t?f.removeDOMEvent(n,i,"mousedown",r):f.addDOMEvent(n,i,"mousedown",r)}(e,n)}}),getBody:function(){return this.getChild("body")},getHead:function(){return this.getChild("head")},getFoot:function(){return this.getChild("foot")},show:function(){var e=this.mask;if(f.isInStage(this,"INITED"))this.render();else if(f.isInStage(this,"DISPOSED"))return;f.addDOMEvent(this,window,"resize",i),this.setWidth(this.width),this.removeState("hidden"),i.apply(this);for(var t=1203,n=document.body.children,a=0,r=0,o=n.length;r<o;r++)1===n[r].nodeType&&c.hasClass(n[r],this.helper.getPrimaryClassName())&&!c.hasClass(n[r],this.helper.getPrimaryClassName("hidden"))&&a++;t+=10*a,this.main.style.zIndex=t,this.main.style.opacity="1",e&&function(e,t){var n=l(e),i=[],a=f.getPartClasses(e,"mask").join(" ");i.push(a),n.className=i.join(" "),n.style.display="block",n.style.zIndex=t}(this,t-1),this.isShow||(this.isShow=!0,this.fire("show"))},hide:function(){this.isShow&&(this.isShow=!1,f.removeDOMEvent(this,window,"resize",i),this.addState("hidden"),this.mask&&function(e){var t=l(e);void 0!==t&&c.removeNode(t)}(this),this.fire("hide"))},setTitle:function(e){this.setProperties({title:e})},setContent:function(e){this.setProperties({content:e})},setFoot:function(e){this.setProperties({foot:e})},setHeight:function(e){this.setProperties({height:e})},setWidth:function(e){this.setProperties({width:e})},resize:function(){i.apply(this)},dispose:function(){if(!this.helper.isInStage("DISPOSED")){this.hide();var e=this.main.id;c.removeNode(e),p.prototype.dispose.apply(this,arguments)}}},e.confirm=function(t){function n(e,t){e.fire(t).isDefaultPrevented()||e.dispose()}d.defaults(t,{title:"",content:"",okText:t.okText||e.OK_TEXT,cancelText:t.cancelText||e.CANCEL_TEXT,encode:!0,needFoot:!0,closeButton:!1}),t.encode&&(t.title=d.escape(t.title),t.content=d.escape(t.content),t.okText=d.escape(t.okText),t.cancelText=d.escape(t.cancelText));var i={type:"confirm",skin:"confirm",title:""};c.extend(i,t);var a=['<div class="${prefix}-icon ${prefix}-icon-${type}"></div>','<div class="${prefix}-text">${content}</div>'].join("");i.id=f.getGUID("dialog-confirm"),i.mask=!0,i.alwaysTop=!0;var r=i.type;i.type=null;var o=h.create("Dialog",i);if(o.appendTo(document.body),o.show(),i.needFoot){var s=o.getFoot().getChild("btnOk"),l=o.getFoot().getChild("btnCancel");s.setContent(t.okText),l.setContent(t.cancelText),i.btnHeight&&(s.set("height",i.btnHeight),l.set("height",i.btnHeight)),i.btnWidth&&(s.set("width",i.btnWidth),l.set("width",i.btnWidth)),s.on("click",c.curry(n,o,"ok")),l.on("click",c.curry(n,o,"cancel"))}return o.setTitle(t.title),o.setContent(c.format(a,{type:r,content:t.content,prefix:o.helper.getPrimaryClassName()})),o},e.alert=function(t){d.defaults(t,{title:"",content:"",okText:t.okText||e.OK_TEXT,encode:!0,needFoot:!0,closeButton:!1}),t.encode&&(t.title=d.escape(t.title),t.content=d.escape(t.content),t.okText=d.escape(t.okText));var n={type:"warning",skin:"alert",title:""};c.extend(n,t);var i=['<div class="${prefix}-icon ${prefix}-icon-${type}"></div>','<div class="${prefix}-text">${content}</div>'].join(""),a=f.getGUID("dialog-alert");n.id=a,n.mask=!0,n.alwaysTop=!0;var r=n.type;n.type=null;var o=h.create("Dialog",n);if(o.appendTo(document.body),o.setTitle(t.title),o.setContent(c.format(i,{type:r,content:t.content,prefix:o.helper.getPrimaryClassName()})),o.show(),n.needFoot){o.setFoot('<div class="'+o.helper.getPartClassName("ok-btn")+'" data-ui="type:Button;childName:okBtn;id:'+a+'-dialog-alert-ok; skin:spring;width:50;">'+t.okText+"</div>");var s=o.getFoot().getChild("okBtn");s.on("click",c.curry(function(e,t){e.fire("ok"),t.dispose(),e.dispose()},o,s)),n.btnHeight&&s.set("height",n.btnHeight),n.btnwidth&&s.set("width",n.btnwidth)}return o},c.inherits(e,p),h.register(e),e}),define("esui/Extension",["require","./lib"],function(require){function e(e){t.extend(this,e)}var t=require("./lib");return e.prototype.target=null,e.prototype.active=!1,e.prototype.isActive=function(){return this.active},e.prototype.activate=function(){this.active=!0},e.prototype.inactivate=function(){this.active=!1},e.prototype.attachTo=function(e){this.target&&this.target!==e&&this.active&&this.inactivate(),this.target=e,this.active||this.activate()},e.prototype.dispose=function(){this.active&&this.inactivate(),this.target=null},e}),define("esui/extension/AutoSort",["require","underscore","../Table","../Extension","../lib","../main"],function(require){function e(){a.apply(this,arguments)}function t(e){var t=e.field.comparer;if(!t){var i=e.field.field;t=function(e,t){return i&&(e=e[i],t=t[i]),n.isString(e)&&n.isString(t)?e.localeCompare(t):e-t}}var a=this.datasource;a.sort(function(n,i){var a=t(n,i);return"asc"===e.order?a:-a}),this.setDatasource(a)}var n=require("underscore"),i=require("../Table"),a=require("../Extension");return e.prototype.type="AutoSort",e.prototype.activate=function(){this.target instanceof i&&(this.target.on("sort",t),a.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){this.target instanceof i&&(this.target.un("sort",t),a.prototype.inactivate.apply(this,arguments))},require("../lib").inherits(e,a),require("../main").registerExtension(e),e}),define("esui/extension/Command",["require","underscore","../lib","../Extension","mini-event","../main"],function(require){function e(e){(e=e||{}).events?e.events=n.splitTokenList(e.events):e.events=["click"],i.apply(this,arguments)}var t=require("underscore"),n=require("../lib"),i=require("../Extension");return e.prototype.type="Command",e.prototype.handleCommand=function(e){for(var t=e.target,n=this.main&&this.main.parentNode;t&&t!==n;){if(1===t.nodeType&&(!0!==t.disabled||"click"!==e.type)){var i=t.getAttribute("data-command");if(i){var a=t.getAttribute("data-command-args"),r=require("mini-event").fromDOMEvent(e,"command",{name:i,triggerType:e.type,args:a});if((r=this.fire("command",r)).isPropagationStopped())return}}t=t.parentNode}},e.prototype.activate=function(){for(var e=0;e<this.events.length;e++)this.target.helper.addDOMEvent(this.target.main,this.events[e],this.handleCommand);i.prototype.activate.apply(this,arguments)},e.prototype.inactivate=function(){for(var e=0;e<this.events.length;e++)this.target.helper.removeDOMEvent(this.target.main,this.events[e],this.handleCommand);i.prototype.inactivate.apply(this,arguments)},e.createDispatcher=function(e){var i=e;if(t.isArray(e)){i={};for(var a=0;a<e.length;a++){var r=e[a],o=r.triggerType?r.triggerType+":"+r.name:r.name;i[o]=r.handler}}return function(e){var t=i[e.triggerType+":"+e.name];if(t||(t=i[e.name]),!t){t=this["execute"+n.pascalize(e.name)+n.pascalize(e.triggerType)]}if("function"!=typeof t){t=this["execute"+n.pascalize(e.name)]}"function"!=typeof t&&(t=i[e.triggerType+":*"]),t||(t=i["*"]),"function"==typeof t&&t.apply(this,arguments)}},n.inherits(e,i),require("../main").registerExtension(e),e}),define("esui/extension/CustomData",["require","../Extension","../main","../lib"],function(require){function e(){t.apply(this,arguments)}var t=require("../Extension");e.prototype.type="CustomData";var n=/^data[A-Z0-9]/;return e.prototype.activate=function(){t.prototype.activate.apply(this,arguments);var e=this.target.data;"object"!=typeof e&&(e=require("../main").parseAttribute(this.target.data));for(var i in this.target)if(this.target.hasOwnProperty(i)&&n.test(i)){var a=i.charAt(4).toLowerCase()+i.slice(5);e[a]=this.target[i]}this.target.getData=function(t){return e[t]},this.target.setData=function(t,n){e[t]=n}},e.prototype.inactivate=function(){t.prototype.inactivate.apply(this,arguments),delete this.target.getData,delete this.target.setData},require("../lib").inherits(e,t),require("../main").registerExtension(e),e}),define("esui/extension/TableEdit",["require","../validator/MaxLengthRule","../validator/MaxRule","../validator/MinRule","../validator/RequiredRule","../validator/PatternRule","inf-i18n","../Extension","../lib","../controlHelper","../main","../Table","../validator/ValidityState","../validator/Validity"],function(require){function e(e,n){G=e,F=n.rowIndex,j=n.columnIndex,V||(V=T.layer.create(),document.body.appendChild(V),V.className=e.helper.getPartClassName("editor"),V.innerHTML=C.format(D,{inputFieldId:E,okId:O,cancelId:N,okText:y.okText||R,cancelText:y.cancelText||B,optClass:G.helper.getPartClassName("editor-opt"),errorClass:G.helper.getPartClassName("editor-error"),errorId:L,labelId:P,noteClass:G.helper.getPartClassName("editor-note")}),function(e){W=t(e,O),Y=t(e,N),W.on("click",r()),Y.on("click",function(){u()}),c(1)}(Q=k.init(V))),V.style.zIndex=e.zIndex||"",n.field&&n.field.editWidth?V.style.width=n.field.editWidth+"px":V.style.width="200px",function(e,n){n.field&&n.field.editNote?(U||(U=t(e,P)),U.setText(n.field.editNote),U.show()):U&&U.setText("")}(Q,n),function(e){if(e.field&&Z!==e.field){z&&z.dispose(),z=null;var t=A+X++,n=M+X,i=C.g(E),a=C.g(L);i.innerHTML=C.format($,{inputId:t}),a.innerHTML=C.format(q,{validId:n});var o={properties:{}};o.properties[t]=C.extend({id:t,width:e.field.editWidth-22||178,height:28,validityLabel:M+X},e.field.editRules),z=k.init(i,o)[0],k.init(a),z.on("enter",r()),Z=e.field}}(n)}function t(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.id===t)return i}}function n(){V&&(V.style.display="none")}function i(){V&&(V.style.display="")}function a(e){if(e){var t=new I;t.addState("TableEditCustomRule",new S(!1,e)),z.showValidity(t)}}function r(){return function(){!function(){if(z.validate()){var e={value:z.getValue(),rowIndex:F,columnIndex:j,field:G.realFields[j]};e=G.fire("saveedit",e),x(G,"saveedit",e),e.isDefaultPrevented()?function(e){this===G&&e.errorMsg&&a(e.errorMsg)}.call(G,e):function(e){this===G&&(n(),H=0)}.call(G,e)}}()}}function o(){this===G&&l(this)}function s(){this===G&&l(this)}function l(e){if(V){var t=C.g(e.getBodyCellId(F,j));t&&T.layer.attachTo(V,t)}}function u(){H=0,n(),c(1);var e={rowIndex:F,columnIndex:j,field:G.realFields[j]};e=G.fire("canceledit",e),x(G,"canceledit",e)}function d(t,n){H&&G&&u(),H=1,e(t,n),c(0),i();var a=C.g(t.getBodyCellId(n.rowIndex,n.columnIndex));T.layer.attachTo(V,a),function(e){z.setValue(e)}(n.value),function(e){var t=new I;t.addState("TableEditCustomRule",new S(!0)),z.showValidity(t)}()}function c(e){W.setDisabled(e),Y.setDisabled(e)}function f(e,t){if(this.startEdit){var n=C.getAttribute(e,"data-row"),i=C.getAttribute(e,"data-col");this.startEdit(n,i,e)}}function p(e,t,n){if(this.editable){var i=this.realFields[t],a={rowIndex:e,columnIndex:t,field:i};if(a=this.fire("startedit",a),x(this,"startedit",a),!a.isDefaultPrevented()){var r=this.datasource[e],o=i.editContent;d(this,{field:i,rowIndex:e,columnIndex:t,element:n,value:"function"==typeof o?o.call(this,r,e,t):r[i.field]})}}}function h(){this===G&&u()}function v(){this===G&&n()}function m(e){this===G&&(i(),e&&a(e))}function g(e,t,n,i,a,r){var o=n.editable;if("function"==typeof o&&(o=o.call(e,t,i,a,r)),e.editable&&o)return{textClass:e.getClass("cell-editable"),html:C.format(K,{className:e.getClass("cell-editentry"),row:i,col:a})}}function x(e,t,n){var i=n.field["on"+t];i&&"[object Function]"===Object.prototype.toString.call(i)&&i.call(e,n)}function y(){w.apply(this,arguments)}require("../validator/MaxLengthRule"),require("../validator/MaxRule"),require("../validator/MinRule"),require("../validator/RequiredRule"),require("../validator/PatternRule");var b=require("inf-i18n"),w=require("../Extension"),C=require("../lib"),T=require("../controlHelper"),k=require("../main"),_=require("../Table"),S=require("../validator/ValidityState"),I=require("../validator/Validity"),D=['<div class="${optClass}">','<div id="${inputFieldId}"></div>','<div data-ui="id:${labelId};type:Label;hidden:true;" class="${noteClass}"></div>','<div data-ui="id:${okId};type:Button;skin:ok">${okText}</div>','<div data-ui="id:${cancelId};type:Button;skin:cancel">',"${cancelText}","</div>","</div>",'<div class="${errorClass}" id="${errorId}"></div>'].join(""),E="ctrl-table-editor-inputField",P="ctrl-table-editor-note",A="ctrl-table-editorInput",M="ctrl-table-editor-validityLabel",O="ctrl-table-editor-ok",N="ctrl-table-editor-cancel",L="ctrl-table-editor-error",R=b("确定"),B=b("取消"),$='<input data-ui="type:TextBox;id:${inputId}"/>',q='<label data-ui="type:Validity;id:${validId}"></label>',F=-1,j=-1,H=0,V=null,z=null,U=null,W=null,Y=null,G=null,Z=null,X=1,Q=null,K='<div class="${className}" data-row="${row}" data-col="${col}"></div>';return y.prototype.type="TableEdit",y.prototype.activate=function(){var e=this.target;e instanceof _&&(e.startEdit=p,e.cancelEdit=h,e.hideEditLayer=v,e.showEditError=m,e.addRowBuilders([{index:3,getColHtml:g}]),e.addHandlers("click",{handler:f,matchFn:T.getPartClasses(e,"cell-editentry")[0]}),e.on("enddrag",o),e.on("resize",s),w.prototype.activate.apply(this,arguments))},y.prototype.inactivate=function(){var e=this.target;e instanceof _&&(delete e.startEdit,delete e.cancelEdit,e.un("enddrag",o),e.un("resize",s),function(e){if(e===G){n(),z.dispose(),W.dispose(),Y.dispose();try{V&&document.body.removeChild(V)}catch(t){}V=null,z=null,W=null,Y=null,G=null,Z=null}}(e),w.prototype.inactivate.apply(this,arguments))},C.inherits(y,w),k.registerExtension(y),y}),define("esui/extension/TableSubrow",["require","../Extension","../lib","../controlHelper","../main","../Table"],function(require){function e(e,t){return k.getId(e,t)}function t(e,t){return k.getPartClasses(e,t).join(" ")}function n(e,t){return T.getAttribute(e,"data-"+t)}function i(e,t,n){T.setAttribute(e,"data-"+t,n)}function a(t,n){return e(t,"subrow")+n}function r(t,n,i){return e(t,"subentry")+n+i}function o(e,t){return{subrow:e.subrow&&"false"!=e.subrow,iconClassName:e.iconClassName||"icon-downarrow"}}function s(e,t){l(this,e)}function l(e,t){var n="subentry-hover";/subentry-opened/.test(t.className)&&(n="subentry-opened-hover"),k.addPartClasses(e,n,t)}function u(e,t){d(this,e)}function d(e,t){k.removePartClasses(e,"subentry-hover",t),k.removePartClasses(e,"subentry-opened-hover",t)}function c(e,i){var a=n(e,"index"),r=n(e,"fieldIndex"),o=this.datasource,s=o instanceof Array&&o.length;if(s&&!(a>=s)){if(n(e,"subrowopened"))v(this,a,e);else{var u={index:a,item:o[a],fieldIndex:r};u=this.fire("subrowopen",u);for(var d=this.getRow(a).querySelectorAll("."+t(this,"subentry-opened")),c=0;c<d.length;c++){var p=d[c];e!=p&&n(p,"subrowopened")&&f(this,a,p)}u.isDefaultPrevented()||m(this,a,e)}l(this,e)}}function f(e,t,n){d(e,n),k.removePartClasses(e,"subentry-opened",n),i(n,"title",e.subEntryOpenTip),i(n,"subrowopened",""),T.g(a(e,t)).style.display="none",T.g(a(e,"-arrow-"+t)).style.display="none"}function p(e,t,i){var r=n(i,"fieldIndex"),o=T.g(e.getBodyCellId(t,r)),s=T.g(a(e,t)),l=T.g(a(e,"-arrow-"+t));l.style.left=i.offsetLeft+o.offsetLeft+1+"px",l.style.top=s.offsetTop-13+"px"}function h(e,n){if(!e.subrowMutex)for(var i=parseInt(n)+1;i<e.datasource.length;i++)for(var a=e.getRow(i).querySelectorAll("."+t(e,"subentry-opened")),r=0;r<a.length;r++)p(e,i,a[r])}function v(e,t,i){var a=n(i,"fieldIndex"),r={index:t,item:e.datasource[t],fieldIndex:a};return!(r=e.fire("subrowclose",r)).isDefaultPrevented()&&(e.subrowIndex=null,k.removePartClasses(e,"row-unfolded",e.getRow(t)),f(e,t,i),h(e,t),!0)}function m(e,t,o){var s=e.subrowIndex,l=1,u=n(o,"fieldIndex");if(function(e){return!(void 0===e||null===e)}(s)&&e.singleSubrow&&(l=v(e,s,T.g(r(e,s,u)))),l){k.addPartClasses(e,"subentry-opened",o),k.addPartClasses(e,"row-unfolded",e.getRow(t)),i(o,"title",e.subEntryCloseTip),i(o,"subrowopened","1");var d=T.g(a(e,t)),c=T.g(a(e,"-arrow-"+t));d.style.display="",c.style.display="",p(e,t,o),T.g(a(e,t)).style.display="",e.subrowMutex&&(e.subrowIndex=t),h(e,t)}}function g(e,n,i,a,o,s){var l=s.subrow,u=s.iconClassName,d=l&&i.subEntry,c={notInText:!0,width:e.subEntryWidth,align:"right"};if(d){!1!==("function"!=typeof i.isSubEntryShow||i.isSubEntryShow.call(e,n,a,o))&&(c.html=T.format(I,{className:t(e,"subentry"),id:r(e,a,o),title:e.subEntryOpenTip,index:a,fieldIndex:o,iconClassName:u})),c.colClass=t(e,"subentryfield")}return c}function x(n,i,r){var o=n.datasource?n.datasource.length:0;return r.subrow?'<span class="'+t(n,"subrow-arrow")+'" id="'+e(n,"subrow-arrow-"+i)+'" style="display:none"></span><div id="'+a(n,i)+'" class="'+t(n,"subrow")+" "+(o===i+1?t(n,"subrow-last"):"")+'" style="display:none"></div>':""}function y(e,t){return T.g(a(e,t))}function b(t,n){var i=y(t,n),a=e(t,"subrow-panel-"+n),r=t.viewContext.get(a);return r||(i.innerHTML=T.format(D,{id:a,index:n}),t.initChildren(i),r=t.viewContext.get(a),t.addChild(r)),r}function w(){C.apply(this,arguments)}var C=require("../Extension"),T=require("../lib"),k=require("../controlHelper"),_=require("../main"),S=require("../Table"),I='<div class="${className}" id="${id}" title="${title}" data-index="${index}" data-fieldIndex="${fieldIndex}"><i class="iconfont ${iconClassName}"></i></div>',D='<div data-ui="type:Panel;id:${id}" data-index="${index}"></div>';return w.prototype.type="TableSubrow",w.prototype.activate=function(){var e=this.target;if(e instanceof S){var n=(0,k.getPartClasses)(e,"subentry")[0];e.addRowBuilders([{index:0,getRowArgs:o,getColHtml:g,getSubrowHtml:x}]),e.addHandlers("click",{handler:c,matchFn:n}),e.addHandlers("mouseover",{handler:s,matchFn:n}),e.addHandlers("mouseout",{handler:u,matchFn:n}),e.getSubrow=function(e){return y(this,e)},e.setSubrowContent=function(e,t){var n=b(this,t);n&&n.set("content",e)},e.openSubrow=function(e,n){return m(e,n,e.getRow(n).getElementsByClassName(t(e,"subentry"))[0])},e.getSubrowContainer=function(e){return b(this,e)};var i=e.setDatasource;e.setDatasource=function(t,n){if(n=n||!0)for(var a in e.viewContext.controls)e.viewContext.controls.hasOwnProperty(a)&&a.indexOf("subrow-panel")>-1&&(e.viewContext.controls[a]=null);i.call(this,arguments[0])},C.prototype.activate.apply(this,arguments)}},w.prototype.inactivate=function(){var e=this.target;e instanceof S&&(delete e.getSubrow,C.prototype.inactivate.apply(this,arguments))},T.inherits(w,C),_.registerExtension(w),w}),define("esui/Form",["require","underscore","./lib","./main","./Panel"],function(require){function e(e){this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}function t(e,t){for(var n={},i=0;i<e.length;i++){var a=e[i];if(("check"!==a.getCategory()||a.isChecked())&&!a.isDisabled()){var r=a.get("name"),o=t(a);n.hasOwnProperty(r)?n[r]=[].concat(n[r],o):n[r]=o}}return n}function n(e){s.apply(this,arguments)}function i(e){var t=e.getCategory();return"input"===t||"check"===t}var a=require("underscore"),r=require("./lib"),o=require("./main"),s=require("./Panel");return e.prototype.splice=Array.prototype.splice,e.prototype.getData=function(){return t(this,function(e){return e.getRawValue()})},e.prototype.getDataAsString=function(){var e=t(this,function(e){var t=e.getValue();return encodeURIComponent(t)}),n="";return a.each(e,function(e,t){n+=encodeURIComponent(t)+"="+e}),n},e.prototype.getValueAsString=function(e){var t=this.getData()[e];return t?"string"==typeof t?t:t.join(","):""},e.prototype.checkAll=function(){for(var e=0;e<this.length;e++){var t=this[e];"check"===t.getCategory()&&t.setChecked(!0)}},e.prototype.uncheckAll=function(){for(var e=0;e<this.length;e++){var t=this[e];"check"===t.getCategory()&&t.setChecked(!1)}},e.prototype.checkInverse=function(){for(var e=0;e<this.length;e++){var t=this[e];"check"===t.getCategory()&&t.setChecked(!t.isChecked())}},e.prototype.checkByValue=function(e){for(var t=r.toDictionary(e),n=0;n<this.length;n++){var i=this[n];if("check"===i.getCategory()){var a=t.hasOwnProperty(i.getValue());i.setChecked(a)}}},n.defaultProperties={autoValidate:!1},n.prototype.type="Form",n.prototype.validateAndSubmit=function(){if(!this.fire("beforevalidate").isDefaultPrevented())try{var e=!this.get("autoValidate")||this.validate();if(this.fire("aftervalidate",{isValid:e}).isDefaultPrevented())return;var t={triggerSource:this};e?this.fire("submit",t):this.fire("invalid",t)}catch(n){this.fire("submitfail",{error:n})}},n.prototype.initEvents=function(){"form"===this.main.nodeName.toLowerCase()&&this.helper.addDOMEvent(this.main,"submit",function(e){return this.validateAndSubmit(),e.preventDefault(),!1})},n.prototype.createMain=function(e){var t=document.createElement("form");return t.method="POST",t.action=e.action||"",t},n.prototype.initOptions=function(e){var t=a.extend({},n.defaultProperties,e);"form"===this.main.nodeName.toLowerCase()?(t.action=this.main.getAttribute("action"),t.method=this.main.getAttribute("method")):t.method=this.method||"POST","false"===e.autoValidate?t.autoValidate=!1:t.autoValidate=!!t.autoValidate,s.prototype.initOptions.call(this,t)},n.prototype.getInputControls=function(t,n){function a(e,s){for(var l=s.children,u=l.length,d=0;d<u;d++){var c=l[d];if(1===c.nodeType){var f=o.getControlByDOM(c);!(f&&i(f)&&f.viewContext===e.viewContext&&f.get("name"))||t&&f.get("name")!==t||n&&f.get("type")!==n?a(e,c):r.push(f)}}}var r=[];return a(this,this.main),new e(r)},n.prototype.getData=function(){return this.getInputControls().getData()},n.prototype.getDataAsString=function(){return this.getInputControls().getDataAsString()},n.prototype.validate=function(){for(var e=this.getInputControls(),t=!0,n=0;n<e.length;n++){var i=e[n];i.isDisabled()||(t&=i.validate())}return!!t},n.prototype.repaint=function(e,t){s.prototype.repaint.apply(this,arguments);var n=!1;if(!t&&this.submitButton&&(n=!0),t&&t.hasOwnProperty("submitButton")){var i=t.submitButton;if(i.oldValue){for(var a=0;a<i.oldValue.length;a++){var r=this.viewContext.get(i.oldValue[a]);r&&r.un("click",this.validateAndSubmit,this)}n=!!this.submitButton}}if(n)for(a=0;a<this.submitButton.length;a++){var o=this.viewContext.get(this.submitButton[a]);o&&o.on("click",this.validateAndSubmit,this)}},n.prototype.setProperties=function(e){(e=a.clone(e)).submitButton=r.splitTokenList(e.submitButton),s.prototype.setProperties.call(this,e)},r.inherits(n,s),o.register(n),n}),define("esui/Frame",["require","esui/lib","esui/Control","esui/painters","esui"],function(require){function e(e){n.apply(this,arguments)}var t=require("esui/lib"),n=require("esui/Control");e.prototype.type="Frame",e.prototype.createMain=function(){return document.createElement("iframe")},e.prototype.initOptions=function(e){var n={};t.extend(n,e),n.src||(n.src=this.main.src),this.setProperties(n)},e.prototype.initStructure=function(){this.main.frameborder="no",this.main.marginHeight="0",this.main.marginWeight="0"},e.prototype.initEvents=function(){this.helper.delegateDOMEvent(this.main,"load"),this.helper.addDOMEvent(this.main,"message",function(e){var t={origin:e.origin,data:e.data};this.fire("message",t)})};var i=require("esui/painters");return e.prototype.repaint=i.createRepaint(n.prototype.repaint,{name:"src",paint:function(e,t){e.main.src!==t&&(e.main.src=t)}},i.style("height"),i.style("width")),e.prototype.callContentMethod=function(e){var t=[].slice.call(arguments,1),n=this.main.contentWindow;if(!n)throw new Error("No content window on this iframe");if("function"!=typeof n[e])throw new Error('No "'+e+'" method on window');return n[e].apply(n,t)},e.prototype.postMessage=function(e,t){var n=this.main.contentWindow;if(!n)throw new Error("No content window on this iframe");if("function"!=typeof n.postMessage)throw new Error("Current browser does not support postMessage");n.postMessage(e,t)},t.inherits(e,n),require("esui").register(e),e}),define("esui/Helper",["require","underscore","./helper/children","./helper/dom","./helper/event","./helper/html","./helper/life","./helper/template"],function(require){function e(e){this.control=e}return require("underscore").extend(e.prototype,require("./helper/children"),require("./helper/dom"),require("./helper/event"),require("./helper/html"),require("./helper/life"),require("./helper/template")),e}),define("esui/helper/children",["require","underscore","../main"],function(require){var e=require("underscore"),t=require("../main"),n={};return n.initChildren=function(n,i){n=n||this.control.main,(i=e.extend({},this.control.renderOptions,i)).viewContext=this.control.viewContext,i.parent=this.control,t.init(n,i)},n.disposeChildren=function(){var t=this.control.children.slice();e.each(t,function(e){e.dispose()}),this.children=[],this.childrenIndex={}},n.disableChildren=function(){e.each(this.control.children,function(e){e.dispose()})},n.enableChildren=function(){e.each(this.control.children,function(e){e.enable()})},n}),define("esui/helper/dom",["require","underscore","../lib","../main"],function(require){function e(e){return(e.styleType||e.type).toLowerCase()}function t(){return[].slice.call(arguments,0).join("-")}var n=require("underscore"),i=require("../lib"),a=require("../main"),r={};r.getPartClasses=function(n){if(n&&this.partClassCache&&this.partClassCache.hasOwnProperty(n))return this.partClassCache[n].slice();var i=e(this.control),r=this.control.skin,o=a.getConfig("uiClassPrefix"),s=a.getConfig("skinClassPrefix"),l=[];return n?(l.push(t(o,i,n)),r&&l.push(t(s,r,i,n)),this.partClassCache||(this.partClassCache={},this.partClassCache[n]=l.slice())):(l.push(t(o,"ctrl")),l.push(t(o,i)),r&&l.push(t(s,r),t(s,r,i))),l},r.getPartClassName=function(e){return this.getPartClasses(e).join(" ")},r.getPrimaryClassName=function(n){var i=e(this.control);return n?t(a.getConfig("uiClassPrefix"),i,n):t(a.getConfig("uiClassPrefix"),i)},r.addPartClasses=function(e,t){"string"==typeof t&&(t=this.getPart(t)),(t=t||this.control.main)&&i.addClasses(t,this.getPartClasses(e))},r.removePartClasses=function(e,t){"string"==typeof t&&(t=this.getPart(t)),(t=t||this.control.main)&&i.removeClasses(t,this.getPartClasses(e))},r.getStateClasses=function(n){if(this.stateClassCache&&this.stateClassCache.hasOwnProperty(n))return this.stateClassCache[n].slice();var i=e(this.control),r=a.getConfig,o=[t(r("uiClassPrefix"),i,n),t(r("stateClassPrefix"),n)],s=this.control.skin;if(s){var l=r("skinClassPrefix");o.push(t(l,s,n),t(l,s,i,n))}return this.stateClassCache||(this.stateClassCache={},this.stateClassCache[n]=o.slice()),o},r.addStateClasses=function(e){var t=this.control.main;t&&i.addClasses(t,this.getStateClasses(e))},r.removeStateClasses=function(e){var t=this.control.main;t&&i.removeClasses(t,this.getStateClasses(e))},r.getId=function(e){e=e?"-"+e:"",this.control.domIDPrefix||(this.control.domIDPrefix=this.control.viewContext&&this.control.viewContext.id);return"ctrl-"+(this.control.domIDPrefix?this.control.domIDPrefix+"-":"")+this.control.id+e},r.createPart=function(e,t){t=t||"div";var n=document.createElement(t);return n.id=this.getId(e),this.addPartClasses(e,n),n},r.getPart=function(e){return i.g(this.getId(e))},r.isPart=function(e,t){var n=this.getPartClasses(t)[0];return i.hasClass(e,n)};var o={type:!0,name:!0,alt:!0,autocomplete:!0,autofocus:!0,checked:!0,dirname:!0,disabled:!0,form:!0,formaction:!0,formenctype:!0,formmethod:!0,formnovalidate:!0,formtarget:!0,width:!0,height:!0,inputmode:!0,list:!0,max:!0,maxlength:!0,min:!0,minlength:!0,multiple:!0,pattern:!0,placeholder:!0,readonly:!0,required:!0,size:!0,src:!0,step:!0,value:!0};r.replaceMain=function(e){e=e||this.control.createMain();var t=this.control.main;t.setAttribute(a.getConfig("instanceAttr"),i.getGUID());for(var n=t.attributes,r=0;r<n.length;r++){var s=n[r],l=s.name;i.hasAttribute(t,l)&&!o.hasOwnProperty(l)&&i.setAttribute(e,l,s.value)}return i.insertBefore(e,t),t.parentNode.removeChild(t),this.control.main=e,t};var s={name:{name:"name"},maxlength:{name:"maxLength",type:"number"},required:{name:"required",type:"boolean"},pattern:{name:"pattern"},min:{name:"min",type:"number"},max:{name:"max",type:"number"},autofocus:{name:"autoFocus",type:"boolean"},disabled:{name:"disabled",type:"boolean"},readonly:{name:"readOnly",type:"boolean"}};return r.extractOptionsFromInput=function(e,t){var a={};return n.each(s,function(t,n){var r=i.hasAttribute(e,n);if(r){var o=i.getAttribute(e,n);switch(t.type){case"boolean":o=r;break;case"number":o=parseInt(o,10)}a[t.name]=o}}),(i.hasAttribute(e,"value")||"select"!==e.nodeName.toLowerCase()&&e.value)&&(a.value=e.value),n.defaults(t||{},a)},r}),define("esui/helper/event",["require","underscore","mini-event/EventQueue","../lib","mini-event"],function(require){function e(e){return e===window?o.window:e===document?o.document:e===document.documentElement?o.documentElement:e===document.body?o.body:null}function t(t,n){var i=e(t);if(i){var r=i[n.type];r&&s.each(r,function(e){a(e,t,n)})}}function n(n,i,a){var r=e(a);if(!r)return!1;var o=r[i];if(!o){o=r[i]=[];var l=s.partial(t,a);"resize"!==i&&"scroll"!==i||(l=function(e,t){t=t||40;var n=0;return function(i){if(!n){var a=this;i={type:(i=i||window.event).type,srcElement:i.srcElement,target:i.target,currentTarget:i.currentTarget},n=setTimeout(function(){e.call(a,i),n=0},t)}}}(l)),o.handler=l,u.on(a,i,o.handler)}if(!(s.indexOf(o,n)>=0))return o.push(n),!0}function i(t,n,i){var a=e(i);if(!a)return!1;if(!a[n])return!0;for(var r=a[n],o=0;o<r.length;o++)if(r[o]===t){r[o]=null;break}if(s.all(r,function(e){return null==e})){var l=r.handler;u.un(i,n,l),a[n]=null}return!0}function a(e,t,n){n=n||window.event;if(!(!e||s.any(e.ignoreStates,function(t){return e.hasState(t)}))){n.target||(n.target=n.srcElement),n.currentTarget||(n.currentTarget=t),n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0});var i=e.domEvents[n.currentTarget[r]][n.type];i&&i.execute(n,e)}}var r="_esuiDOMEvent",o={window:{},document:{},documentElement:{},body:{}},s=require("underscore"),l=require("mini-event/EventQueue"),u=require("../lib"),d={};return d.addDOMEvent=function(e,t,i){"string"==typeof e&&(e=this.getPart(e)),this.control.domEvents||(this.control.domEvents={});var o=e[r];o||(o=e[r]=u.getGUID());var d=this.control.domEvents[o];d||(d=this.control.domEvents[o]={element:e});var c=n(this.control,t,e),f=d[t];f||(f=d[t]=new l,c||(f.handler=s.partial(a,this.control,e),u.on(e,t,f.handler))),f.add(i)},d.delegateDOMEvent=function(e,t,n){this.addDOMEvent(e,t,function(e){var t=require("mini-event").fromDOMEvent(e);this.fire(n||e.type,t),t.isDefaultPrevented()&&u.event.preventDefault(e),t.isPropagationStopped()&&u.event.stopPropagation(e)})},d.removeDOMEvent=function(e,t,n){if("string"==typeof e&&(e=this.getPart(e)),this.control.domEvents){var a=e[r],o=this.control.domEvents[a];if(o&&o[t])if(n){var s=o[t];s.remove(n),s.getLength()||i(this.control,t,e)}else o[t].clear()}},d.clearDOMEvents=function(e){if("string"==typeof e&&(e=this.getPart(e)),this.control.domEvents){if(!e)return s.each(s.pluck(this.control.domEvents,"element"),this.clearDOMEvents,this),void(this.control.domEvents=null);var t=e[r],n=this.control.domEvents[t];delete n.element,s.each(n,function(t,n){if(!i(this.control,n,e)){var a=t.handler;t.dispose(),t.handler=null,u.un(e,n,a)}},this),delete this.control.domEvents[t]}},d}),define("esui/helper/html",["require"],function(require){var e={},t={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};return e.getPartBeginTag=function(e,t){return"<"+t+' id="'+this.getId(e)+'" class="'+this.getPartClassName(e)+'">'},e.getPartEndTag=function(e,n){return t.hasOwnProperty(n)?" />":"</"+n+">"},e.getPartHTML=function(e,t){return this.getPartBeginTag(e,t)+this.getPartEndTag(e,t)},e}),define("esui/helper/life",["require","underscore","../main"],function(require){var e={NEW:0,INITED:1,RENDERED:2,DISPOSED:4},t=require("underscore"),n=require("../main"),i={};return i.initViewContext=function(){var e=this.control.viewContext||n.getViewContext();this.control.viewContext=null,this.control.setViewContext(e)},i.initExtensions=function(){var e=this.control.extensions;t.isArray(e)||(e=this.control.extensions=[]),Array.prototype.push.apply(e,n.createGlobalExtensions());for(var i={},a=0;a<e.length;a++){var r=e[a];i[r.type]||(r.attachTo(this.control),i[r.type]=!0)}},i.isInStage=function(t){if(null==e[t])throw new Error("Invalid life cycle stage: "+t);return this.control.stage===e[t]},i.changeStage=function(t){if(null==e[t])throw new Error("Invalid life cycle stage: "+t);this.control.stage=e[t]},i.dispose=function(){this.control.disposeChildren(),this.control.children=null,this.control.childrenIndex=null,this.clearDOMEvents(),t.invoke(this.control.extensions,"dispose"),this.control.extensions=null,this.control.parent&&this.control.parent.removeChild(this.control),this.control.viewContext&&this.control.viewContext.remove(this.control),this.control.renderOptions=null},i.beforeDispose=function(){this.control.fire("beforedispose")},i.afterDispose=function(){this.changeStage("DISPOSED"),this.control.fire("afterdispose"),this.control.destroyEvents()},i}),define("esui/helper/template",["require","underscore"],function(require){var e=require("underscore"),t={id:function(e,t){return t.helper.getId(e)},"class":function(e,t){return t.helper.getPartClassName(e)},part:function(e,t,n){return n.helper.getPartHTML(e,t)}},n={};return n.setTemplateEngine=function(e){this.templateEngine=e,e.esui||this.initializeTemplateEngineExtension()},n.initializeTemplateEngineExtension=function(){e.each(t,function(e,t){this.addFilter(t,e)},this.templateEngine)},n.renderTemplate=function(e,n){var i=this;n=n||{};var a={get:function(e){if("instance"===e)return i.control;if("function"==typeof n.get)return n.get(e);var a=e,r=null,o=e.lastIndexOf(".");if(o>0){a=e.substring(0,o);var s=e.substring(o+1);s&&t.hasOwnProperty(s)&&(r=t[s])}var l=n.hasOwnProperty(a)?n[a]:a;return r&&(l=r(l,i.control)),l}};if(!this.templateEngine)throw new Error("No template engine attached to this control");return this.templateEngine.render(e,a)},n}),define("esui/InputControl",["require","./lib","./controlHelper","./Control","./Validity","./validator/Validity","./main"],function(require){function e(e){(e=e?t.extend({},e):{}).main&&!e.name&&(e.name=e.main.getAttribute("name")),i.call(this,e)}var t=require("./lib"),n=require("./controlHelper"),i=require("./Control"),a=require("./Validity"),r=require("./validator/Validity"),o=require("./main");return e.prototype={constructor:e,ignoreStates:i.prototype.ignoreStates.concat("read-only"),getCategory:function(){return"input"},getFocusTarget:function(){return null},getValue:function(){return this.stringifyValue(this.getRawValue())},setValue:function(e){var t=this.parseValue(e);this.setRawValue(t)},getRawValue:function(){return this.rawValue},setRawValue:function(e){this.setProperties({rawValue:e})},setProperties:function(e){var t=e.value;return delete e.value,null!=t&&null==e.rawValue&&(e.rawValue=this.parseValue(t)),this.hasOwnProperty("readOnly")&&(this.readOnly=!!this.readOnly),i.prototype.setProperties.call(this,e)},repaint:n.createRepaint(i.prototype.repaint,{name:"disabled",paint:function(e,t){var n=e.main.nodeName.toLowerCase();"input"!==n&&"select"!==n&&"textarea"!==n||(e.main.disabled=t)}},{name:"readOnly",paint:function(e,t){e[t?"addState":"removeState"]("read-only");var n=e.main.nodeName.toLowerCase();"input"!==n&&"select"!==n&&"textarea"!==n||(e.main.readOnly=t)}},{name:"hidden",paint:function(e,i){var a=e.getValidityLabel(!0);if(a){var r=o.getConfig("uiClassPrefix"),s=[].concat(r+"-hidden",r+"-validity-hidden",n.getPartClasses(e,"validity-hidden")),l=e.isHidden()?"addClasses":"removeClasses";t[l](a,s)}}}),stringifyValue:function(e){return null!=e?e+"":""},parseValue:function(e){return e},setReadOnly:function(e){this[(e=!!e)?"addState":"removeState"]("read-only")},isReadOnly:function(){return this.hasState("read-only")},getValidationResult:function(){var e=new r,t={validity:e};t=this.fire("beforevalidate",t);for(var n=o.createRulesByControl(this),i=0,a=n.length;i<a;i++){var s=n[i];e.addState(s.getName(),s.check(this.getValue(),this))}return e.isValid()||(t=this.fire("invalid",t)),this.fire("aftervalidate",t),e},checkValidity:function(){return this.getValidationResult().isValid()},validate:function(){var e=this.getValidationResult();return this.showValidity(e),e.isValid()},getValidityLabel:function(e){if(!n.isInStage(this,"RENDERED"))return null;var i=this.validityLabel&&this.viewContext&&this.viewContext.get(this.validityLabel);if(!i&&!e){var r={id:this.id+"-validity",viewContext:this.viewContext};if(i=new a(r),this.main.nextSibling){var o=this.main.nextSibling;i.insertBefore(o)}else i.appendTo(this.main.parentNode);this.validityLabel=i.id}return 8!==t.ie&&7!==t.ie||!i||t.toggleClass(i.main.parentNode,"fuck-the-ie"),i},showValidity:function(e){this.validity&&this.removeState("validity-"+this.validity.getValidState()),this.validity=e,this.addState("validity-"+e.getValidState());var t=this.getValidityLabel();if(t){var n=this.getFocusTarget(),i={target:this,focusTarget:n,validity:e};if(t.setProperties(i),n&&!this.validity.isValid()&&"function"==typeof n.focus){var a=document.activeElement;if(a&&a.placeholder){var r=navigator.userAgent.match(/MSIE\s([\d\.]+)/)||navigator.userAgent.match(/(?:trident)(?:.*rv:([\w.]+))?/i),o="INPUT"===a.nodeName||"TEXTAREA"===a.nodeName;if(r&&o)return}n.focus()}}},hideValidity:function(){var e=new r;this.showValidity(e)},showValidationMessage:function(e,t){t=t||"";var n=new r;n.setCustomValidState(e),n.setCustomMessage(t),this.showValidity(n)},dispose:function(){if(!n.isInStage(this,"DISPOSED")){var e=this.getValidityLabel(!0);e&&e.dispose(),i.prototype.dispose.apply(this,arguments)}}},t.inherits(e,i),e}),define("esui/Label",["require","underscore","./lib","./Control","./painters","./main"],function(require){function e(e){i.apply(this,arguments)}var t=require("underscore"),n=require("./lib"),i=require("./Control");e.prototype.type="Label",e.prototype.createMain=function(e){return e.tagName?document.createElement(e.tagName):i.prototype.createMain.call(this)},e.prototype.initOptions=function(e){var i={};t.extend(i,e),i.tagName=this.main.nodeName.toLowerCase(),null==e.text&&(i.text=n.trim(n.getText(this.main))),t.extend(this,i)},e.prototype.initEvents=function(){this.helper.delegateDOMEvent(this.main,"click")};var a=require("./painters");return e.prototype.repaint=a.createRepaint(i.prototype.repaint,{name:"title",paint:function(e){e.title&&e.main.setAttribute("title",e.title)}},a.text("text"),{name:"forTarget",paint:function(e,t){"label"===e.main.nodeName.toLowerCase()&&e.helper.addDOMEvent(e.main,"mousedown",function i(){var e=this.viewContext.get(t),a=e&&"function"==typeof e.getFocusTarget&&e.getFocusTarget();a&&a.id&&n.setAttribute(this.main,"for",a.id),this.helper.removeDOMEvent(this.main,"mousedown",i)})}}),e.prototype.setText=function(e){this.setProperties({text:e})},e.prototype.getText=function(){return this.text},e.prototype.setTitle=function(e){this.setProperties({title:e})},e.prototype.getTitle=function(){return this.title},n.inherits(e,i),require("./main").register(e),e}),define("esui/Layer",["require","underscore","./lib","./main","mini-event/EventTarget"],function(require){function e(e){this.control=e}function t(e){if(this.control.active){var t=e.target,n=this.getElement(this),i=this.control.main;if(!n)return;for(;t&&t!==n&&t!==i;)t=t.parentNode;t!==n&&t!==i&&this.hide()}}function n(e){var t=e.control.helper.getPartClasses("layer-hidden");return t.unshift(o.getConfig("uiClassPrefix")+"-layer-hidden"),t}function i(e,t){var n=r.clone(t||{});n.hasOwnProperty("top")&&n.hasOwnProperty("bottom")&&(n.height=n.bottom-n.top,delete n.bottom),n.hasOwnProperty("left")&&n.hasOwnProperty("right")&&(n.width=n.right-n.left,delete n.right),(n.hasOwnProperty("top")||n.hasOwnProperty("bottom"))&&(e.style.top="",e.style.bottom=""),(n.hasOwnProperty("left")||n.hasOwnProperty("right"))&&(e.style.left="",e.style.right="");for(var i in n)n.hasOwnProperty(i)&&(e.style[i]=n[i]+"px")}var a=require("underscore"),r=require("./lib"),o=require("./main");e.prototype.nodeName="div",e.prototype.autoHide=!0,e.prototype.enableAutoHide=function(e){var t="onwheel"in document.body?"wheel":"mousewheel";this.control.helper.addDOMEvent(document.documentElement,t,a.bind(this.hide,this)),this.control.helper.addDOMEvent(e,t,function(e){e.stopPropagation()})},e.prototype.create=function(){var e=this.control.helper.createPart("layer",this.nodeName);return r.addClass(e,o.getConfig("uiClassPrefix")+"-layer"),this.autoHide&&this.enableAutoHide(e),e},e.prototype.addCustomClasses=function(e){var t=this.getElement();r.addClasses(t,e)},e.prototype.render=function(e){},e.prototype.syncState=function(e){},e.prototype.repaint=function(){var e=this.getElement(!1);e&&this.render(e)},e.prototype.initBehavior=function(e){},e.prototype.getElement=function(e){var i=this.control.helper.getPart("layer");return i||!1===e||(i=this.create(),this.render(i),r.addClasses(i,n(this)),this.initBehavior(i),this.control.helper.addDOMEvent(document,"mousedown",a.bind(t,this)),this.control.helper.addDOMEvent(i,"mousedown",function(e){e.stopPropagation()}),this.syncState(i),i.parentElement||document.body.appendChild(i),this.fire("rendered")),i},e.prototype.hide=function(){if(this.control.active){var e=n(this),t=this.getElement();r.addClasses(t,e),this.control.removeState("active"),this.fire("hide")}},e.prototype.show=function(){var e=this.getElement();e.style.zIndex=this.getZIndex(),this.position();var t=n(this);r.removeClasses(e,t),this.control.addState("active"),this.fire("show")},e.prototype.toggle=function(){var e=this.getElement();!e||this.control.helper.isPart(e,"layer-hidden")?this.show():this.hide()},e.prototype.position=function(){var t=this.getElement();e.attachTo(t,this.control.main,this.dock)},e.prototype.getZIndex=function(){return e.getZIndex(this.control.main)},e.prototype.dispose=function(){var e=this.getElement(!1);e&&(e.innerHTML="",r.removeNode(e)),this.control=null};var s=1e3;e.create=function(e){var t=document.createElement(e||"div");return t.style.position="absolute",t},e.getZIndex=function(e){for(var t=0;e&&e!==document;){var n=parseInt(r.getComputedStyle(e,"zIndex"),10);n&&(t+=n),e=e.parentNode}return(t=t||0)+1},e.moveToTop=function(e){e.style.zIndex=++s},e.moveTo=function(e,t,n){i(e,{top:t,left:n})},e.resize=function(e,t,n){i(e,{width:t,height:n})},e.attachTo=function(e,t,n){n=n||{strictWidth:!1};var a=r.page.getViewWidth(),o=r.page.getViewHeight(),s=r.page.getScrollTop(),l=r.page.getScrollLeft(),u=r.getOffset(t),d=e.style.display;e.style.display="block",e.style.top="-5000px",e.style.left="-5000px",n.strictWidth&&(e.style.minWidth=u.width+"px");var c=r.getOffset(e);e.style.top="",e.style.left="",e.style.display=d;var f={},p=o-(u.bottom-s),h=u.top-s;p<=c.height&&h>c.height?f.top=u.top-c.height:f.top=u.bottom;var v=a-(u.left-l),m=u.right-l;v<=c.width&&m>c.width?f.left=u.right-c.width:f.left=u.left,i(e,f)},e.centerToView=function(e,t){var n=t?r.clone(t):{};"number"!=typeof n.width&&(n.width=this.width),"number"!=typeof n.height&&(n.height=this.height),n.left=(r.page.getViewWidth()-n.width)/2;var i=r.page.getViewHeight();n.height>=i&&t.hasOwnProperty("minTop")?n.top=t.minTop:n.top=Math.floor((i-n.height)/2);var a=r.page.getViewWidth();n.height>=a&&t.hasOwnProperty("minLeft")?n.left=t.minLeft:n.left=Math.floor((a-n.width)/2),n.top+=r.page.getScrollTop(),this.setProperties(n)};var l=require("mini-event/EventTarget");return r.inherits(e,l),e}),define("esui/lib",["require","underscore","./lib/attribute","./lib/class","./lib/date","./lib/dom","./lib/event","./lib/lang","./lib/page","./lib/string"],function(require){var e={},t=require("underscore");return/msie (\d+\.\d+)/i.test(navigator.userAgent)&&(e.ie=document.documentMode||+RegExp.$1),t.extend(e,require("./lib/attribute"),require("./lib/class"),require("./lib/date"),require("./lib/dom"),require("./lib/event"),require("./lib/lang"),require("./lib/page"),require("./lib/string")),e}),define("esui/lib/attribute",["require","./dom"],function(require){var e=require("./dom"),t={};t.hasAttribute=function(e,t){return!!e&&(e.hasAttribute?e.hasAttribute(t):e.attributes&&e.attributes[t]&&e.attributes[t].specified)};var n=function(){var e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"},t=document.createElement("div");t.innerHTML='<label for="test" class="test"></label>';var n=t.getElementsByTagName("label")[0];return"test"===n.getAttribute("className")?e["class"]="className":e.className="class","test"===n.getAttribute("for")?e.htmlFor="for":e["for"]="htmlFor",e}();return t.setAttribute=function(t,i,a){return(t=e.g(t))?("style"===i?t.style.cssText=a:(i=n[i]||i,t.setAttribute(i,a)),t):null},t.getAttribute=function(t,i){return(t=e.g(t))?"style"===i?t.style.cssText:(i=n[i]||i,t.getAttribute(i)):null},t.removeAttribute=function(t,i){(t=e.g(t))&&(i=n[i]||i,t.removeAttribute(i))},t}),define("esui/lib/class",["require","underscore","./dom"],function(require){function e(e){return e.className?e.className.split(/\s+/):[]}var t=require("underscore"),n=require("./dom"),i={};return i.hasClass=function(i,a){if(i=n.g(i),""===a)throw new Error("className must not be empty");if(!i||!a)return!1;if(i.classList)return i.classList.contains(a);var r=e(i);return t.contains(r,a)},i.addClass=function(i,a){if(i=n.g(i),""===a)throw new Error("className must not be empty");if(!i||!a)return i;if(i.classList)return i.classList.add(a),i;var r=e(i);return t.contains(r,a)?i:(r.push(a),i.className=r.join(" "),i)},i.addClasses=function(i,a){if(!(i=n.g(i))||!a)return i;if(i.classList)return t.each(a,function(e){i.classList.add(e)}),i;var r=e(i),o=t.union(r,a);return o.length>r.length&&(i.className=o.join(" ")),i},i.removeClass=function(t,i){if(t=n.g(t),""===i)throw new Error("className must not be empty");if(!t||!i)return t;if(t.classList)return t.classList.remove(i),t;for(var a=e(t),r=!1,o=0;o<a.length;o++)a[o]===i&&(a.splice(o,1),o--,r=!0);return r&&(t.className=a.join(" ")),t},i.removeClasses=function(i,a){if(!(i=n.g(i))||!a)return i;if(i.classList)return t.each(a,function(e){i.classList.remove(e)}),i;var r=e(i),o=t.difference(r,a);return o.length<r.length&&(i.className=o.join(" ")),i},i.toggleClass=function(t,i){if(t=n.g(t),""===i)throw new Error("className must not be empty");if(!t||!i)return t;if(t.classList)return t.classList.toggle(i),t;for(var a=e(t),r=!1,o=0;o<a.length;o++)a[o]===i&&(a.splice(o,1),r=!0,o--);return r||a.push(i),t.className=a.join(" "),t},i}),define("esui/lib/date",["require","moment"],function(require){var e=require("moment"),t={};return t.dateFormats=["YYYYMMDDHHmmss","YYYY-MM-DD HH:mm:ss","YYYY/MM/DD HH:mm:ss","YYYY-MM-DDTHH:mm:ss.SSSZ"],t.format=function(t,n){return e(t).format(n)},t.parse=function(n,i){return e(n,i||t.dateFormats).toDate()},{date:t}}),define("esui/lib/dom",["require","underscore","./string"],function(require){var e=require("underscore"),t=require("./string"),n={};return n.g=function(e){return e?"string"==typeof e?document.getElementById(e):e:null},n.isInput=function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"textarea"===t},n.removeNode=function(e){if("string"==typeof e&&(e=n.g(e)),e){var t=e.parentNode;t&&t.removeChild(e)}},n.insertAfter=function(e,t){var n=t.parentNode;return n&&n.insertBefore(e,t.nextSibling),e},n.insertBefore=function(e,t){var n=t.parentNode;return n&&n.insertBefore(e,t),e},n.getChildren=function(t){return e.filter(t.children,function(e){return 1===e.nodeType})},n.getComputedStyle=function(e,t){if(!e)return"";var n=9===e.nodeType?e:e.ownerDocument||e.document;if(n.defaultView&&n.defaultView.getComputedStyle){var i=n.defaultView.getComputedStyle(e,null);if(i)return i[t]||i.getPropertyValue(t)}else if(e&&e.currentStyle)return e.currentStyle[t];return""},n.getStyle=function(e,i){return i=t.camelize(i),e.style[i]||(e.currentStyle?e.currentStyle[i]:"")||n.getComputedStyle(e,i)},n.getOffset=function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0};var t=e.getBoundingClientRect(),n={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top},i=document.documentElement.clientTop||document.body.clientTop||0,a=document.documentElement.clientLeft||document.body.clientLeft||0,r=window.pageYOffset||document.documentElement.scrollTop,o=window.pageXOffset||document.documentElement.scrollLeft;return n.top=n.top+r-i,n.bottom=n.bottom+r-i,n.left=n.left+o-a,n.right=n.right+o-a,n},n.getText=function(t){var i="";return 3===t.nodeType||4===t.nodeType?i+=t.nodeValue:8!==t.nodeType&&e.each(t.childNodes,function(e){i+=n.getText(e)}),i},n.dom={},n.dom.first=function(e){if((e=n.g(e)).firstElementChild)return e.firstElementChild;for(var t=e.firstChild;t;t=t.nextSibling)if(1===t.nodeType)return t;return null},n.dom.last=function(e){if((e=n.g(e)).lastElementChild)return e.lastElementChild;for(var t=e.lastChild;t;t=t.previousSibling)if(1===t.nodeType)return t;return null},n.dom.next=function(e){if((e=n.g(e)).nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;t;t=t.nextSibling)if(1===t.nodeType)return t;return null},n.dom.contains=function(e,t){if(e=n.g(e),t=n.g(t),e.contains)return e!==t&&e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(;t;){if(e===t)return!0;t=t.parentNode}return!1},n}),define("esui/lib/event",["require","./dom","./page"],function(require){var e=require("./dom"),t=require("./page").page,n={};return n.preventDefault=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1},n.stopPropagation=function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},n.getMousePosition=function(e){return"number"!=typeof(e=e||window.event).pageX&&(e.pageX=e.clientX+t.getScrollLeft()-t.getClientLeft()),"number"!=typeof e.pageY&&(e.pageY=e.clientY+t.getScrollTop()-t.getClientTop()),e},n.getTarget=function(e){return(e=e||window.event).target||e.srcElement},{on:function(t,n,i){(t=e.g(t)).addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent("on"+n,i)},un:function(t,n,i){(t=e.g(t)).addEventListener?t.removeEventListener(n,i,!1):t.attachEvent&&t.detachEvent("on"+n,i)},event:n}}),define("esui/lib/lang",["require","underscore"],function(require){var e=require("underscore"),t={},n=8785925;return t.getGUID=function(e){return(e=e||"esui")+n++},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype;var i=e.prototype,a=e.prototype=new n;for(var r in i)a[r]=i[r];return e.prototype.constructor=e,e.superClass=t.prototype,e},t.clone=function(n){if(!n||"object"!=typeof n)return n;var i=n;if(e.isArray(n)){i=[];for(var a=0;a<n.length;a++)i[a]=t.deepClone(n[a])}else if("[object Object]"==={}.toString.call(n)&&"isPrototypeOf"in n){i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]=t.deepClone(n[r]))}return i},t.deepClone=t.clone,t.toDictionary=function(t){var n={};return e.each(t,function(e){n[e]=!0}),n},t.isArray=e.isArray,t.toArray=e.toArray,t.extend=e.extend,t.bind=e.bind,t.curry=e.partial,t.indexOf=e.indexOf,t.decodeHTML=e.unescape,t.encodeHTML=e.escape,t}),define("esui/lib/page",["require"],function(require){var e=document.documentElement,t=document.body,n="BackCompat"===document.compatMode?t:e,i={};return i.getWidth=function(){return Math.max(e?e.scrollWidth:0,t?t.scrollWidth:0,n?n.clientWidth:0,0)},i.getHeight=function(){return Math.max(e?e.scrollHeight:0,t?t.scrollHeight:0,n?n.clientHeight:0,0)},i.getViewWidth=function(){return n?n.clientWidth:0},i.getViewHeight=function(){return n?n.clientHeight:0},i.getScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},i.getScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},i.getClientTop=function(){return document.documentElement.clientTop||document.body.clientTop||0},i.getClientLeft=function(){return document.documentElement.clientLeft||document.body.clientLeft||0},{page:i}}),define("esui/lib/string",["require","underscore"],function(require){var e=require("underscore"),t={},n=/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g;return t.trim=function(e){return e?String(e).replace(n,""):""},t.format=function(e,t){return e?null==t?e:e.replace(/\$\{(.+?)\}/g,function(e,n){var i=t[n];return"function"==typeof i&&(i=i(n)),null==i?"":i}):""},t.camelize=function(e){return e?e.replace(/-([a-z])/g,function(e){return e.toUpperCase()}):""},t.pascalize=function(e){return e?e.charAt(0).toUpperCase()+t.camelize(e.slice(1)):""},t.splitTokenList=function(n){if(!n)return[];if(!e.isArray(n))return e.chain(n.split(/[,\s]/)).map(t.trim).compact().value()},t}),define("esui/Link",["require","underscore","./lib","./Control","./painters","./main"],function(require){function e(){i.apply(this,arguments)}var t=require("underscore"),n=require("./lib"),i=require("./Control"),a=require("./painters");return e.prototype={constructor:e,type:"Link",getCategory:function(){return"container"},createMain:function(){return document.createElement("a")},initOptions:function(e){var n={};t.extend(n,e),null==e.href&&(n.href=this.main.href),null==e.target&&(n.target=this.main.target),null==e.content&&(n.content=this.main.innerHTML),t.extend(this,n)},initEvents:function(){this.helper.delegateDOMEvent(this.main,"click")},render:function(){this.main&&"a"===this.main.nodeName.toLowerCase()&&i.prototype.render.apply(this,arguments)},repaint:a.createRepaint(i.prototype.repaint,a.attribute("href"),a.attribute("target"),{name:"content",paint:function(e,t){e.helper.disposeChildren(),e.main.innerHTML=t,e.helper.initChildren()}})},n.inherits(e,i),require("./main").register(e),e}),define("esui/main",["require","./lib","./ViewContext","./ControlCollection"],function(require){function e(e,t){if("function"==typeof e){var n=e.prototype.type;if(n in t)throw new Error(n+" is exists!");t[n]=e}}function t(e,t,n){var i=n[e];return i?(delete t.type,new i(t)):null}var n=require("./lib"),i={};i.version="3.1.0-beta.6";var a=require("./ViewContext"),r=new a("default");i.getViewContext=function(){return r};var o={uiPrefix:"data-ui",extensionPrefix:"data-ui-extension",customElementPrefix:"esui",instanceAttr:"data-ctrl-id",viewContextAttr:"data-ctrl-view-context",uiClassPrefix:"ui",skinClassPrefix:"skin",stateClassPrefix:"state"};i.config=function(e){n.extend(o,e)},i.getConfig=function(e){return o[e]},i.parseAttribute=function(e,t){if(!e)return{};for(var i={},a=0,r=0;r<e.length;){for(;r<e.length&&":"!==e.charAt(r);)r++;if(r>=e.length)break;var o=n.trim(e.slice(a,r));for(a=++r;r<e.length&&";"!==e.charAt(r);)r++;for(var s=r+1;s<e.length;){var l=e.charAt(s);if(";"===l&&(r=s),":"===l)break;s++}var u=n.trim(e.slice(a,r));i[o]=t?t(u):u,a=++r}return i},i.getControlByDOM=function(e){if(!e)return null;var t,n=i.getConfig,r=e.getAttribute(n("instanceAttr")),o=e.getAttribute(n("viewContextAttr"));return r&&o&&(t=a.get(o))?t.get(r):null};var s={};i.register=function(t){e(t,s)},i.create=function(e,n){return t(e,n,s)},i.get=function(e){return r.get(e)},i.getSafely=function(e){return r.getSafely(e)};var l=require("./ControlCollection");i.wrap=function(){for(var e=new l,t=0;t<arguments.length;t++)e.add(arguments[t]);return e},i.init=function(e,t){function a(e,t,n){0===t.length?function(e,t){for(var n in t)n in e||(e[n]=t[n])}(e,i.parseAttribute(n,r)):e[function(e){function t(e){return e.toUpperCase()}for(var n=1,i=e.length;n<i;n++)e[n]=e[n].replace(/^[a-z]/,t);return e.join("")}(t)]=r(n)}e=e||document.body;for(var r=(t=t||{}).valueReplacer||function(e){return e},s=e.getElementsByTagName("*"),l=[],u=0,d=s.length;u<d;u++)1===s[u].nodeType&&l.push(s[u]);var c=i.getConfig("uiPrefix"),f=i.getConfig("extensionPrefix"),p=i.getConfig("customElementPrefix"),h=c.length,v=f.length,m=t.properties||{},g=[];for(u=0,d=l.length;u<d;u++){var x=l[u];if(!x.getAttribute(o.instanceAttr)&&n.dom.contains(document,x)){for(var y=x.attributes,b={},w={},C=0,T=y.length;C<T;C++){var k=y[C],_=k.name,S=k.value;if(0===_.indexOf(f)){var I=(D=_.slice(v+1).split("-"))[0];D.shift();(R=w[I])||(R=w[I]={}),a(R,D,S)}else if(0===_.indexOf(c)){var D;a(b,D=_.length===h?[]:_.slice(h+1).split("-"),S)}}var E=b.type;if(!E){var P=x.nodeName.toLowerCase();if(0===P.indexOf(p)){var A;A=(A=P.replace(/-(\S)/g,function(e,t){return t.toUpperCase()})).slice(p.length),b.type=A,E=A}}if(E){var M=b.id,O=M?m[M]:{};for(var N in O)b[N]=r(O[N]);var L=b.extensions||[];b.extensions=L;for(var N in w){var R=w[N],B=i.createExtension(R.type,R);B&&L.push(B)}b.viewContext=t.viewContext,b.renderOptions=t,b.main=x;var $=i.create(E,b);if($){g.push($),t.parent&&t.parent.addChild($);try{$.render()}catch(F){var q=new Error('Render control "'+($.id||"anonymous")+'" of type '+$.type+" failed because: "+F.message);throw q.actualError=F,q}}}}}return g};var u={};i.registerExtension=function(t){e(t,u)},i.createExtension=function(e,n){return t(e,n,u)};var d={};i.attachExtension=function(e,t){d[e]=t},i.createGlobalExtensions=function(){var e=[];for(var t in d)if(d.hasOwnProperty(t)){var n=i.createExtension(t,d[t]);n&&e.push(n)}return e};var c=[];return i.registerRule=function(e,t){c.push({type:e,priority:t}),c.sort(function(e,t){return e.priority-t.priority})},i.createRulesByControl=function(e){for(var t=[],n=0;n<c.length;n++){var i=c[n].type;null!=e.get(i.prototype.type)&&t.push(new i)}return t},i}),define("esui",["esui/main"],function(e){return e}),define("esui/MonthView",["require","./Button","./Select","./TextBox","./Panel","./lib","./controlHelper","./Control","./main","moment","underscore","inf-i18n"],function(require){function e(e){I.apply(this,arguments)}function t(e,t){return e.helper.getId(t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate())}function n(e){for(var t=e.target||e.srcElement,n=S.getPartClasses(this,"month-select-all"),i=S.getPartClasses(this,"month-title"),p=S.getPartClasses(this,"month-item"),h=S.getPartClasses(this,"month-row-select"),v=S.getPartClasses(this,"month-item-virtual"),m=S.getPartClasses(this,"month-item-disabled");t&&t!==document.body;){if(_.hasClass(t,p[0])&&!_.hasClass(t,v[0])&&!_.hasClass(t,m[0]))return void function(e,t){var n=t.getAttribute("data-date"),i=t.getAttribute("data-month"),a=t.getAttribute("data-year"),r=a+"-"+i+"-"+n;if("multi"===e.mode){var l=f(e,t,"month-item-selected");e.viewValue[r]={isSelected:l,value:new Date(a,i,n)},d(e);var c=t.parentNode.firstChild;o(e,c),s(e),u(e)}else{var p=S.getPartClasses(e,"month-item-selected");if(_.hasClass(t,p[0]))return;var h=new Date(a,i,n);g(e,e.rawValue,h),e.rawValue=h,e.time&&(e.rawValue.setHours(e.hour),e.rawValue.setMinutes(e.minute),e.rawValue.setSeconds(e.second)),e.fire("change"),e.fire("itemclick")}}(this,t);if("multi"===this.mode){if(_.hasClass(t,h[0]))return void l(this,t);if(_.hasClass(t,i[0]))return void function(e,t){var n=t.getAttribute("data-index"),i=S.getPartClasses(e,"month-title-selected"),o=!0;_.hasClass(t,i[0])?(o=!1,S.removePartClasses(e,"month-title-selected",t)):S.addPartClasses(e,"month-title-selected",t);for(var s=e.rowTagNum,l=S.getId(e,"row-select"),f=e.viewValue,p=[],h=0;h<s;h++){var v=_.g(l+"-"+h),m=v.parentNode.children[n];if(1===a(e,m)){var g=m.getAttribute("data-date"),x=m.getAttribute("data-month"),y=m.getAttribute("data-year"),b=y+"-"+x+"-"+g;f[b]={isSelected:o,value:new Date(y,x,g)},p.push(b)}}p&&p.length>0&&(d(e),c(e,p,o),r(e),u(e))}(this,t);if(_.hasClass(t,n[0]))return void function(e){for(var t=e.rowTagNum,n=S.getId(e,"row-select"),i=0;i<t;i++){var a=_.g(n+"-"+i);S.removePartClasses(e,"month-row-select-selected",a),l(e,a)}}(this)}t=t.parentNode}}function i(e){var t=e.rawValue;e.viewValue={};for(var n=0;n<t.length;n++){var i=t[n],a=i.getFullYear(),r=i.getMonth(),o=i.getDate(),s=a+"-"+r+"-"+o;e.viewValue[s]={isSelected:!0,value:new Date(a,r,o)}}}function a(e,t){var n=S.getPartClasses(e,"month-item-virtual"),i=S.getPartClasses(e,"month-item-disabled");return _.hasClass(t,n[0])||_.hasClass(t,i[0])?_.hasClass(t,n[0])&&!_.hasClass(t,i[0])?-1:0:1}function r(e){for(var t=e.rowTagNum,n=S.getId(e,"row-select"),i=0;i<t;i++){o(e,_.g(n+"-"+i))}}function o(e,t){for(var n=S.getPartClasses(e,"month-item-selected"),i=t.nextSibling,r=!0,o=0;i;){if(1===a(e,i)&&(++o,!_.hasClass(i,n[0]))){r=!1;break}i=i.nextSibling}0===o&&(r=!1),function(e,t,n){S.removePartClasses(e,"month-row-select-selected",t),n&&S.addPartClasses(e,"month-row-select-selected",t)}(e,t,r)}function s(e){for(var t=S.getId(e,"month-title"),n=1;n<=7;n++){!function(e,t){for(var n=S.getPartClasses(e,"month-item-selected"),i=t.getAttribute("data-index"),r=!0,o=0,s=e.rowTagNum,l=S.getId(e,"row-select"),u=0;u<s;u++){var d=_.g(l+"-"+u),c=d.parentNode.children[i];if(1===a(e,c)&&(++o,!_.hasClass(c,n[0]))){r=!1;break}}0===o&&(r=!1);!function(e,t,n){S.removePartClasses(e,"month-title-selected",t),n&&S.addPartClasses(e,"month-title-selected",t)}(e,t,r)}(e,_.g(t+"-"+n))}}function l(e,t){var n=t.parentNode,i=S.getPartClasses(e,"month-row-select"),a=S.getPartClasses(e,"month-row-select-selected"),r=S.getPartClasses(e,"month-item-virtual"),o=S.getPartClasses(e,"month-item-disabled"),l=!0;_.hasClass(t,a[0])?(l=!1,S.removePartClasses(e,"month-row-select-selected",t)):S.addPartClasses(e,"month-row-select-selected",t);for(var f=n.children,p=e.viewValue,h=[],v=0;v<f.length;v++){var m=f[v];if(1===m.nodeType&&!_.hasClass(m,i[0])&&!_.hasClass(m,r[0])&&!_.hasClass(m,o[0])){var g=m.getAttribute("data-date"),x=m.getAttribute("data-month"),y=m.getAttribute("data-year"),b=y+"-"+x+"-"+g;p[b]={isSelected:l,value:new Date(y,x,g)},h.push(b)}}h&&h.length>0&&(d(e),c(e,h,l),s(e),u(e))}function u(e){for(var t=e.rowTagNum,n=S.getId(e,"row-select"),i=_.g(S.getId(e,"month-title-0")),a=S.getPartClasses(e,"month-row-select-selected"),r=0,o=0;o<t;o++){var s=_.g(n+"-"+o);_.hasClass(s,a[0])&&r++}r===t?S.addPartClasses(e,"month-select-all-selected",i):S.removePartClasses(e,"month-select-all-selected",i)}function d(e){var t=[];for(var n in e.viewValue)e.viewValue[n].isSelected&&t.push(e.viewValue[n].value);t.sort(function(e,t){return e-t}),e.rawValue=t,e.fire("change")}function c(e,t,n){n?function(e,t){for(var n=e,i=0;i<t.length;i++){var a=S.getId(e,t[i]),r=_.g(a);r&&_.addClasses(r,S.getPartClasses(n,"month-item-selected"))}}(e,t):function(e,t){for(var n=e,i=0;i<t.length;i++){var a=S.getId(e,t[i]),r=_.g(a);r&&_.removeClasses(r,S.getPartClasses(n,"month-item-selected"))}}(e,t)}function f(e,t,n){if(!t)return!1;var i=S.getPartClasses(e,n);return _.hasClass(t,i[0])?(S.removePartClasses(e,n,t),!1):(S.addPartClasses(e,n,t),!0)}function p(e,t,n){var i=e,a=i.viewRange||i.range,r=12*a.begin.getFullYear()+a.begin.getMonth(),o=12*a.end.getFullYear()+a.end.getMonth(),s=12*t+n,l=new Date(t,n,1);return n=l.getMonth(),r-s>0?n+=r-s:s-o>0&&(n-=s-o),l.setMonth(n),n=l.getMonth(),t=l.getFullYear(),{year:t,month:n}}function h(e,t,n){null==t&&(t=e.year),null==n&&(n=e.month);var i=e,a=p(i,t,n);i.month=a.month,i.year=a.year;var r=i.getChild("yearSel"),o=r.getValue();r.setProperties({datasource:function(e){for(var t=e.viewRange||e.range,n=[],i=t.end.getFullYear(),a=t.begin.getFullYear();a<=i;a++)n.push({text:a,value:a});return n}(i),value:i.year}),o==i.year&&r.fire("change"),e.time&&e.rawValue&&function(e){var t=E(e.rawValue).format("HH"),n=E(e.rawValue).format("mm"),i=E(e.rawValue).format("ss");t=m(t,"hour").result?t:"00",n=m(n,"minute").result?n:"00",i=m(i,"second").result?i:"00";e.getChild("hourInput").setValue(t);e.getChild("minuteInput").setValue(n);e.getChild("secondInput").setValue(i)}(e)}function v(e,t,n){var i=t.getValue(),a=m(i,n);1===i.length&&(i="0"+i),!1===a.result&&(i=a.checkedValue,t.setValue(a.checkedValue)),2===i.length&&("hour"===n&&(e.hour=i,e.rawValue.setHours(i)),"minute"===n&&(e.minute=i,e.rawValue.setMinutes(i)),"second"===n&&(e.second=i,e.rawValue.setSeconds(i)),e.fire("change"))}function m(e,t){var n=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],i=!0,a="";if(e.length>2)i=!1,a=e.substring(0,2);else if(2===e.length){var r=P.filter(n,function(e){return e<=23});"hour"===t&&!1===P.contains(r,e)?(i=!1,a="00"):"minute"!==t&&"second"!==t||!1!==P.contains(n,e)||(i=!1,a="00")}return{result:i,checkedValue:a}}function g(e,n,i){if(n!==i){if(n){var r=_.g(t(e,n));r&&f(e,r,"month-item-selected")}var o=_.g(t(e,i));if(o){if(!a(e,o))return e.rawValue=null,null;f(e,o,"month-item-selected")}}return i}function x(e){var t=new Date(e.year,e.month,1),n=E(t).add("month",1);h(e,n.year(),n.month())}function y(e){var t=new Date(e.year,e.month,1),n=E(t).subtract("month",1);h(e,n.year(),n.month())}function b(e,t){var n=parseInt(t.getValue(),10);e.year=n;var i=e.month;i=p(e,n,i).month,e.month=i;var a=e.getChild("monthSel");a.setProperties({datasource:function(e,t){var n=e.viewRange||e.range,i=[],a=11,r=0;for(t===n.begin.getFullYear()&&(r=n.begin.getMonth()),t===n.end.getFullYear()&&(a=n.end.getMonth());r<=a;r++)i.push({text:r+1,value:r});return i}(e,e.year),value:e.month}).hasOwnProperty("rawValue")||w(e,a),e.fire("changeyear")}function w(e,n){var i=parseInt(n.getValue(),10);e.month=i,function(e){var n=S.getId(e,"monthMain"),i=_.g(n);i.innerHTML=function(e){var n=[];"multi"===e.mode&&n.push(""),n=n.concat([A("一"),A("二"),A("三"),A("四"),A("五"),A("六"),A("日")]);var i=[];i.push(_.format('<table border="0" cellpadding="0" cellspacing="0" class="${className}"><thead><tr>',{className:e.helper.getPartClassName("month-main")}));for(var a=e.helper.getPartClassName("month-title"),r=e.helper.getId("month-title"),o=e.helper.getPartClassName("month-select-all"),s=n.length,l=0;l<s;l++)i.push(_.format('<td id="${id}" data-index="${index}" class="${className}">${text}</td>',{className:""===n[l]?o:a,text:n[l],index:l,id:r+"-"+l}));i.push("</tr></thead><tbody><tr>");var u=e.helper.getPartClassName("month-row-select"),d=e.helper.getId("row-select"),c=0,f='<td id="${id}" class="'+u+'">&gt;</td>',p=0,h=e.year,v=e.month,m=new Date(h,v,1),g=new Date(h,v+1,1),x=1-(m.getDay()+6)%7;m.setDate(x);var y=e.helper.getPartClassName("month-item"),b=e.helper.getPartClassName("month-item-today"),w=e.helper.getPartClassName("month-item-virtual"),C=e.helper.getPartClassName("month-item-disabled"),T=e.range;for("multi"===e.mode&&i.push(_.format(f,{id:d+"-"+c++}));g-m>0||p%7!=0;){x>1&&p%7==0&&(i.push("</tr><tr>"),"multi"===e.mode&&i.push(_.format(f,{id:d+"-"+c++})));var k=m.getMonth()!==v,S=!1;m<T.begin?S=!0:m>T.end&&(S=!0);var I=y;k?I+=" "+w:E().isSame(m,"day")&&(I+=" "+b),S&&(I+=" "+C),i.push(_.format('<td data-year="${year}" data-month="${month}" data-date="${date}" class="${className}" id="${id}">${date}</td>',{year:m.getFullYear(),month:m.getMonth(),date:m.getDate(),className:I,id:t(e,m)})),m=new Date(h,v,++x),p++}return e.rowTagNum=c,i.push("</tr></tbody></table>"),i.join("")}(e);var o=i.getElementsByTagName("tr"),l=o[o.length-1];S.addPartClasses(e,"last-row",l),function(e){if("multi"!==e.mode)return void g(e,null,e.rawValue);var t=e.viewValue;for(var n in t){var i=_.g(S.getId(e,n));if(i){var o=a(e,i);1===o?t[n].isSelected?S.addPartClasses(e,"month-item-selected",i):S.removePartClasses(e,"month-item-selected",i):0===o&&(t[n].isSelected=!1,d(e))}}r(e),s(e),u(e)}(e)}(e),e.fire("changemonth")}function C(e){var t=(e+="").split(" "),n=function(e){var t=e.split("-");return t?new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10)):null}(t[0]);if(t[1]){var i=t[1].split(":");n.setHours(i[0]),n.setMinutes(i[1]),n.setSeconds(i[2])}return n}function T(e,t){if("single"===t)return C(e);for(var n=e.split(","),i=[],a=0;a<n.length-1;a+=2){var r,o=C(n[a]),s=C(n[a+1]);if(o&&s)if(o-s==0)i.push(o);else for(r=o;r<=s;)i.push(r),r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)}return i}function k(e,t,n){var i=e.helper.getPartClasses(t+"-layer"),a=n.layer;a.addCustomClasses(i),e.fire("selectlayerrendered",{layer:a})}require("./Button"),require("./Select"),require("./TextBox"),require("./Panel");var _=require("./lib"),S=require("./controlHelper"),I=require("./Control"),D=require("./main"),E=require("moment"),P=require("underscore"),A=require("inf-i18n");return e.prototype={type:"MonthView",initOptions:function(e){var t={range:{begin:new Date(2014,1,1),end:new Date(2046,10,4)},dateFormat:"YYYY-MM-DD",paramFormat:"YYYY-MM-DD",viewValue:{},mode:"single"};_.extend(t,e),t.time&&(t.dateFormat="YYYY-MM-DD HH:mm:ss",t.paramFormat="YYYY-MM-DD HH:mm:ss"),this.setProperties(t)},setProperties:function(e){e.range&&(e.range=function(e){var t=null,n=null;if("string"==typeof e){var i=e.split(",");t=C(i[0]),n=C(i[1])}else t=e.begin,n=e.end;return t>n?{begin:n,end:t}:{begin:t,end:n}}(e.range));var t=new Date,n=e.mode||this.mode;null==e.rawValue&&(e.value?e.rawValue=T(e.value,n):null==this.rawValue&&(e.rawValue="single"===n?t:[]));var i=e.year,a=e.month;if(i||null!=a||("single"===n?e.rawValue&&(i=e.rawValue.getFullYear(),a=e.rawValue.getMonth()+1):(i=t.getFullYear(),a=t.getMonth()+1)),i&&a?(e.year=parseInt(i,10),e.month=parseInt(a,10)-1):e.hasOwnProperty("year")?null==this.month&&delete e.year:e.hasOwnProperty("month")&&(null==this.year?delete e.month:e.month=parseInt(a,10)-1),(this.time||e.time)&&e.rawValue){var r=E(e.rawValue).format("HH"),o=E(e.rawValue).format("mm"),s=E(e.rawValue).format("ss");e.hour=r,e.minute=o,e.second=s,this.hour=r,this.minute=o,this.second=s}var l=I.prototype.setProperties.apply(this,arguments);return l.hasOwnProperty("rawValue")&&this.fire("change"),l},initStructure:function(){this.main.innerHTML=function(e){var t=['<div class="${headClass}"><table><tr>','<td width="30" align="left">','<div class="${monthBackClass}"',' data-ui-type="Button"',' data-ui-child-name="monthBack"',' data-ui-id="${monthBackId}"',"></div>","</td>","<td>",'<div class="${yearSelectClass}"',' data-ui="type:Select;childName:yearSel;',' id:${yearSelId};skin:light;"></div>',"</td>","<td>",'<div class="${monthSelectClass}"',' data-ui="type:Select;childName:monthSel;',' id:${monthSelId};skin:light;"></div>',"</td>",'<td width="30" align="right">','<div class="${monthForClass}"',' data-ui-type="Button"',' data-ui-child-name="monthForward"',' data-ui-id="${monthForwardId}"',"></div>","</td>","</tr></table></div>",'<div id="${monthMainId}" class="${monthMainClass}"></div>'];return t=t.join(""),e.time&&(t+='<div class="${timeClass}"><input data-ui="type:TextBox;id:${hourInputId};childName:hourInput;width:20;"class="${timeInputClass}" /> : <input data-ui="type:TextBox;id:${minuteInputId};childName:minuteInput;width:20;" class="${timeInputClass}" /> : <input data-ui="type:TextBox;id:${secondInputId};childName:secondInput;width:20;" class="${timeInputClass}" '+(e.secondReadOnly?'data-ui-read-only="true"':"")+"/></div>"),_.format(t,{headClass:e.helper.getPartClassName("head"),monthBackId:e.helper.getId("monthBack"),monthForwardId:e.helper.getId("monthForward"),yearSelId:e.helper.getId("yearSel"),monthSelId:e.helper.getId("monthSel"),monthMainId:e.helper.getId("monthMain"),monthMainClass:e.helper.getPartClassName("month"),monthBackClass:e.helper.getPartClassName("month-back"),monthForClass:e.helper.getPartClassName("month-forward"),yearSelectClass:e.helper.getPartClassName("year-select"),monthSelectClass:e.helper.getPartClassName("month-select"),timeClass:e.helper.getPartClassName("time"),timeInputClass:e.helper.getPartClassName("time-input"),hourInputId:e.helper.getId("hourInput"),minuteInputId:e.helper.getId("minuteInput"),secondInputId:e.helper.getId("secondInput")})}(this),this.initChildren(this.main),"multi"===this.mode&&this.addState("multi-select")},initEvents:function(){this.getChild("monthBack").on("click",_.curry(y,this));this.getChild("monthForward").on("click",_.curry(x,this));var e=this.getChild("monthSel");e.on("change",_.curry(w,this,e)),e.on("layerrendered",_.curry(k,this,"month-select"));var t=this.getChild("yearSel");t.on("change",_.curry(b,this,t)),t.on("layerrendered",_.curry(k,this,"year-select"));var i=this.helper.getPart("monthMain");if(S.addDOMEvent(this,i,"click",n),this.time){var a=this.getChild("hourInput");a.on("input",_.curry(v,this,a,"hour"));var r=this.getChild("minuteInput");r.on("input",_.curry(v,this,r,"minute"));var o=this.getChild("secondInput");o.on("input",_.curry(v,this,o,"second"))}},repaint:S.createRepaint(I.prototype.repaint,{name:["range","rawValue","year","month"],paint:function(e,t,n,a,r){n&&"multi"===e.mode&&i(e),h(e,e.year,e.month)}},{name:"disabled",paint:function(e,t){e.getChild("monthBack").setProperties({disabled:t});e.getChild("monthForward").setProperties({disabled:t});e.getChild("monthSel").setProperties({disabled:t});e.getChild("yearSel").setProperties({disabled:t})}}),disable:function(){this.setProperties({disabled:!0}),this.addState("disabled")},enable:function(){this.setProperties({disabled:!1}),this.removeState("disabled")},setRange:function(e){this.setProperties({range:e})},setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},getValue:function(){return this.time&&(this.rawValue.setHours(this.hour),this.rawValue.setMinutes(this.minute),this.rawValue.setSeconds(this.second)),this.stringifyValue(this.rawValue)},stringifyValue:function(e){if("single"===this.mode)return _.date.format(e,this.paramFormat)||"";for(var t=[],n=0;n<e.length;n++)if(0===n)t.push(_.date.format(e[n],this.paramFormat));else if(e[n]-e[n-1]>864e5)t.push(_.date.format(e[n-1],this.paramFormat)),t.push(_.date.format(e[n],this.paramFormat));else{if(n!==e.length-1)continue;t.push(_.date.format(e[n],this.paramFormat))}return t.join(",")},parseValue:function(e){return T(e,this.mode)},setRawValueWithoutFireChange:function(e){this.rawValue=e,i(this)},getDateItemHTML:function(e){return _.g(t(this,e))}},_.inherits(e,I),D.register(e),e}),define("esui/Pager",["require","underscore","inf-i18n","./lib","./main","./Control","./Select","./painters"],function(require){function e(e){function t(t,n,i,a){var r={className:e.helper.getPartClassName(t)};return arguments.length>1&&(r.link=function(t){return u.format(e.urlTemplate,{page:t,pageSize:e.pageSize})}(n),r.id=e.helper.getId(i),r.page=n,r.text=a),r}function n(n,r){"number"==typeof n&&(n=t("item",n,"page-"+n,n));var o=function(t,n){if(!n){var r={anchor:a,plain:i};n=r[e.pageType]||r.anchor}return u.format(n,t)}(n,r);c.push(o)}var i='<li class="${className}" id="${id}" data-page="${page}">${text}</li>',a='<li class="${className}" id="${id}" data-page="${page}"><a href="${link}">${text}</a></li>',r='<li class="${className}">…</li>',o=e.page,s=e.backCount,l=e.forwardCount,d=Math.ceil(e.count/e.pageSize),c=[];if(o>1){n(t("item-extend",o-1,"page-back",e.backText))}else{n(t("item-extend-disabled",o-1,"page-back-disabled",e.backText))}if(o>s+1&&(n(1),o>s+2)){n(t("item-omit"),r)}for(var f=o-(p=o>s?s:o-1);f<o;f++)n(f);n(t("item-current",o,"page-"+o,o),i);var p=d-o>l?l:d-o;for(f=o+1;f<o+p+1;f++)n(f);if(o<d-l){if(o<d-l-1){n(t("item-omit"),r)}n(d)}if(o<d){n(t("item-extend",o+1,"page-forward",e.forwardText))}else{n(t("item-extend-disabled",o+1,"page-forward-disabled",e.forwardText))}return c.join("")}function t(t){var n=t.pageSize;n=n>0?n:1,t.pageSize=n,t.getChild("select").set("value",n+"");var i=Math.ceil(t.count/n),a=t.page;a=(a=a>i?i:a)>0?a:1,t.page=a;t.helper.getPart("main").innerHTML=e(t)}function n(e){var t=e.target;if("A"===t.nodeName&&(t=t.parentNode),!t||this.helper.isPart(t,"disabled"))return!1;var n=this.helper.getId("page-back"),i=this.helper.getId("page-forward"),a=this.page;(this.helper.isPart(t,"item")||this.helper.isPart(t,"item-extend"))&&(t.id===n?a--:t.id===i?a++:a=+u.getAttribute(t,"data-page"),this.set("page",a))}function i(e){return s.map(e,function(e){return{text:e+"",value:e+""}})}function a(e){var n=parseInt(this.getChild("select").getValue()||this.pageSize,10);this.pageSize=n,t(this),this.fire("changepagesize"),this.fire("pagesizechange")}function r(e){var t=e.helper.getPart("select-wrapper");e.helper.addPartClasses("select-hidden",t)}function o(e){c.apply(this,arguments)}var s=require("underscore"),l=require("inf-i18n"),u=require("./lib"),d=require("./main"),c=require("./Control");return require("./Select"),o.defaultProperties={},o.prototype={type:"Pager",defaultProperties:{pageSizes:[15,30,50,100],pageSize:15},initOptions:function(e){var t={pageType:"anchor",count:0,page:1,backCount:3,forwardCount:3,backText:l("上一页"),forwardText:l("下一页"),urlTemplate:"",layout:"alignLeft"};s.extend(t,this.defaultProperties,o.defaultProperties,e),this.setProperties(t)},initStructure:function(){this.main.innerHTML=function(e){return u.format(['<div id="${pagerWrapperId}" class="${pagerWrapperClass}">','<div id="${selectWrapperId}" ','class="${selectWrapperClass}">','<span id="${labelId}" class="${labelClass}">',"${labelText}</span>",'<div data-ui="type:Select;childName:select;','id:${selectId};width:50;"></div>',"</div>",'<ul id="${mainId}" class="${mainClass}"></ul>',"</div>"].join(""),{pagerWrapperId:e.helper.getId("pager-wrapper"),pagerWrapperClass:e.helper.getPartClasses(e.layout)[0],selectWrapperId:e.helper.getId("select-wrapper"),selectWrapperClass:e.helper.getPartClassName("select-wrapper"),labelId:e.helper.getId("label"),labelClass:e.helper.getPartClassName("label"),labelText:l("每页显示"),selectId:e.helper.getId("select"),mainId:e.helper.getId("main"),mainClass:e.helper.getPartClassName("main")})}(this),this.helper.initChildren();var e=this.getChild("select");if(this.pageSizes&&this.pageSizes.length){var t={datasource:i(this.pageSizes),value:this.pageSize+""};e.setProperties(t)}else r(this);a.call(this)},initEvents:function(){this.getChild("select").on("change",a,this),this.helper.addDOMEvent("main","click",n)},setProperties:function(e){(e=s.clone(e)).hasOwnProperty("pageIndex")&&!e.hasOwnProperty("page")&&(e.page=+e.pageIndex+1);s.each(["count","page","backCount","forwardCount","pageSize"],function(t){var n=e[t];s.isString(n)&&(e[t]=+n)});c.prototype.setProperties.apply(this,arguments).hasOwnProperty("page")&&(this.fire("changepage"),this.fire("pagechange"))},repaint:require("./painters").createRepaint(c.prototype.repaint,{name:"pageSizes",paint:function(e,t){var n=e.getChild("select");if(t&&t.length){var a={datasource:i(t),value:e.pageSize+""};n.setProperties(a),function(e){var t=e.helper.getPart("select-wrapper");e.helper.removePartClasses("select-hidden",t)}(e)}else r(e)}},{name:"layout",paint:function(e,t){var n=e.helper.getPart("pager-wrapper");u.removeClasses(n,function(){for(var t=[],n=0,i=arguments.length;n<i;n++)t.push(e.helper.getPartClasses(arguments[n])[0]);return t}("alignLeft","alignLeftReversed","alignRight","alignRightReversed","distributed","distributedReversed")),u.addClass(n,e.helper.getPartClasses(t)[0])}},{name:["pageType","count","pageSize","page","backCount","forwardCount","backText","forwardText","urlTemplate"],paint:t}),getPageIndex:function(){return this.get("page")-1}},u.inherits(o,c),d.register(o),o}),define("esui/painters",["require","underscore","./lib"],function(require){var e=require("underscore"),t=require("./lib"),n={};n.state=function(e){return{name:e,paint:function(e,t){e[t?"addState":"removeState"](this.name)}}},n.attribute=function(e,t,n){return{name:e,attribute:t||e,value:n,paint:function(e,t){t=null==this.value?t:this.value,e.main.setAttribute(this.attribute,t)}}};var i={width:!0,height:!0,top:!0,right:!0,bottom:!0,left:!0,fontSize:!0,padding:!0,paddingTop:!0,paddingRight:!0,paddingBottom:!0,paddingLeft:!0,margin:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,borderWidth:!0,borderTopWidth:!0,borderRightWidth:!0,borderBottomWidth:!0,borderLeftWidth:!0};return n.style=function(e,t){return{name:e,property:t||e,paint:function(e,t){null!=t&&(i.hasOwnProperty(this.property)&&(t=0===t?"0":t+"px"),e.main.style[this.property]=t)}}},n.html=function(e,t,n){return{name:e,element:t||"",generate:n,paint:function(e,t){var n="function"==typeof this.element?this.element(e):this.element?e.helper.getPart(this.element):e.main;if(n){var i="function"==typeof this.generate?this.generate(e,t):t;n.innerHTML=i||""}}}},n.text=function(t,n,i){return{name:t,element:n||"",generate:i,paint:function(t,n){var i="function"==typeof this.element?this.element(t):this.element?t.helper.getPart(this.element):t.main;if(i){var a="function"==typeof this.generate?this.generate(t,n):n;i.innerHTML=e.escape(a||"")}}}},n.delegate=function(e,t,n){return{name:e,member:this.member,method:this.method,paint:function(e,t){e[this.member][this.method](t)}}},n.createRepaint=function(){var e=[].concat.apply([],[].slice.call(arguments));return function(n,i){for(var a=t.extend({},i),r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o){var s=[].concat(o.name),l=!n;if(!l)for(var u=0;u<s.length;u++){var d=s[u];if(i.hasOwnProperty(d)){l=!0;break}}if(l){var c=[this];for(u=0;u<s.length;u++){d=s[u];c.push(this[d]),delete a[d]}try{o.paint.apply(o,c)}catch(m){var f='"'+s.join('", "')+'"',p=new Error("Failed to paint ["+f+'] for control "'+(this.id||"anonymous")+'" of type '+this.type+" because: "+m.message);throw p.actualError=p,p}}}else o.apply(this,arguments)}var h=[];for(var v in a)a.hasOwnProperty(v)&&h.push(a[v]);return h}},n}),define("esui/Panel",["require","underscore","./lib","./Control","./painters","./main"],function(require){function e(){r.apply(this,arguments)}function t(e,t){var n=this.main,a=document.createElement("div");a.innerHTML=e;for(var r=i.extend({},this.renderOptions,{viewContext:this.viewContext,parent:this}),o=a.childNodes,s=[],l=0;l<o.length;l++)s.push(o[l]);var u=require("./main");i.each(s,function(e){t?n.insertBefore(e,n.firstChild):n.appendChild(e),u.init(n,r)})}function n(e){return e.indexOf("-")>=0&&(e=e.replace(/-\w/g,function(e){return e.charAt(1).toUpperCase()})),e}var i=require("underscore"),a=require("./lib"),r=require("./Control");return e.prototype.type="Panel",e.prototype.getCategory=function(){return"container"},e.prototype.createMain=function(e){return e.tagName?document.createElement(e.tagName):r.prototype.createMain.call(this)},e.prototype.initOptions=function(e){var t={};i.extend(t,e),t.tagName=this.main.nodeName.toLowerCase(),this.setProperties(t)},e.prototype.repaint=require("./painters").createRepaint(r.prototype.repaint,{name:"content",paint:function(e,t){null!=t&&(e.helper.disposeChildren(),e.main.innerHTML=t),e.helper.initChildren()}}),e.prototype.setContent=function(e){return this.setProperties({content:e})},e.prototype.prependContent=function(e){t.call(this,e,!0)},e.prototype.appendContent=function(e){t.call(this,e,!1)},e.prototype.getStyle=function(e){return e=n(e),this.main?this.main.style[e]:""},e.prototype.setStyle=function(e,t){e=n(e),this.main&&(this.main.style[e]=t||"")},a.inherits(e,r),require("./main").register(e),e}),define("esui/RangeCalendar",["require","./Button","./MonthView","./CheckBox","./Label","inf-i18n","moment","underscore","./lib","./InputControl","./controlHelper","./Layer","./main"],function(require){function e(){I.apply(this,arguments)}function t(e,t,n){if("render"===n){if(!e.hideShortCut){var i=e.helper.getPart("shortcut");S.addDOMEvent(e,i,"click",v)}var a=e.getChild("endlessCheck");a&&(a.on("change",k.curry(u,e)),e.isEndless&&(a.setChecked(!0),e.helper.addPartClasses("shortcut-disabled",e.helper.getPart(e))));var r=e.getChild("okBtn");r&&r.on("click",k.curry(g,e));var o=e.getChild("cancelBtn");o&&o.on("click",T.bind(e.layer.hide,e.layer));var s=e.getChild("closeBtn");s&&s.on("click",T.bind(e.layer.hide,e.layer))}else{e.view.begin=t.begin,e.view.end=t.end,e.value=e.convertToParam(t);var l;l=!t.end,e.setProperties({isEndless:l})}h(e,"begin",e.view.begin,"render"===n),h(e,"end",e.view.end,"render"===n);p(e,c(e,e.view))}function n(t){this.now=new Date,_.apply(this,arguments),this.layer=new e(this)}function i(e){var t="";return e.hideShortCut||(t+='<div class="${shortCutClass}" id="${shortcutId}">${shortCut}</div>'),t+='<div class="${bodyClass}">${beginCalendar}${endCalendar}</div><div class="${footClass}"><div class="${okBtnClass}" data-ui="type:Button;childName:okBtn;skin:ok">'+w("确定")+'</div><div class="${cancelBtnClass}" data-ui="type:Button;childName:cancelBtn;skin:cancel">'+w("取消")+'</div></div><div data-ui="type:Button;childName:closeBtn;skin:layerClose;height:12;"></div>',k.format(t,{bodyClass:e.helper.getPartClassName("body"),shortcutId:e.helper.getId("shortcut"),shortCutClass:e.helper.getPartClassName("shortcut"),shortCut:function(e){for(var t=e.shownShortCut.split(","),n={},i=0;i<t.length;i++)n[t[i]]=!0;for(var a='<span data-index="${shortIndex}" class="'+e.helper.getPartClassName("shortcut-item")+' ${shortClass}" id="${shortId}">${shortName}</span>',r=e.shortCutItems,s=r.length,l=[],u=0;u<s;u++){var d=r[u];if(n[d.name]){var c=d.name,f=[];0===u&&(f=f.concat(e.helper.getPartClasses("shortcut-item-first")));var p=o(e,d);p&&(f=f.concat(e.helper.getPartClasses("shortcut-item-disabled")));var h=e.helper.getId("shortcut-item"+u);l.push(k.format(a,{shortIndex:u,shortClass:f.join(" "),shortId:h,shortName:c}))}}return l.join("")}(e),beginCalendar:s(e,"begin"),endCalendar:s(e,"end"),footClass:e.helper.getPartClassName("foot"),okBtnClass:e.helper.getPartClassName("okBtn"),cancelBtnClass:e.helper.getPartClassName("cancelBtn")})}function a(e){return C(e).startOf("day").toDate()}function r(e){return C(e).endOf("day").toDate()}function o(e,t){var n=e.range,i=t.getValue.call(e,e.now);return a(n.begin)>a(i.begin)||r(i.end)>r(n.end)}function s(e,t){var n="";e.endlessCheck&&"end"===t&&(n='<input type="checkbox" title="'+w("不限结束")+'" data-ui-type="CheckBox" data-ui-child-name="endlessCheck" />');var i="begin"===t?e.rawValue.begin:e.rawValue.end;if(i)var a=C(i).format("YYYY-MM-DD HH:mm:ss");var r='<div class="${frameClass}"><div class="${labelClass}"><h3>${labelTitle}</h3>'+n+'</div><div class="${calClass}"><div data-ui="type:MonthView;childName:${calName}"'+(e.time?' data-ui-time="true" data-ui-value="'+a+'" ':"")+(e.time&&e.secondReadOnly?' data-ui-second-read-only="true" ':"")+"></div></div></div>";return k.format(r,{frameClass:e.helper.getPartClassName(t),labelClass:e.helper.getPartClassName("label"),labelTitle:w("begin"===t?"开始日期":"结束日期"),titleId:e.helper.getId(t+"Label"),calClass:e.helper.getPartClassName(t+"-cal"),calName:t+"Cal"})}function l(e,t){e.getChild("hourInput").setProperties({readOnly:t}),e.getChild("minuteInput").setProperties({readOnly:t}),e.getChild("secondInput").setProperties({readOnly:t})}function u(e){var t=e.getChild("endCal"),n=e.helper.getPart("shortcut");this.isChecked()?(e.isEndless=!0,t.disable(),e.view.end=null,e.helper.addPartClasses("shortcut-disabled",n),t.time&&l(t,!0)):(e.isEndless=!1,t.enable(),m.apply(e,[t,"end"]),e.helper.removePartClasses("shortcut-disabled",n),t.time&&l(t,!1))}function d(e,t){return!(!e&&t||e&&!t)&&(!e&&!t||C(e).isSame(t,"day"))}function c(e,t){for(var n=e.shortCutItems,i=n.length,a=0;a<i;a++){var r=n[a].getValue.call(e,e.now);if(d(t.begin,r.begin)&&d(t.end,r.end))return a}return-1}function f(e,t){var n=e,i=e.shortCutItems;if(!(t<0||t>=i.length)){var a=i[t].getValue.call(n,n.now),r=a.begin,o=a.end,s=y({begin:r,end:o},t,e.ustart);r=s.begin,o=s.end,e.view={begin:r,end:o},h(e,"begin",r),h(e,"end",o),p(n,t),n.fire("shortcutSelect",{text:i[t].name})}}function p(e,t){if(!e.hideShortCut){var n=e.shortCutItems,i=e.miniMode;null!==i&&i!==t&&e.helper.removePartClasses("shortcut-item-selected",e.helper.getPart("shortcut-item"+i)),e.miniMode=t,t>=0?(e.helper.addPartClasses("shortcut-item-selected",e.helper.getPart("shortcut-item"+t)),e.curMiniName=n[t].name):e.curMiniName=null}}function h(e,t,n,i){var a=e.getChild(t+"Cal");a&&(!0===i&&(a.on("change",T.bind(m,e,a,t)),a.on("changemonth",T.bind(b,null,e))),a.setProperties({rawValue:n,range:e.range}))}function v(e){if(!this.isEndless)for(var t=e.target||e.srcElement,n=this.helper.getPartClasses("shortcut-item"),i=this.helper.getPartClasses("shortcut-item-disabled");t&&t!==document.body;){if(k.hasClass(t,n[0])&&!k.hasClass(t,i[0])){return void f(this,t.getAttribute("data-index"))}t=t.parentNode}}function m(e,t){var n=e.getRawValue();if(n){this.view[t]=n;p(this,c(this,this.view)),b(this)}}function g(e){var t=e,n=e.view,i=n.begin,a=n.end;e.isEndless&&(a=null);var r=a-i;a||(r=i);var o;r>0?o={begin:i,end:a}:null!==a&&(o={begin:a,end:i});if(t.fire("beforechange",{value:o}).isDefaultPrevented())return!1;t.rawValue=o,t.value=t.convertToParam(o),x(t,o),t.getChild("beginCal").setRawValue(o.begin),t.getChild("endCal").setRawValue(o.end),t.layer.hide(),t.fire("change",o)}function x(e,t){e.helper.getPart("text").innerHTML=function(e,t){var n=function(e,t){var n=(t=t||e.getRawValue()).begin,i=t.end,a=e.dateFormat;{if(n&&i)return C(n).format(a)+" - "+C(i).format(a);if(!i)return C(n).format(a)+w(" 起 ")}return""}(e,t);if(e.isEndless&&n)return n;var i="";!e.curMiniName&&null!==e.miniMode&&e.miniMode>=0&&e.miniMode<e.shortCutItems.length&&(e.curMiniName=e.shortCutItems[e.miniMode].name);e.curMiniName&&(i=e.curMiniName+"&nbsp;&nbsp;");if(n)return i+n;return""}(e,t)}function y(e,t,n){if(t=parseInt(t,10),n)e.end.setHours("0"),e.end.setMinutes("0"),e.end.setSeconds("0");else if(1!==t&&3!==t)e.end.setHours("23"),e.end.setMinutes("59"),e.end.setSeconds("59");else{var i=new Date;e.end.setHours(i.getHours()),e.end.setMinutes(i.getMinutes()),e.end.setSeconds(i.getSeconds())}return e.begin.setHours("0"),e.begin.setMinutes("0"),e.begin.setSeconds("0"),e}function b(e){function t(e,t){for(var n=new Date(e.year,e.month,1),i=(n=C(n)).clone().endOf("month"),o=n;o<=i;){var s=!0;"begin"===t&&(o<=C(a)||o>C(r))?s=!1:"end"===t&&(o<C(a)||o>=C(r))&&(s=!1),function(e,t,n){var i=e.getDateItemHTML(t);n?e.helper.addPartClasses("month-item-highlight",i):e.helper.removePartClasses("month-item-highlight",i)}(e,o.toDate(),s),o.add("day",1)}}var n=e.getChild("beginCal"),i=e.getChild("endCal"),a=e.view.begin,r=e.view.end;t(n,"begin"),t(i,"end")}require("./Button"),require("./MonthView"),require("./CheckBox"),require("./Label");var w=require("inf-i18n"),C=require("moment"),T=require("underscore"),k=require("./lib"),_=require("./InputControl"),S=require("./controlHelper"),I=require("./Layer"),D=require("./main");return k.inherits(e,I),e.prototype.render=function(e){var n=this.control;document.body.appendChild(e),e.innerHTML=i(n),n.helper.initChildren(e),t(n,n.view,"render")},e.prototype.toggle=function(){var e=this.getElement();if(!e||this.control.helper.isPart(e,"layer-hidden")){var n=this.control;t(n,n.rawValue,"repaint"),this.show()}else this.hide()},e.prototype.hide=function(){I.prototype.hide.call(this);var e=this.control.getChild("beginCal"),t=this.control.getChild("endCal");if(e&&t){var n=e.getChild("yearSel"),i=t.getChild("monthSel");n&&n.layer.hide(),i&&i.layer.hide()}},n.prototype.convertToParam=function(e){var t=e.begin,n=e.end,i=[];return i.push(C(t).format(this.dateFormat)),n&&i.push(C(n).format(this.dateFormat)),i.join(",")},n.prototype.convertToRaw=function(e,t){var n=e.split(",");1===n.length?n.push("2046-11-04"):""===n[0]?n[0]="1983-09-03":""===n[1]&&(n[1]="2046-11-04");var i=t?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD";return{begin:C(n[0],i).toDate(),end:C(n[1],i).toDate()}},n.defaultProperties={dateFormat:"YYYY-MM-DD",endlessCheck:!1,shortCutItems:[{name:w("昨天"),value:0,getValue:function(){var e=new Date;e.setDate(e.getDate()-1);var t=new Date(this.now.getTime());return t.setDate(t.getDate()-1),y({begin:e,end:t},0,this.ustart)}},{name:w("最近7天"),value:1,getValue:function(){var e=C(this.now);return y({begin:e.clone().subtract("day",6).toDate(),end:e.toDate()},1,this.ustart)}},{name:w("上周"),value:2,getValue:function(){var e=this.now,t=new Date(e.getTime()),n=new Date(e.getTime());return t.getDay()<1?t.setDate(t.getDate()-14+1-t.getDay()):t.setDate(t.getDate()-7-t.getDay()+1),t.setHours(0,0,0,0),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()+6),n.setHours(0,0,0,0),y({begin:t,end:n},2,this.ustart)}},{name:w("本月"),value:3,getValue:function(){return y({begin:C(this.now).startOf("month").toDate(),end:C(this.now).toDate()},3,this.ustart)}},{name:w("上个月"),value:4,getValue:function(){return y({begin:C(this.now).subtract("month",1).startOf("month").toDate(),end:C(this.now).startOf("month").subtract("day",1).toDate()},4,this.ustart)}},{name:w("上个季度"),value:5,getValue:function(){var e=this.now;return y({begin:C(e).subtract("month",e.getMonth()%3+3).startOf("month").toDate(),end:C(e).subtract("month",e.getMonth()%3).startOf("month").subtract("day",1).toDate()},5,this.ustart)}}]},n.prototype.type="RangeCalendar",n.prototype.initOptions=function(e){var t=this.now,i={begin:t,end:t},a={range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},rawValue:i,view:T.clone(i),value:this.convertToParam(i),shownShortCut:[w("昨天"),w("最近7天"),w("上周"),w("本月"),w("上个月"),w("上个季度")].join(","),hideShortCut:!1};if(k.extend(a,n.defaultProperties),S.extractValueFromInput(this,e),e.value)e.rawValue=this.convertToRaw(e.value,e.time),e.view={begin:e.rawValue.begin,end:e.rawValue.end},e.miniMode=null;else if(e.rawValue)e.miniMode=null;else if(!e.rawValue&&null!=e.miniMode){var r=a.shortCutItems[e.miniMode];r?(e.rawValue=r.getValue.call(this,this.now),e.miniMode=parseInt(e.miniMode,10)):e.miniMode=null}k.extend(a,e),a.range&&"string"==typeof a.range&&(a.range=this.convertToRaw(a.range,a.time)),"false"===a.endlessCheck&&(a.endlessCheck=!1),a.endlessCheck?"false"===a.isEndless&&(a.isEndless=!1):a.rawValue.end||(a.endlessCheck=!0,a.isEndless=!0),a.isEndless&&(a.endlessCheck=!0,a.rawValue.end=null,a.view.end=null,a.view.value=this.convertToParam({begin:t,end:null})),"true"!==a.time&&!0!==a.time||(a.time=!0,a.dateFormat="YYYY-MM-DD HH:mm:ss",a.secondReadOnly="true"===a.secondReadOnly||!0===a.secondReadOnly),this.setProperties(a)},n.prototype.initStructure=function(){k.isInput(this.main)&&S.replaceMain(this);this.main.innerHTML=k.format(['<div class="${className}" id="${id}"></div>','<div class="${arrow}"></div>'].join("\n"),{className:this.helper.getPartClassName("text"),id:S.getId(this,"text"),arrow:this.helper.getPartClassName("arrow")})},n.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"mousedown",T.bind(this.layer.toggle,this.layer))},n.prototype.repaint=S.createRepaint(_.prototype.repaint,{name:["rawValue","range"],paint:function(e,n,i){i&&("string"==typeof i&&(i=e.convertToRaw(i,e.time)),i.begin?i.end||(i.end=new Date(2046,10,4)):i.begin=new Date(1983,8,3),e.range=i),n&&x(e,n),e.layer&&t(e,n)}},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}},{name:"isEndless",paint:function(e,t){if(e.endlessCheck){var n=e.getChild("endlessCheck");n&&n.setChecked(t)}else e.isEndless=!1}}),n.prototype.setRawValue=function(e){this.setProperties({rawValue:e})},n.prototype.getRawValue=function(){return this.rawValue},n.prototype.stringifyValue=function(e){return this.convertToParam(e)||""},n.prototype.parseValue=function(e){return this.convertToRaw(e,this.time)},n.prototype.dispose=function(){S.isInStage(this,"DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),_.prototype.dispose.apply(this,arguments))},k.inherits(n,_),D.register(n),n}),define("esui/Region",["require","./Select","./lib","./controlHelper","./InputControl","./main","underscore"],function(require){function e(e){x.apply(this,arguments)}function t(e,n,i){n.call(i,e),b.each(e.children,function(e){t(e,n,i)})}function n(e,n){var r=e.regionDataIndex,o=[];b.each(n,function(e){var n=r[e];n&&t(n,function(e){o.push(e.id)})});var s={};b.each(o,function(e){s[e]=1}),b.each(e.regionDataIndex,function(t,n){var a=s.hasOwnProperty(n),r=i(e,n);r?r.checked=a:t.isSelected=a}),a(e),h(e)}function i(e,t){return m.g(g.getId(e,"item-"+t))}function a(e,t,n,r){r=r||0;t=t||{children:e.regionData};var s=e.regionDataIndex[t.id];n||(e.rawValue=[]);var l,u=0,d=t.id&&i(e,t.id),c=t.children,f=c instanceof Array&&c.length;if(f){for(var p=!0,h=0;h<f;h++)(l=a(e,c[h],1,r+1))&&u++,p=p&&l;return d&&(d.checked=p,p&&e.rawValue.push(t.id),s.isSelected=p),3===r&&(p?o(e,1,1,t.id):o(e,u,f,t.id)),p}return d?(d.checked&&e.rawValue.push(t.id),d.checked):(s.isSelected&&e.rawValue.push(t.id),s.isSelected)}function r(){return y.getConfig("stateClassPrefix")+"-hidden"}function o(e,t,n,i){var a=m.g(g.getId(e,"info-"+i));0!==t&&t!==n?(m.removeClass(a,r()),a.innerHTML=t+"/"+n):(m.addClass(a,r()),a.innerHTML="")}function s(e,t,n){t.level=n;var i=[],a=t.children;if(null!=a)if(t.isSelected=!1,3===t.level)t.children&&t.children.length>0&&(e.cityCache[t.id]=function(e,t){if(3===t.level&&null!=t.children){for(var n=[],i=0,a=0,r=0;r<t.children.length;r++)t.children[r].parent=t,t.children[r].level=t.level+1,n.push(s(e,t.children[r],t.level+1)),r%2==0&&t.children[r].text.length>i&&(i=t.children[r].text.length),r%2==1&&t.children[r].text.length>a&&(a=t.children[r].text.length);n.length%2==1&&n.push("");for(var o=['<table border="0" cellspacing="0" cellpadding="0"',' width="',14*(i+a)+66,'">'].join(""),l=["<tr>",'<td width="',14*i+33,'">${firstItem}',"</td>",'<td width="',14*a+33,'">${secondItem}',"</td>","</tr>"].join(""),u=0;u<n.length;u+=2)o+=m.format(l,{firstItem:n[u],secondItem:n[u+1]});return o+"</table>"}return""}(e,t));else for(var o=a instanceof Array&&a.length,l=0;l<o;l++){var u="";u=1===n&&3===e.regionDataLevel?s(e,t.children[l],n+2):s(e,t.children[l],n+1),i.push(u)}switch(n){case 1:return m.format(C,{boxClass:g.getPartClasses(e,"country-box").join(" "),itemClasses:g.getPartClasses(e,"country-check").join(" "),itemWrapperId:"",itemValue:t.id,itemId:g.getId(e,"item-"+t.id),level:t.level,text:t.text,contentClass:"",content:i.join("")});case 2:return m.format(C,{boxClass:g.getPartClasses(e,"region-box"+_++%2).join(" "),itemClasses:g.getPartClasses(e,"region-check").join(" "),itemWrapperId:"",itemValue:t.id,itemId:g.getId(e,"item-"+t.id),level:t.level,text:t.text,contentClass:g.getPartClasses(e,"province-box").join(" "),content:i.join("")});case 3:var d=m.format(T,{popLayerClass:g.getPartClasses(e,"locator").join(" "),layerBoxClass:g.getPartClasses(e,"city-box").join(" "),hiddenClass:r(),id:g.getId(e,"sub-"+t.id),infoId:g.getId(e,"info-"+t.id),innerHTML:i.join("")}),c=m.format(w,{itemClasses:g.getPartClasses(e,"text").join(" "),itemWrapperId:g.getId(e,"wrapper-"+t.id),itemValue:t.id,itemId:g.getId(e,"item-"+t.id),level:t.level,text:t.text});return m.format(k,{classes:g.getPartClasses(e,"province-item").join(" "),content:d+c});case 4:return m.format(w,{itemClasses:g.getPartClasses(e,"city").join(" "),itemWrapperId:"",itemValue:t.id,itemId:g.getId(e,"item-"+t.id),level:t.level,text:t.text})}}function l(e){if(!this.disabled&&!this.readOnly)for(var t=e.target;t&&t!==document.body;){var n=!1;if("input"===t.nodeName.toLowerCase())n=!0;else if("label"===t.nodeName.toLowerCase()){var i=m.getAttribute(t,"for");t=m.g(i),n=!0}if(n)return u(this,t),void this.fire("change");t=t.parentNode}}function u(e,t,n){var r=m.getAttribute(t,"data-optionId"),s=t.checked,l=e.regionDataIndex[r];l.isSelected=s;var d=l.children,c=d instanceof Array&&d.length;if(c)b.each(d,function(t){var n=i(e,t.id);n?(n.checked=s,u(e,n,1)):e.regionDataIndex[t.id].isSelected=s});else if(0===c&&3===m.getAttribute(t,"level")){var f=0,p=e.regionDataIndex[r].parent.children;b.each(p,function(e){!0===i(e.id).checked&&f++}),o(e,f,p.length,e.regionDataIndex[r].parent.id)}n||(a(e),h(e))}function d(e,t){if(!this.disabled&&!this.readOnly){var n=t.target,i=g.getPartClasses(this,"text"),a=g.getPartClasses(this,"city-box"),r=c;"hide"===e&&(r=f);for(var o;n&&n!==document.body;){var s;if(m.hasClass(n,i[0])?(o=m.getAttribute(n.firstChild,"value"),s=n.previousSibling.firstChild):m.hasClass(n,a[0])&&(s=n),s)return void r(this,s,o);n=n.parentNode}}}function c(e,t,i){if(i){var a=e.cityCache[i];if(!a)return;t.innerHTML=a,n(e,e.rawValue)}m.removeClass(t,r());var o=t.parentNode.nextSibling;g.addPartClasses(e,"text-over",o)}function f(e,t,n){m.addClass(t,r());var i=t.parentNode.nextSibling;g.removePartClasses(e,"text-over",i)}function p(e,t){var n=parseInt(t.getValue(),10);e.rawValue=n,h(e)}function h(e){var t=m.g(g.getId(e,"param-value")),n=e.rawValue;m.isArray(n)?t.value=n.join(","):t.value=n}function v(e,t){var n=e.regionDataIndex,i=[];return n[t.id]&&n[t.id].isSelected?i.push(t.id):b.each(t.children,function(t){var a=n[t.id];i.push.apply(i,v(e,a))}),i}require("./Select");var m=require("./lib"),g=require("./controlHelper"),x=require("./InputControl"),y=require("./main"),b=require("underscore"),w=['<div class="${itemClasses}" id="${itemWrapperId}" >','<input type="checkbox" value="${itemValue}" id="${itemId}"',' data-optionId="${itemValue}" data-level="${level}">','<label for="${itemId}">${text}</label>',"</div>"].join(""),C=['<div class="${boxClass}">',w,'<div class="${contentClass}">${content}</div>',"</div>"].join(""),T=['<div class="${popLayerClass}">','<div class="${hiddenClass} ${layerBoxClass}" id="${id}">',"${innerHTML}</div>",'<b class="${hiddenClass}" id="${infoId}"></b>',"</div>"].join(""),k='<div class="${classes}">${content}</div>',_=0;return e.prototype={type:"Region",initOptions:function(t){var n={regionData:m.clone(e.REGION_LIST),regionDataLevel:4,mode:"multi",pureSelect:!1,rawValue:[]};g.extractValueFromInput(this,t),t.value&&(t.rawValue=t.value.split(",")),m.extend(n,t),"multi"===n.mode?(!function(e,t){function n(e,i){var a=e instanceof Array&&e.length;if(a)for(var r=0;r<a;r++){var o;(o=m.clone(e[r])).parent=i,t.regionDataIndex[o.id]=o,n(o.children,o)}}var i=t.regionData;t.regionDataIndex={},n(i,{children:i})}(0,n),this.cityCache={}):(n.rawValue="",function(e,t){function n(e){var t=e.children,a=!!t;if(e.id&&i.push({text:e.text,value:e.id,disabled:a}),a){var r=t.length,o=0;for(r=t.length;o<r;o++)n(t[o])}}var i=[];n({children:t.regionData}),t.singleRegionData=i}(0,n)),"false"===n.pureSelect&&(n.pureSelect=!1),this.setProperties(n)},initStructure:function(){m.isInput(this.main)&&g.replaceMain(this),"multi"===this.mode?function(e){for(var t=e.regionData,n=t.length,i=[],a=0;a<n;a++)i.push(s(e,t[a],1));i.push(m.format('<input type="hidden" id="${inputId}" name="${name}" />',{inputId:g.getId(e,"param-value"),name:e.name})),e.main.innerHTML=i.join("")}(this):(!function(e){e.main.innerHTML=m.format('<div data-ui="type:Select;childName:regionSel;id:regionSel;width:100;"></div><input type="hidden" id="${inputId}" name="${name}" />',{inputId:g.getId(e,"param-value"),name:e.name}),e.initChildren(e.main);var t=e.getChild("regionSel");t.setProperties({datasource:e.singleRegionData}),t.on("change",m.bind(p,null,e,t))}(this),m.addClass(this.main,g.getPartClasses(this,"single").join(" ")))},initEvents:function(){if("multi"===this.mode)this.helper.addDOMEvent(this.main,"click",l),this.helper.addDOMEvent(this.main,"mouseover",m.curry(d,"show")),this.helper.addDOMEvent(this.main,"mouseout",m.curry(d,"hide"));else{var e=this.getChild("regionSel");e.on("change",m.bind(p,null,this,e))}},repaint:g.createRepaint(x.prototype.repaint,{name:"rawValue",paint:function(e,t){if("multi"===e.mode)n(e,t);else{e.getChild("regionSel").setProperties({value:t})}}},{name:["disabled","readOnly"],paint:function(e,t,n){var i=!0;if((t||n)&&(i=!1),function(e,t){if("multi"===e.mode)for(var n=e.main.getElementsByTagName("input"),i=0,a=n.length;i<a;i++)n[i].disabled=t;else e.getChild("regionSel").setProperties({disabled:t})}(e,!i),!t&&n){m.g(g.getId(e,"param-value")).disabled=!1}}}),setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){if("single"===this.mode)return this.getChild("regionSel").getValue();if(this.pureSelect){return v(this,{id:"-100",children:this.regionData})}return this.rawValue},stringifyValue:function(e){return"multi"===this.mode?e.join(","):e},parseValue:function(e){return e.split(",")},checkRegion:function(e){var t=i(this,e);if(t)t.checked=!0,u(this,t);else{var n=this.regionDataIndex[e];n&&(n.isSelected=!0,a(this),h(this))}}},e.REGION_LIST=[{id:"90",text:"中国",children:[{id:"80",text:"华北地区",children:[{id:"1",text:"北京",children:[{id:"742",text:"昌平区"},{id:"743",text:"朝阳区"},{id:"744",text:"崇文区"},{id:"745",text:"大兴区"},{id:"746",text:"东城区"},{id:"747",text:"房山区"},{id:"748",text:"丰台区"},{id:"749",text:"海淀区"},{id:"750",text:"怀柔区"},{id:"751",text:"门头沟区"},{id:"752",text:"密云县"},{id:"753",text:"平谷区"},{id:"754",text:"石景山区"},{id:"755",text:"顺义区"},{id:"756",text:"通州区"},{id:"757",text:"西城区"},{id:"758",text:"宣武区"},{id:"759",text:"延庆县"}]},{id:"3",text:"天津",children:[{id:"760",text:"宝坻区"},{id:"761",text:"北辰区"},{id:"763",text:"东丽区"},{id:"765",text:"河北区"},{id:"766",text:"河东区"},{id:"767",text:"和平区"},{id:"768",text:"河西区"},{id:"769",text:"红桥区"},{id:"770",text:"蓟县"},{id:"771",text:"津南区"},{id:"772",text:"静海县"},{id:"773",text:"南开区"},{id:"774",text:"宁河县"},{id:"776",text:"武清区"},{id:"777",text:"西青区"},{id:"900",text:"滨海新区"}]},{id:"15",text:"河北",children:[{id:"226",text:"保定市"},{id:"228",text:"沧州市"},{id:"229",text:"承德市"},{id:"230",text:"邯郸市"},{id:"231",text:"衡水市"},{id:"234",text:"廊坊市"},{id:"236",text:"秦皇岛市"},{id:"239",text:"石家庄市"},{id:"240",text:"唐山市"},{id:"241",text:"邢台市"},{id:"242",text:"张家口市"}]},{id:"24",text:"内蒙古",children:[{id:"428",text:"阿拉善盟"},{id:"429",text:"巴彦淖尔市"},{id:"430",text:"包头市"},{id:"431",text:"赤峰市"},{id:"432",text:"鄂尔多斯市"},{id:"434",text:"呼和浩特市"},{id:"435",text:"呼伦贝尔市"},{id:"437",text:"通辽市"},{id:"438",text:"乌海市"},{id:"439",text:"乌兰察布市"},{id:"442",text:"锡林郭勒盟"},{id:"444",text:"兴安盟"}]},{id:"28",text:"山西",children:[{id:"486",text:"大同市"},{id:"491",text:"晋城市"},{id:"492",text:"晋中市"},{id:"493",text:"临汾市"},{id:"494",text:"吕梁市"},{id:"495",text:"朔州市"},{id:"496",text:"太原市"},{id:"497",text:"忻州市"},{id:"498",text:"阳泉市"},{id:"501",text:"运城市"},{id:"502",text:"长治市"}]}]},{id:"81",text:"东北地区",children:[{id:"17",text:"黑龙江",children:[{id:"272",text:"大庆市"},{id:"273",text:"大兴安岭地区"},{id:"276",text:"哈尔滨市"},{id:"278",text:"鹤岗市"},{id:"279",text:"黑河市"},{id:"282",text:"鸡西市"},{id:"284",text:"佳木斯市"},{id:"287",text:"牡丹江市"},{id:"289",text:"七台河市"},{id:"290",text:"齐齐哈尔市"},{id:"291",text:"双鸭山市"},{id:"293",text:"绥化市"},{id:"298",text:"伊春市"}]},{id:"20",text:"吉林",children:[{id:"345",text:"白城市"},{id:"346",text:"白山市"},{id:"351",text:"吉林市"},{id:"352",text:"辽源市"},{id:"355",text:"四平市"},{id:"356",text:"松原市"},{id:"358",text:"通化市"},{id:"359",text:"延边朝鲜族自治州"},{id:"361",text:"长春市"}]},{id:"23",text:"辽宁",children:[{id:"413",text:"鞍山市"},{id:"414",text:"本溪市"},{id:"415",text:"朝阳市"},{id:"416",text:"大连市"},{id:"417",text:"丹东市"},{id:"418",text:"抚顺市"},{id:"419",text:"阜新市"},{id:"421",text:"葫芦岛市"},{id:"422",text:"锦州市"},{id:"423",text:"辽阳市"},{id:"424",text:"盘锦市"},{id:"425",text:"沈阳市"},{id:"426",text:"铁岭市"},{id:"427",text:"营口市"}]}]},{id:"82",text:"华东地区",children:[{id:"2",text:"上海",children:[{id:"818",text:"宝山区"},{id:"819",text:"崇明县"},{id:"820",text:"奉贤区"},{id:"821",text:"虹口区"},{id:"822",text:"黄浦区"},{id:"823",text:"嘉定区"},{id:"824",text:"金山区"},{id:"825",text:"静安区"},{id:"826",text:"卢湾区"},{id:"827",text:"闵行区"},{id:"830",text:"浦东新区"},{id:"831",text:"普陀区"},{id:"832",text:"青浦区"},{id:"833",text:"松江区"},{id:"834",text:"徐汇区"},{id:"835",text:"杨浦区"},{id:"836",text:"闸北区"},{id:"837",text:"长宁区"}]},{id:"8",text:"安徽",children:[{id:"101",text:"安庆市"},{id:"102",text:"蚌埠市"},{id:"103",text:"亳州市"},{id:"104",text:"巢湖市"},{id:"105",text:"池州市"},{id:"106",text:"滁州市"},{id:"107",text:"阜阳市"},{id:"110",text:"合肥市"},{id:"111",text:"淮北市"},{id:"112",text:"淮南市"},{id:"113",text:"黄山市"},{id:"115",text:"六安市"},{id:"116",text:"马鞍山市"},{id:"118",text:"铜陵市"},{id:"119",text:"芜湖市"},{id:"120",text:"宿州市"},{id:"121",text:"宣城市"}]},{id:"9",text:"福建",children:[{id:"124",text:"福州市"},{id:"126",text:"龙岩市"},{id:"127",text:"南平市"},{id:"128",text:"宁德市"},{id:"129",text:"莆田市"},{id:"130",text:"泉州市"},{id:"131",text:"三明市"},{id:"132",text:"厦门市"},{id:"138",text:"漳州市"}]},{id:"21",text:"江苏",children:[{id:"363",text:"常州市"},{id:"367",text:"淮安市"},{id:"375",text:"连云港市"},{id:"376",text:"南京市"},{id:"377",text:"南通市"},{id:"381",text:"苏州市"},{id:"383",text:"泰州市"},{id:"386",text:"无锡市"},{id:"391",text:"宿迁市"},{id:"392",text:"徐州市"},{id:"393",text:"盐城市"},{id:"395",text:"扬州市"},{id:"399",text:"镇江市"}]},{id:"22",text:"江西",children:[{id:"401",text:"抚州市"},{id:"402",text:"赣州市"},{id:"403",text:"吉安市"},{id:"404",text:"景德镇市"},{id:"406",text:"九江市"},{id:"407",text:"南昌市"},{id:"408",text:"萍乡市"},{id:"409",text:"上饶市"},{id:"410",text:"新余市"},{id:"411",text:"宜春市"},{id:"412",text:"鹰潭市"}]},{id:"27",text:"山东",children:[{id:"461",text:"滨州市"},{id:"462",text:"德州市"},{id:"463",text:"东营市"},{id:"466",text:"菏泽市"},{id:"467",text:"济南市"},{id:"468",text:"济宁市"},{id:"470",text:"莱芜市"},{id:"472",text:"聊城市"},{id:"473",text:"临沂市"},{id:"474",text:"青岛市"},{id:"476",text:"日照市"},{id:"477",text:"泰安市"},{id:"479",text:"威海市"},{id:"480",text:"潍坊市"},{id:"481",text:"烟台市"},{id:"482",text:"枣庄市"},{id:"485",text:"淄博市"}]},{id:"34",text:"浙江",children:[{id:"604",text:"杭州市"},{id:"605",text:"湖州市"},{id:"606",text:"嘉兴市"},{id:"608",text:"金华市"},{id:"611",text:"丽水市"},{id:"615",text:"宁波市"},{id:"617",text:"衢州市"},{id:"619",text:"绍兴市"},{id:"621",text:"台州市"},{id:"624",text:"温州市"},{id:"630",text:"舟山市"}]}]},{id:"83",text:"华中地区",children:[{id:"16",text:"河南",children:[{id:"243",text:"安阳市"},{id:"246",text:"鹤壁市"},{id:"249",text:"焦作市"},{id:"250",text:"开封市"},{id:"252",text:"漯河市"},{id:"253",text:"洛阳市"},{id:"254",text:"南阳市"},{id:"255",text:"平顶山市"},{id:"256",text:"濮阳市"},{id:"257",text:"三门峡市"},{id:"258",text:"商丘市"},{id:"261",text:"新乡市"},{id:"262",text:"信阳市"},{id:"263",text:"许昌市"},{id:"266",text:"郑州市"},{id:"267",text:"周口市"},{id:"268",text:"驻马店市"},{id:"901",text:"济源市"}]},{id:"18",text:"湖北",children:[{id:"304",text:"鄂州市"},{id:"305",text:"恩施市"},{id:"307",text:"黄冈市"},{id:"308",text:"黄石市"},{id:"309",text:"荆门市"},{id:"310",text:"荆州市"},{id:"311",text:"潜江市"},{id:"312",text:"神农架林区"},{id:"313",text:"十堰市"},{id:"314",text:"随州市"},{id:"315",text:"天门市"},{id:"317",text:"武汉"},{id:"319",text:"仙桃市"},{id:"320",text:"咸宁市"},{id:"321",text:"襄樊市"},{id:"323",text:"孝感市"},{id:"324",text:"宜昌市"}]},{id:"19",text:"湖南",children:[{id:"328",text:"常德市"},{id:"329",text:"郴州市"},{id:"330",text:"衡阳市"},{id:"331",text:"怀化市"},{id:"334",text:"娄底市"},{id:"335",text:"邵阳市"},{id:"337",text:"湘潭市"},{id:"338",text:"湘西土家族苗族自治州"},{id:"339",text:"益阳市"},{id:"340",text:"永州市"},{id:"341",text:"岳阳市"},{id:"342",text:"张家界市"},{id:"343",text:"长沙市"},{id:"344",text:"株洲市"}]}]},{id:"84",text:"华南地区",children:[{id:"11",text:"广东",children:[{id:"157",text:"潮州市"},{id:"158",text:"东莞市"},{id:"160",text:"佛山市"},{id:"162",text:"广州市"},{id:"163",text:"河源市"},{id:"164",text:"惠州市"},{id:"166",text:"江门市"},{id:"167",text:"揭阳市"},{id:"169",text:"茂名市"},{id:"170",text:"梅州市"},{id:"172",text:"清远市"},{id:"173",text:"汕头市"},{id:"174",text:"汕尾市"},{id:"175",text:"韶关市"},{id:"176",text:"深圳市"},{id:"180",text:"阳江市"},{id:"182",text:"云浮市"},{id:"184",text:"湛江市"},{id:"185",text:"肇庆市"},{id:"186",text:"中山市"},{id:"187",text:"珠海市"}]},{id:"12",text:"广西",children:[{id:"188",text:"百色市"},{id:"189",text:"北海市"},{id:"191",text:"防城港市"},{id:"193",text:"贵港市"},{id:"194",text:"桂林市"},{id:"195",text:"河池市"},{id:"196",text:"贺州市"},{id:"197",text:"来宾市"},{id:"198",text:"柳州市"},{id:"199",text:"南宁市"},{id:"200",text:"钦州市"},{id:"201",text:"梧州市"},{id:"203",text:"玉林市"}]},{id:"14",text:"海南",children:[{id:"218",text:"儋州市"},{id:"219",text:"东方市"},{id:"220",text:"海口市"},{id:"221",text:"琼海市"},{id:"223",text:"三亚市"},{id:"225",text:"文昌市"},{id:"867",text:"五指山"},{id:"868",text:"万宁"}]}]},{id:"85",text:"西南地区",children:[{id:"4",text:"重庆",children:[{id:"778",text:"巴南区"},{id:"779",text:"北碚区"},{id:"780",text:"璧山县"},{id:"781",text:"城口县"},{id:"782",text:"大渡口区"},{id:"783",text:"大足县"},{id:"784",text:"垫江县"},{id:"785",text:"丰都县"},{id:"786",text:"奉节县"},{id:"787",text:"涪陵区"},{id:"788",text:"合川区"},{id:"789",text:"江北区"},{id:"790",text:"江津区"},{id:"791",text:"九龙坡区"},{id:"792",text:"开县"},{id:"793",text:"梁平县"},{id:"794",text:"南岸区"},{id:"795",text:"南川区"},{id:"796",text:"彭水县"},{id:"797",text:"綦江县"},{id:"798",text:"黔江区"},{id:"799",text:"荣昌县"},{id:"800",text:"沙坪坝区"},{id:"801",text:"石柱县"},{id:"802",text:"双桥区"},{id:"803",text:"铜梁县"},{id:"804",text:"潼南县"},{id:"805",text:"万盛区"},{id:"806",text:"万州区"},{id:"807",text:"巫山县"},{id:"808",text:"巫溪县"},{id:"809",text:"武隆县"},{id:"810",text:"秀山县"},{id:"811",text:"永川区"},{id:"812",text:"酉阳县"},{id:"813",text:"渝北区"},{id:"814",text:"渝中区"},{id:"815",text:"云阳县"},{id:"816",text:"长寿区"},{id:"817",text:"忠县"}]},{id:"13",text:"贵州",children:[{id:"204",text:"安顺市"},{id:"205",text:"毕节市"},{id:"208",text:"贵阳市"},{id:"210",text:"六盘水市"},{id:"211",text:"黔东南苗族侗族自治州"},{id:"212",text:"黔南布依族苗族自治州"},{id:"213",text:"黔西南布依族苗族自治州"},{id:"215",text:"铜仁市"},{id:"217",text:"遵义市"}]},{id:"30",text:"四川",children:[{id:"516",text:"阿坝藏族羌族自治州"},{id:"517",text:"巴中市"},{id:"518",text:"成都市"},{id:"519",text:"达州市"},{id:"520",text:"德阳市"},{id:"523",text:"甘孜藏族自治州"},{id:"524",text:"广安市"},{id:"526",text:"广元市"},{id:"528",text:"乐山市"},{id:"529",text:"凉山彝族自治州"},{id:"530",text:"泸州市"},{id:"531",text:"眉山市"},{id:"532",text:"绵阳市"},{id:"534",text:"南充市"},{id:"535",text:"内江市"},{id:"536",text:"攀枝花市"},{id:"538",text:"遂宁市"},{id:"540",text:"雅安市"},{id:"541",text:"宜宾市"},{id:"542",text:"资阳市"},{id:"543",text:"自贡市"}]},{id:"31",text:"西藏",children:[{id:"546",text:"拉萨市"},{id:"547",text:"林芝地区"},{id:"548",text:"那曲地区"},{id:"549",text:"日喀则地区"}]},{id:"33",text:"云南",children:[{id:"578",text:"保山市"},{id:"579",text:"楚雄市"},{id:"580",text:"大理市"},{id:"581",text:"德宏傣族景颇族自治州"},{id:"585",text:"红河哈尼族彝族自治州"},{id:"587",text:"昆明市"},{id:"589",text:"丽江市"},{id:"590",text:"临沧市"},{id:"593",text:"普洱市"},{id:"594",text:"曲靖市"},{id:"595",text:"文山市"},{id:"597",text:"玉溪市"},{id:"598",text:"昭通市"}]}]},{id:"86",text:"西北地区",children:[{id:"10",text:"甘肃",children:[{id:"139",text:"白银市"},{id:"140",text:"定西市"},{id:"144",text:"嘉峪关市"},{id:"145",text:"金昌市"},{id:"146",text:"酒泉市"},{id:"147",text:"兰州市"},{id:"148",text:"临夏回族自治州"},{id:"150",text:"陇南市"},{id:"151",text:"平凉市"},{id:"152",text:"庆阳市"},{id:"153",text:"天水市"},{id:"154",text:"武威市"},{id:"156",text:"张掖市"}]},{id:"25",text:"宁夏",children:[{id:"446",text:"固原市"},{id:"447",text:"石嘴山市"},{id:"448",text:"吴忠市"},{id:"449",text:"银川市"},{id:"450",text:"中卫市"}]},{id:"26",text:"青海",children:[{id:"454",text:"海东地区"},{id:"456",text:"海西蒙古族藏族自治州"},{id:"458",text:"西宁市"},{id:"459",text:"玉树藏族自治州"}]},{id:"29",text:"陕西",children:[{id:"503",text:"安康市"},{id:"504",text:"宝鸡市"},{id:"506",text:"汉中市"},{id:"508",text:"商洛市"},{id:"509",text:"铜川市"},{id:"510",text:"渭南市"},{id:"511",text:"西安市"},{id:"512",text:"咸阳市"},{id:"513",text:"延安市"},{id:"515",text:"榆林市"}]},{id:"32",text:"新疆",children:[{id:"551",text:"阿克苏地区"},{id:"554",text:"阿勒泰市"},{id:"556",text:"巴音郭楞蒙古自治州"},{id:"557",text:"博尔塔拉蒙古自治州"},{id:"560",text:"昌吉回族自治州"},{id:"563",text:"哈密市"},{id:"564",text:"和田市"},{id:"565",text:"喀什市"},{id:"566",text:"克拉玛依市"},{id:"570",text:"石河子市"},{id:"571",text:"塔城市"},{id:"572",text:"吐鲁番市"},{id:"573",text:"乌鲁木齐市"},{id:"576",text:"伊犁市"},{id:"869",text:"克孜勒苏柯尔克孜"},{id:"870",text:"五家渠"}]}]},{id:"87",text:"港澳台",children:[{id:"5",text:"澳门"},{id:"6",text:"香港"},{id:"7",text:"台湾"}]}]},{id:"999",text:"国外"},{id:"0",text:"其他"}],m.inherits(e,x),y.register(e),e}),define("esui/RichCalendar",["require","./Button","./MonthView","./TextBox","./lib","./controlHelper","./InputControl","./Layer","./main","moment","underscore","inf-i18n"],function(require){function e(){m.apply(this,arguments)}function t(e){for(var t=e.displayNum,n=[],i=0;i<t;i++)n.push(p.format('<div id="${id}" class="${className}">${monthView}</div>',{id:e.helper.getId("month-"+i),className:e.helper.getPartClassName("month-container"),monthView:function(e,t){return p.format('<div data-ui-type="MonthView" data-ui-child-name="${calName}" data-ui-mode="multi"></div>',{calName:"monthView"+t})}(0,i)}));return p.format('<div id="${id}" class="${className}">${monthViews}</div>',{id:e.helper.getId("months"),className:e.helper.getPartClassName("months"),monthViews:n.join("")})}function n(t){v.apply(this,arguments),this.layer=new e(this)}function i(e,t){for(var n=this.getRawValue(),i=e.displayNum,a=0;a<i;a++)if(a!==t){e.getChild("monthView"+a).setRawValueWithoutFireChange(n)}e.rawValue=n,o(e,n)}function a(e,t){for(var n=e.displayNum,i=new Date(this.year,this.month,1),r=0;r<n;r++)if(r!==t){var o=e.getChild("monthView"+r);o.un("changemonth"),o.un("changeyear");var s,l=t-r;s=l>0?x(i).subtract("month",l):x(i).add("month",-l),o.setProperties({month:s.month()+1,year:s.year()}),o.on("changeyear",p.curry(a,e,r)),o.on("changemonth",p.curry(a,e,r))}}function r(e,t){for(var n=e.displayNum,r=e.startMonth,o=e.startYear,s=0;s<n;s++){var l,u,d=e.range.begin,c=e.range.end,f=d.getFullYear(),h=d.getMonth(),v=c.getFullYear(),m=c.getMonth();0===s?(u=new Date(v,m-n+2,0),l={begin:e.range.begin,end:u}):l=s===n-1?{begin:new Date(f,h+n-1,1),end:e.range.end}:{begin:new Date(f,h+s,1),end:u=new Date(v,m-n-s+2,0)};!function(e,t,n,r){var o=e.getChild("monthView"+n);o.setProperties(t),!0===r&&(o.on("change",p.curry(i,e,n)),o.on("changeyear",p.curry(a,e,n)),o.on("changemonth",p.curry(a,e,n)))}(e,{year:o,month:r+s,rawValue:e.rawValue,range:e.range,viewRange:l},s,t)}}function o(e,t){var n=h.getId(e,"param-value");p.g(n).value=e.stringifyValue(t);var i=e.getChild("textInput"),a=d(e,t);i.setProperties({rawValue:a}),function(e,t){p.g(h.getId(e,"total-num")).innerHTML=t.length}(e,t),e.fire("change")}function s(e){e.set("rawValue",[])}function l(e){var t=e.split(",");return 1===t.length?t.push("2046-11-04"):""===t[0]?t[0]="1983-09-03":""===t[1]&&(t[1]="2046-11-04"),{begin:u(t[0]),end:u(t[1])}}function u(e){if(!e)return null;var t=(e+="").split(" "),n=function(e){var t=e.split("-");return t?new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10)):null}(t[0]);if(t[1]){var i=t[1].split(":");n.setHours(i[0]),n.setMinutes(i[1]),n.setSeconds(i[2])}return n}function d(e,t){for(var n=[],i=[],a=0,r=0;r<t.length;r++)if(0===r)n.push(p.date.format(t[r],e.paramFormat)),i.push(t[r]),a++;else if(t[r]-t[r-1]>864e5)t[r-1]-i[a-1]!=0&&(n.push(b("至")),n.push(p.date.format(t[r-1],e.paramFormat)),i.push(t[r-1]),a++),n.push("\n"),n.push(p.date.format(t[r],e.paramFormat)),i.push(t[r]),a++;else{if(r!==t.length-1)continue;n.push(b("至")),n.push(p.date.format(t[r],e.paramFormat))}return n.join("")}function c(e){for(var t=this.getValue().replace(/\n{2,}/g,"\n").split("\n"),n=[],i={},a=0,r=t.length;a<r;a++){var o=p.trim(t[a]);if(0!==o.length&&!i[o]){i[o]=1;var s=o.split(b("至")),l=s[0],u=l;s.length>1&&(u=s[1]),f(l)&&f(u)?(n.push(l),n.push(u)):!0}}var c=n.join(",");e.rawValue=e.parseValue(c),this.setProperties({rawValue:d(e,e.rawValue)}),e.fire("change")}function f(e){var t=e.match(/^(\d{4})(-)(\d{2})\2(\d{2})$/);if(null==t)return!1;var n=new Date(t[1],t[3]-1,t[4]),i=""+n.getFullYear()+t[2]+(n.getMonth()+1)+t[2]+n.getDate();return e=t[1]+t[2]+(t[3]-1+1)+t[2]+(t[4]-1+1),i===e}require("./Button"),require("./MonthView"),require("./TextBox");var p=require("./lib"),h=require("./controlHelper"),v=require("./InputControl"),m=require("./Layer"),g=require("./main"),x=require("moment"),y=require("underscore"),b=require("inf-i18n");return p.inherits(e,m),e.prototype.render=function(e){document.body.appendChild(e);var n=this.control;e.innerHTML=t(n),n.helper.initChildren(e),r(n,!0)},e.prototype.toggle=function(){var e=this.getElement();!e||this.control.helper.isPart(e,"layer-hidden")?(r(this.control,!0),this.show()):this.hide()},n.prototype={type:"RichCalendar",initOptions:function(e){var t=new Date,n={now:t,range:{begin:new Date(1983,8,3),end:new Date(2046,10,4)},paramFormat:"YYYY-MM-DD",rawValue:[],displayNum:2,startYear:t.getFullYear(),startMonth:t.getMonth()+1};h.extractValueFromInput(this,e),e.range&&"string"==typeof e.range&&(e.range=l(e.range)),p.extend(n,e),this.setProperties(n)},setProperties:function(e){if(null!=e.rawValue&&0!==e.rawValue.length||e.value&&(e.rawValue=this.parseValue(e.value)),e.rawValue&&e.rawValue.length){var t=e.rawValue[0];e.startYear=t.getFullYear(),e.startMonth=t.getMonth()+1}return v.prototype.setProperties.apply(this,arguments)},initStructure:function(){p.isInput(this.main)&&h.replaceMain(this);var e=['<div class="${className}" id="${id}">','<textarea data-ui-type="TextBox"',' data-ui-mode="textarea"',' data-ui-width="${textBoxWidth}"',' data-ui-height="${textBoxHeight}"',' data-ui-child-name="textInput"></textarea>','<div data-ui-type="Panel" class="${generalPanelClass}"',' data-ui-child-name="generalPanel">',b("共")+'<span id="${totalNumId}" ','class="${totalNumClass}"></span>'+b("天")+",",'<span data-ui-type="Button" data-ui-skin="link"',' data-ui-child-name="deleteBtn">'+b("全部删除")+"</span>","</div>",'<div data-ui-type="Button" data-ui-skin="calendar"',' data-ui-child-name="modifyBtn">'+b("修改时间")+"</div>","</div>",'<input type="hidden" id="${inputId}" name="${name}"',' value="" />'],t=h.getPartClasses;this.main.innerHTML=p.format(e.join("\n"),{className:t(this,"text").join(" "),id:h.getId(this,"text"),textBoxWidth:this.textBoxWidth||200,textBoxHeight:this.textBoxHeight||100,name:this.name,inputId:h.getId(this,"param-value"),generalPanelClass:t(this,"general-info").join(" "),totalNumId:h.getId(this,"total-num"),totalNumClass:t(this,"total-num").join(" ")}),this.initChildren(this.main)},initEvents:function(){this.getChild("modifyBtn").on("click",y.bind(this.layer.toggle,this.layer));this.getChild("generalPanel").getChild("deleteBtn").on("click",p.curry(s,this));this.getChild("textInput").on("blur",p.curry(c,this))},repaint:h.createRepaint(v.prototype.repaint,{name:["rawValue","range"],paint:function(e,t,n){n&&("string"==typeof n&&(n=l(n)),n.begin?n.end||(n.end=new Date(2046,10,4)):n.begin=new Date(1983,8,3),e.range=n),t&&o(e,t),e.helper.getPart("months")&&r(e)}},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}}),setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},stringifyValue:function(e){for(var t=[],n=0;n<e.length;n++)0===n?t.push(p.date.format(e[n],this.paramFormat)):e[n]-e[n-1]>864e5&&(t.push(p.date.format(e[n-1],this.paramFormat)),t.push(p.date.format(e[n],this.paramFormat))),n===e.length-1&&t.push(p.date.format(e[n],this.paramFormat));return t.join(",")},getRanges:function(){for(var e=this.rawValue,t=this.stringifyValue(e).split(","),n=[],i=0;i<t.length-1;i+=2){var a=u(t[i]),r=u(t[i+1]);n.push({begin:a,end:r})}return n},setRanges:function(e){for(var t={},n=0;n<e.length;n++){var i,a=e[n].begin,r=e[n].end;if(a&&r)if(a-r==0)t[a]=a;else for(i=a;i<=r;)t[i]=i,i=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1)}var o=[];for(var s in t)o.push(t[s]);o.sort(function(e,t){return e-t}),this.set("rawValue",o)},parseValue:function(e){for(var t=e.split(","),n={},i=0;i<t.length-1;i+=2){var a,r=u(t[i]),o=u(t[i+1]);if(r&&o)if(r-o==0)n[r]=r;else for(a=r;a<=o;)n[a]=a,a=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1)}var s=[];for(var l in n)s.push(n[l]);return s.sort(function(e,t){return e-t}),s},dispose:function(){h.isInStage(this,"DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),v.prototype.dispose.apply(this,arguments))}},p.inherits(n,v),g.register(n),n}),define("esui/SafeWrapper",["require","underscore"],function(require){function e(){}var t=require("underscore");return t.each(["enable","disable","setDisabled","show","hide","toggle","setValue","setRawValue","addChild","removeChild","set","addState","removeState","toggleState","on","off","fire","dispose","destroy","initOptions","createMain","initStructure","setViewContext","render","repaint","appendTo","insertBefore","initChildren","disposeChildren"],function(t){e.prototype[t]=function(){}}),t.each(["isDisabled","isHidden","hasState","isPropertyChanged"],function(t){e.prototype[t]=function(){return!1}}),t.each(["getRawValue","getChild","get"],function(t){e.prototype[t]=function(){return null}}),t.each(["getValue"],function(t){e.prototype[t]=function(){return""}}),t.each(["setProperties"],function(t){e.prototype[t]=function(){return{}}}),e.prototype.getCategory=function(){return"control"},e.prototype.getChildSafely=function(t){var n=new e;return n.childName=t,n.parent=this,this.viewContext&&(n.viewContext=this.viewContext),n},e}),define("esui/Schedule",["require","./lib","./InputControl","./controlHelper","inf-i18n","./main"],function(require){function e(e){k.apply(this,arguments)}function t(e,t){return _.getPartClasses(e,t).join(" ")}function n(e,t){return _.getId(e,t)}function i(e){T.g(n(e,"body")).innerHTML=""+function(e){var i=e,a=[],r=t(i,"time-line"),o=n("body-head");a.push('<div class="',r,'" id="',o+'">');for(var s=t(i,"time-head"),l=0;l<=24;l+=2)a.push('<div class="',s,'" data-time="',l,'" ','id="',n(i,"time-head"+l),'">',l+":00","</div>");return a.push("</div>"),a.join("")}(e)+function(e){var i=e,a=[],r=t(i,"day-head"),o=n(i,"day-head");a.push('<div id="',o,'" class="',r,'">');for(var s='<div class="'+t(i,"day")+'"><input type="checkbox" id="${dayId}" value="${value}">&nbsp;<label for="${dayId}">${dayWord}</label></div>',l=i.dayTexts,u=0;u<7;u++)a.push(T.format(s,{dayWord:l[u],dayId:n(i,"line-state"+u),value:u}));return a.push("</div>"),a.join("")}(e)+function(e){var i=e,a=[],r=t(i,"time-body"),o=n(i,"time-body");a.push('<div id="',o,'" class="',r,'">');for(var s=t(i,"line"),l=0;l<7;l++){var u=n(i,"line"+l);a.push('<div class="',s,'" id="',u,'">');for(var d=0;d<24;d++){var c=n(i,"time_"+l+"_"+d);a.push(T.format('<div class="${timeClass}" id="${itemId}" data-day="${dayIndex}" data-time-item="1" data-time="${timeIndex}"></div>',{itemId:c,timeClass:t(i,"time"),dayIndex:l,timeIndex:d}))}a.push("</div>")}return a.push("</div>"),a.join("")}(e)}function a(e,i){for(var a=e,o=_.getPartClasses(a,"time-selected"),s=_.getPartClasses(a,"time-hover"),l=0;l<7;l++){var u=[],d=T.g(n(a,"line"+l));!function(e,t){var n=t.getElementsByTagName("aside"),i=n.length;for(;i;){var a=n[0];null!=a.getAttribute("data-day")&&(_.clearDOMEvents(e,a),t.removeChild(a)),i--}}(e,d);for(var c=0;c<24;c++){var f=T.g(n(a,"time_"+l+"_"+c)),p=i[l][c];p?T.addClasses(f,o):T.removeClasses(f,o),T.removeClasses(f,s),u.push(p)}!function(e,i,a,o){var s=e,l=o,u=T.g(n(s,"line-state"+l));u.checked=!1;var d,c=/1{3,}/g,f=i.join(""),p=t(s,"continue-covertimes");for(;null!=(d=c.exec(f));){var h=d[0].length,v=d.index,m=v+h,g=document.createElement("aside"),x=";width:"+25*h+"px;top:0;left:"+25*v+"px;";u.checked=24===h,g.setAttribute("data-start-time",v),g.setAttribute("data-end-time",m),g.setAttribute("data-day",l),g.className=p,g.style.cssText+=x,g.innerHTML=T.format('<div class="${coverClass}"><strong>${text}</strong></div>',{start:v,end:m,text:24===h?S("全天投放"):v+".00-"+m+".00",coverClass:t(s,"covertimes-tip")}),a.appendChild(g),_.addDOMEvent(s,g,"mouseover",T.curry(r,g))}}(a,u,d,l)}}function r(e){e.style.display="none"}function o(e,i,a,r){var o=e;i=i||n(o,"tip");var s=T.g(i);if(s)s.style.top=a.y+"px",s.style.left=a.x+"px",s.innerHTML=r;else{var l=";position:absolute;z-index:50;background:#fff6bd;top:"+a.y+"px;left:"+a.x+"px;display:none;",u=t(o,"shortcut-item-tip");(s=document.createElement("div")).style.cssText=l,s.id=i,s.className=u,s.innerHTML=r,document.body.appendChild(s),o.followTip[i]=s}return o.tipElementTime=setTimeout(function(){s.style.display="block"},100),s}function s(e,t){clearTimeout(e.tipElementTime);var n=T.g(t);n&&(n.style.display="none")}function l(e){var t=T.event.getTarget(e);if("input"===t.nodeName.toLowerCase()){for(var n=t,i=parseInt(n.value,10),a=n.checked,r=b(this.rawValue),o=r[i],s=0,l=o.length;s<l;s++)o[s]=a?1:0;this.setRawValue(r)}}function u(e){var t=T.event.getTarget(e);if(t&&T.hasAttribute(t,"data-item")){var n=t.getAttribute("data-item"),i=this.shortcut[n].getValue;"function"==typeof i&&i.call(this);var a;a="function"==typeof i?i.call(this):i,this.setRawValue(a)}}function d(e){var t=T.event.getTarget(e);if(t&&t.getAttribute("data-item")){var i=t;T.event.getMousePosition(e);var a={};a.y=e.pageY+20,a.x=e.pageX+10;var r=i.getAttribute("data-item"),o=n(this,"shortcut-item")+r;setTimeout(function(){var e=T.g(o);e&&(e.style.top=a.y+"px",e.style.left=a.x+"px")},0)}}function c(e,t){var i=T.event.getTarget(t);if(i&&i.getAttribute("data-item")){var a=i;T.event.getMousePosition(t);var r={};r.y=t.pageY+20,r.x=t.pageX+10;var l=a,u=l.getAttribute("data-item"),d=n(this,"shortcut-item")+u,c=_.getPartClasses(this,"shortcut-item-hover");if(e){T.addClasses(l,c);o(this,d,r,this.shortcut[u].tip)}else T.removeClasses(l,c),s(this,d)}}function f(e){var i=T.event.getTarget(e);if(i&&i.getAttribute("data-time-item")){var a=i;T.addClasses(a,_.getPartClasses(this,"time-hover")),T.event.getMousePosition(e);var r={};r.y=e.pageY+20,r.x=e.pageX+10;var s=parseInt(a.getAttribute("data-time"),10),l=parseInt(a.getAttribute("data-day"),10),u=T.format(E,{time:"<strong>"+s+":00</strong>&nbsp;—&nbsp;<strong>"+(s+1)+":00</strong>",text:S("点击/拖动鼠标选择"),timeId:n(this,"timeitem-tip-head"),textId:n(this,"timeitem-tip-body"),timeClass:t(this,"timeitem-tip-head"),textClass:t(this,"timeitem-tip-body")});o(this,n(this,"timeitem-tip"),r,u);for(var d=T.g(n(this,"time-body")).getElementsByTagName("aside"),c=0,f=d.length;c<f;c++){var p=d[c],h=parseInt(p.getAttribute("data-start-time"),10),v=parseInt(p.getAttribute("data-end-time"),10),m=parseInt(p.getAttribute("data-day"),10);p.style.display=s>=h&&s<v&&l===m?"none":"block"}}}function p(e){var t=T.event.getTarget(e);t&&t.getAttribute("data-time-item")&&(T.removeClasses(t,_.getPartClasses(this,"time-hover")),s(this,n(this,"timeitem-tip")))}function h(e){var t=document;I=T.bind(v,this),D=T.bind(m,this),T.on(t,"mousemove",I),T.on(t,"mouseup",D),T.event.getMousePosition(e),this.dragStartPos={x:e.pageX,y:e.pageY};var i=T.g(n(this,"time-body"));this.dragRange=[];var a=T.getOffset(i).top,r=T.getOffset(i).left;this.dragRange.push(a),this.dragRange.push(r+i.offsetWidth),this.dragRange.push(a+i.offsetHeight),this.dragRange.push(r),function(e){var t=document;T.on(t,"selectstart",y),e.setCapture?e.setCapture():window.captureEvents&&window.captureEvents(window.Event.MOUSEMOVE|window.Event.MOUSEUP);document.selection?document.selection.empty&&document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}(i);var o=g(this,{x:e.pageX,y:e.pageY}),s=n(this,"timeitem-tip");T.g(s)&&(T.g(s).style.display="none"),x(this,o)}function v(e){T.event.getMousePosition(e);x(this,g(this,{x:e.pageX,y:e.pageY}))}function m(e){var t=this;!function(e){var t=document;e.releaseCapture?e.releaseCapture():window.releaseEvents&&window.releaseEvents(window.Event.MOUSEMOVE|window.Event.MOUSEUP);T.un(t,"selectstart",y)}(T.g(n(t,"time-body")));T.g(n(t,"follow-item")).style.display="none",T.event.getMousePosition(e);var i=g(t,{x:e.pageX,y:e.pageY});setTimeout(function(){!function(e,t){for(var n=e,i=t.startcell,a=t.endcell,r=Math.min(i.x,a.x),o=Math.min(i.y,a.y),s=Math.max(i.x,a.x),l=Math.max(i.y,a.y),u=b(n.rawValue),d=o;d<=l;d++)for(var c=r;c<=s;c++)u[d][c]?u[d][c]=0:u[d][c]=1;n.setRawValue(u)}(t,i)},10);var a=document;T.un(a,"mousemove",I),T.un(a,"mouseup",D)}function g(e,t){var n=e,i=n.dragRange,a=n.dragStartPos,r={};t.x<=i[1]&&t.x>=i[3]?r.x=t.x:r.x=t.x-a.x<0?i[3]:i[1],t.y<=i[2]&&t.y>=i[0]?r.y=t.y:r.y=t.y-a.y<0?i[0]:i[2];var o={startcell:{},endcell:{}};return o.startcell.x=Math.floor((a.x-n.dragRange[3])/25),o.startcell.y=Math.floor((a.y-n.dragRange[0])/25),o.endcell.x=Math.floor((r.x-n.dragRange[3])/25),o.endcell.y=Math.floor((r.y-n.dragRange[0])/25),o.endcell.x>=23&&(o.endcell.x=23),o.endcell.y>=6&&(o.endcell.y=6),o}function x(e,i){var a=e,r=n(e,"follow-item"),o=T.g(r);o||((o=document.createElement("div")).className=t(a,"follow-item"),o.id=r,T.g(n(a,"time-body")).appendChild(o));var s,l,u,d,c=i.startcell,f=i.endcell,p=c.x,h=c.y,v=f.x,m=f.y;m>=h?(s=25*h,u=25*(m-h+1)-2):(s=25*m,u=25*(h-m+1)-2),v>=p?(l=25*p,d=25*(v-p+1)-2):(l=25*v,d=25*(p-v+1)-2);var g=";display:block;;width:"+d+"px;height:"+u+"px;top:"+s+"px;left:"+l+"px;background:#faffbe";o.style.cssText+=g}function y(e){T.event.preventDefault(e)}function b(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push([].slice.call(e[n],0));return t}function w(e,t,i){for(var a=T.g(n(e,"day-head")).getElementsByTagName("input"),r=0,o=a.length;r<o;r++)a[r][t]=i}function C(e,t,n){for(var i=b(e.rawValue),a=0,r=n.length;a<r;a++){var o=n[a];null!=i[o[0]]&&null!=i[o[0]][o[1]]&&(i[o[0]][o[1]]=t?1:0)}e.setRawValue(i)}var T=require("./lib"),k=require("./InputControl"),_=require("./controlHelper"),S=require("inf-i18n");e.defaultProperties={helpSelectedText:S("投放时间段"),helpText:S("暂停时间段"),dayTexts:[S("星期一"),S("星期二"),S("星期三"),S("星期四"),S("星期五"),S("星期六"),S("星期日")],shortcut:function(){function e(e){for(var t=[],n=0;n<7&&n<e.length;n++){t[n]=[];for(var i=0;i<24;i++)t[n][i]=e[n]}return t}return[{text:S("全周投放"),tip:S("周一到周日全天投放"),getValue:function(){return e([1,1,1,1,1,1,1])}},{text:S("周一到周五投放"),tip:S("周一到周五全天投放"),getValue:function(){return e([1,1,1,1,1,0,0])}},{text:S("周末投放"),tip:S("周六、周日全天投放"),getValue:function(){return e([0,0,0,0,0,1,1])}}]}()};var I,D,E='<div id="${timeId}" class="${timeClass}">${time}</div><div id="${textId}" class="${textClass}">${text}</div>';return e.prototype={constructor:e,type:"Schedule",createMain:function(e){return e.tagName?document.createElement(e.tagName):k.prototype.createMain.call(this)},initOptions:function(t){var n={};T.extend(n,e.defaultProperties,t),this.setProperties(n),null==this.rawValue&&this.setRawValue(function(){for(var e=[],t=0;t<7;t++){var n=[];e.push(n);for(var i=0;i<24;i++)n.push(0)}return e}()),this.followTip={}},initStructure:function(){this.main.tabIndex=0;this.main.innerHTML=T.format('<input type="hidden" name="${name}" id="${inputId}"/><div class="${bodyClass}" id="${bodyId}"></div><div class="${headClass}"><div class="${helpClass}"><div class="${helpSelectedClass}"></div><div class="${helpTextClass}">${helpSelected}</div><div class="${helpUnselectedClass}"></div><div class="${helpTextClass}">${help}</div></div><div class="${shortcutClass}" id="${shortcutId}">${shortcutHtml}</div></div>',{name:this.name,inputId:n(this,"value-input"),headClass:t(this,"head"),bodyClass:t(this,"body"),helpClass:t(this,"help"),helpSelectedClass:t(this,"help-selected"),helpUnselectedClass:t(this,"help-unselected"),helpTextClass:t(this,"help-text"),shortcutClass:t(this,"shortcut"),shortcutId:n(this,"shortcut"),bodyId:n(this,"body"),helpSelected:this.helpSelectedText,help:this.helpText,shortcutHtml:function(e){var n=e,i=[],a=t(n,"shortcut-text-item");i.push('<span class="'+a+'">'+S("快速设定")+"：</span>");for(var r=n.shortcut,o=t(n,"shortcut-item"),s=0,l=r.length;s<l;s++){var u=r[s];i.push(T.format('<span class="${clazz}" data-item="${index}" >${text}</span>',{clazz:o,text:u.text,index:s}))}return i.join("")}(this)}),i(this)},initEvents:function(){var e=T.g(n(this,"time-body"));this.helper.addDOMEvent(e,"mousedown",h),this.helper.addDOMEvent(e,"mouseover",f),this.helper.addDOMEvent(e,"mouseout",p),this.helper.addDOMEvent(T.g(n(this,"day-head")),"click",l);var t=this.helper.getPart("shortcut");this.helper.addDOMEvent(t,"click",u),this.helper.addDOMEvent(t,"mouseover",T.curry(c,!0)),this.helper.addDOMEvent(t,"mouseout",T.curry(c,!1)),this.helper.addDOMEvent(t,"mousemove",d)},setProperties:function(e){var t=k.prototype.setProperties.call(this,e).rawValue;t&&this.stringifyValue(t.oldValue)!==this.stringifyValue(t.newValue)&&this.fire("change",{rawValue:this.rawValue})},repaint:_.createRepaint(k.prototype.repaint,{name:"rawValue",paint:function(e,t){var i=e.stringifyValue(t);T.g(n(e,"value-input")).value=null==i?"":i,a(e,t)}},{name:"disabled",paint:function(e,t){w(e,"disabled",t)}},{name:"readonly",paint:function(e,t){w(e,"readonly",t)}}),parseValue:function(e){for(var t=[],n=0,i=e.length;n<i;n+=24){for(var a=e.substring(n,n+24).split(""),r=[],o=0;o<a.length;o++)r.push(a[o]-0);t.push(r)}return t},stringifyValue:function(e){var t=[];if(!e)return null;for(var n=0,i=e.length;n<i;n++)t.push(e[n].join(""));return t.join("")},setRawValue:function(e){this.setProperties({rawValue:e})},getRawValue:function(){return this.rawValue},select:function(e){C(this,1,[].slice.call(arguments))},unselect:function(e){C(this,0,[].slice.call(arguments))},dispose:function(){_.beforeDispose(this);var e=this.followTip;for(var t in e)e[t]&&document.body.removeChild(e[t]);_.dispose(this),_.afterDispose(this)}},T.inherits(e,k),require("./main").register(e),e}),define("esui/SearchBox",["require","inf-i18n","./lib","./main","./Control","./TextBox","./Button","mini-event","./painters"],function(require){function e(e){o.apply(this,arguments)}function t(){this.removeState("clear"),this.addState("focus")}function n(){this.hasState("clear")&&(this.getChild("text").setValue(""),this.removeState("clear")),this.fire("search")}var i=require("inf-i18n"),a=require("./lib"),r=require("./main"),o=require("./Control");require("./TextBox"),require("./Button"),e.prototype.type="SearchBox",e.prototype.initOptions=function(e){var t={};a.extend(t,e),"false"===t.disabled&&(t.disabled=!1),a.isInput(this.main)?(t.placeholder||(t.placeholder=a.getAttribute(this.main,"placeholder")),t.text||(t.text=this.main.value),!t.maxLength&&(a.hasAttribute(this.main,"maxlength")||this.main.maxLength>0)&&(t.maxLength=this.main.maxLength)):t.text||(t.text=a.getText(this.main)),t.title||(t.title=this.main.title),o.prototype.initOptions.call(this,t)},e.prototype.initStructure=function(){var e={mode:"text",childName:"text",height:this.height,viewContext:this.viewContext,placeholder:this.placeholder};a.isInput(this.main)&&this.helper.replaceMain();var t=r.create("TextBox",e);t.appendTo(this.main),this.addChild(t);var n={main:document.createElement("span"),childName:"button",content:null==this.buttonText?i("搜索"):this.buttonText,viewContext:this.viewContext},o=r.create("Button",n);o.appendTo(this.main),this.addChild(o)},e.prototype.initEvents=function(){var e=this.getChild("text"),i=require("mini-event").delegate;i(e,this,"input"),i(e,"enter",this,"search"),e.on("keypress",function(e){13===e.keyCode&&e.preventDefault()}),e.on("focus",t,this),e.on("blur",a.bind(this.removeState,this,"focus"));this.getChild("button").on("click",n,this)},e.prototype.getValue=function(){return this.getChild("text").getValue()};var s=require("./painters");return e.prototype.repaint=s.createRepaint(o.prototype.repaint,s.attribute("title"),{name:["maxLength","placeholder","text","width","disabled","readOnly"],paint:function(e,t,n,i,a,r,o){var s={maxLength:t,placeholder:n,value:i,width:a,disabled:r,readOnly:o};e.getChild("text").setProperties(s)}},{name:"buttonText",paint:function(e,t){var n=e.getChild("button");null!=t&&n.setContent(t)}},{name:"disabled",paint:function(e,t){"false"===t&&(t=!1);e.getChild("button").set("disabled",t)}},{name:"fitWidth",paint:function(e,t){e[t?"addState":"removeState"]("fit-width")}}),e.prototype.getTextProperty=function(){var e=this.getChild("text");return e?e.getValue():this.text},a.inherits(e,o),r.register(e),e}),define("esui/Select",["require","underscore","./lib","./InputControl","./Layer","./painters","./main"],function(require){function e(e){for(var t=o.event.getTarget(e),n=this.layer.getElement();t&&t!==n&&!o.hasAttribute(t,"data-index");)t=t.parentNode;if(t&&!this.helper.isPart(t,"item-disabled")&&t!==n){var i=t.getAttribute("data-index");this.fire("beforechange",{index:i}).isDefaultPrevented()||this.set("selectedIndex",+i),this.layer.hide()}}function t(){l.apply(this,arguments)}function n(e){if("input"===e.type||"value"===e.propertyName){var t=this.helper.getId("search"),n=o.g(t);this.fire("input",{keyword:n.value})}}function i(){s.apply(this,arguments),this.layer=new t(this)}function a(){this.fire("layerrendered",{layer:this.layer})}var r=require("underscore"),o=require("./lib"),s=require("./InputControl"),l=require("./Layer");o.inherits(t,l),t.prototype.nodeName="ol",t.prototype.initSearchStructure=function(e){var t=this.control.helper.getId("search");if(o.g(t))return!1;var n="";n+='<li class="'+this.control.helper.getPartClasses("search").join(" ")+'"><table><tr><td><i class="iconfont icon-magnifier"></i></td><td><input id="'+t+'"'+(this.control.searchPlaceholder?' placeholder="'+this.control.searchPlaceholder+'"':"")+" /></td></tr></table></li>",n+="<ol></ol>",e.innerHTML=n},t.prototype.getSearchElement=function(e){return this.control.search?o.dom.last(e):e},t.prototype.create=function(){return l.prototype.create.call(this)},t.prototype.render=function(e){var t="";this.control.search&&this.initSearchStructure(e),e=this.getSearchElement(e);for(var n=0;n<this.control.datasource.length;n++){var i=this.control.datasource[n],a=this.control.helper.getPartClasses("item");i.disabled&&a.push.apply(a,this.control.helper.getPartClasses("item-disabled")),i.hidden&&a.push.apply(a,this.control.helper.getPartClasses("item-hidden")),t+='<li data-index="'+n+'" class="'+a.join(" ")+'"',i.background&&(t+='style="background:'+i.background+';"'),t+=">",t+=this.control.getItemHTML(i),t+="</li>"}e.innerHTML=t},t.prototype.initBehavior=function(t){this.control.helper.addDOMEvent(t,"click",e),this.on("rendered",function(){this.control.search&&this.control.helper.addDOMEvent(t,"input",n)})},t.prototype.syncState=function(e){var t=this.control.helper.getPartClasses("item-selected");e=this.getSearchElement(e);for(var n=o.getChildren(e),i=n.length-1;i>=0;i--){var a=n[i];i===this.control.selectedIndex?o.addClasses(a,t):o.removeClasses(a,t)}},t.prototype.dock={strictWidth:!0},i.prototype.type="Select",i.prototype.initOptions=function(e){var t={};if(r.extend(t,{datasource:[]},e),"select"===this.main.nodeName.toLowerCase()){t.datasource=[];for(var n=this.main.getElementsByTagName("option"),i=0,a=n.length;i<a;i++){var o=n[i],s={name:o.name||o.text,value:o.value,title:o.title||""};o.disabled&&(s.disabled=!0),t.datasource.push(s),o.selected&&null==t.selectedIndex&&null==t.value&&null==t.rawValue&&(t.selectedIndex=o.value?i:0)}this.helper.extractOptionsFromInput(this.main,t)}"string"==typeof t.selectedIndex&&(t.selectedIndex=+t.selectedIndex),this.setProperties(t)},i.prototype.itemTemplate='<span title="${title}">${text}</span>',i.prototype.getItemHTML=function(e){var t={text:r.escape(e.name||e.text),value:r.escape(e.value),title:r.escape(e.title||"")};return o.format(this.itemTemplate,t)},i.prototype.displayTemplate="${text}",i.prototype.inputTemplate='<input data-ui-type="TextBox" data-ui-child-name="input" autocomplete="off" />',i.prototype.getDisplayHTML=function(e){if(!e)return r.escape(this.emptyText||"");var t={text:r.escape(e.name||e.text),value:r.escape(e.value)};return o.format(this.displayTemplate,t)},i.prototype.initStructure=function(){"select"===this.main.nodeName.toLowerCase()&&this.helper.replaceMain(),this.main.tabIndex=0,this.editable?(this.main.innerHTML=o.format(this.inputTemplate),this.initChildren(this.main)):this.main.innerHTML=this.helper.getPartHTML("text","span")},i.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",r.bind(this.layer.toggle,this.layer)),this.layer.on("rendered",r.bind(a,this));var e=this.getChild("input");e&&e.on("input",r.bind(r.debounce(function(){-1===this.get("selectedIndex")?this.fire("change"):this.setProperties({selectedIndex:-1}),this.fire("selectinput")},100),this))},i.prototype.getRawValue=function(){if(this.editable&&this.getChild("input"))return this.getChild("input").getValue();if(this.selectedIndex<0)return null;var e=this.datasource[this.selectedIndex];return e?e.value:null};var u=require("./painters");return i.prototype.repaint=u.createRepaint(s.prototype.repaint,u.style("width"),u.style("height"),{name:"datasource",paint:function(e){e.layer.repaint()}},{name:["selectedIndex","emptyText","datasource"],paint:function(e){var t=e.helper.getPart("text"),n=-1===e.selectedIndex?null:e.datasource[e.selectedIndex];if(t)t.innerHTML=e.getDisplayHTML(n);else if(e.getChild("input")){var i=e.getDisplayHTML(n);n?e.getChild("input").setValue(i):e.getChild("input").setProperties({placeholder:i})}var a=e.layer.getElement(!1);a&&e.layer.syncState(a)}},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}}),i.prototype.updateDatasourceBySearch=function(e){e=e||[];var t=this.getSelectedItem();t&&(-1===r.indexOf(r.pluck(e,"value"),t.value)?(t.hidden=!0,e=[t].concat(e)):t.hidden=!1),this.updateDatasource(e);var n=this.helper.getPartClasses("search-empty"),i=this.layer.getElement(!1),a=r.filter(e,function(e){return!e.hidden});return a&&a.length>0?o.removeClasses(i,n):o.addClasses(i,n),e},i.prototype.updateDatasource=function(e){e||(e=this.datasource),this.datasource=e,this.selectedIndex=e.length>0?0:-1;var t={name:"datasource"},n={name:"selectedIndex"};this.repaint([t,n],{datasource:t,selectedIndex:n}),this.fire("change")},i.prototype.clearSearch=function(){var e=this.helper.getId("search"),t=o.g(e);t&&(t.value="");var n=this.helper.getPartClasses("search-empty"),i=this.layer.getElement(!1);o.removeClasses(i,n)},i.prototype.setProperties=function(e){null==e.datasource&&(e.datasource=this.datasource),null==e.value&&null==e.rawValue&&null==e.selectedIndex&&e.datasource===this.datasource&&(e.selectedIndex=this.selectedIndex),e.hasOwnProperty("emptyText")||(e.emptyText=this.emptyText),function(e){if(null==e.selectedIndex&&null==e.rawValue&&null==e.value&&(e.selectedIndex=-1),null!=e.rawValue?(e.value=null,e.selectedIndex=null):null!=e.value&&(e.selectedIndex=null),null==e.selectedIndex&&(null!=e.value||null!=e.rawValue)){e.selectedIndex=-1;for(var t=e.rawValue||e.value,n=0;n<e.datasource.length;n++)if(e.datasource[n].value==t){e.selectedIndex=n;break}delete e.value,delete e.rawValue}if(e.selectedIndex<0||e.selectedIndex>=e.datasource.length)if(e.emptyText)e.selectedIndex=-1;else for(e.selectedIndex=-1,n=0;n<e.datasource.length;n++)if(!e.datasource[n].disabled){e.selectedIndex=n;break}}(e);var t=s.prototype.setProperties.apply(this,arguments);return t.hasOwnProperty("selectedIndex")&&this.fire("change"),t},i.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),s.prototype.dispose.apply(this,arguments))},i.prototype.getSelectedItem=function(){return this.get("datasource")[this.get("selectedIndex")]},o.inherits(i,s),require("./main").register(i),i}),define("esui/Sidebar",["require","./lib","./Control","./main","./Panel","./controlHelper","./Button"],function(require){function e(){h.apply(this,arguments)}function t(e){return p.g(g.getId(e,"mat"))}function n(e){return p.g(g.getId(e,"minibar"))}function i(e){var i=e,a=p.page.getScrollTop(),r=i.marginTop||0,o=Math.max(i.top+r-a,r),s=i.main,l=t(i),u=n(i);s.style.top=o+"px",u.style.top=o+"px",l.style.top=o-r+"px"}function a(e){t(e).style.display="none"}function r(e){t(e).style.display="block",e.main.style.display="block",n(e).style.display="none",e.isAutoHide()||a(e)}function o(e){a(e),e.main.style.display="none",n(e).style.display="block"}function s(e,t){var n=e,i=g.getPartClasses(n,"minibar-hover");p.hasClass(t,i[0])||(p.addClasses(t,i),n.minibarDisplayTick=setTimeout(function(){r(n)},n.autoDelay))}function l(e,t){var n=e,i=g.getPartClasses(n,"minibar-hover");p.removeClasses(t,i),clearTimeout(n.minibarDisplayTick)}function u(e){e.setMode("fixed")}function d(e){e.setMode("autohide")}function c(e){clearTimeout(e.minibarDisplayTick)}function f(e,t){var n=e;if(e.isAutoHide()){var i=(t=t||window.event).relatedTarget||t.toElement;p.dom.contains(e.main,i)||(n.minibarDisplayTick=setTimeout(function(){o(n)},n.autoDelay))}}var p=require("./lib"),h=require("./Control"),v=require("./main"),m=require("./Panel"),g=require("./controlHelper");return e.prototype.type="Sidebar",e.prototype.createMain=function(e){return e.tagName?document.createElement(e.tagName):h.prototype.createMain.call(this)},e.prototype.initOptions=function(e){var t={headHeight:37,marginTop:10,marginLeft:10,marginBottom:10,autoDelay:300,mode:"fixed"};p.extend(t,e);var n=this.main,i=n.parentNode,a=p.getOffset(i),r=p.getOffset(n);null==this.initialOffsetTop?(this.initialOffsetTop=r.top-a.top,t.top=r.top,t.left=r.left):t.top=a.top+this.initialOffsetTop,p.extend(this,t)},e.prototype.initStructure=function(){!function(e){var t=p.dom.first(e.main);if(t){p.addClasses(t,g.getPartClasses(e,"head")),e.headEl=t;var n=p.dom.next(t);if(n){e.bodyEl=n,p.addClasses(n,g.getPartClasses(e,"body"));var i=new m({main:n,renderOptions:e.renderOptions});e.addChild(i,"content"),i.render()}}}(this),function(e){var t=e,n=document.createElement("div"),i=g.getPartClasses(t,"mat");n.id=g.getId(t,"mat"),n.className=i.join(" "),document.body.appendChild(n)}(this),function(e){var t=e,n=document.createElement("div"),i=[],a=g.getPartClasses(t,"minibar-text");t.headEl&&i.push('<div class="'+a.join(" ")+'">'+t.headEl.innerHTML+"</div>");var r=g.getPartClasses(t,"minibar-arrow");i.push('<div class="'+r.join(" ")+'"></div>'),n.innerHTML=i.join(""),n.id=g.getId(t,"minibar"),n.className=g.getPartClasses(t,"minibar").join(" "),g.addDOMEvent(t,n,"mouseover",p.bind(s,null,t,n)),g.addDOMEvent(t,n,"mouseout",p.bind(l,null,t,n)),document.body.appendChild(n)}(this),function(e){var t=e,n=t.main;require("./Button");var i=v.create("Button",{id:g.getId(t,"autohide"),skin:"autohide"}),a=v.create("Button",{id:g.getId(t,"fixed"),skin:"fixed"});i.appendTo(n),a.appendTo(n),t.addChild(i,"btnAutoHide"),t.addChild(a,"btnFixed"),i.onclick=p.curry(d,t),a.onclick=p.curry(u,t)}(this),(!p.ie||p.ie>=7)&&(this.topReset=p.curry(i,this),p.on(window,"scroll",this.topReset)),function(e){var t=e;t.main.style.cssText+=";left: "+(t.marginLeft?t.marginLeft+"px":0)+";bottom:"+(t.marginBottom?t.marginBottom+"px":0)+";",t.bodyEl.style.top=t.headHeight?t.headHeight+"px":0,n(t).style.bottom=t.marginBottom?t.marginBottom+"px":0,i(t)}(this),this.isAutoHide()&&o(this)},e.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"mouseover",p.bind(c,null,this)),this.helper.addDOMEvent(this.main,"mouseout",p.bind(f,null,this))},e.prototype.repaint=g.createRepaint(h.prototype.repaint,{name:"mode",paint:function(e,t){!function(e,t){var n=e;"fixed"===(t=t.toLowerCase())?(n.getChild("btnAutoHide").show(),n.getChild("btnFixed").hide()):(n.getChild("btnAutoHide").hide(),n.getChild("btnFixed").show()),n.mode=t}(e,t),e.isAutoHide()?o(e):r(e),g.isInStage(e,"RENDERED")&&e.fire("modechange",{mode:t})}}),e.prototype.setMode=function(e){this.setProperties({mode:e})},e.prototype.getMode=function(){return this.mode},e.prototype.getPanel=function(){return this.getChild("content")},e.prototype.setContent=function(e){var t=this.getPanel();t&&t.setProperties({content:e})},e.prototype.isAutoHide=function(){return"autohide"===this.mode},e.prototype.dispose=function(){if(!g.isInStage(this,"DISPOSED")){g.beforeDispose(this),this.topReset&&(p.un(window,"scroll",this.topReset),this.topReseter=null);var e=t(this),i=n(this);document.body.removeChild(i),document.body.removeChild(e),this.headEl=null,this.bodyEl=null,g.dispose(this),g.afterDispose(this)}},p.inherits(e,h),v.register(e),e}),define("esui/Tab",["require","underscore","./lib","./Control","./painters","./main"],function(require){function e(){s.apply(this,arguments)}function t(e){for(var t=[],n=o.getChildren(e),i=0;i<n.length;i++){var a=n[i],r={title:o.getText(a),panel:a.getAttribute("data-for")};a.className&&(r.classes=a.className.split(/\s+/)),t.push(r)}return t}function n(e){for(var t=e.target,n=t;n&&"li"!==n.nodeName.toLowerCase();)n=n.parentNode;if(n&&"li"===n.nodeName.toLowerCase())for(var i=n.parentNode,a=o.getChildren(i),r=0;r<a.length;r++)if(a[r]===n)return void(this.helper.isPart(t,"close")?this.removeAt(r):this.set("activeIndex",r))}function i(e,t,n,i){var a=document.createElement("li");return e.helper.addPartClasses("item",a),t.classes&&o.addClasses(a,t.classes),n&&e.helper.addPartClasses("item-active",a),a.innerHTML=e.getContentHTML(t,i),a}function a(e,t){for(var n=0;n<e.tabs.length;n++){var i=e.tabs[n];if(i.panel){var a=o.g(i.panel);a&&(a.style.display=n===t?"":"none")}var r=e.helper.getPart("navigator"),s=o.getChildren(r)[n],l=n===t?"addPartClasses":"removePartClasses";e.helper[l]("item-active",s)}var u={activeIndex:t,tab:e.tabs[t]};e.fire("activate",u)}var r=require("underscore"),o=require("./lib"),s=require("./Control");return e.prototype.type="Tab",e.prototype.initOptions=function(e){var n={tabs:[],activeIndex:0,allowClose:!1,orientation:"horizontal"};r.extend(n,e);var i=o.getChildren(this.main);if(i.length){for(var a=[],s=0;s<i.length;s++){var l=i[s];if("navigator"===l.getAttribute("data-role")){this.navigatorElement=l,n.tabs=t(l);break}var u={title:l.getAttribute("title"),panel:l.id};a.push(u)}n.tabs.length||(n.tabs=a)}"string"==typeof n.activeIndex&&(n.activeIndex=+n.activeIndex),this.setProperties(n)},e.prototype.initStructure=function(){var e=this.navigatorElement;this.navigatorElement=null,e||(e=document.createElement("ul"),this.main.insertBefore(e,this.main.firstChild||null)),e.id=this.helper.getId("navigator"),this.helper.addPartClasses("navigator",e)},e.prototype.initEvents=function(){this.helper.addDOMEvent("navigator","click",n)},e.prototype.contentTemplate="<span>${title}</span>",e.prototype.getContentHTML=function(e,t){var n=o.format(this.contentTemplate,{title:r.escape(e.title)});return t&&(n+='<span class="'+this.helper.getPartClassName("close")+'">关闭</span>'),n},e.prototype.setProperties=function(e){if(e.tabs){if(null==e.activeIndex){for(var t=this.tabs[this.activeIndex],n=-1,i=0;i<e.tabs.length;i++)if(e.tabs[i]===t){n=i;break}-1===n?(this.activeIndex=-1,e.activeIndex=0):this.activeIndex=n}null!=e.allowClose&&(this.allowClose=e.allowClose,delete e.allowClose)}s.prototype.setProperties.apply(this,arguments)},e.prototype.repaint=require("./painters").createRepaint(s.prototype.repaint,{name:["tabs","allowClose"],paint:function(e){var t=e.helper.getPart("navigator"),n=t.parentNode,a=t.nextSibling;t.innerHTML="",t.parentNode.removeChild(t);for(var r=0;r<e.tabs.length;r++){var o=i(e,e.tabs[r],e.activeIndex===r,e.allowClose);t.appendChild(o)}n.insertBefore(t,a)}},{name:"activeIndex",paint:a},{name:"orientation",paint:function(e,t){e.removeState("vertical"),e.removeState("horizontal"),e.addState(t)}}),e.prototype.activate=function(e){for(var t=0;t<this.tabs.length;t++)this.tabs[t]===e&&this.set("activeIndex",t)},e.prototype.add=function(e){this.insert(e,this.tabs.length)},e.prototype.insert=function(e,t){t=Math.min(t,this.tabs.length),t=Math.max(t,0),this.tabs.splice(t,0,e);var n=i(this,e,!1,this.allowClose),r=this.helper.getPart("navigator"),s=o.getChildren(r);if(r.insertBefore(n,s[t]||null),1===this.tabs.length)this.activeIndex=0,a(this,0);else if(t<=this.activeIndex&&this.activeIndex++,e.panel){var l=o.g(e.panel);l&&(l.style.display="none")}this.fire("add",{tab:e,index:t})},e.prototype.remove=function(e){for(var t=0;(t=r.indexOf(this.tabs,e,t))>=0;)this.removeAt(t)},e.prototype.removeAt=function(e){var t=this.tabs.splice(e,1)[0],n=this.helper.getPart("navigator");if(t){var i=o.getChildren(n)[e];if(i.parentNode.removeChild(i),e<this.activeIndex?this.activeIndex--:e===this.activeIndex&&(this.activeIndex=Math.min(this.activeIndex,this.tabs.length-1),a(this,this.activeIndex)),t.panel){var r=o.g(t.panel);r&&(r.style.display="none")}this.fire("remove",{tab:t,index:e})}},e.prototype.getActiveTab=function(){return this.get("tabs")[this.get("activeIndex")]},o.inherits(e,s),require("./main").register(e),e}),define("esui/Table",["require","inf-i18n","underscore","./lib","./controlHelper","./Control","./main"],function(require){function e(e){ve.call(this,fe.extend({},e,{followHeightArr:[0,0],followWidthArr:[],handlers:[]}))}function t(e){return!(void 0===e||null===e)}function n(e){return!t(e)||!e.toString().length}function i(e,t,n){pe.setAttribute(e,"data-"+t,n)}function a(e,t){return pe.getAttribute(e,"data-"+t)}function r(e,t){var n=pe.getStyle(e,t);return""===n?0:parseInt(n,10)||0}function o(e,t){return he.getId(e,t)}function s(e,t){return he.getPartClasses(e,t).join(" ")}function l(e){return pe.g(o(e,"head"))}function u(e){return pe.g(o(e,"body"))}function d(e){return pe.g(o(e,"foot"))}function c(e,t){return pe.g(o(e,"row")+t)}function f(e){return pe.g(o(e,"select-all"))}function p(e,t){e.selectedIndex=t;for(var n={},i=t.length-1;i>=0;i--)n[t[i]]=1;e.selectedIndexMap=n}function h(e,t){return!!e.selectedIndexMap&&!!e.selectedIndexMap[t]}function v(e){if(e.width)return e.width;var t=document.createElement("div");e.main.parentNode.appendChild(t);var n=t.offsetWidth;return t.parentNode.removeChild(t),n}function m(e){if(e.fields){for(var t=e.fields.slice(0),n=t.length;n--;)t[n]||t.splice(n,1);if(e.realFields=t,e.select)switch(e.select.toLowerCase()){case"multi":t.unshift(function(e){return{width:30,stable:!0,select:!0,title:function(t,n){var i={id:o(e,"select-all"),className:s(e,"select-all"),disabled:e.disabled?'disabled="disabled"':"",index:n};return pe.format(Ce,i)},content:function(t,n){var i={id:o(e,"multi-select")+n,className:s(e,"multi-select"),disabled:e.disabled?'disabled="disabled"':"",index:n,checked:h(e,n)?'checked="checked"':""};return pe.format(Te,i)}}}(e));break;case"single":t.unshift(function(e){return{width:50,stable:!0,title:e.selectTitle||"&nbsp;",select:!0,content:function(t,n){var i=o(e,"single-select"),a={id:i+n,name:i,className:s(e,"single-select"),index:n,disabled:e.disabled?'disabled="disabled"':"",checked:h(e,n)?'checked="checked"':""};return pe.format(ke,a)}}}(e))}}}function g(e){if(e.followHead){for(var t=e.followDoms=[],n=e.main.parentNode.firstChild,i=e.id;n;)1===n.nodeType&&a(n,"follow-thead")===i&&t.push(n),n=n.nextSibling;y(e),x(e)}}function x(e){var t=e.followDoms,n=e.followHeightArr;n[0]=parseInt(e.followHeadOffsetH,10)||0;for(var i=0,a=t.length;i<a;i++){var r=t[i];n[i+1]=n[i]+r.offsetHeight}n[i+1]=n[i],n.length=i+2}function y(e){for(var t=e.followDoms,n=e.followWidthArr,i=0,a=t.length;i<a;i++){var o=t[i],s=r(o,"padding-left")+r(o,"padding-right")+r(o,"border-left-width")+r(o,"border-right-width");n[i]=s,t[i].style.width=e.realWidth-s+"px"}}function b(e){var t=e.followDoms,n=pe.getOffset(t[0]||e.main);e.followTop=n.top,e.followLeft=n.left}function w(e,t,n){var i=n.realFields,a=""===n.select?t:t-i[0].width;return e?/%/.test(e)?a*parseInt(e,10)/100:parseInt(e,10):0}function C(e){var t=e.realFields,n=[];e.colsWidth=[];var i="auto"===e.overflowX?function(e){for(var t=0,n=e.realFields,i=e.minColsWidth,a=0,r=n.length;a<r;a++)t+=n[a].width||i[a];return t}(e):e.realWidth;i=Math.max(i,e.realWidth),e.bodyWidth=i;for(var a=i-1,r=0,o=t.length;r<o;r++){var s=t[r],l=s.width;l=w(l,i,e),e.colsWidth.push(l),a-=l,s.stable||n.push(r)}o=n.length;var u=Math.round(a/o);for(r=0;r<o;r++){var d=n[r];a-=f=Math.abs(a)<Math.abs(u)?a:u,e.colsWidth[d]+=f;(c=e.minColsWidth[d])>e.colsWidth[d]&&(a+=e.colsWidth[d]-c,e.colsWidth[d]=c)}if(a<0)for(r=0;r<o&&0!==a;){var c;d=n[r];if((c=e.minColsWidth[d])<e.colsWidth[d]){var f;f=(f=e.colsWidth[n[r]]-c)>Math.abs(a)?a:-f,a+=Math.abs(f),e.colsWidth[d]+=f}r++}else a>0&&(e.colsWidth[n[0]]+=a)}function T(e){var t=d(e);e.foot instanceof Array?(t||((t=document.createElement("div")).id=o(e,"foot"),t.className=s(e,"foot"),i(t,"control-table",e.id),e.main.appendChild(t)),t.style.display="",e.realWidth&&(t.style.width=e.realWidth+"px"),t.innerHTML=function(e){var t=[],i=e.foot,a=0,r=e.colsWidth,o=s(e,"fcell"),l=s(e,"fcell-text"),u=e.rowWidthOffset;t.push(pe.format(me,{width:"100%",controlTableId:e.id}),"<tr>");for(var d=0,c=i.length;d<c;d++){var f=i[d],p=r[a],h=f.colspan||1,v=[o],m=f.content;"function"==typeof m&&(m=m.call(e)),n(m)&&(m="&nbsp;");for(var g=1;g<h;g++)p+=r[a+g];a+=h,f.align&&v.push(s(e,"cell-align-"+f.align)),(p+=u)<0&&(p=0),t.push('<th id="'+S(e,d)+'" class="'+v.join(" ")+'"',' style="width:'+p+"px;",(p?"":"display:none;")+'">','<div class="'+l+'">',m,"</div></th>")}return t.push("</tr></table>"),t.join("")}(e)):t&&(t.style.display="none")}function k(e){var t=l(e),a=o(e,"head-panel");t||((t=document.createElement("div")).id=o(e,"head"),t.className=s(e,"head"),i(t,"control-table",e.id),e.main.appendChild(t),t.innerHTML=pe.format('<div id="${id}" data-ui="type:Panel;id:${id};"></div>',{id:a}),e.initChildren(t),e.headPanel=e.viewContext.get(a),he.addDOMEvent(e,t,"mousemove",fe.bind(M,t,e)),he.addDOMEvent(e,t,"mousedown",fe.bind(N,t,e))),e.noHead?t.style.display="none":(t.style.display="",e.bodyWidth&&(t.style.width=e.bodyWidth+"px"),pe.g(a).innerHTML=function(e){var t=e.realFields,i=s(e,"hcell"),a=s(e,"hcell-text"),r=s(e,"cell-break"),l=s(e,"hsort"),u=s(e,"hcell-sel"),d=-1,c=-1,f=e.rowWidthOffset;if(!e.disabled){for(var p=0,h=t.length;p<h;p++)if(!t[p].stable){d=p;break}for(var p=h-1;p>=0;p--)if(!t[p].stable){c=p;break}}var v=[];v.push(pe.format(me,{width:"100%",controlTableId:e.id}),"<tr>");for(var p=0,h=t.length;p<h;p++){var m=[i],g=t[p],x=g.title,y=e.sortable&&g.sortable,b=y&&g.field&&g.field===e.orderBy,w=a;0===p&&(w+=" "+s(e,"hcell-text-first")),p===h-1&&(w+=" "+s(e,"hcell-text-last"));var C="";y&&(m.push(s(e,"hcell-sort")),b&&m.push(s(e,"hcell-"+e.order)),C=pe.format(ge,{className:l})),g.align&&m.push(s(e,"cell-align-"+g.align)),(e.breakLine||g.breakLine)&&m.push(r);var T="",k="",S=g.tip;(k="function"==typeof S?S.call(e):S)&&(T=pe.format(xe,{id:o(e,"htip"+p),className:s(e,"htip"),content:k,skin:g.tipSkin}),e.hasTip=!0);var I;n(I="function"==typeof x?x.call(e):x)&&(I="&nbsp;"),v.push('<th id="'+_(e,p)+'"',' data-index="'+p+'"',' class="'+m.join(" ")+'"',y?' data-sortable="1"':"",p>=d&&p<c?' data-dragright="1"':"",p<=c&&p>d?' data-dragleft="1"':"",' style="',"width:"+(e.colsWidth[p]+f)+"px;",(e.colsWidth[p]?"":"display:none")+'">','<div class="'+w+(g.select?" "+u:"")+'">',I,T,C,"</div></th>")}return v.push("</tr></table>"),v.join("")}(e),function(e,t){t.children&&t.disposeChildren();e.hasTip&&t.initChildren()}(e,e.viewContext.get(a)))}function _(e,t){return o(e,"title-cell")+t}function S(e,t){return o(e,"foot-cell")+t}function I(e,t){D(this,e)}function D(e,t){if(!e.isDraging&&!e.dragReady&&(he.addPartClasses(e,"hcell-hover",t),e.sortable)){e.sortReady=1;var n=a(t,"index"),i=e.realFields[n];i&&i.sortable&&he.addPartClasses(e,"hcell-sort-hover",t)}}function E(e,t){P(this,e)}function P(e,t){he.removePartClasses(e,"hcell-hover",t),e.sortable&&(e.sortReady=0,he.removePartClasses(e,"hcell-sort-hover",t))}function A(e,t){if(this.sortable&&this.sortReady){var n=a(e,"index"),i=this.realFields[n];if(i&&i.sortable){var r=this.orderBy,o=this.order;o=r===i.field&&o&&"asc"!==o?"asc":"desc",this.setProperties({order:o,orderBy:i.field}),this.fire("sort",{field:i,order:o})}}}function M(e,t){if(e.columnResizable){if(!e.isDraging){var n=t.target;if(n=O(e,n)){var i=t.pageX||t.clientX+pe.page.getScrollLeft(),r=pe.getOffset(n),o=a(n,"sortable");a(n,"dragleft")&&i-r.left<8?(o&&P(e,n),he.addPartClasses(e,"startdrag",this),e.dragPoint="left",e.dragReady=1):a(n,"dragright")&&r.left+n.offsetWidth-i<8?(o&&P(e,n),he.addPartClasses(e,"startdrag",this),e.dragPoint="right",e.dragReady=1):(he.removePartClasses(e,"startdrag",this),o&&D(e,n),e.dragPoint="",e.dragReady=0)}}}}function O(e,t){for(;1===t.nodeType;){if("TH"===t.nodeName)return t;t=t.parentNode}return null}function N(e,t){if(e.columnResizable){e.fire("startdrag"),e.fire("dragstart");var n=s(e,"startdrag"),i=t.target;if((i=O(0,i))&&!(pe.g(o(e,"head")).className.indexOf(n)<0)){e.htmlHeight=document.documentElement.clientHeight,e.isDraging=!0,e.dragIndex=a(i,"index"),e.dragStart=t.pageX||t.clientX+pe.page.getScrollLeft(),L(e);var r=fe.partial(R,e),l=function(t){var n=!0;try{n=fe.partial(q,e)(t)}catch(i){}return pe.un(document,"mousemove",r),pe.un(document,"mouseup",l),n};return pe.on(document,"mousemove",r),pe.on(document,"mouseup",l),B(e,e.dragStart),pe.event.preventDefault(t),!1}}}function L(e){var t=pe.getOffset(e.main);e.top=t.top,e.left=t.left}function R(e,t){var n=t||window.event;return B(e,n.pageX||n.clientX+pe.page.getScrollLeft()),pe.event.preventDefault(n),!1}function B(e,t){var n=$(e),i=e.left+e.realWidth,a=e.left+1,r=i-1;t=(t=t<a?a:t)>r?r:t,n||(n=function(e){var t=document.createElement("div");return t.id=o(e,"drag-mark"),t.className=s(e,"mark "),t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t),t}(e)),n.style.top=e.top+"px",n.style.left=t+"px",n.style.zIndex=e.zIndex||"";var l=e.htmlHeight-e.top+pe.page.getScrollTop(),u=e.main.offsetHeight;l=u>l?l:u,n.style.height=l+"px"}function $(e){return pe.g(o(e,"drag-mark"))}function q(e,t){var n=t||window.event,i=parseInt(e.dragIndex,10),a=n.pageX||n.clientX+pe.page.getScrollLeft(),r=e.realFields,o=r.length,s=0,l=e.colsWidth,u=0;"left"===e.dragPoint&&i--;var d=e.minColsWidth[i],c=a-e.dragStart,f=l[i]+c;f<d&&(c+=d-f,f=d);for(var p=[],h=[],v=i+1;v<o;v++)!r[v].stable&&l[v]>0&&(p.push(v),y=l[v],h.push(y),s+=y);var m=c,g=p.length;for(v=0;v<g;v++){var x=p[v],y=h[v],b=c*y/s,w=m>0?Math.ceil(b):Math.floor(b);m-=w=Math.abs(w)<Math.abs(m)?w:m,(y-=w)<(d=e.minColsWidth[x])&&(u+=d-y,y=d),l[x]=y}return f-=u,l[i]=f,Q(e),e.isDraging=!1,function(e){var t=$(e);t.style.left="-10000px",t.style.top="-10000px"}(e),e.fire("enddrag"),e.fire("dragend"),pe.event.preventDefault(n),!1}function F(e){var t=u(e),n=o(e,"body-panel");if(!t){var i=o(e,"body");(t=document.createElement("div")).id=i,t.className=s(e,"body"),e.main.appendChild(t),t.innerHTML=pe.format('<div id="${id}" data-ui="type:Panel;id:${id}"></div>',{id:n}),e.initChildren(t),e.bodyPanel=e.viewContext.get(n)}var a=t.style;a.overflowX="auto",a.overflowY="auto",e.bodyWidth&&(a.width=e.bodyWidth+"px");var r=e.bodyPanel.setContent(function(e){var t=e.datasource||[],n=t.length,i=[];if(!n)return pe.format(ye,{className:s(e,"body-nodata"),html:e.noDataHtml});for(var a=e.rowBuilderList,r=0;r<n;r++){var o=t[r];i.push(V(e,o,r,a))}return i.join("")}(e));e.fire("bodyChange",r)}function j(e,t,n){return o(e,"cell")+t+"-"+n}function H(e,n){for(var i=e.rowBuilderList||[],a=0,r=n.length;a<r;a++){var o=n[a];o.getColHtml&&(o.getSubrowHtml&&(e.hasSubrow=!0),t(o.index)||(o.index=1e3),i.push(o))}i.sort(function(e,t){return e.index-t.index}),e.rowBuilderList=i}function V(e,n,i,a){function r(e,t){return e.index-t.index}for(var s=[],l=e.realFields,u=e.rowWidthOffset,d=[],c=[],f=[],p=0,h=a.length;p<h;p++){var v=a[p],m=v.getRowArgs?v.getRowArgs(e,i)||{}:{};d.push(m),m.rowClass&&c.push(m.rowClass),m.rowAttr&&f.push(m.rowAttr)}for(p=0,h=l.length;p<h;p++){for(var g=l[p],x=e.colsWidth[p],y=[],b=[],w=[],C=[],T=[],k=[],_=-1,S=0,I=a.length;S<I;S++){var D=a[S].getColHtml(e,n,g,i,p,d[S]);if(D){var E=D.html;D.colClass&&y.push(D.colClass),D.textClass&&b.push(D.textClass),D.colAttr&&w.push(D.colAttr),D.textAttr&&C.push(D.textAttr),t(E)&&(D.notInText?(D.index=S,k.push(D)):(T.push(E),_<0&&(_=S)))}}var P="";if(T=['<div class="'+b.join(" ")+'" ',C.join(" ")+">",T.join(""),"</div>"].join(""),k.push({html:T,index:_}),k.sort(r),k.length>1){for(P=['<table width="100%" cellpadding="0" cellspacing="0">',"<tr>"],S=0,I=k.length;S<I;S++){var A=k[S];P.push("<td ",t(A.width)?' width="'+A.width+'" ':"",A.align?' align="'+A.align+'">':">",A.html,"</td>")}P.push("</tr></table>"),P=P.join("")}else P=T;s.push('<td id="'+j(e,i,p)+'" ','class="'+y.join(" ")+'" ',w.join(" ")+" ",'style="width:'+(x+u)+"px;",(x?"":"display:none")+'" ','data-control-table="'+e.id+'" ','data-row="'+i+'" data-col="'+p+'">',P,"</td>")}if(s.unshift(pe.format(be,{id:o(e,"row")+i,className:c.join(" "),attr:f.join(" "),index:i}),pe.format(me,{width:"100%",controlTableId:e.id})),s.push("</tr></table></div>"),e.hasSubrow)for(p=0,h=a.length;p<h;p++){var M=a[p].getSubrowHtml;M&&s.push(M(e,i,d[p]))}return s.join("")}function z(e,t){var n=(e.datasource||[]).length;return{tdCellClass:s(e,"cell"),tdBreakClass:s(e,"cell-break"),tdTextClass:s(e,"cell-text"),fieldLen:e.realFields.length,rowClass:[s(e,"row"),s(e,"row-"+(t%2?"odd":"even")),h(e,t)?s(e,"row-selected"):"",n-1===t?s(e,"row-last"):""].join(" ")}}function U(e,t,i,a,r,l){var u=l.tdCellClass,d=l.tdBreakClass,c=[u],f=[l.tdTextClass],p=i.content;0===r&&f.push(s(e,"cell-text-first")),r===l.fieldLen-1&&f.push(s(e,"cell-text-last")),(e.breakLine||i.breakLine)&&c.push(d),i.select&&f.push(s(e,"cell-sel")),i.align&&c.push(s(e,"cell-align-"+i.align)),i.field&&i.field===e.orderBy&&c.push(s(e,"cell-sorted"));var h="function"==typeof p?p.call(e,t,a,r):e.encode?pe.encodeHTML(t[p]):t[p];return n(h)&&(h="&nbsp;"),{colClass:c.join(" "),textClass:f.join(" "),html:pe.format(we,{colTextId:o(e,"cell-textfield-"+a+"-"+r),content:h})}}function W(e,t){this.isDraging||he.addPartClasses(this,"row-hover",e)}function Y(e,t){he.removePartClasses(this,"row-hover",e)}function G(e,t){var n=he.getPartClasses(this,"cell-text")[0];if("line"===this.selectMode&&pe.hasClass(t.target,n)){if(this.dontSelectLine)return void(this.dontSelectLine=!1);var i=a(e,"index");switch(this.select){case"multi":J(this,i,!pe.g(o(this,"multi-select")+i).checked),ee(this);break;case"single":ae(this,i,!0)}}}function Z(e){var t=l(e),n=d(e);e.realWidth=v(e);var i=e.realWidth+"px";e.realWidth&&(e.main.style.width=i),C(e),Q(e);var a=e.bodyWidth+"px";e.realWidth&&(u(e).style.width=a,t&&(t.style.width=a),n&&(n.style.width=i)),e.followHead&&(y(e),x(e)),L(e),e.fire("resize"),e.topReseter&&e.topReseter()}function X(e,t,n,i){e&&(e.style.top=n+"px",e.style.left=i+"px",e.style.position=t)}function Q(e){var t=u(e);if(t){var n=e.colsWidth,i=e.foot,r=e.id,o=i instanceof Array&&i.length,s=t.getElementsByTagName("td"),l=s.length,d=e.rowWidthOffset;if(o)for(var c=0,f=0;f<o;f++){for(var p=i[f],h=n[c],v=p.colspan||1,m=1;m<v;m++)h+=n[c+m];c+=v;var g=pe.g(S(e,f));h=Math.max(h+d,0),g.style.width=h+"px",g.style.display=h?"":"none"}if(o=n.length,!e.noHead)for(f=0;f<o;f++){h=Math.max(n[f]+d,0);(g=pe.g(_(e,f))).style.width=h+"px",g.style.display=h?"":"none"}for(m=0,f=0;f<l;f++){if(a(g=s[f],"control-table")===r){h=Math.max(n[m%o]+d,0);g.style.width=h+"px",g.style.display=h?"":"none",m++}}}}function K(e,t){J(this,a(e,"index")),ee(this)}function J(e,n,i){var r="row-selected";if(n>=0){if(f=pe.g(o(e,"multi-select")+n)){t(i)&&(f.checked=i);var s=c(e,n);f.checked?he.addPartClasses(e,r,s):he.removePartClasses(e,r,s)}}else if(t(i))for(var l=ne(e,"checkbox"),u=0,d=l.length;u<d;u++){var f;(f=l[u]).checked=i;s=c(e,a(f,"index"));i?he.addPartClasses(e,r,s):he.removePartClasses(e,r,s)}}function ee(e){for(var t=f(e),n=ne(e,"checkbox"),i=!0,r=[],s=o(e,"multi-select"),l=0,u=n.length;l<u;l++){var d=n[l];if(d.id.indexOf(s)>=0){var c=a(d,"index");d.checked?r.push(c):i=!1}}p(e,r),e.fire("select",{selectedIndex:r}),0===n.length&&(i=!1),t.checked=i}function te(e){!function(e,t){J(e,-1,t),ee(e)}(this,f(this).checked)}function ne(e,t){for(var n=u(e).getElementsByTagName("input"),i=[],a=0,r=n.length;a<r;a++){var o=n[a],s=o.id;o.getAttribute("type")===t&&s&&i.push(o)}return i}function ie(e,t){ae(this,a(e,"index"))}function ae(e,n,i){var a=e.selectedIndex,r=pe.g(o(e,"single-select")+n);r&&(t(i)&&(r.checked=i),p(e,[n]),e.fire("select",{selectedIndex:n}),a&&a.length&&he.removePartClasses(e,"row-selected",c(e,a[0])),he.addPartClasses(e,"row-selected",c(e,n)))}function re(e){e.main.style.zIndex=e.zIndex||""}function oe(e){for(var t=ne(e,"multi"===e.select?"checkbox":"radio"),n=t.length-1;n>=0;n--)e.disabled?t[n].setAttribute("disabled","disabled"):t[n].removeAttribute("disabled");if("multi"===e.select){var i=f(e);i&&(e.disabled?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled"))}if(e.children&&e.children.length){var a=e.children;for(n=a.length-1;n>=0;n--)a[n].setDisabled(e.disabled)}}function se(e,t){var n=null;return t&&(n="function"==typeof t?t:function(e){var t=" "+e+" ";return function(e){return(" "+e.className+" ").replace(_e," ").indexOf(t)>=0}}(t)),{handler:e,matchFn:n}}function le(e,t,n){var i=t.id,a=e.handlers[i];return a||(a=e.handlers[i]={}),n&&((a=e.handlers[n])||(a=e.handlers[n]=[])),a}function ue(e,t,n,i){var a=le(e,t,n),r=[];a.length||function(e,t,n){var i=le(e,t,n);he.addDOMEvent(e,t,n,function(e,t,n){return function(i){for(var i=i||window.event,a=i.target;a;){if(1===a.nodeType)for(var r=t.length-1;r>=0;r--){var o=t[r];o.matchFn&&!o.matchFn(a)||o.handler.call(n,a,i)}if(a===e)break;a=a.parentNode}}}(t,i,e))}(e,t,n);for(var o=0,s=i.length;o<s;o++){var l=i[o],u=se(l.handler,l.matchFn);a.push(u),r.push(u)}return r}function de(e,t,n,i){for(var a=le(e,t,n),r=0,o=i.length;r<o;r++)for(var s=i[r],l=0,u=a.length;l<u;l++)a[l]===s&&(a.splice(l,1),l--);a.length||function(e,t,n){he.removeDOMEvent(e,t,n)}(e,t,n)}var ce=require("inf-i18n"),fe=require("underscore"),pe=require("./lib"),he=require("./controlHelper"),ve=require("./Control");e.defaultProperties={noDataHtml:ce("没有数据"),noFollowHeadCache:!1,followHead:!1,sortable:!1,encode:!1,columnResizable:!1,rowWidthOffset:-1,select:"",selectMode:"box",subrowMutex:1,subEntryOpenTip:ce("点击展开"),subEntryCloseTip:ce("点击收起"),subEntryWidth:18,breakLine:!1,hasTip:!1,hasSubrow:!1,singleSubrow:!0,tipWidth:18,sortWidth:9,fontSize:13,colPadding:8,zIndex:0,overflowX:"hidden"};var me='<table cellpadding="0" cellspacing="0" width="${width}" data-control-table="${controlTableId}">',ge='<div class="${className}"></div>',xe='<div id="${id}" class="${className}" data-ui="type:Tip;id:${id};content:${content};skin:${skin}"></div>',ye='<div class="${className}">${html}</div>',be='<div id="${id}" class="${className}" data-index="${index}" ${attr}>',we='<span id="${colTextId}">${content}</span>',Ce='<input type="checkbox" id="${id}" class="${className}" data-index="${index}" ${disabled}/>',Te='<input type="checkbox" id="${id}" class="${className}" data-index="${index}" ${disabled} ${checked} />',ke='<input type="radio" id="${id}" name="${name}" class="${className}" data-index="${index}" ${disabled} ${checked} />',_e=/[\t\r\n]/g;return e.prototype={type:"Table",initOptions:function(t){var n={};fe.extend(n,e.defaultProperties,t),this.setProperties(n)},initStructure:function(){this.realWidth=v(this),this.realWidth&&(this.main.style.width=this.realWidth+"px"),re(this),function(e){H(e,[{index:1,getRowArgs:z,getColHtml:U}])}(this),function(e){e.viewWidth=pe.page.getViewWidth(),e.viewHeight=pe.page.getViewHeight(),he.addDOMEvent(e,window,"resize",function(){var t=pe.page.getViewWidth(),n=pe.page.getViewHeight(),i=v(e);t===e.viewWidth&&n===e.viewHeight&&i===e.realWidth||(e.viewWidth=t,e.viewHeight=n,Z(e))})}(this),function(e){var t=he.getPartClasses,n=t(e,"row")[0],i=t(e,"hcell")[0],a=t(e,"select-all")[0],r=t(e,"multi-select")[0],o=t(e,"single-select")[0];ue(e,e.main,"mouseover",[{handler:W,matchFn:n},{handler:I,matchFn:i}]),ue(e,e.main,"mouseout",[{handler:Y,matchFn:n},{handler:E,matchFn:i}]),ue(e,e.main,"click",[{handler:G,matchFn:n},{handler:A,matchFn:i},{handler:te,matchFn:a},{handler:K,matchFn:r},{handler:ie,matchFn:o}])}(this)},repaint:function(t,n){ve.prototype.repaint.apply(this,arguments);this.realWidth||(this.realWidth=v(this),this.realWidth&&(this.main.style.width=this.realWidth+"px"));var i=e.defaultProperties,a={};if(t)for(var r=0;r<t.length;r++){a[t[r].name]=!0}else for(var s in i)i.hasOwnProperty(s)&&(a[s]=!0);var d=!1,c=!1,f=!1;if((a.fields||a.select||a.selectMode||a.sortable)&&(m(this),d=!0),(d||a.breakLine||a.colPadding||a.fontSize)&&(!function(e){var t=e.realFields,n=[],i=e.fontSize,a=2*e.colPadding+5;if(e.noHead){var r=i+a;for(o=0,s=t.length;o<s;o++)n[o]=r}else for(var o=0,s=t.length;o<s;o++){var l=t[o],u=l.minWidth;u||l.breakLine||(u=l.title.length*i+a+(e.sortable&&l.sortable?e.sortWidth:0)+(l.tip?e.tipWidth:0)),n[o]=u}e.minColsWidth=n}(this),C(this),c=!0),(d||c||a.noHead||a.order||a.orderBy||a.selectedIndex)&&k(this),(a.followHead||a.noFollowHeadCache)&&(function(e){e.followHead&&(g(e),e.noFollowHeadCache||b(e))}(this),function(e){if(e.followHead&&!e.topReseter){var t=l(e),n=o(e,"top-placeholder"),i=document.createElement("div");i.id=n,i.style.width="100%",i.style.display="none",pe.insertBefore(i,e.main),i=null,e.topReseter=function(){if(e.followHead){var i=pe.page.getScrollTop(),a=pe.ie&&pe.ie<7?"absolute":"fixed",r=e.main.offsetHeight,o="absolute"===a,s=pe.g(n),l=e.followDoms;if(s){if(i+=parseInt(e.followHeadOffsetH,10)||0,e.noFollowHeadCache){var u=t.style.position;"fixed"!==u&&"absolute"!==u&&b(e)}if(i>e.followTop&&(o||i-e.followTop<r)){var d=pe.page.getScrollLeft(),c=e.followHeightArr,f=c.length;L(e);var p=o?e.left:e.left-d;if(s.style.height=c[f-1]+t.offsetHeight-(parseInt(e.followHeadOffsetH,10)||0)+"px",s.style.display="",pe.ie&&pe.ie<8&&(t.style.zIndex=e.zIndex+1),o){for(var h=0,v=l.length;h<v;h++)X(l[h],a,c[h]+i,p);X(t,a,c[f-1]+i,p)}else{for(h=0,v=l.length;h<v;h++)X(l[h],a,c[h],p);X(t,a,c[f-1],p)}}else{for(s.style.height=0,s.style.display="none",a="",h=0,v=l.length;h<v;h++)X(l[h],a,0,0);X(t,a,0,0),t.style.zIndex=""}}}},he.addDOMEvent(e,window,"scroll",e.topReseter)}}(this)),(d||c||a.encode||a.noDataHtml||a.datasource||a.selectedIndex)&&(F(this),f=!0),(f||a.bodyMaxHeight)&&function(e){var t=u(e).style,n=e.datasource.length,i=e.bodyMaxHeight;if(i>0&&n>0){var a=i,r=pe.g(o(e,"body-panel"));if(r&&(a=r.offsetHeight),a>=i)return void(t.height=i+"px")}t.height="auto"}(this),(d||c||a.foot)&&T(this),this.extraRepaint=he.createRepaint([{name:"disabled",paint:oe},{name:"width",paint:Z},{name:"zIndex",paint:re}]),this.extraRepaint(t,n),f&&he.isInStage(this,"RENDERED"))switch(this.select){case"multi":p(this,this.selectedIndex),this.fire("select",{selectedIndex:this.selectedIndex})}this.realWidth!==v(this)&&Z(this)},getId:function(e){return o(this,e)},getBodyCellId:function(e,t){return j(this,e,t)},setCellText:function(e,t,i,a){a&&(e=pe.encodeHTML(e)),e=n(e)?"&nbsp":e,pe.g(o(this,"cell-textfield-"+t+"-"+i)).innerHTML=e},getClass:function(e){return s(this,e)},getRow:function(e){return c(this,e)},addRowBuilders:function(e){H(this,e)},addHandlers:function(e,t){return t.length||(t=[t]),ue(this,this.main,e,t)},removeHandlers:function(e,t){t.length||(t=[t]),de(this,this.main,e,t)},adjustWidth:function(){Z(this)},setDatasource:function(e,t){this.datasource=e,p(this,t||[]);var n={name:"datasource"},i={name:"selectedIndex"};this.repaint([n,i],{datasource:n,selectedIndex:i})},updateRowAt:function(e,t){t&&(this.datasource[e]=t);var n=this.datasource[e],i=c(this,e);if(n&&i){this.fire("beforerowupdate",{index:e,data:n});var a=document.createElement("div");a.innerHTML=V(this,t,e,this.rowBuilderList);var r=a.children[0];i.parentNode.replaceChild(r,i),this.fire("afterrowupdate",{index:e,data:n})}},getSelectedItems:function(){var e=this.selectedIndex,t=[];if(e){var n=this.datasource;if(n)for(var i=0;i<e.length;i++)t.push(n[e[i]])}return t},setRowSelected:function(e,t){var n=this,i="multi"===n.select,a=i?J:ae;fe.isArray(e)?i?fe.each(e,function(e){a(n,e,t)}):a(n,e[0],t):a(n,e,t),i&&ee(n)},setAllRowSelected:function(e){this.setRowSelected(-1,e)},resetFollowHead:function(){!function(e){e.followHead&&(g(e),b(e))}(this)},dispose:function(){if(!he.isInStage(this,"DISPOSED")){he.beforeDispose(this);if(this.main){this.followDoms=null;var e=pe.g(o(this,"drag-mark"));e&&document.body.removeChild(e)}this.rowBuilderList=null,this.headPanel.disposeChildren(),this.bodyPanel.disposeChildren(),this.headPanel=null,this.bodyPanel=null,he.dispose(this),he.afterDispose(this)}}},pe.inherits(e,ve),require("./main").register(e),e}),define("esui/TextBox",["require","underscore","./lib","./main","./InputControl","mini-event","./painters"],function(require){function e(e){u.apply(this,arguments)}function t(e){var t=e.which||e.keyCode;13===t&&this.fire("enter");var n={keyCode:t,key:String.fromCharCode(t),ctrlKey:e.ctrlKey,altKey:e.altKey},i=require("mini-event").fromDOMEvent(e,"keypress",n);this.fire("keypress",i)}function n(e,t){var n=s.g(e.inputId);if(!d){var i=e.helper.getPart("placeholder");"boolean"!=typeof t&&(t=document.activeElement===n),t||e.getRawValue()?e.helper.addPartClasses("placeholder-hidden",i):e.helper.removePartClasses("placeholder-hidden",i)}}function i(e){if(n(this,!0),this.autoSelect){s.g(this.inputId).select()}this.fire("focus")}function a(e){n(this,!1),this.fire("blur")}function r(e){"input"!==e.type&&"value"!==e.propertyName||this.fire("input")}var o=require("underscore"),s=require("./lib"),l=require("./main"),u=require("./InputControl"),d="placeholder"in document.createElement("input");return e.defaultProperties={width:200},e.prototype.type="TextBox",e.prototype.initOptions=function(t){var n={mode:"text",placeholder:"",autoSelect:!1};if(o.extend(n,e.defaultProperties),n.name||(n.name=this.main.getAttribute("name")),s.isInput(this.main)){if("textarea"===this.main.nodeName.toLowerCase())n.mode="textarea";else{var i=this.main.type;n.mode="password"===i?"password":"text"}n.placeholder||(n.placeholder=this.main.getAttribute("placeholder")),this.helper.extractOptionsFromInput(this.main,n)}o.extend(n,t),!n.hasOwnProperty("title")&&this.main.title&&(n.title=this.main.title),this.setProperties(n)},e.prototype.getFocusTarget=function(){return s.g(this.inputId)},e.prototype.initStructure=function(){if(s.isInput(this.main)){var e=this.helper.replaceMain();s.removeAttribute(this.main,"tabindex"),this.inputId=e.id||this.helper.getId("input"),this.main.id&&(this.main.id=this.helper.getId());var t=e.cloneNode(!1);s.removeAttribute(t,l.getConfig("instanceAttr")),t.id=this.inputId,this.main.appendChild(t)}else{this.inputId=this.helper.getId("input");var n="textarea"===this.mode?'<textarea id="'+this.inputId+'"':'<input type="'+this.mode+'" placeholder="'+this.placeholder+'" id="'+this.inputId+'"';this.name&&(n+=' name="'+o.escape(this.name)+'"'),n+="textarea"===this.mode?"></textarea>":" />",this.main.innerHTML=n}if(!d){t=s.g(this.inputId);var i=document.createElement("label");i.id=this.helper.getId("placeholder"),s.setAttribute(i,"for",t.id),this.helper.addPartClasses("placeholder",i),s.insertAfter(i,t)}},e.prototype.initEvents=function(){var e=s.g(this.inputId);this.helper.addDOMEvent(e,"keypress",t),this.helper.addDOMEvent(e,"focus",i),this.helper.addDOMEvent(e,"blur",a);var n="oninput"in e?"input":"propertychange";this.helper.addDOMEvent(e,n,r),this.helper.delegateDOMEvent(e,"change")},e.prototype.repaint=require("./painters").createRepaint(u.prototype.repaint,{name:"rawValue",paint:function(e,t){var i=s.g(e.inputId),a="oninput"in i?"input":"propertychange";e.helper.removeDOMEvent(i,a),i.value=e.stringifyValue(t),e.helper.addDOMEvent(i,a,r),n(e)}},{name:"title",paint:function(e,t){var n=s.g(e.inputId),i=e.helper.getPart("placeholder");t?(s.setAttribute(e.main,"title",t),s.setAttribute(n,"title",t),i&&s.setAttribute(i,"title",t)):(s.removeAttribute(e.main,"title"),s.removeAttribute(n,"title"),i&&s.removeAttribute(i,"title"))}},{name:"maxLength",paint:function(e,t){var n=s.g(e.inputId);if(!(t=parseInt(t,10))||t<=0){try{n.maxLength=undefined,delete n.maxLength}catch(i){}s.removeAttribute(n,"maxlength"),s.removeAttribute(n,"maxLength")}else n.maxLength=t,s.setAttribute(n,"maxlength",t)}},{name:["disabled","readOnly"],paint:function(e,t,n){var i=s.g(e.inputId);i.disabled=t,i.readOnly=n}},{name:"placeholder",paint:function(e,t){var i=s.g(e.inputId);if(d)t?s.setAttribute(i,"placeholder",t):s.removeAttribute(i,"placeholder");else{e.helper.getPart("placeholder").innerHTML=o.escape(t||"")}n(e)}},{name:["hint","hintType"],paint:function(e,t,n){var i=e.helper.getPart("hint");if(e.removeState("hint-prefix"),e.removeState("hint-suffix"),!t&&i&&s.removeNode(i),t){i||((i=document.createElement("label")).id=e.helper.getId("hint"),e.helper.addPartClasses("hint",i),s.setAttribute(i,"for",e.inputId)),i.innerHTML=o.escape(t);var a=s.g(e.inputId);s.insertAfter(i,a),e.addState("hint-"+n)}}},{name:["width","hint","hidden"],paint:function(e,t,n,i){if(!i&&!isNaN(t)){if(n){var a=e.helper.getPart("hint");a&&(t-=a.offsetWidth)}s.g(e.inputId).style.width=t+"px";var r=e.helper.getPart("placeholder");r&&(r.style.maxWidth=t+"px")}}},{name:"height",paint:function(e,t){if(!isNaN(t)){var n=e.helper.getPart("hint"),i=t+"px";n&&(n.style.height=i,n.style.lineHeight=i);s.g(e.inputId).style.height=i;var a=e.helper.getPart("placeholder");a&&(a.style.height=i,a.style.lineHeight=i)}}}),e.prototype.getValidityLabel=function(){var e=u.prototype.getValidityLabel.apply(this,arguments);return e&&e.set("targetType","textarea"===this.mode?"TextArea":"TextBox"),e},e.prototype.getRawValue=function(){var e=s.g(this.inputId);return e?e.value:this.rawValue||this.value||""},e.prototype.getRawValueProperty=e.prototype.getRawValue,s.inherits(e,u),l.register(e),e}),define("esui/TextLine",["require","underscore","./lib","./InputControl","./main","./TextBox","./painters"],function(require){function e(e){r.apply(this,arguments)}function t(e){"input"!==e.type&&"value"!==e.propertyName||n.call(this)}function n(){var e=this.helper.getPart("text").value.split("\n").length;if(e!==this.number){this.number=e;this.helper.getPart("num-line").innerHTML=i.range(1,e+1).join("<br />")}this.resetScroll(),this.fire("change")}var i=require("underscore"),a=require("./lib"),r=require("./InputControl"),o=require("./main");return require("./TextBox"),e.prototype={type:"TextLine",initOptions:function(e){var t={width:300,height:200,value:""};a.isInput(this.main)&&this.helper.extractOptionsFromInput(this.main,t),i.extend(t,e),!t.hasOwnProperty("title")&&this.main.title&&(t.title=this.main.title),this.setProperties(t)},initStructure:function(){a.isInput(this.main)&&this.helper.replaceMain(),this.main.innerHTML=function(e){var t='<textarea wrap="off" id="'+e.helper.getId("text")+'"</textarea>';return[e.helper.getPartBeginTag("num-line","div"),"1",e.helper.getPartEndTag("num-line","div"),e.helper.getPartBeginTag("text-container","div"),t,e.helper.getPartEndTag("text-container","div")].join("")}(this),this.helper.initChildren()},initEvents:function(){var e=this.helper.getPart("text"),n="oninput"in e?"input":"propertychange";this.helper.addDOMEvent(e,n,t),this.helper.addDOMEvent(e,"scroll",this.resetScroll)},repaint:require("./painters").createRepaint(r.prototype.repaint,{name:"height",paint:function(e,t){t=t||300;e.helper.getPart("num-line").style.height=t+"px",e.main.style.height=t+"px"}},{name:"width",paint:function(e,t){t=t||300,e.main.style.width=t+"px"}},{name:"rawValue",paint:function(e,a){var r=e.helper.getPart("text");if(a){i.isArray(a)?e.value=i.unescape(a.join("\n")):"string"==typeof a&&(e.value=i.unescape(a));var o="oninput"in r?"input":"propertychange";e.helper.removeDOMEvent(r,o,t),r.value=e.value,e.helper.addDOMEvent(r,o,t),n.call(e)}}},{name:["disabled","readOnly"],paint:function(e,t,n){var i=e.helper.getPart("text");i.disabled=!!t,i.readOnly=!!n}}),resetScroll:function(){var e=this.helper.getPart("text"),t=this.helper.getPart("num-line");t.style.height=e.clientHeight+"px",t.scrollTop=e.scrollTop},stringifyValue:function(e){return e.join("\n")},parseValue:function(e){return a.trim(e.replace(/\n{2,}/g,"\n")).split("\n")},getRawValue:function(){return i.unique(this.getValueRepeatableItems())},getValueRepeatableItems:function(){var e=this.helper.getPart("text").value.split("\n");return i.chain(e).map(a.trim).compact().value()},getRowsNumber:function(){return this.getValue().split("\n").length},addLines:function(e){var t=e.join("\n"),n=this.getValue();n.length>0&&(t=n+"\n"+t),this.setRawValue(t)}},a.inherits(e,r),o.register(e),e}),define("esui/Tip",["require","underscore","./Control","./main","./TipLayer","./painters","./lib"],function(require){function e(e){n.apply(this,arguments)}var t=require("underscore"),n=require("./Control"),i=require("./main");return require("./TipLayer"),e.prototype.type="Tip",e.prototype.initOptions=function(e){var n={title:"",content:"",arrow:!0,showMode:"over",delayTime:500,showDuration:0};"false"===e.arrow&&(e.arrow=!1),function(e,t){t.title=t.title||e.getAttribute("title"),e.removeAttribute("title"),t.content=t.content||e.innerHTML,e.innerHTML=""}(this.main,n),t.extend(n,e),this.setProperties(n)},e.prototype.initStructure=function(){var e=document.createElement("div");document.body.appendChild(e);var t=i.create("TipLayer",{main:e,childName:"layer",content:this.content,title:this.title,arrow:this.arrow,width:this.layerWidth||200,viewContext:this.viewContext});if(this.addChild(t),t.render(),this.positionOpt)try{this.positionOpt=JSON.parse(this.positionOpt)}catch(a){}var n={showMode:this.showMode,delayTime:+this.delayTime,showDuration:+this.showDuration,targetControl:this,positionOpt:this.positionOpt||{top:"top",right:"left"}};this.disableClickAutoHide&&(n.disableClickAutoHide=!0),t.attachTo(n)},e.prototype.repaint=require("./painters").createRepaint(n.prototype.repaint,{name:"title",paint:function(e,t){var n=e.getChild("layer");n&&n.setTitle(t)}},{name:"content",paint:function(e,t){var n=e.getChild("layer");n&&n.setContent(t)}}),require("./lib").inherits(e,n),i.register(e),e}),define("esui/TipLayer",["require","./Button","./Label","./Panel","underscore","./lib","./controlHelper","./Control","./main","./painters"],function(require){function e(e){d.apply(this,arguments)}function t(e,t){t?e.title=t.innerHTML:(t=document.createElement("h3"),e.main.firstChild?l.insertBefore(t,e.main.firstChild):e.main.appendChild(t));var n=[].concat(u.getPartClasses(e,"title"));l.addClasses(t,n);var i={main:t,childName:"title"},a=c.create("Label",i);return a.render(),e.addChild(a),a}function n(e,t,n){if(n)e.content=n.innerHTML;else if(n=document.createElement("div"),"body"===t){var i=e.getChild("title");i?l.insertAfter(n,i.main):e.main.firstChild?l.insertBefore(n,i,e.main.firstChild):e.main.appendChild(n)}else e.main.appendChild(n);l.addClasses(n,u.getPartClasses(e,t+"-panel"));var a={main:n,renderOptions:e.renderOptions},r=c.create("Panel",a);return r.render(),e.addChild(r,t),r}function i(e,t,n){e.isShow&&e.autoPosition(t,n)}function a(e,t,n,i){(t=t||p)?(clearTimeout(e.showTimeout),clearTimeout(e.hideTimeout),e.showTimeout=setTimeout(l.bind(e.show,e,n,i),t)):e.show(n,i)}function r(e,t){t=t||h,clearTimeout(e.showTimeout),clearTimeout(e.hideTimeout),e.hideTimeout=setTimeout(l.bind(e.hide,e),t)}function o(e,t){return"string"==typeof t&&(t=e.viewContext.get(t)),t.main}require("./Button"),require("./Label"),require("./Panel");var s=require("underscore"),l=require("./lib"),u=require("./controlHelper"),d=require("./Control"),c=require("./main"),f=require("./painters"),p=0,h=150;return e.prototype={constructor:e,type:"TipLayer",initOptions:function(e){!function(e){var t=e.main;if(t){for(var n,i=l.getChildren(t),a=i.length,r={};a--;)(n=i[a].getAttribute("data-role"))&&(r[n]=i[a]);e.roles=r}}(e);var t={roles:{}};l.extend(t,e),this.setProperties(t)},initStructure:function(){var e=this.main;if(e.parentNode&&"body"!==e.parentNode.nodeName.toLowerCase()&&document.body.appendChild(e),this.main.style.left="-10000px",this.helper.addStateClasses("init"),(this.title||this.roles.title)&&t(this,this.roles.title),n(this,"body",this.roles.content),(this.foot||this.roles.foot)&&n(this,"foot",this.roles.foot),this.arrow){var i=document.createElement("div");i.id=u.getId(this,"arrow"),i.className=u.getPartClasses(this,"arrow").join(" "),this.main.appendChild(i)}},repaint:u.createRepaint(d.prototype.repaint,f.style("width"),{name:"title",paint:function(e,n){var i=e.getHead();null==n?i&&e.removeChild(i):(i||(i=t(e)),i.setText(n))}},{name:"content",paint:function(e,t){var n=e.getBody(),i=u.getId(e,"body"),a={"class":u.getPartClasses(e,"body").join(" "),id:i,content:t};n.setContent(l.format('<div class="${class}" id="${id}">${content}</div>',a))}},{name:"foot",paint:function(e,t){var i=u.getId(e,"foot"),a=u.getPartClasses(e,"foot"),r=e.getFoot();if(null==t)r&&e.removeChild(r);else{var o={"class":a.join(" "),id:i,content:t};r||(r=n(e,"foot")),r.setContent(l.format('<div class="${class}" id="${id}">${content}</div>',o))}}},{name:["targetDOM","targetControl","showMode","positionOpt","delayTime","showDuration"],paint:function(e,t,n,i,a,r,o){var s={targetDOM:t,targetControl:n,showMode:i,delayTime:r||p,showDuration:o||h};a&&(a=a.split("|"),s.positionOpt={top:a[0]||"top",right:a[1]||"left"}),e.attachTo(s)}}),autoPosition:function(e,t){var n=this.main;if(t=t||{left:"right",top:"top"},e){var i=e.getBoundingClientRect(),a=l.getOffset(e),r=i.top,o=i.right,d=i.bottom,c=i.left,f=(i.right,i.left,i.bottom,i.top,n.style.display);n.style.display="block",this.helper.removeStateClasses("init");var p=n.offsetHeight,h=n.offsetWidth;n.style.display="none";var v=s.omit(t,"targetControl"),m=c-h,g=l.page.getViewWidth()-o-h,x=l.page.getViewHeight()-r-p,y=d-p;v.center||(m>=0?g>=0?v.right||v.left||(g<m?(v.left="right",v.right=null):(v.right="left",v.left=null)):(v.left="right",v.right=null):(v.right="left",v.left=null),x>=0?y>=0?v.bottom||v.top||(y<x?(v.top="top",v.bottom=null):(v.bottom="bottom",v.top=null)):(v.top="top",v.bottom=null):(v.bottom="bottom",v.top=null));var b,w={};v.center?(w.left=a.left-(h-i.width)/2,"top"===v.center?(b="tc",w.top=a.top-p-11):"bottom"===v.center&&(b="bc",w.top=a.top+i.height+11)):(v.right?(w.left=a.right,b=v.top?"lt":"lb"):v.left&&(w.left=a.left-h,b=v.top?"rt":"rb"),v.top?w.top=a.top-(p-i.height)/2:v.bottom&&(w.top=a.bottom-p)),n.style.display=f,n.className=u.getPartClasses(this).join(" ")+" "+u.getPartClasses(this,b).join(" ");var C=l.g(u.getId(this,"arrow"));C&&(C.className=u.getPartClasses(this,"arrow").join(" ")+" "+u.getPartClasses(this,"arrow-"+b).join(" ")),this.renderLayer(n,w)}},renderLayer:function(e,t){var n=l.clone(t||{});n.hasOwnProperty("top")&&n.hasOwnProperty("bottom")&&(n.height=n.bottom-n.top,delete n.bottom),n.hasOwnProperty("left")&&n.hasOwnProperty("right")&&(n.width=n.right-n.left,delete n.right),(n.hasOwnProperty("top")||n.hasOwnProperty("bottom"))&&(e.style.top="",e.style.bottom=""),(n.hasOwnProperty("left")||n.hasOwnProperty("right"))&&(e.style.left="",e.style.right="");for(var i in n)n.hasOwnProperty(i)&&(e.style[i]=n[i]+"px")},attachTo:function(e){var t,n=e.showMode||"over";if(e.targetDOM?t=l.g(e.targetDOM):e.targetControl&&(t=o(this,e.targetControl)),t)switch(n){case"auto":this.initAutoMode(e);break;case"over":this.initOverMode(e),u.addDOMEvent(this,t,"mouseout",l.curry(r,this,150));break;case"click":this.initClickMode(e),e.disableClickAutoHide||u.addDOMEvent(this,t,"mouseout",l.curry(r,this,150))}},getInitHandlers:function(e){var t,n=this;if(e.targetDOM?t=l.g(e.targetDOM):e.targetControl&&(t=o(this,e.targetControl)),t){var i={targetElement:t,layer:{show:l.curry(a,n,e.delayTime,t,e.positionOpt),hide:l.curry(r,n),bind:function(e,a){e=e||"mouseup",u.addDOMEvent(n,t,e,function(e){i.layer.show(),i.clickOutsideHide.bind(),"function"==typeof a&&a(),e.stopPropagation()})}},clickOutsideHide:{preventPopMethod:function(e){e.stopPropagation()},method:function(){i.layer.hide(),i.clickOutsideHide.unbind()},bind:function(){u.addDOMEvent(n,document.documentElement,"mouseup",i.clickOutsideHide.method),u.addDOMEvent(n,n.main,"mouseup",i.clickOutsideHide.preventPopMethod)},unbind:function(){u.removeDOMEvent(n,document.documentElement,"mouseup",i.clickOutsideHide.method),u.removeDOMEvent(n,n.main,"mouseup",i.clickOutsideHide.preventPopMethod)}}};return i}},initAutoMode:function(e){var t=this.getInitHandlers(e);t.layer.show(),e.showDuration?setTimeout(function(){t.layer.hide(e.showDuration),t.layer.bind("mouseup")},e.delayTime):(t.clickOutsideHide.bind(),t.layer.bind("mouseup"))},initClickMode:function(e){this.getInitHandlers(e).layer.bind("mouseup")},initOverMode:function(e){var t=this.getInitHandlers(e);t.layer.bind("mouseover"),u.addDOMEvent(this,t.targetElement,"mouseup",function(e){e.stopPropagation()}),u.addDOMEvent(this,this.main,"mouseover",l.bind(this.show,this,t.targetElement,e.positionOpt)),u.addDOMEvent(this,this.main,"mouseout",l.curry(r,this,150))},getHead:function(){return this.getChild("title")},getBody:function(){return this.getChild("body")},getFoot:function(){return this.getChild("foot")},show:function(e,t){if(u.isInStage(this,"INITED"))this.render();else if(u.isInStage(this,"DISPOSED"))return;clearTimeout(this.hideTimeout),u.addDOMEvent(this,window,"resize",l.curry(i,this,e,t)),this.main.style.zIndex=u.layer.getZIndex(e),this.removeState("hidden"),this.autoPosition(e,t),this.isShow||(this.isShow=!0,this.fire("show"))},hide:function(){this.isShow&&(this.isShow=!1,this.addState("hidden"),this.fire("hide"))},setTitle:function(e){this.setProperties({title:e})},setContent:function(e){this.setProperties({content:e})},setFoot:function(e){this.setProperties({foot:e})},dispose:function(){if(!u.isInStage(this,"DISPOSED")){this.hide();var e=this.main.id;l.removeNode(e),d.prototype.dispose.apply(this,arguments)}}},e.onceNotice=function(e){var t=l.encodeHTML(e.content)||"",n={type:"onceNotice",skin:"onceNotice",arrow:!0};l.extend(n,e);var i=document.createElement("div");document.body.appendChild(i);var a=u.getGUID("tipLayer-once-notice");n.id=a,n.main=i,n.type=null;var r=c.create("TipLayer",n);r.setContent(t);var o=e.okText||"知道了";r.setFoot('<div data-ui="type:Button;childName:okBtn;id:'+a+'-tipLayer-notice-ok;width:50;"class="'+u.getPartClasses(r,"once-notice")+'">'+o+"</div>"),r.render();return r.getFoot().getChild("okBtn").on("click",l.curry(function(e){var t=e.onok;"function"==typeof t&&t(e),e.fire("ok"),e.dispose()},r,"ok")),r.attachTo({targetDOM:e.targetDOM,targetControl:e.targetControl,showMode:"auto",positionOpt:{top:"top",right:"left"}}),r},l.inherits(e,d),c.register(e),e}),define("esui/Toast",["require","./lib","./Control","./painters","./main"],function(require){function e(e){a.apply(this,arguments)}function t(){var e=require("./main").getConfig("uiClassPrefix")+"-toast-collection-area",t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,this.helper.addPartClasses("collection-area",t),document.body.appendChild(t)),t}function n(n){return function(r,o){"show"===n&&(n="normal"),(o=i.extend({content:r},o)).messageType=o.messageType||n;var s=new e(o);return a.prototype.hide.apply(s),s.appendTo(t.call(s)),s}}var i=require("./lib"),a=require("./Control");e.defaultProperties={duration:3e3,messageType:"normal",disposeOnHide:!0,autoShow:!1},e.prototype.type="Toast",e.prototype.initOptions=function(t){var n={};i.extend(n,e.defaultProperties,t),null==n.content&&(n.content=this.main.innerHTML),this.setProperties(n)},e.prototype.initStructure=function(){this.main.innerHTML=this.helper.getPartHTML("content","p"),this.addState("hidden")},e.prototype.repaint=require("./painters").createRepaint(a.prototype.repaint,{name:"content",paint:function(e,t){e.main.firstChild.innerHTML=t,e.autoShow&&e.helper.isInStage("INITED")&&e.show()}},{name:"messageType",paint:function(e,t){e.helper.addPartClasses(e.messageType)}}),e.prototype.show=function(){this.helper.isInStage("DISPOSED")||(this.main.parentElement||this.main.parentNode&&this.main.parentNode.tagName||this.appendTo(t.call(this)),this.isHidden()&&(a.prototype.show.apply(this,arguments),this.fire("show"),clearTimeout(this.timer),isNaN(this.duration)||this.duration===Infinity||(this.timer=setTimeout(i.bind(this.hide,this),this.duration))))},e.prototype.hide=function(){this.isHidden()||(a.prototype.hide.apply(this,arguments),clearTimeout(this.timer),this.fire("hide"),this.disposeOnHide&&this.dispose())},e.prototype.dispose=function(){clearTimeout(this.timer),this.helper.isInStage("DISPOSED")||(i.removeNode(this.main),a.prototype.dispose.apply(this,arguments))};for(var r=["show","info","alert","error","success"],o=0;o<r.length;o++){var s=r[o];e[s]=n(s)}return i.inherits(e,a),require("./main").register(e),e}),define("esui/Tree",["require","./Control","./lib","./controlHelper","underscore","inf-i18n","./TreeStrategy","./main"],function(require){function e(){v.apply(this,arguments)}function t(){d.apply(this,arguments)}function n(e,t,n,i,a){var r=a-i,o=0===r?"current":1===r?"previous":"far-previous",s=[].concat(f.getPartClasses(e,"node-indicator"),f.getPartClasses(e,"node-indicator-"+n),f.getPartClasses(e,"node-indicator-level-"+i),f.getPartClasses(e,"node-indicator-"+o)),l=0===r?m[n||"collapsed"]:h("第")+i+h("级"),u="<span ";return 0===r&&(u+='id="'+f.getId(e,"indicator-"+t.id)+'" '),u+='class="'+s.join(" ")+'">'+l+"</span>"}function i(e,t,i,a){var o=f.getPartClasses(e,"content-wrapper");e.selectedNodeIndex[t.id]&&(o=o.concat(f.getPartClasses(e,"content-wrapper-selected"))),o=o.join(" ");for(var s='<div id="'+f.getId(e,"content-wrapper-"+t.id)+'" class="'+o+'">',l=e.strategy.isLeafNode(t)?"empty":a?"expanded":"collapsed",u=0;u<=i;u++)s+=n(e,t,l,u,i);if(s+='<div class="'+f.getPartClasses(e,"item-content").join(" ")+'">'+e.getItemHTML(t)+"</div>",s+="</div>",a&&!e.strategy.isLeafNode(t)){s+='<ul class="'+[].concat(f.getPartClasses(e,"sub-root"),f.getPartClasses(e,"sub-root-"+l)).join(" ")+'">';for(u=0;u<t.children.length;u++){var d=t.children[u];s+=r(e,d,i+1,e.strategy.shouldExpand(d))}s+="</ul>"}return s}function a(e,t,n,i){var a=e.strategy.isLeafNode(t)?"empty":i?"expanded":"collapsed",r=[].concat(f.getPartClasses(e,"node"),f.getPartClasses(e,"node-"+a),f.getPartClasses(e,"node-level-"+n));return t===e.datasource&&(r=[].concat(f.getPartClasses(e,"root"),f.getPartClasses(e,"root-"+a),r)),r}function r(e,t,n,r,o){var s="<"+(o=o||"li")+' class="'+a(e,t,n,r).join(" ")+'" id="'+f.getId(e,"node-"+t.id)+'" data-id="'+t.id+'" data-level="'+n+'">';return s+=i(e,t,n,r),s+="</"+o+">"}function o(e,t){if(t=t||{},t[e.id]=e,e.children)for(var n=0;n<e.children.length;n++)o(e.children[n],t);return t}function s(e,t,n){if(n.force||e.allowUnselectNode){var i=e.nodeIndex[t];if(i){if(function(e,t){if(e.selectedNodeIndex[t.id]){delete e.selectedNodeIndex[t.id];for(var n=0;n<e.selectedNodes.length;n++)e.selectedNodes[n]===t&&e.selectedNodes.splice(n,1);return!0}return!1}(e,i)){if(n.modifyDOM){var a=c.g(f.getId(e,"content-wrapper-"+t));f.removePartClasses(e,"content-wrapper-selected",a)}n.silent||(e.fire("unselectnode",{node:i}),e.fire("selectionchange"))}}}}function l(e,t){var n=f.getPartClasses(e,"node-empty")[0];return c.hasClass(t,n)}function u(e,t){var n=f.getPartClasses(e,"node-expanded")[0];return c.hasClass(t,n)}var d=require("./Control"),c=require("./lib"),f=require("./controlHelper"),p=require("underscore"),h=require("inf-i18n"),v=require("./TreeStrategy");e.prototype.attachTo=function(){},c.inherits(e,v),t.prototype.type="Tree",t.defaultProperties={selectMode:"single",hideRoot:!1},t.prototype.initOptions=function(n){var i={datasource:{},strategy:new e,selectedNodes:[],selectedNodeIndex:{}},a=c.extend(i,t.defaultProperties,n);null==a.allowUnselectNode&&(a.allowUnselectNode="single"!==a.selectMode),this.setProperties(a)},t.prototype.itemTemplate="<span>${text}</span>",t.prototype.getItemHTML=function(e){var t={id:c.encodeHTML(e.id),text:c.encodeHTML(e.text)};return c.format(this.itemTemplate,t)};var m={collapsed:h("展开"),expanded:h("收起"),busy:h("加载中"),empty:h("无内容")};return t.prototype.clickNode=function(e){(function(e){var t=e.target,n=f.getPartClasses(this,"node-indicator")[0],i=c.hasClass(t,n),a=!i;if(!i){for(var r=f.getPartClasses(this,"content-wrapper")[0];t&&t!==this.main&&!c.hasClass(t,r);)t=t.parentNode;c.hasClass(t,r)&&(i=this.wideToggleArea,a=a&&!0)}if(i||a){for(;t&&t!==this.main&&!c.hasAttribute(t,"data-id");)t=t.parentNode;var o=t.getAttribute("data-id");i&&this.triggerToggleStrategy(o),a&&this.triggerSelectStrategy(o)}}).apply(this,arguments)},t.prototype.initStructure=function(){this.strategy.attachTo(this)},t.prototype.initEvents=function(){f.addDOMEvent(this,this.main,"click",this.clickNode)},t.prototype.removeNodeFromIndex=function(e){var t=this.nodeIndex[e];t&&(this.nodeIndex[e]=undefined,t.children&&p.each(t.children,this.removeNodeFromIndex,this))},t.prototype.repaint=f.createRepaint(d.prototype.repaint,{name:"datasource",paint:function(e,t){e.selectedNodes=[],e.selectedNodeIndex={},e.nodeIndex=o(t),e.main.innerHTML=r(e,t,0,!0,"div")}},{name:"hideRoot",paint:function(e,t){e[t?"addState":"removeState"]("hide-root")}}),t.prototype.triggerSelectStrategy=function(e){var t=this.nodeIndex[e];t&&(this.selectedNodeIndex[e]?this.fire("unselect",{node:t}):this.fire("select",{node:t}))},t.prototype.getSelectedNodes=function(){return this.selectedNodes.slice()},t.prototype.toggleNodeSelection=function(e){this[this.selectedNodeIndex[e]?"unselectNode":"selectNode"](e)},t.prototype.selectNode=function(e,t){var n=this.nodeIndex[e];if(n){if(function(e,t){return!e.selectedNodeIndex[t.id]&&(e.selectedNodes.push(t),e.selectedNodeIndex[t.id]=t,!0)}(this,n)){"single"===this.selectMode&&this.selectedNodes.length>1&&s(this,this.selectedNodes[0].id,{force:!0,silent:!0,modifyDOM:!0});var i=c.g(f.getId(this,"content-wrapper-"+e));f.addPartClasses(this,"content-wrapper-selected",i),t||(this.fire("selectnode",{node:n}),this.fire("selectionchange"))}}},t.prototype.unselectNode=function(e,t){s(this,e,{force:!0,silent:t,modifyDOM:!0})},t.prototype.expandNode=function(e,t){var n=c.g(f.getId(this,"node-"+e));if(n){var r=+c.getAttribute(n,"data-level");if(t||"ul"!==n.lastChild.nodeName.toLowerCase()){if(!(h=this.nodeIndex[e]))return;if(t){if(h.children)for(var l=0;l<h.children.length;l++)s(this,h.children[l].id,{force:!0,silent:!0,modifyDOM:!1}),this.removeNodeFromIndex(h.children[l].id);h.children=t,o(h,this.nodeIndex)}n.innerHTML=i(this,h,r,!0)}else{var u=c.g(f.getId(this,"indicator-"+e));u.innerHTML=m.expanded;var d=[].concat(f.getPartClasses(this,"node-indicator"),f.getPartClasses(this,"node-indicator-level-"+r),f.getPartClasses(this,"node-indicator-current"),f.getPartClasses(this,"node-indicator-expanded"));u.className=d.join(" ");var p=[].concat(f.getPartClasses(this,"sub-root"),f.getPartClasses(this,"sub-root-expanded"));n.lastChild.className=p.join(" ")}var h,v=a(this,h=this.nodeIndex[e],r,!0);n.className=v.join(" ")}},t.prototype.collapseNode=function(e,t){var n=c.g(f.getId(this,"node-"+e));if(n){var i=this.nodeIndex[e],r=n.getElementsByTagName("ul")[0];if(r)if(t){if(r.parentNode.removeChild(r),i.children)for(var o=0;o<i.children.length;o++)s(this,i.children[o].id,{force:!0,silent:!1,modifyDOM:!1})}else{var l=[].concat(f.getPartClasses(this,"sub-root"),f.getPartClasses(this,"sub-root-collapsed"));r.className=l.join(" ")}var u=+c.getAttribute(n,"data-level"),d=a(this,i,u,!1);n.className=d.join(" ");var p=c.g(f.getId(this,"indicator-"+e)),h=[].concat(f.getPartClasses(this,"node-indicator"),f.getPartClasses(this,"node-indicator-level-"+u),f.getPartClasses(this,"node-indicator-current"),f.getPartClasses(this,"node-indicator-collapsed"));p.className=h.join(" "),p.innerHTML=m.collapsed}},t.prototype.toggleNode=function(e,t,n){if(this.nodeIndex[e]){var i=c.g(f.getId(this,"node-"+e));i&&(l(this,i)||(u(this,i)?this.collapseNode(e,n):this.expandNode(e,t)))}},t.prototype.triggerToggleStrategy=function(e){var t=this.nodeIndex[e];if(t){var n=c.g(f.getId(this,"node-"+e));n&&(l(this,n)||(u(this,n)?this.fire("collapse",{node:t}):this.fire("expand",{node:t})))}},t.prototype.indicateNodeLoading=function(e){var t=c.g(f.getId(this,"node-"+e));if(t){for(var n=c.getChildren(t),i=0;!this.helper.isPart(n[i],"item-content");)i++;var a=n[i];a.innerHTML=m.busy;var r=[].concat(f.getPartClasses(this,"node-indicator"),f.getPartClasses(this,"node-indicator-level-"+i),f.getPartClasses(this,"node-indicator-current"),f.getPartClasses(this,"node-indicator-busy"));a.className=r.join(" ")}},t.prototype.dispose=function(){d.prototype.dispose.apply(this,arguments),this.nodeIndex=null,this.selectedNodes=null,this.selectedNodeIndex=null},require("./main").register(t),c.inherits(t,d),t}),define("esui/TreeStrategy",["require","underscore"],function(require){function e(e){t.extend(this,{defaultExpand:!1},e)}var t=require("underscore");return e.prototype.isLeafNode=function(e){return!e.children||!e.children.length},e.prototype.shouldExpand=function(e){return this.defaultExpand},e.prototype.attachTo=function(e){this.enableToggleStrategy(e),this.enableSelectStrategy(e)},e.prototype.enableToggleStrategy=function(e){e.on("expand",function(e){this.expandNode(e.node.id)}),e.on("collapse",function(e){this.collapseNode(e.node.id,!1)})},e.prototype.enableSelectStrategy=function(e){e.on("select",function(e){this.selectNode(e.node.id)}),e.on("unselect",function(t){e.get("allowUnselectNode")&&e.unselectNode(t.node.id)})},e}),define("esui/validator/MaxByteLengthRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="maxByteLength",e.prototype.errorMessage=t("${title}不能超过${maxByteLength}个字节"),e.prototype.check=function(e,t){var n=e.replace(/[^\x00-\xff]/g,"xx").length;return new i(n<=this.getLimitCondition(t),this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,100),e}),define("esui/validator/MaxLengthRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="maxLength",e.prototype.errorMessage=t("${title}不能超过${maxLength}个字符"),e.prototype.check=function(e,t){var n=this.getLimitCondition(t);return new i("function"==typeof n?n.call(t,e):e.length<=n,this.getErrorMessage(t))},e.prototype.getErrorMessage=function(e){var t=require("../lib"),n=e.get(this.type+"ErrorMessage")||this.errorMessage,i=this.getLimitCondition(e),a={title:e.get("title"),maxLength:i,length:i};return t.format(n,a)},e.prototype.getLimitCondition=function(e){return e.get("length")||e.get("maxLength")},require("../lib").inherits(e,n),require("../main").registerRule(e,100),e}),define("esui/validator/MaxRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="max",e.prototype.errorMessage=t("${title}不能大于${max}"),e.prototype.check=function(e,t){var n=+e,a=!isNaN(n)&&n<=this.getLimitCondition(t);return new i(!e||a,this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,301),e}),define("esui/validator/MinByteLengthRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="minByteLength",e.prototype.errorMessage=t("${title}不能小于${minByteLength}个字符"),e.prototype.check=function(e,t){var n=e.replace(/[^\x00-\xff]/g,"xx").length;return new i(n>=this.getLimitCondition(t),this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,100),e}),define("esui/validator/MinLengthRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="minLength",e.prototype.errorMessage=t("${title}不能小于${minLength}个字符"),e.prototype.check=function(e,t){return new i(e.length>=this.getLimitCondition(t),this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,100),e}),define("esui/validator/MinRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="min",e.prototype.errorMessage=t("${title}不能小于${min}"),e.prototype.check=function(e,t){var n=+e,a=!isNaN(n)&&n>=this.getLimitCondition(t);return new i(!e||a,this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,300),e}),define("esui/validator/PatternRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="pattern",e.prototype.errorMessage=t("${title}格式不符合要求"),e.prototype.check=function(e,t){var n=new RegExp(this.getLimitCondition(t));return new i(!e||n.test(e),this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,200),e}),define("esui/validator/RequiredRule",["require","inf-i18n","./Rule","./ValidityState","../lib","../main"],function(require){function e(){n.apply(this,arguments)}var t=require("inf-i18n"),n=require("./Rule"),i=require("./ValidityState");return e.prototype.type="required",e.prototype.errorMessage=t("${title}不能为空"),e.prototype.check=function(e,t){return new i(!!e,this.getErrorMessage(t))},require("../lib").inherits(e,n),require("../main").registerRule(e,0),e}),define("esui/validator/Rule",["require","./ValidityState","../lib"],function(require){function e(){}return e.prototype.type=null,e.prototype.errorMessage="${title}验证失败",e.prototype.check=function(e,t){return new(require("./ValidityState"))(!0,"")},e.prototype.getErrorMessage=function(e){var t=require("../lib"),n=e.get(this.type+"ErrorMessage")||this.errorMessage;return t.format(n,e)},e.prototype.getLimitCondition=function(e){return e.get(this.type)},e.prototype.getName=function(){return this.type},e}),define("esui/validator/Validity",["require","underscore"],function(require){function e(){this.states=[],this.stateIndex={},this.customMessage="",this.customValidState=null}var t=require("underscore");return e.prototype.addState=function(e,t){if(this.stateIndex[e]){if(this.stateIndex[e]===t)return;for(var n=0;n<this.states.length;n++)if(this.states[n]===this.stateIndex[e]){this.states.splice(n,1);break}}this.states.push(t),this.stateIndex[e]=t},e.prototype.getState=function(e){return this.stateIndex[e]||null},e.prototype.getStates=function(){return this.states.slice()},e.prototype.getCustomMessage=function(){return this.customMessage},e.prototype.setCustomMessage=function(e){this.customMessage=e},e.prototype.setCustomValidState=function(e){this.customValidState=e},e.prototype.isValid=function(){return t.all(this.getStates(),function(e){return e.getState()})},e.prototype.getValidState=function(){return this.customValidState||(this.isValid()?"valid":"invalid")},e}),define("esui/validator/ValidityState",[],function(){function e(e,t){this.state=e,this.message=t||""}return e.prototype.getMessage=function(){return this.message},e.prototype.getState=function(){return this.state},e.prototype.setMessage=function(e){this.message=e},e.prototype.setState=function(e){this.state=e},e}),define("esui/Validity",["require","underscore","./lib","./Control","./Helper","./painters","./main"],function(require){function e(){a.apply(this,arguments)}function t(e,t){var n=e.target,i=null;if(n||e.targetType){var a={type:e.targetType||n.type,skin:n&&n.skin};i=new r(a)}var o=e.helper.getPartClasses();return i&&o.push.apply(o,i.getPartClasses("validity-label")),t&&(o.push.apply(o,e.helper.getPartClasses(t)),i&&o.push.apply(o,i.getPartClasses("validity-label-"+t))),(n&&n.isHidden()||e.isHidden())&&(o.push.apply(o,e.helper.getStateClasses("hidden")),n&&o.push.apply(o,n.helper.getPartClasses("validity-label-hidden"))),o}var n=require("underscore"),i=require("./lib"),a=require("./Control"),r=require("./Helper");return e.prototype.type="Validity",e.prototype.createMain=function(){return document.createElement("label")},e.prototype.initOptions=function(t){var i=n.extend({},e.defaultProperties,t);a.prototype.initOptions.call(this,i)},e.prototype.display=function(e,t,n){this.main.innerHTML=t},e.prototype.repaint=require("./painters").createRepaint(a.prototype.repaint,{name:["target","targetType"],paint:function(e){var n=t(e,e.validity?e.validity.getValidState():"");e.main.className=n.join(" ")}},{name:"focusTarget",paint:function(e,t){"label"===e.main.nodeName.toLowerCase()&&(t&&t.id?i.setAttribute(e.main,"for",t.id):i.removeAttribute(e.main,"for"))}},{name:"validity",paint:function(e,i){var a=i&&i.getValidState(),r=t(e,a);if(e.main.className=r.join(" "),e.disposeChildren(),i){var o=i.getCustomMessage();if(!o){var s=n.find(i.getStates(),function(e){return!e.getState()});o=s&&s.getMessage()}e.display(a,o||"",i),e.helper.initChildren(),o?e.show():e.hide()}else e.main.innerHTML="",e.hide()}}),e.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.target&&(this.target.validityLabel=null,this.target=null),this.focusTarget=null,this.main.parentNode&&this.main.parentNode.removeChild(this.main),a.prototype.dispose.apply(this,arguments))},i.inherits(e,a),require("./main").register(e),e}),define("esui/ViewContext",["require","./ControlCollection","./lib","./SafeWrapper"],function(require){function e(e){r.apply(this,arguments),this.name=e}function t(e,t){r.prototype.add.call(t,e)}function n(e,t){r.prototype.remove.call(t,e)}function i(e){var t=e.get("group");return t?t.split(/[\t\r\n ]/):[]}function a(e){if(this.controls={},this.groups={},e=e||"vt"+o++,s.hasOwnProperty(e)){for(var t=1,n=e+"-";s.hasOwnProperty(n+t);)t++;e=n+t}this.id=e,s[this.id]=this}var r=require("./ControlCollection");require("./lib").inherits(e,r),e.prototype.add=undefined,e.prototype.remove=undefined,e.prototype.disposeGroup=function(){for(var e=0;e<this.length;e++)delete this[e];this.length=0};var o=8587523,s={};a.get=function(e){return s[e]||null},a.prototype.add=function(e){var n=this.controls[e.id];if(n){if(n===e)return;n.setViewContext(null)}this.controls[e.id]=e;for(var a=i(e),r=0;r<a.length;r++){var o=a[r];if(o){t(e,this.getGroup(o))}}e.setViewContext(this)},a.prototype.remove=function(e){delete this.controls[e.id];for(var t=i(e),a=0;a<t.length;a++){var r=t[a];if(r){n(e,this.getGroup(r))}}e.setViewContext(null)},a.prototype.get=function(e){return this.controls[e]},a.prototype.getControls=function(){return require("./lib").extend({},this.controls)};var l=require("./SafeWrapper");return a.prototype.getSafely=function(e){var t=this.get(e);return t||((t=new l).id=e,t.viewContext=this),t},a.prototype.getGroup=function(t){if(!t)throw new Error("name is unspecified");var n=this.groups[t];return n||(n=this.groups[t]=new e(t)),n},a.prototype.clean=function(){for(var e in this.controls)if(this.controls.hasOwnProperty(e)){var t=this.controls[e];t.dispose(),t.viewContext&&t.viewContext===this&&this.remove(t)}for(var n in this.groups)this.groups.hasOwnProperty(n)&&(this.groups[n].disposeGroup(),this.groups[n]=undefined)},a.prototype.dispose=function(){this.clean(),delete s[this.id]},a}),define("esui/Wizard",["require","underscore","./lib","./Control","./painters","./main"],function(require){function e(){a.apply(this,arguments)}function t(e,t,n){var a=t&&t.panel&&i.g(t.panel);if(a){var r=n?"removePartClasses":"addPartClasses";e.helper[r]("panel-hidden",a)}}var n=require("underscore"),i=require("./lib"),a=require("./Control");e.prototype.type="Wizard",e.prototype.createMain=function(){return document.createElement("ol")},e.prototype.initOptions=function(e){var t={steps:[],activeIndex:0},a=i.getChildren(this.main);!e.steps&&a.length&&(t.steps=n.map(a,function(e){var t={text:i.getText(e)},n=e.getAttribute("data-for");return n&&(t.panel=n),t})),n.extend(t,e),"string"==typeof t.activeIndex&&(t.activeIndex=+t.activeIndex),this.setProperties(t)},e.prototype.nodeTemplate="<span>${text}</span>",e.prototype.getNodeHTML=function(e){return i.format(this.nodeTemplate,{text:i.encodeHTML(e.text)})};var r=require("./painters");return e.prototype.repaint=r.createRepaint(a.prototype.repaint,{name:["steps","finishText"],paint:function(e){e.main.innerHTML=function(e){for(var n="",i=0;i<e.steps.length;i++){var a=e.steps[i],r=e.helper.getPartClasses("node");0===i&&r.push.apply(r,e.helper.getPartClasses("node-first")),i!==e.steps.length-1||e.finishText||r.push.apply(r,e.helper.getPartClasses("node-last")),i===e.activeIndex-1&&r.push.apply(r,e.helper.getPartClasses("node-active-prev")),i<=e.activeIndex-1&&r.push.apply(r,e.helper.getPartClasses("node-done"));var o=i===e.activeIndex;t(e,a,o),o&&(r.push.apply(r,e.helper.getPartClasses("node-active")),i===e.steps.length-1&&r.push.apply(r,e.helper.getPartClasses("node-last-active"))),n+='<li class="'+r.join(" ")+'">',n+=e.getNodeHTML(a),n+="</li>"}e.finishText&&(n+='<li class="'+(r=[].concat(e.helper.getPartClasses("node"),e.helper.getPartClasses("node-last"),e.helper.getPartClasses("node-finish"),e.activeIndex===e.steps.length?e.helper.getPartClasses("node-active"):[])).join(" ")+'">',n+="<span>"+e.finishText+"</span>",n+="</li>");return n}(e)}},{name:"activeIndex",paint:function(e,n){if(e.helper.isInStage("RENDERED"))for(var i=e.main.getElementsByTagName("li"),a=i.length-1;a>=0;a--){var r=a===e.activeIndex;t(e,e.steps[a],r);var o=i[a],s=r?"addPartClasses":"removePartClasses";e.helper[s]("node-active",o),a===e.steps.length-1&&e.helper[s]("node-last-active",o);s=a<=e.activeIndex-1?"addPartClasses":"removePartClasses";e.helper[s]("node-done",o);s=a===e.activeIndex-1?"addPartClasses":"removePartClasses";e.helper[s]("node-active-prev",o)}}}),e.prototype.setProperties=function(e){e.hasOwnProperty("steps")&&(e.hasOwnProperty("activeIndex")?(this.activeIndex=e.activeIndex,delete e.activeIndex):this.activeIndex=0,e.hasOwnProperty("finishText")&&(this.finishText=e.finishText,delete e.finishText));var t=a.prototype.setProperties.apply(this,arguments);(t.hasOwnProperty("steps")||t.hasOwnProperty("activeIndex"))&&this.fire("enter")},e.prototype.getActiveStep=function(){return this.get("steps")[this.get("activeIndex")]},e.prototype.stepNext=function(){var e=this.finishText?this.steps.length:this.steps.length-1;this.activeIndex<e&&this.set("activeIndex",this.activeIndex+1)},e.prototype.stepPrevious=function(){this.activeIndex>0&&this.set("activeIndex",this.activeIndex-1)},require("./main").register(e),i.inherits(e,a),e}),define("etpl/main",["require"],function(require){function e(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(){this.raw=[],this.length=0}function n(){return"___"+_++}function i(e,t){var n=new Function;n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e){return S[e]}function r(e){return'"'+e.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function o(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return"\\"+e})}function s(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,n){return t[n-0+1]})}function l(e,t,n,i,a,r){for(var o=n.length,s=e.split(t),l=0,u=[],d=0,c=s.length;d<c;d++){var f=s[d];if(d){var p=1;for(l++;;){var h=f.indexOf(n);if(h<0){u.push(l>1&&p?t:"",f);break}if(l=i?l-1:0,u.push(l>0&&p?t:"",f.slice(0,h),l>0?n:""),f=f.slice(h+o),p=0,0===l)break}0===l&&(a(u.join("")),r(f),u=[])}else f&&r(f)}l>0&&u.length>0&&(r(t),r(u.join("")))}function u(e,t,n){var i,a=[],o=t.options,d="",c="",f="",p="";return n&&(d="ts(",c=")",f=E,p=P,i=o.defaultFilter),l(e,o.variableOpen,o.variableClose,1,function(e){n&&e.indexOf("|")<0&&i&&(e+="|"+i);var o=e.indexOf("|"),l=(o>0?e.slice(0,o):e).replace(/^\s+/,"").replace(/\s+$/,""),h=o>0?e.slice(o+1):"",v=0===l.indexOf("*"),m=[v?"":d,function(e){return e=e.replace(/^\s*\*/,""),s('gv({0},["{1}"])',r(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return"."+t}).split(".").join('","'))}(l),v?"":c];if(h)for(var g=(h=u(h,t)).split("|"),x=0,y=g.length;x<y;x++){var b=g[x];/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(b)&&(m.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3&&m.push(",",RegExp.$3),m.push(")"))}a.push(f,m.join(""),p)},function(e){a.push(f,n?r(e):e,p)}),a.join("")}function d(e,t){this.value=e,this.engine=t}function c(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[]}function f(e,t){var n=e.stack,i=t?n.find(function(e){return e instanceof t}):n.bottom();if(i){for(var a;(a=n.top())!==i;){if(!a.autoClose)throw new Error(a.type+" must be closed manually: "+a.value);a.autoClose(e)}i.close(e)}return i}function p(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.master=RegExp.$3,this.name=RegExp.$1,c.call(this,e,t),this.blocks={}}function h(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,c.call(this,e,t),this.cloneProps=["name"]}function v(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,c.call(this,e,t),this.cloneProps=["name","state","blocks"],this.blocks={}}function m(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.expr=RegExp.$2,c.call(this,e,t),this.cloneProps=["name","expr"]}function g(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,c.call(this,e,t),this.cloneProps=["name","args"]}function x(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,c.call(this,e,t),this.cloneProps=["name","args"]}function y(e,t){if(!new RegExp(s("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",o(t.options.variableOpen),o(t.options.variableClose)),"i").test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,c.call(this,e,t),this.cloneProps=["list","item","index"]}function b(e,t){c.call(this,e,t)}function w(e,t){b.call(this,e,t)}function C(e,t){c.call(this,e,t)}function T(e,t){B[e]=t,t.prototype.type=e}function k(t){this.options={commandOpen:"\x3c!--",commandClose:"--\x3e",commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html"},this.config(t),this.targets={},this.filters=e({},I)}t.prototype={push:function(e){this.raw[this.length++]=e},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(e){for(var t=this.length;t--;){var n=this.raw[t];if(e(n))return n}}};var _=178245,S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I={html:function(e){return e.replace(/[&<>"']/g,a)},url:encodeURIComponent,raw:function(e){return e}},D='var r="";',E="r+=",P=";",A="return r;";"undefined"!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8&&(D="var r=[],ri=0;",E="r[ri++]=",A='return r.join("");'),d.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;return!e||t.strip&&/^\s*$/.test(e)?"":u(e,this.engine,1)},clone:function(){return this}},c.prototype={addChild:function(e){this.children.push(e)},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this)},close:function(e){e.stack.top()===this&&e.stack.pop()},getRendererBody:function(){for(var e=[],t=this.children,n=0;n<t.length;n++)e.push(t[n].getRendererBody());return e.join("")},clone:function(){for(var e=new(0,this.constructor)(this.value,this.engine),t=0,n=this.children.length;t<n;t++)e.addChild(this.children[t].clone());for(t=0,n=this.cloneProps.length;t<n;t++){var i=this.cloneProps[t];e[i]=this[i]}return e}};var M='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(p,c),i(h,c),i(v,c),i(m,c),i(g,c),i(x,c),i(y,c),i(b,c),i(w,b),i(C,b);var O=1,N=2,L=3,R=4;v.prototype.applyMaster=p.prototype.applyMaster=function(e){function t(e){var i=e.children;if(i instanceof Array)for(var a=0,r=i.length;a<r;a++){var o=i[a];o instanceof h&&n[o.name]&&(o=i[a]=n[o.name]),t(o)}}if(this.state>=L)return 1;var n=this.blocks,i=this.engine.targets[e];return i&&i.applyMaster(i.master)?(this.children=i.clone().children,t(this),this.state=L,1):void 0},p.prototype.isReady=function(){function e(i){for(var a=0,r=i.children.length;a<r;a++){var o=i.children[a];if(o instanceof v){var s=t.targets[o.name];n=n&&s&&s.isReady(t)}else o instanceof c&&e(o)}}if(this.state>=R)return 1;var t=this.engine,n=1;return this.applyMaster(this.master)?(e(this),n&&(this.state=R),n):void 0},p.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function("data","engine",[M,D,this.getRendererBody(),A].join("\n")),t=this.engine;return this.renderer=function(n){return e(n,t)},this.renderer}return null},p.prototype.open=function(e){f(e),c.prototype.open.call(this,e),this.state=O,function(e,t){t.target=e;var n=t.engine,i=e.name;if(n.targets[i])switch(n.options.namingConflict){case"override":n.targets[i]=e,t.targets.push(i);case"ignore":break;default:throw new Error("Target exists: "+i)}else n.targets[i]=e,t.targets.push(i)}(this,e)},m.prototype.open=x.prototype.open=function(e){e.stack.top().addChild(this)},h.prototype.open=function(e){c.prototype.open.call(this,e),e.stack.find(function(e){return e.blocks}).blocks[this.name]=this},w.prototype.open=function(e){(new C).open(e);f(e,b).addChild(this),e.stack.push(this)},C.prototype.open=function(e){f(e,b).addChild(this),e.stack.push(this)},v.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,c.prototype.open.call(this,e),this.state=O},x.prototype.close=m.prototype.close=function(){},v.prototype.close=function(e){c.prototype.close.call(this,e),this.state=N},p.prototype.close=function(e){c.prototype.close.call(this,e),this.state=this.master?N:L,e.target=null},v.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(e)},x.prototype.beforeOpen=v.prototype.beforeOpen=m.prototype.beforeOpen=y.prototype.beforeOpen=g.prototype.beforeOpen=h.prototype.beforeOpen=b.prototype.beforeOpen=d.prototype.beforeAdd=function(e){if(!e.stack.bottom()){new p(n(),e.engine).open(e)}},v.prototype.getRendererBody=function(){return this.applyMaster(this.name),c.prototype.getRendererBody.call(this)},x.prototype.getRendererBody=function(){return s("{0}engine.render({2},{{3}}){1}",E,P,r(this.name),u(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,n){return(t||"")+r(n)+":"}))},m.prototype.getRendererBody=function(){return this.expr?s("v[{0}]={1};",r(this.name),u(this.expr,this.engine)):""},b.prototype.getRendererBody=function(){return s("if({0}){{1}}",u(this.value,this.engine),c.prototype.getRendererBody.call(this))},C.prototype.getRendererBody=function(){return s("}else{{0}",c.prototype.getRendererBody.call(this))},y.prototype.getRendererBody=function(){return s('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',n(),u(this.list,this.engine),r(this.index||n()),r(this.item),n(),n(),c.prototype.getRendererBody.call(this))},g.prototype.getRendererBody=function(){var e=this.args;return s("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",D,A,E,P,c.prototype.getRendererBody.call(this),r(this.name),e?","+u(e,this.engine):"")};var B={};T("target",p),T("block",h),T("import",v),T("use",x),T("var",m),T("for",y),T("if",b),T("elif",w),T("else",C),T("filter",g),k.prototype.config=function(t){e(this.options,t)},k.prototype.compile=k.prototype.parse=function(e){if(e){var n=function(e,n){function i(){var e;if(h.length>0&&(e=h.join(""))){var t=new d(e,n);t.beforeAdd(p),u.top().addChild(t),h=[],n.options.strip&&p.current instanceof c&&(t.value=e.replace(/^[\x20\t\r]*\n/,"")),p.current=t}}var a,r=n.options.commandOpen,o=n.options.commandClose,s=n.options.commandSyntax,u=new t,p={engine:n,targets:[],stack:u,target:null},h=[];return l(e,r,o,0,function(e){var t=s.exec(e);if(t&&(a=B[t[2].toLowerCase()])&&"function"==typeof a){i();var l=p.current;n.options.strip&&l instanceof d&&(l.value=l.value.replace(/\r?\n[\x20\t]*$/,"\n")),t[1]?l=f(p,a):("function"==typeof(l=new a(t[3],n)).beforeOpen&&l.beforeOpen(p),l.open(p)),p.current=l}else/^\s*\/\//.test(e)||h.push(r,e,o);a=null},function(e){h.push(e)}),i(),f(p),p.targets}(e,this);if(n.length)return this.targets[n[0]].getRenderer()}return new Function('return ""')},k.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer()},k.prototype.render=function(e,t){var n=this.getRenderer(e);return n?n(t):""},k.prototype.addFilter=function(e,t){"function"==typeof t&&(this.filters[e]=t)};var $=new k;return $.Engine=k,$}),define("etpl",["etpl/main"],function(e){return e}),define("etpl/tpl",["require","exports","module","."],function(require,exports,module){var e=require(".");return{load:function(t,n,i){var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.open("GET",n.toUrl(t),!0),a.onreadystatechange=function(){if(4===a.readyState){if(a.status>=200&&a.status<300){var t=a.responseText,n=module.config();(n.autoCompile||null==n.autoCompile)&&e.compile(t),i(t)}a.onreadystatechange=new Function,a=null}},a.send(null)}}}),define("etpl-filters/f/apm_fixed",["exports","module"],function(exports,module){module.exports=function(e){return parseFloat(e).toFixed(2)}}),define("etpl-filters/f/apm_num",["exports","module"],function(exports,module){module.exports=function(e){return parseFloat((e/1e3).toFixed(3))}}),define("etpl-filters/f/apm_remove_protocol",["exports","module"],function(exports,module){module.exports=function(e){return e.replace(/^http(s?):/,"")}}),define("etpl-filters/f/blsToNoneString",["exports","module","underscore","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports=function(e){return n["default"].isNumber(e)?e:e||"-"}}),define("etpl-filters/f/bmrTimeDiff",["exports","module","moment","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports=function(e,t){if(!e)return"-";var i=n["default"](e);return n["default"](t||Date.now()).diff(i,"minutes")||"-"}}),define("etpl-filters/f/cycleFriendly",["exports","module"],function(exports,module){module.exports=function(e){return e<60?e+"秒":e<3600?(e/60).toFixed(0)+"分钟":(e/3600).toFixed(0)+"小时"}}),define("etpl-filters/f/defaultValue",["exports","module"],function(exports,module){module.exports=function(e){var t=arguments.length<=1||arguments[1]===undefined?"-":arguments[1];return e||t}}),define("etpl-filters/f/encodeURI",["exports","module"],function(exports,module){module.exports=function(e){return encodeURI(e)}}),define("etpl-filters/f/formatName",["exports","module"],function(exports,module){module.exports=function(e){var t=arguments.length<=1||arguments[1]===undefined?20:arguments[1];return e.length<=t?e:e.substr(0,t)+"..."}}),define("etpl-filters/f/formatTime",["exports","module","moment","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports=function(e){var t=arguments.length<=1||arguments[1]===undefined?"YYYY-MM-DD HH:mm:ss":arguments[1];return e?n["default"](e).format(t):"-"}}),define("etpl-filters/f/getObjectValueByKey",["exports","module"],function(exports,module){module.exports=function(e,t){return e[t]||""}}),define("etpl-filters/f/json2string",["exports","module"],function(exports,module){module.exports=function(e){return"s"===(arguments.length<=1||arguments[1]===undefined?"s":arguments[1])?JSON.stringify(e):JSON.stringify(e,"\n",4)}}),define("etpl-filters/f/lowercase",["exports","module"],function(exports,module){module.exports=function(e){return String(e).toLowerCase()}}),define("etpl-filters/f/makebreadcrumb",["exports","module"],function(exports,module){function e(e,t){return"string"==typeof e?"<span"+(t?' class="'+t+'"':"")+">"+e+"</span>":e&&e.href?'<a href="'+e.href+'"'+(t?' class="'+t+'"':"")+">"+e.title+"</a>":""}module.exports=function(t,n,i){t=t||[],n=e("产品服务")||n,i=" "+e("/","divider")+" "||i;var a=[];a.push('<p class="breadcrumb">'),a.push(n);for(var r=0,o=t.length-1;r<=o;r++)a.push(i),r===o?a.push(e(t[r],"active")):a.push(e(t[r]));return a.push("</p>"),a.join("")}}),define("etpl-filters/f/second",["exports","module"],function(exports,module){module.exports=function(e){return e>1?parseFloat((e/1e3).toFixed(2))+"s":parseFloat(e).toFixed(2)+"ms"}}),define("etpl-filters/f/secondDesc",["exports","module"],function(exports,module){module.exports=function(e){for(var t=[{key:"second",unit:60,desc:"秒"},{key:"minute",unit:60,desc:"分"},{key:"hour",unit:24,desc:"时"},{key:"day",unit:30,desc:"天"},{key:"month",unit:12,desc:"月"}],n=0,i="";n<t.length;){var a=t[n];if(i=e%a.unit+a.desc+i,0===(e=Math.floor(e/a.unit)))break;n++}return i}}),define("etpl-filters/f/statusTpl",["exports","module"],function(exports,module){module.exports=function(e){var t=e.kclass||e.klass,n=e.text||"-";return'<span class="status'+(t?" "+t:"")+'">'+n+"</span>"}}),define("etpl-filters/f/stringify",["exports","module"],function(exports,module){module.exports=function(e){return JSON.stringify(e)}}),define("etpl-filters/f/timeInterval",["exports","module","moment","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports=function(e,t){var i=arguments.length<=2||arguments[2]===undefined?"YYYY-MM-DD HH:mm:ss":arguments[2],a=n["default"](e,i),r=n["default"](t,i);return e&&t?r.diff(a,"minute"):"-"}}),define("etpl-filters/f/uppercase",["exports","module"],function(exports,module){module.exports=function(e){return String(e).toUpperCase()}}),define("etpl-filters/f/UTCtoLocalTime",["exports","module","moment","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports=function(e){var t=arguments.length<=1||arguments[1]===undefined?"YYYY-MM-DD HH:mm:ss":arguments[1];return e?n["default"](e).format(t):"-"}}),define("etpl-filters/main",["exports","./f/cycleFriendly","babel-runtime/helpers/interop-require-default","./f/timeInterval","./f/formatName","./f/formatTime","./f/lowercase","./f/uppercase","./f/stringify","./f/defaultValue","./f/encodeURI","./f/makebreadcrumb","./f/statusTpl","./f/json2string","./f/secondDesc","./f/UTCtoLocalTime","./f/getObjectValueByKey","./f/blsToNoneString","./f/bmrTimeDiff","./f/second","./f/apm_num","./f/apm_fixed","./f/apm_remove_protocol"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c,f,p,h,v,m,g,x,y,b,w){exports.__esModule=!0,exports.activate=function(e){return e.addFilter("cycleFriendly",C["default"]),e.addFilter("timeInterval",T["default"]),e.addFilter("formatName",k["default"]),e.addFilter("formatTime",_["default"]),e.addFilter("lowercase",S["default"]),e.addFilter("uppercase",I["default"]),e.addFilter("stringify",D["default"]),e.addFilter("defaultValue",E["default"]),e.addFilter("encodeURI",P["default"]),e.addFilter("makebreadcrumb",A["default"]),e.addFilter("statusTpl",M["default"]),e.addFilter("json2string",O["default"]),e.addFilter("secondDesc",N["default"]),e.addFilter("UTCtoLocalTime",L["default"]),e.addFilter("blsToNoneString",B["default"]),e.addFilter("getObjectValueByKey",R["default"]),e.addFilter("bmrTimeDiff",$["default"]),e.addFilter("baeproUtc2Time",L["default"]),e.addFilter("baeUtc2Time",L["default"]),e.addFilter("second",q["default"]),e.addFilter("apm_num",F["default"]),e.addFilter("apm_fixed",j["default"]),e.addFilter("apm_remove_protocol",H["default"]),e};var C=t["default"](e),T=t["default"](n),k=t["default"](i),_=t["default"](a),S=t["default"](r),I=t["default"](o),D=t["default"](s),E=t["default"](l),P=t["default"](u),A=t["default"](d),M=t["default"](c),O=t["default"](f),N=t["default"](p),L=t["default"](h),R=t["default"](v),B=t["default"](m),$=t["default"](g),q=t["default"](x),F=t["default"](y),j=t["default"](b),H=t["default"](w)}),define("etpl-filters",["etpl-filters/main"],function(e){return e}),define("fc-storage/cookie",["require","underscore"],function(require){"use strict";function e(e){return r.raw?e:encodeURIComponent(e)}function t(e){return r.raw?e:decodeURIComponent(e)}function n(e,n){var o=r.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=t(e.replace(a," "))}catch(n){return}try{return r.json?JSON.parse(e):e}catch(n){}}(e);return i.isFunction(n)?n(o):o}var i=require("underscore"),a=/\+/g,r=function(a,o,s){if(o!==undefined&&!i.isFunction(o)){if("number"==typeof(s=i.extend({},r.defaults,s)).expires){var l=s.expires,u=s.expires=new Date;u.setDate(u.getDate()+l)}return document.cookie=[e(a),"=",function(t){return e(r.json?JSON.stringify(t):String(t))}(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var d=a?undefined:{},c=document.cookie?document.cookie.split("; "):[],f=0,p=c.length;f<p;f++){var h=c[f].split("="),v=t(h.shift()),m=h.join("=");if(a&&a===v){d=decodeURIComponent(n(m,o));break}a||(m=n(m))===undefined||(d[v]=m)}return d};r.defaults={};var exports={};return exports.remove=exports.removeItem=function(e,t){return r(e)!==undefined&&(r(e,"",i.extend({},t,{expires:-1})),!0)},exports.get=exports.getItem=function(e){return r(e)},exports.set=exports.setItem=function(e,t,n){return r(e,t,n)},exports}),define("fc-storage/localStorage",["require","underscore","./util","mini-event/EventTarget","./memory"],function(require){"use strict";var e=require("underscore"),t=require("./util"),n=require("mini-event/EventTarget"),i="object"==typeof window.localStorage?window.localStorage:"object"==typeof window.globalStorage?window.globalStorage[window.location.host]:null;if(!i){var a=require("./memory").createInstance();return a.supported=!1,a}var r={supported:!0};return e.extend(r,t.getExtendedStorageMethods(i)),n.enable(r),r}),define("fc-storage/main",["require"],function(require){"use strict";return{version:"0.0.1-alpha.6"}}),define("fc-storage",["fc-storage/main"],function(e){return e}),define("fc-storage/memory",["require","underscore","eoo","mini-event/EventTarget"],function(require){"use strict";function e(e){return Object.prototype.toString.call(e)}var t=require("underscore"),n=require("eoo"),i=require("mini-event/EventTarget"),a={};a.constructor=function(){var n={};this.supported=!0,this.get=this.getItem=function(e){return n[e]},this.set=this.setItem=function(e,t){if("string"!=typeof e||!e)throw new Error("错误的storage.memory.setItem使用，非法键值");return n[e]=t,this.fire("change"),this},this.update=this.updateItem=function(n,i){if("string"!=typeof n||!n)throw new Error("错误的storage.memory.updateItem使用，非法键值");var a=this.getItem(n);return e(a)!==e(i)?(this.setItem(n,i),this.fire("change"),i):(t.isArray(i)||t.isObject(i)?this.setItem(n,t.deepExtend(a,i)):this.setItem(n,i),this.fire("change"),i)},this.fill=function(e,i){if(!t.isObject(e)||t.isArray(e))throw new Error("错误的storage.memory.fill使用，非法值");return(i=i||{}).update?t.deepExtend(n,e):t.extend(n,e),this.fire("change"),this},this.remove=this.removeItem=function(e){return delete n[e],this.fire("change"),this},this.clear=function(){return n={},this.fire("change"),this},this.dump=function(){return t.deepClone(n)}};var r=n.create(i,a),o=new r;return o.createInstance=function(){return new r},o}),define("fc-storage/sessionStorage",["require","underscore","mini-event/EventTarget","./util","./memory"],function(require){"use strict";var e=require("underscore"),t=require("mini-event/EventTarget"),n=require("./util"),i=window.sessionStorage;if(!i){var a=require("./memory").createInstance();return a.supported=!1,a}var r={supported:!0,isIE8:"function"!=typeof window.document.createElement};return e.extend(r,n.getExtendedStorageMethods(i)),t.enable(r),r}),define("fc-storage/util",["require","underscore","./memory"],function(require){function e(e){return Object.prototype.toString.call(e)}var t=require("underscore");return{getExtendedStorageMethods:function(n){if(!this.checkSupported(n)){var i=require("./memory").createInstance();(n=i).supported=!1}var a={getItem:function(e){var t=null;try{t=JSON.parse(n.getItem(e))}catch(i){}return t},setItem:function(e,t){if("string"!=typeof e||!e)throw new Error("错误的storage.setItem使用，非法键值");return n.setItem(e,JSON.stringify(t)),this.fire("change"),n},updateItem:function(t,n){if("string"!=typeof t||!t)throw new Error("错误的storage.updateItem使用，非法键值");var i=this.getItem(t);return e(i)!==e(n)?(this.setItem(t,n),this.fire("change"),n):($.isPlainObject(n)?this.setItem(t,function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(i,n)):this.setItem(t,n),this.fire("change"),this.getItem(t))},fill:function(e,i){if(!t.isObject(e)||t.isArray(e))throw new Error("错误的storage.memory.fill使用，非法值");var a=(i=i||{}).update?n.updateItem:n.setItem;for(var r in e)e.hasOwnProperty(r)&&a.call(n,r,e[r]);return this.fire("change"),n},removeItem:function(e){return n.removeItem(e),this.fire("change"),this},clear:function(){return n.clear(),this.fire("change"),this}};return a.get=a.getItem,a.set=a.setItem,a.update=a.updateItem,a.remove=a.removeItem,a},checkSupported:function(e){var t=!1,n="__FC_STORAGE_TEST_KEY__";try{e.setItem(n,1),e.removeItem(n),t=!0}catch(i){t=!1}return t}}}),define("bat-ria/etpl",["exports","module","babel-runtime/helpers/class-call-check","etpl","babel-runtime/helpers/interop-require-default","inf-i18n"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i),o=function(){function t(n){e["default"](this,t),this._data=null==n?{}:n}return t.prototype.get=function(e){if(/^i18n\./.test(e))return r["default"](e.substr(5));for(var t=e.replace(/\[(\d+)\]/g,".$1").split("."),n=t.shift(),i=this._data[n];i&&(n=t.shift());)i=i[n];return i},t}();module.exports={render:function(e,t){var n=t;return null!=n&&"function"==typeof n.get||(n=new o(t)),a["default"].render(e,n)},getRenderer:function(e){return a["default"].getRenderer(e)}}}),define("bat-ria/extension/hooks",["require","underscore","urijs","../ui/loading","../io/tracing","../system/user","../io/serverIO","bat-ria/ui/Uploader","er/ajax"],function(require){function e(){var e=require("../system/user"),t=e.ader&&e.ader.id||n.parseQuery(document.location.search).aderId||e.visitor&&e.visitor.id;return t?{aderId:t}:{}}var t=require("underscore"),n=require("urijs"),i=require("../ui/loading"),a=require("../io/tracing"),r={};return{activate:t.once(function(o){o=t.defaults(o||{},{SHOW_LOADING:!0,ADD_ADER_ID:!0,ADD_ER_REQUEST_HEADER:!0});var s=require("../io/serverIO");o.ADD_ADER_ID&&(s.hooks.filterIndexUrl=function(t){return n(t).addQuery(e()).toString()},require("bat-ria/ui/Uploader").prototype.filterAction=function(t){var i=e();return i&&(t=n(t).addQuery(i).toString()),t});s.hooks.beforeRequest=function(t){if(o.ADD_ADER_ID){var s=t.url,l=e();l&&(t.url=n(s).addQuery(l).toString())}t["X-silence"]=t["X-silence"]||t["x-silent"],o.SHOW_LOADING&&!t["X-silence"]&&(i.isShowing()?i.show():r[t.xhrId]=setTimeout(function(){i.show(),a.loadingIndicator(),delete r[t.xhrId]},400))},o.SHOW_LOADING&&(s.hooks.afterComplete=function(e,t){if(!t.getRequestOption("X-silence")){var n=t.getRequestOption("xhrId");r[n]===undefined?i.hide():clearTimeout(r[n])}}),o.ADD_ADER_ID&&(require("er/ajax").hooks.beforeSend=function(e){e.setRequestHeader("X-Request-By","ERApplication")})})}}),define("bat-ria/extension/ui",["require","inf-i18n","underscore","esui/lib","esui/validator/MaxLengthRule","esui/validator/MinLengthRule","esui/validator/RequiredRule","esui/validator/PatternRule","esui/validator/MaxRule","esui/validator/MinRule","esui/validator/Rule","esui/CommandMenu","esui/Tab","esui","esui/Panel"],function(require){var e=require("inf-i18n"),t=require("underscore"),n=require("esui/lib");return{activate:t.once(function(){!function(){function n(e){var n=e.get("min"),i=e.get("max"),a=e.get("pattern")+"";if(null!=n&&null!=i&&d.hasOwnProperty(a)){var r=/\B(?=(\d{3})+(?!\d))/g,o=(n+"").replace(r,","),s=(i+"").replace(r,",");return u.hasOwnProperty(a)?t.escape(e.get("title"))+"请填写≥"+o+"且≤"+s+"的整数":t.escape(e.get("title"))+"请填写≥"+o+"且≤"+s+"的数字，最多可保存至小数点后两位"}return null}var i=require("esui/validator/MaxLengthRule"),a=require("esui/validator/MinLengthRule"),r=require("esui/validator/RequiredRule"),o=require("esui/validator/PatternRule"),s=require("esui/validator/MaxRule"),l=require("esui/validator/MinRule");r.prototype.errorMessage=e("请填写")+"${title}";var u={"^\\d+$":!0,"/^\\d+$/":!0},d=t.extend({},u,{"^\\d+(\\.\\d{1,2})?$":!0,"/^\\d+(\\.\\d{1,2})?$/":!0}),c=require("esui/validator/Rule");i.prototype.getErrorMessage=function(e){e.get("maxErrorMessage")&&c.prototype.getErrorMessage.apply(this,arguments);var t=n(e);return t||c.prototype.getErrorMessage.apply(this,arguments)},a.prototype.getErrorMessage=function(e){e.get("maxErrorMessage")&&c.prototype.getErrorMessage.apply(this,arguments);var t=n(e);return t||c.prototype.getErrorMessage.apply(this,arguments)},s.prototype.getErrorMessage=function(e){e.get("maxErrorMessage")&&c.prototype.getErrorMessage.apply(this,arguments);var t=n(e);return t||c.prototype.getErrorMessage.apply(this,arguments)},l.prototype.getErrorMessage=function(e){e.get("maxErrorMessage")&&c.prototype.getErrorMessage.apply(this,arguments);var t=n(e);return t||c.prototype.getErrorMessage.apply(this,arguments)},o.prototype.getErrorMessage=function(e){var t=e.get("pattern")+"";!e.get("patternErrorMessage")&&d.hasOwnProperty(t)||c.prototype.getErrorMessage.apply(this,arguments);var i=n(e);return i||c.prototype.getErrorMessage.apply(this,arguments)}}(),function(){var e=require("esui/CommandMenu");e.prototype.linkTemplate='<a target="${target}" href="${href}">${text}</a>',e.prototype.getItemHTML=function(e){var t={text:n.encodeHTML(e.text),href:e.href&&n.encodeHTML(e.href),target:e.target||"_self"},i=e.href?this.linkTemplate:this.itemTemplate;return n.format(i,t)};var t=require("esui/Tab");t.prototype.linkTemplate='<a href="${href}">${title}</a>',t.prototype.getContentHTML=function(e){var t={title:n.encodeHTML(e.title),href:e.href&&n.encodeHTML(e.href)},i=e.href?this.linkTemplate:this.contentTemplate;return n.format(i,t)}}(),function(){var e=require("esui");require("esui/Panel").prototype.appendContent=function(n){var i=this,a=document.createElement("div");a.innerHTML=n;for(var r=a.childNodes,o=[],s=0;s<r.length;s++)o.push(r[s]);var l=t.extend({},i.renderOptions,{viewContext:i.viewContext,parent:i});t.each(o,function(t){i.main.appendChild(t),e.init(i.main,l)})}}()})}}),define("bat-ria/extension/underscore",["require","underscore"],function(require){var e=require("underscore"),t={};return t.purify=function n(t,i,a){i=i||{};var r={};return e.each(t,function(e,t){var o=null==e||""===e,s=i.hasOwnProperty(t)&&i[t]===e;o||s||(r[t]=a&&"object"==typeof e?n(e,i[t],a):e)}),r},t.filterObject=function(t,n,i){var a={};return null==t?a:(e.each(t,function(e,r){n.call(i,e,r,t)&&(a[r]=e)}),a)},t.mapObject=function(t,n,i){var a={};return null==t?a:(e.each(t,function(e,t){a[t]=n.call(i,e)}),a)},t.mapKey=function(t,n){var i={};return null==t?i:(e.each(t,function(e,t){n[t]?i[n[t]]=e:i[t]=e}),i)},t.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.pascalize=function(e){return e+="",/^[A-Z\-_]+$/.test(e)&&(e=e.toLowerCase()),e=e.replace(/[\s-_]+(.)/g,function(e,t){return t.toUpperCase()}),e=e.charAt(0).toUpperCase()+e.slice(1)},t.camelize=function(e){return(e=t.pascalize(e)).charAt(0).toLowerCase()+e.slice(1)},t.dasherize=function(e){return e=t.pascalize(e),e=e.replace(/[A-Z]{2,}/g,function(e){return e.charAt(0)+e.slice(1,-1).toLowerCase()+e.charAt(e.length-1)}),"-"===(e=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})).charAt(0)&&(e=e.substring(1)),e},t.constanize=function(e){return(e=t.pascalize(e)).toUpperCase()},t.pluralize=function(e){return e.replace(/y$/,"ie")+"s"},t.formatNumber=function(e,t,n,i){if("number"!=typeof arguments[1]&&(i=arguments[2],n=arguments[1],t=0),i=i||"",n=n||"",null==e||isNaN(e))return i+n;var a=(e=parseFloat(e).toFixed(t)).split("."),r=a[0],o=a[1],s=i+(r=r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"));return o&&(s+="."+o),s},t.pad=function(e,t,n){var i=n-(e+="").length;if(i>0){return new Array(i+1).join(t)+e}return e},t.padRight=function(){s+="";var e=length-s.length;if(e>0){var t=new Array(e+1).join(padding);return s+t}return s},t.deepClone=function(n){if(!e.isObject(n)||e.isFunction(n))return n;if(e.isArray(n))return e.map(n,t.deepClone);var i={};return e.each(n,function(e,n){i[n]=t.deepClone(e)}),i},t.sprintf=function(e){var t=[].slice.call(arguments,1),n=0;return e.replace(/%s/g,function(e){return t[n++]})},{activate:e.once(function(){e.mixin(t)})}}),define("bat-ria/io/mfa_check",["exports","module","promise","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={_factory:null,getImpl:function(e,t){var i=this._factory;return i?i(e,t):n["default"].reject()},registerImpl:function(e){this._factory=e}}}),define("bat-ria/io/serverIO",["exports","module","er/ajax","babel-runtime/helpers/interop-require-default","er/Deferred","underscore","inf-i18n","promise","jquery","./mfa_check","../ui/loading"],function(exports,module,e,t,n,i,a,r,o,s,l){function u(e){var t=e.getRequestOption("url");return{success:"false",message:{global:m["default"]("服务器错误")+'<br/><small class="diagnostic-log">Status Code:'+e.status+", Url: "+t+"</small>"}}}function d(e){if("function"==typeof w.hooks.beforeSuccess&&(e=w.hooks.beforeSuccess(e,this)||e),"true"!==e.success&&!0!==e.success){var t=e.message;return b["default"].hide(),"MFARequired"!==e.code&&"MFACheckedFailed"!==e.code||e.cancelled||!e.message.detail?("function"==typeof w.hooks.afterFailure&&w.hooks.afterFailure(t,this),f(t,this),h["default"].rejected(t)):(w.hooks.afterComplete&&w.hooks.afterComplete(e,this),function(e,t){var n=y["default"].getImpl(e,t);return n.getAuthorizationCode().then(function(i){var a={"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"};return i&&(a["Bce-MFA-Code"]=i),new g["default"](function(t,n){x["default"].ajax({method:"POST",url:e.getRequestOption("url"),dataType:"json",headers:a,data:JSON.stringify(e.getRequestOption("data")),beforeSend:function(t){p["default"].hooks.beforeSend(t,{url:e.getRequestOption("url"),region:e.getRequestOption("region")})},success:function(e){t(e)},error:n})}).then(function(i){return n.hide(),t=i,d.call(e,i)},function(i){return n.hide(),t=i,c.call(e,i)})})["catch"](function(i){return"cancel"==i.type?(t.cancelled=!0,n.hide(),d.call(e,t)):h["default"].rejected(i)})}(this,e))}"function"==typeof w.hooks.afterSuccess&&w.hooks.afterSuccess(e,this);var n=e.page||e.result;return f(n,this),h["default"].resolved(n)}function c(e){if(f(null,this),"function"==typeof w.hooks.beforeFailure){var t=w.hooks.beforeFailure(this)||u(e);return d.call(this,t)}return d.call(this,u(e))}function f(e,t){return"function"==typeof w.hooks.afterComplete&&w.hooks.afterComplete(e,t),e}var p=t["default"](e),h=t["default"](n),v=t["default"](i),m=t["default"](a),g=t["default"](r),x=t["default"](o),y=t["default"](s),b=t["default"](l),w={hooks:{}},C=0;w.request=function(e,t,n){var i=null;"string"==typeof window.G_CONSOLE_ENDPOINT&&window.G_CONSOLE_ENDPOINT&&(i={withCredentials:!0});var a={url:e,data:t,dataType:"json",xhrFields:i,contentType:"application/json"};return n=n?v["default"].defaults(n,a):a,n.xhrId="_xhr_"+ ++C,"function"==typeof w.hooks.beforeRequest&&w.hooks.beforeRequest(n),p["default"].request(n).then(d,c)},w.get=function(e,t,n){return this.request(e,t,{method:"GET"})},w.post=function(e,t,n){return this.request(e,t,{method:"POST"})},module.exports=w}),define("bat-ria/io/tracing",["exports","jquery","babel-runtime/helpers/interop-require-default"],function(exports,e,t){function n(e){/^ticket\.bce(test)?\.baidu\.com$/.test(location.hostname)||(a.push.apply(a,e),a.length<10||(i["default"].ajax({method:"POST",url:"/api/log/csi",dataType:"json",headers:{"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"},data:JSON.stringify(a)}),a.length=0))}exports.__esModule=!0;var i=t["default"](e);exports.failedXhr=function(e,t,i){var a=t.getRequestOption("url"),r=t.getResponseHeader("x-bce-request-id")||"nil",o=[e,"status="+t.status,"readyState="+t.readyState,"responseText="+t.responseText,"userAgent="+navigator.userAgent].concat(t.getAllResponseHeaders());n([{type:i?"DIALOG_NOT_ALERT":"DIALOG_ALERT",content:o.join("; "),url:a,request_id:r}])};exports.loadingIndicator=function(){n([{type:"SHOW_LOADING",url:location.hash}])};var a=[]}),define("bat-ria/main",["require","underscore","./util","er/config","er/Deferred","er","./extension/underscore","./extension/hooks","./extension/ui"],function(require){function e(e,t){}function t(){!function(){var e=require("er/config");e.indexURL=n.index,e.systemName=n.systemName}(),require("er").start()}var n,i=require("underscore"),a=require("./util");return{start:function(r){return n=r,require("./extension/underscore").activate(),require("./extension/hooks").activate(n.hooks),require("./extension/ui").activate(),function(){var e=i.filterObject(n.api,n.isRequester||function(e){return!/\/(?:up|down)load$/.test(e)});n.api=i.extend(n.api,a.genRequesters(e))}(),r.initData&&(e=r.initData),require("er/Deferred").all(n.api.user(),n.api.constants()).then(e).then(t)}}}),define("bat-ria",["bat-ria/main"],function(e){return e}),define("bat-ria/mvc/BaseAction",["require","er/util","underscore","er/Action","er/Model","er/events","./BaseModel","./Performance"],function(require){function e(){i.apply(this,arguments)}var t=require("er/util"),n=require("underscore"),i=require("er/Action"),a=require("er/Model"),r=require("er/events"),o=require("./BaseModel"),s=require("./Performance");return t.inherits(e,i),e.prototype.initialize=function(){function e(e){t.mark("t_"+e.type)}var t=new s;this.once("beforemodelload",e),this.once("modelloaded",e),this.once("beforerender",e),this.once("rendered",e),this.once("entercomplete",function(n){e(n),t.measure("ACTION_MODEL_LOADED_TIME","t_beforemodelload","t_modelloaded"),t.measure("ACTION_DOM_RENDER_TIME","t_beforerender","t_rendered"),t.measure("ACTION_EVENT_BIND_TIME","t_rendered","t_entercomplete");var i=t.getEntriesByType("measure");r.fire("afterenteraction",{measures:i,context:this.context}),t.clearMarks(),t.clearMeasures()})},e.prototype.createModel=function(e){var t=i.prototype.createModel.apply(this,arguments);return t instanceof a||!n.isEmpty(t)||(t=new o(e)),t},e.prototype.initBehavior=function(){i.prototype.initBehavior.apply(this,arguments),this.model.on("change",this.syncModelToView,this)},e.prototype.syncModelToView=function(e){this.disposed||n.some(e.changes,function(e){return this.syncModelToViewIterator(e)},this)},e.prototype.syncModelToViewIterator=n.noop,e.prototype.back=function(e,t){"boolean"==typeof arguments[0]?(t=e,e=null):e=e||"";var n=this.context&&this.context.referrer||e;n?this.redirect(n):t&&window.history.back()},e.prototype.$dispatch=function(e,t){var n={legacyActionFireCustomType:e,value:t};this.fire("legacyactioncustomevent",n)},e}),define("bat-ria/mvc/BaseModel",["require","underscore","er/util","ef/UIModel"],function(require){function e(e){i.call(this,e)}var t=require("underscore"),n=require("er/util"),i=require("ef/UIModel");return n.inherits(e,i),e.prototype.mergeDefaultDatasource=function(){if(this.datasource){var e=t.deepClone(this.datasource)||{},n=t.deepClone(this.defaultDatasource);t.isArray(n)?e=t.isArray(e)?n.concat(e):n.push(e):t.isArray(e)?t.contains(e,n)||e.unshift(n):t.defaults(e,n),this.datasource=e}else this.datasource=this.defaultDatasource},e.prototype.load=function(){return this.mergeDefaultDatasource(),i.prototype.load.apply(this,arguments)},e}),define("bat-ria/mvc/BaseView",["require","er/util","inf-i18n","underscore","ef/UIView","er/View","er/Deferred","esui/Dialog","san-xui","../etpl","esui","mini-event/Event"],function(require){function e(){a.apply(this,arguments)}var t=require("er/util"),n=require("inf-i18n"),i=require("underscore"),a=require("ef/UIView"),r=require("er/View"),o=require("er/Deferred"),s=require("esui/Dialog"),l=require("san-xui").notification,u=require("../etpl");return t.inherits(e,a),e.prototype.getTemplateName=function(){var e=a.prototype.getTemplateName.apply(this,arguments);return this.model&&this.model.get("isChildAction")&&(e+="_child"),e},e.prototype.showToast=function(e,t){if(e){var n=t&&t.messageType||"success",i={normal:"success",info:"info",success:"success",alert:"warn",warning:"warn",error:"error"};if("function"==typeof l[i[n]]){var a=t&&t.duration||5e3;l[i[n]](e,{duration:a/1e3})}}},e.prototype.popDialog=function(e){var t=document.createElement("div");document.body.appendChild(t);var n={width:600,needFoot:!0,draggable:!0,closeOnHide:!1,autoClose:!0,main:t,viewContext:this.viewContext};e=i.defaults({},e,n);var a=require("esui").create("Dialog",e);if(a.render(),e.needFoot){var r=a.getFoot().getChild("btnOk"),o=a.getFoot().getChild("btnCancel"),l=i.escape(e.okText||""),u=i.escape(e.cancelText||"");r.setContent(l||s.OK_TEXT),o.setContent(u||s.CANCEL_TEXT)}return a.show(),a},e.prototype.waitDialog=function(e,t){function n(e,t,n){e.fire(t),e.hide()}if(e instanceof s?e.isShow||e.show():(t=e,e=this.popDialog.call(this,t)),t.needFoot||e.getFoot()){var a=e.getFoot().getChild("btnOk"),r=e.getFoot().getChild("btnCancel"),l=i.escape(t.okText||""),u=i.escape(t.cancelText||"");a.setContent(l||s.OK_TEXT),r.setContent(u||s.CANCEL_TEXT),a.un("click"),r.un("click"),a.on("click",i.partial(n,e,"ok")),r.on("click",i.partial(n,e,"cancel"))}var d=new o;return e.un("ok"),e.un("cancel"),e.on("ok",d.resolver.resolve),e.on("cancel",d.resolver.reject),d.promise},e.prototype.showDialog=function(e,t){function n(e,t,n){e.fire(t)}function a(t){!1===t||t instanceof require("mini-event/Event")&&t.isDefaultPrevented()||e&&e.hide()}if(e instanceof s?e.isShow||e.show():(t=e,e=this.popDialog.call(this,t)),(t=t||{}).needFoot||e.getFoot()){var r=e.getFoot().getChild("btnOk"),l=e.getFoot().getChild("btnCancel"),u=i.escape(t.okText||""),d=i.escape(t.cancelText||"");r.setContent(u||s.OK_TEXT),l.setContent(d||s.CANCEL_TEXT),r.un("click"),l.un("click"),r.on("click",i.partial(n,e,"ok")),l.on("click",i.partial(n,e,"cancel"))}var c=function(){},f=i.bind(t.onOk||c,e),p=i.bind(t.onCancel||c,e);return e.un("ok"),e.un("cancel"),e.on("ok",function(){o.when(f()).then(a,i.partial(a,!1))}),e.on("cancel",function(){o.when(p()).then(a,i.partial(a,!1))}),e},e.prototype.waitAlert=function(){var e=this.alert.apply(this,arguments),t=new o;return e.on("ok",t.resolver.resolve),t.promise},e.prototype.waitAlertExt=function(){var e=this.alert.apply(this,arguments),t=new o,n=arguments[0];return n&&e.setContent(n.content||""),e.on("ok",t.resolver.resolve),t.promise},e.prototype.waitConfirm=function(){var e=this.confirm.apply(this,arguments),t=new o;return e.on("ok",t.resolver.resolve),e.on("cancel",t.resolver.reject),t.promise},e.prototype.waitActionDialog=function(){var e=this.popActionDialog.apply(this,arguments),t=new o;return e.on("actionloaded",t.resolver.resolve),e.on("actionloadfail",t.resolver.reject),e.on("actionloadabort",t.resolver.reject),e.on("actionloaded",function(){e.resize(),e.main.style.visibility="visible",e.main.style.opacity="1"}),t.promise},e.prototype.waitActionDialogExt=function(){return this.waitActionDialog.apply(this,arguments).then(function(e){var t=e.target,n=t.getAction(),i=null,a=null,r=null;n.view&&n.view.get&&(r=n.view.get("form")),r&&(r.on("aftervalidate",function(e){!e.isValid&&i&&i.enable()}),r.on("aftermanualvalidate",function(e){!e.isValid&&i&&i.enable()}));var o=t.getChild("foot");return o&&(i=o.getChild("btnOk"),a=o.getChild("btnCancel"),i&&i.on("click",function(){r&&r.validateAndSubmit()}),a&&a.on("click",function(){t.fire("cancel"),t.dispose()})),e}).fail(function(e){var t=e.target;return t&&t.hide(),e})},e.prototype.getTemplateData=function(){var e=r.prototype.getTemplateData.apply(this,arguments),t=e.get;return e.get=function(e){return/^i18n\./g.test(e)?n(e.substr(5)):t(e)},e},e.prototype.templateRender=function(e,t){return u.render(e,t)},e}),define("bat-ria/mvc/FormAction",["require","er/util","underscore","er/Deferred","./BaseAction","inf-i18n"],function(require){function e(){a.apply(this,arguments)}var t=require("er/util"),n=require("underscore"),i=require("er/Deferred"),a=require("./BaseAction"),r=require("inf-i18n");return t.inherits(e,a),e.prototype.toastMessage="",e.prototype.getToastMessage=function(e){var t=this.toastMessage;return null==t?"":t?n.template(t,e||{}):r("保存成功")},e.prototype.handleSubmitResult=function(e){var t=this.getToastMessage(e);t&&this.view.showToast(t,{messageType:"normal"});this.fire("aftersubmit").isDefaultPrevented()||"function"!=typeof this.redirectAfterSubmit||this.redirectAfterSubmit(e)},e.prototype.backLocation=null,e.prototype.redirectAfterSubmit=function(e){this.back(this.backLocation,!0)},e.prototype.handleSubmitError=function(e){e&&e.field&&this.view.notifyErrors(e.field),this.view.showToast("保存失败",{messageType:"error"})},e.prototype.handleLocalValidationErrors=function(e){if("object"==typeof e)return this.view.notifyErrors(e),e},e.prototype.reset=function(){this.fire("reset").isDefaultPrevented()||this.view.rollbackFormData()},e.prototype.cancelConfirmTitle="确认取消编辑",e.prototype.getCancelConfirmTitle=function(){return this.cancelConfirmTitle},e.prototype.cancelConfirmMessage="取消编辑将不保留已经填写的数据，确定继续吗？",e.prototype.getCancelConfirmMessage=function(){return this.cancelConfirmMessage},e.prototype.cancel=function(){var e=this.fire("submitcancel");this.fire("aftercancel").isDefaultPrevented()||e.isDefaultPrevented()||this.redirectAfterCancel()},e.prototype.cancelEdit=function(){var e=this.view.getFormData();if(this.model.isFormDataChanged(e)){var t={title:this.getCancelConfirmTitle(),content:this.getCancelConfirmMessage()};this.view.waitConfirm(t).then(n.bind(this.cancel,this))}else this.cancel()},e.prototype.redirectAfterCancel=function(){this.back(this.backLocation,!0)},e.prototype.submit=function(e){var t=this.model.validateSubmitData(e);if(!0!==t){var a=this.handleLocalValidationErrors(t);return i.rejected(a)}if(!this.fire("beforesubmit").isDefaultPrevented())try{return this.model.submitRequester(e).then(n.bind(this.handleSubmitResult,this),n.bind(this.handleSubmitError,this))}catch(r){return i.rejected(r)}},e.prototype.submitEdit=function(){this.view.disableSubmit();var e=this.view.getFormData(),t=this.model.getSubmitData(e),n=this;require("er/Deferred").when(this.submit(t)).ensure(function(){n.view&&"function"==typeof n.view.enableSubmit&&n.view.enableSubmit()})},e.prototype._simpleSubmit=function(e){var t=this.model.validateSubmitData(e);if(!0!==t){var a=this.handleLocalValidationErrors(t);return i.rejected(a)}if(!this.fire("beforesubmit").isDefaultPrevented())try{return this.model.submitRequester(e).then(n.bind(this.handleSubmitResult,this))}catch(r){return i.rejected(r)}return i.rejected()},e.prototype.doSubmit=function(){var e=this.view,t=e.get(e.formId);if(t)try{var n=t.fire("beforevalidate");if(n.isDefaultPrevented())return i.rejected();var a=!t.get("autoValidate")||t.validate();if((n=t.fire("aftervalidate",{isValid:a})).isDefaultPrevented())return i.rejected();if(a){var r=this.view.getFormData(),o=this.model.getSubmitData(r);return require("er/Deferred").when(this._simpleSubmit(o))}return i.rejected()}catch(s){return i.rejected(s)}return i.resolved()},e.prototype.initBehavior=function(){a.prototype.initBehavior.apply(this,arguments),this.view.on("submit",this.submitEdit,this),this.view.on("cancel",this.cancelEdit,this),this.view.on("reset",this.reset,this)},e}),define("bat-ria/mvc/FormModel",["require","./BaseModel","underscore","er/util","er/datasource","./rule"],function(require){function e(){t.apply(this,arguments)}var t=require("./BaseModel"),n=require("underscore"),i=require("er/util"),a=require("er/datasource");return i.inherits(e,t),e.prototype.formRequester=null,e.prototype.submitRequester=null,e.prototype.defaultArgs={},e.prototype.getDefaultArgs=function(){return this.defaultArgs},e.prototype.defaultDatasource={rule:a.constant(require("./rule")),formData:{retrieve:function(e){return e.get("formData")?e.get("formData"):e.formRequester?e.formRequester(e.getDefaultArgs()):{}},dump:!1}},e.prototype.getDefaultData=function(){return this.get("formData")},e.prototype.getSubmitData=function(e){var t=n.extend(e,this.getExtraData());return t=this.filterData(t)},e.prototype.getExtraData=function(){return{}},e.prototype.filterData=function(e){return e},e.prototype.isFormDataChanged=function(e){return!1},e.prototype.validateSubmitData=function(e){return!0},e}),define("bat-ria/mvc/FormView",["require","er/util","./BaseView","underscore","esui/validator/Validity","esui/validator/ValidityState"],function(require){function e(){r.apply(this,arguments)}function t(){this.fire("reset")}function n(){this.fire("cancel")}function i(){this.fire("submit")}var a=require("er/util"),r=require("./BaseView"),o=require("underscore");return a.inherits(e,r),e.prototype.formId="form",e.prototype.getFormData=function(){var e=this.get(this.formId);return o.extend({},e?e.getData():{},this.getExtraFormData())},e.prototype.getExtraFormData=function(){return{}},e.prototype.rollbackFormData=function(){this.setFormData(this.model.getDefaultData())},e.prototype.setFormData=function(e){var t=this.get(this.formId).getInputControls();o.each(t,function(t,n){var i=t.name;e&&o.has(e,i)&&t.setValue(e[i])}),this.setExtraFormData(e)},e.prototype.setExtraFormData=function(e){},e.prototype.notifyErrors=function(e){if("object"==typeof e){var t=require("esui/validator/Validity"),n=require("esui/validator/ValidityState"),i=this.get(this.formId);o.each(e,function(e,a){var r=new n(!1,e),o=new t;o.addState("invalid",r);var s=i.getInputControls(a)[0];s&&"function"==typeof s.showValidity&&s.showValidity(o)})}},e.prototype.bindEvents=function(){var e=this,a=e.get(e.formId);if(a){a.on("submit",i,e);var s=a.getInputControls();o.each(s,function(t){t.on("beforevalidate",e.enableSubmit,e),t.on("invalid",e.disableSubmit,e)}),a.on("invalid",e.disableSubmit,e)}var l=e.get("reset");l&&l.on("click",t,e);var u=e.get("cancel");u&&u.on("click",n,e),r.prototype.bindEvents.apply(e,arguments)},e.prototype.disableSubmit=function(){this.viewContext&&this.getGroup("submit").disable()},e.prototype.enableSubmit=function(){this.viewContext&&this.getGroup("submit").enable()},e}),define("bat-ria/mvc/ListAction",["require","./BaseAction","er/util","underscore","er/URL"],function(require){function e(){i.apply(this,arguments)}function t(e){this.performSearch(e.args)}function n(e){if(!this.fire("pagechange",{page:e.page}).isDefaultPrevented()){var t=this.getURLForPage(e.page);this.redirect(t)}}var i=require("./BaseAction"),a=require("er/util"),r=require("underscore"),o=require("er/URL");return a.inherits(e,i),e.prototype.performSearch=function(e){var t=this.model.getDefaultArgs(),n=this.model.getExtraQuery();e=r.chain(e).purify(t).extend(n).value();this.fire("search",{args:e}).isDefaultPrevented()||this.redirectForSearch(e)},e.prototype.redirectForSearch=function(e){var t=this.model.get("url").getPath(),n=o.withQuery(t,e);this.redirect(n,{force:!0})},e.prototype.getURLForPage=function(e){var t=this.context.url,n=t.getPath(),i=t.getQuery();return i.pageNo=e,1===e&&(i=r.omit(i,"pageNo")),require("er/URL").withQuery(n,i).toString()},e.prototype.initBehavior=function(){i.prototype.initBehavior.apply(this,arguments),this.view.on("search",t,this),this.view.on("pagesizechange",t,this),this.view.on("pagechange",n,this)},e.prototype.adjustLayout=function(){this.view.adjustLayout()},e}),define("bat-ria/mvc/ListModel",["require","underscore","er/util","./BaseModel","../util","er/URL"],function(require){function e(e){i.call(this,e)}var t=require("underscore"),n=require("er/util"),i=require("./BaseModel"),a=require("../util");return n.inherits(e,i),e.prototype.listRequester,e.prototype.defaultArgs={},e.prototype.getDefaultArgs=function(){return t.defaults(this.defaultArgs||{},{pageNo:1})},e.prototype.defaultDatasource={listPage:{retrieve:function(e){return e.listRequester(e.getQuery()).then(function(e){var t=e;return t.tableData=t.result,delete t.result,t}).fail(function(){return{pageNo:1,pageSize:10,tableData:[],totalCount:0}})},dump:!0},time:{retrieve:function(e){var t=e.get("startTime"),n=e.get("endTime");if(t&&n)return{time:a.getTimeRange(t,n)};var i=e.defaultTimeRange;return i?{time:i}:{}},dump:!0},urlTemplate:function(e){var n=e.get("url"),i=n.getPath(),a=n.getQuery();delete a.pageNo;var r="#"+require("er/URL").withQuery(i,a);return r+=(t.isEmpty(a)?"~":"&")+"pageNo=${page}"}},e.prototype.defaultTimeRange=null,e.prototype.getQuery=function(){var e=this.get("url").getQuery(),n=this.defaultTimeRange;return n=n?a.getTimeRange(n.begin,n.end,{outputFormat:"YYYYMMDDHHmmss",beginKey:"startTime",endKey:"endTime"}):{},e=t.chain(e).defaults(this.getDefaultArgs()).defaults(n).extend(this.getExtraQuery()).value(),this.filterQuery(e)},e.prototype.getExtraQuery=function(){return{}},e.prototype.filterQuery=function(e){return"string"==typeof e.pageNo&&(e.pageNo=parseInt(e.pageNo,10)),"string"==typeof e.pageSize&&(e.pageSize=parseInt(e.pageSize,10)),e},e}),define("bat-ria/mvc/ListView",["require","../tpl!../tpl/list.tpl","./BaseView","underscore","moment","esui/Button","er/util"],function(require){function e(){i.apply(this,arguments)}function t(e){var t=e.target.get("page");this.fire("pagechange",{page:t})}function n(e){var t={action:e.target.getData("type"),selectedItems:this.get("table").getSelectedItems()};this.fire("batchmodify",t)}require("../tpl!../tpl/list.tpl");var i=require("./BaseView"),a=require("underscore"),r=require("moment");return e.prototype.uiProperties={},e.prototype.uiEvents={},e.prototype.submitSearch=function(e){var t=this.getSearchArgs();"sort"===e.type&&(t.orderBy=e.field.field,t.order=e.order),this.fire("search",{args:t})},e.prototype.getSearchArgs=function(){var e=this.get("filter"),t=e?e.getData():{};t.order=this.model.get("order"),t.orderBy=this.model.get("orderBy");var n=this.get("keyword");n&&(t.keyword=a.trim(n.getValue()));var i=this.get("range");i&&(i=i.getValue().split(","),t.startTime=r(i[0]).format("YYYYMMDDHHmmss"),t.endTime=r(i[1]).format("YYYYMMDDHHmmss"));var o=this.get("pager");return o&&(t.pageSize=o.get("pageSize")),t},e.prototype.updateBatchButtonStatus=function(){var e=this.getSelectedItems();this.getGroup("batch").set("disabled",a.isEmpty(e)),this.getGroup("batch").set("readOnly",a.isEmpty(e))},e.prototype.getSelectedItems=function(){var e=this.get("table");return e?e.getSelectedItems():[]},e.prototype.bindEvents=function(){var e=this.get("pager");e&&(e.on("pagesizechange",this.submitSearch,this),e.on("pagechange",t,this));var r=this.get("table");r&&(r.on("select",this.updateBatchButtonStatus,this),r.on("sort",this.submitSearch,this));var o=this.get("filter");o&&o.on("submit",this.submitSearch,this),a.each(this.getGroup("batch"),function(e){e instanceof require("esui/Button")&&e.on("click",n,this)},this),i.prototype.bindEvents.apply(this,arguments)},e.prototype.enterDocument=function(){i.prototype.enterDocument.apply(this,arguments),this.updateBatchButtonStatus(),this.adjustLayout()},e.prototype.adjustLayout=function(){var e=this.get("table");e&&e.adjustWidth()},require("er/util").inherits(e,i),e}),define("bat-ria/mvc/Performance",["exports","module","babel-runtime/helpers/class-call-check"],function(exports,module,e){var t=function(){function t(){e["default"](this,t),this._marks={},this._measures=[]}return t.prototype.mark=function(e){this._marks[e]=(new Date).getTime()},t.prototype.measure=function(e,t,n){var i=this._marks[t],a=this._marks[n];if(i&&a){var r=a-i;this._measures.push({duration:r,entryType:"measure",name:e,startTime:0})}},t.prototype.getEntriesByType=function(e){return"measure"===e?this._measures:[]},t.prototype.clearMarks=function(){this._marks={}},t.prototype.clearMeasures=function(){this._measures=[]},t}();module.exports=t}),define("bat-ria/mvc/rule",["require"],function(require){return{maxLength:20,mail:{maxLength:100,pattern:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"},description:{maxLength:4e3},mobile:{pattern:"^(1\\d{10})?$"},phone:{pattern:"(^((0\\d{2,3})-)(\\d{7,8})(-(\\d{3,}))?$)|(^(1\\d{10})?$)"},url:{maxLength:1024,pattern:"^(?:https?|ftp|wap):\\/\\/.+$|^(?!(?:https?|ftp|wap):\\/\\/).+$"},nonNegativeInteger:{pattern:"^\\d+$"},positiveInteger:{pattern:"^[1-9][0-9]*$"},money:{pattern:"^\\d+(\\.\\d{1,2})?$"}}}),define("bat-ria/system/auth",["require","underscore"],function(require){var e=require("underscore"),t={},n={NONE:"none",EDITABLE:"editable",READONLY:"readonly",MIXED:"-"};t.AuthType=n;var i={rtoe:function(e){return e===n.READONLY?n.EDITABLE:e},rton:function(e){return e===n.READONLY?n.NONE:e},eton:function(e){return e===n.EDITABLE?n.NONE:e},ntor:function(e){return e===n.NONE?n.READONLY:e},up:function(e){return e===n.NONE?n.READONLY:n.EDITABLE},max:function(t){var i=n.NONE;return e.each(t,function(e){if(e===n.EDITABLE)return i=e,!1;e===n.READONLY&&(i=e)}),i},min:function(t){var i=n.EDITABLE;return e.each(t,function(e){if(e===n.NONE)return i=e,!1;e===n.READONLY&&(i=e)}),i}};return t.get=function(a,r){var o;if(/^\(.+\)$/.test(a))return t.get(a.substr(1,a.length-2),r);var s=[];if(/^(\w+):/.test(a)){var l=/^(?:(\w+):)(.+)$/.exec(a);if(!l)throw"Auth error: ["+a+"] is not a valid auth expression.";o=l[1];for(var u=l[2].replace(/^[\s,|]+|[\s,|]+$/g,""),d=[],c=0,f=0;f<u.length;f++){var p=u.charAt(f);if("("===p){if(0===c&&d.length)throw"Auth error: ["+a+"] is not a valid auth expression.";if(1==++c)continue}else if(")"===p){if(--c<=0){var h=d.join("");s.push(t.get(h,r).toUpperCase()),d=[];continue}}else if(c<=0&&(","===p||"|"===p||/\s/.test(p))){d.length&&(s.push(d.join("")),d=[]);continue}d.push(p)}if(d.length&&s.push(d.join("")),c>0)throw"Auth error: ["+a+"] brackets doesn't match."}else s=[e.trim(a)];var v=[];return e.each(s,function(t){if(e.contains(e.keys(n),t))return v.push(n[t]),!0;var i=t.split(".");do{var a=r[i.join(".")];if(a)return v.push(a),!0;i.pop()}while(i.length);throw"Auth error: ["+t+"] not found."}),o?i[o].call(null,v.length>1?v:v[0]):v[0]},t.permit=function(e,i){return t.get(e,i)!==n.NONE},t.registerFilter=function(e,t){i[e]=t},t}),define("bat-ria/system/constants",["require","underscore"],function(require){var e=require("underscore"),t={};return{get:function(e){return t[e]},set:function(e,n){t[e]=n},remove:function(e){delete t[e]},getMap:function(e){return t[e+"_MAP"]},getDatasource:function(e){return t[e+"_DATASOURCE"]},init:function(n){e.extend(t,n),e.each(t,function(n,i){if(e.isArray(n)&&!e.contains(e.pluck(n,"v"),undefined)&&!e.contains(e.pluck(n,"l"),undefined)){var a=t[i+"_MAP"]={},r=t[i+"_DATASOURCE"]=[];e.each(n,function(t){a[t.v]=t.l,r.push(e.mapKey(t,{v:"value",l:"text"}))})}})}}}),define("bat-ria/system/user",["require","underscore","er/permission","./auth"],function(require){var e=require("underscore"),t=require("er/permission"),n=require("./auth");return{init:function(n){n.visitor&&(this.visitor=n.visitor),n.adOwner&&(this.ader=n.adOwner),n.visitor||n.adOwner||(this.visitor=n);var i=this.visitor.auth;i&&t.add(e.mapObject(i,function(e){return"none"!==e}))},getAuthMap:function(){return this.visitor&&this.visitor.auth||null},getAuthType:function(e){return n.get(e,this.getAuthMap())},getAuth:function(e){var t=this.getAuthType(e);return{type:t,id:e,isReadOnly:t===n.AuthType.READONLY,isEditable:t===n.AuthType.EDITABLE,isVisible:t!==n.AuthType.NONE,isNone:t===n.AuthType.NONE}}}}),define("bat-ria/tpl",["require","er/ajax","etpl"],function(require){var e=require("er/ajax"),t=require("etpl"),n=t,i={BoxGroup:"esui",Button:"esui",Calendar:"esui",CheckBox:"esui",CommandMenu:"esui",Crumb:"esui",Dialog:"esui",Form:"esui",Frame:"esui",Image:"./ui",Label:"esui",Link:"esui",MonthView:"esui",Pager:"esui",Panel:"esui",RangeCalendar:"esui",Region:"esui",RichCalendar:"esui",Schedule:"esui",SearchBox:"esui",Select:"esui",Sidebar:"esui",Tab:"esui",Table:"esui",TextBox:"esui",TextLine:"esui",Tip:"esui",TipLayer:"esui",Tree:"esui",Uploader:"./ui",Validity:"esui",Wizard:"esui",ActionPanel:"ef",ActionDialog:"ef"},a={AutoSort:"esui/extension",Command:"esui/extension",CustomData:"esui/extension",TableEdit:"esui/extension",AutoSubmit:"./ui/extension",TableTip:"./ui/extension",TableSubrow:"esui/extension",WordCount:"./ui/extension"};return{setupTemplateEngine:function(e){n=e||t},load:function(t,r,o){function s(e){n.parse(e);var t=function(e){for(var t=[],n={},a=/data-ui-type="(\w+)"/g,r=a.exec(e);r;){var o=r[1];if(!n[o]){n[o]=!0;var s=(i[o]||"ui")+"/";t.push(s+o)}r=a.exec(e)}return t}(e),r=function(e){for(var t=[],n={},i=/data-ui-extension-[^-]+-type="(\w+)"/g,r=i.exec(e);r;){var o=r[1];if(!n[o]){n[o]=!0;var s=(a[o]||"ui/extension")+"/";t.push(s+o)}r=i.exec(e)}return t}(e),s=t.concat(r);require(s,function(){o(e)})}if(/\.html?$/.test(t)){var l={method:"GET",url:r.toUrl(t),cache:!0,dataType:"text"};e.request(l).then(s)}else require([t],s)},registerControl:function(e){var t=e.lastIndexOf("/"),n=e.substring(0,t),a=e.substring(t+1);i[a]=n},registerExtension:function(e){var t=e.lastIndexOf("/"),n=e.substring(0,t),i=e.substring(t+1);a[i]=n}}}),define("bat-ria/tpl/list.tpl",[],function(){return'\x3c!-- target: listSearchBox --\x3e\r\n<input name="keyword"\r\n    data-ui-type="SearchBox" data-ui-id="keyword"\r\n    data-ui-height="19"\r\n    data-ui-text="@keyword"\r\n    data-ui-placeholder="@keywordPlaceHolder"\r\n    data-ui-extension-submit-type="AutoSubmit" />\r\n\r\n\x3c!-- target: listRangeCalendar --\x3e\r\n<div data-ui-type="RangeCalendar" \r\n    data-ui-id="range"\r\n    data-ui-param-format="YYYYMMDDHHmmss" data-ui-raw-value="@time"\r\n    data-ui-extension-submit-type="AutoSubmit">\r\n</div>\r\n\r\n\x3c!-- target: listTable --\x3e\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip">\r\n</div>\r\n\r\n\x3c!-- target: listEditableTable --\x3e\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip" data-ui-extension-tableedit-type="TableEdit">\r\n</div>\r\n\r\n\x3c!-- target: listTableWithCommand --\x3e\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip"\r\n    data-ui-extension-command-type="Command">\r\n</div>\r\n\r\n\x3c!-- target: listEditableTableWithCommand --\x3e\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-tip-type="TableTip" data-ui-extension-command-type="Command"\r\n    data-ui-extension-tableedit-type="TableEdit">\r\n</div>\r\n\r\n\x3c!-- target: listTableWithCommandAndSubrow --\x3e\r\n<div data-ui-type="Table" data-ui-id="table" data-ui-datasource="@tableData"\r\n    data-ui-order-by="@orderBy" data-ui-order="@order" data-ui-select="@selectMode"\r\n    data-ui-extension-command-type="Command"\r\n    data-ui-extension-tip-type="TableTip"\r\n    data-ui-extension-tablesubrow-type="TableSubrow">\r\n</div>\r\n\r\n\x3c!-- target: listPager --\x3e\r\n<div data-ui-type="Pager" data-ui-id="pager" data-ui-page-type="plain"\r\n    data-ui-count="@totalCount" data-ui-page="@pageNo" data-ui-page-size="@pageSize" \r\n    data-ui-url-template="@urlTemplate" data-ui-layout="alignRight">\r\n</div>\r\n'}),define("bat-ria/ui/extension/AutoSubmit",["require","underscore","esui/lib","esui","esui/Form","esui/Extension"],function(require){function e(e){"string"==typeof(e=e||{}).events&&(e.events=n.map(i.splitTokenList(e.events),i.trim)),o.apply(this,arguments)}function t(){var e=this.resolveForm();e&&e.validateAndSubmit()}var n=require("underscore"),i=require("esui/lib"),a=require("esui"),r=require("esui/Form"),o=require("esui/Extension");return e.prototype.type="AutoSubmit",e.prototype.form=null,e.prototype.events=["click","change","search"],e.prototype.resolveForm=function(){if(this.form)return this.target.viewContext.get(this.form);for(var e=this.target&&this.target.main&&this.target.main.parentNode;e;){var t=a.getControlByDOM(e);if(t&&t instanceof r)return t;e=e.parentNode}return null},e.prototype.activate=function(){n.each(this.events,function(e){this.target.on(e,t,this)},this),o.prototype.activate.apply(this,arguments)},e.prototype.inactivate=function(){n.each(this.events,function(e){this.target.un(e,t,this)},this),o.prototype.inactivate.apply(this,arguments)},i.inherits(e,o),require("esui").registerExtension(e),e}),define("bat-ria/ui/extension/TableTip",["require","esui/lib","esui","underscore","esui/Extension","esui/TipLayer"],function(require){function e(){r.apply(this,arguments)}function t(e){return o.exec(e.className)[1]}var n=require("esui/lib"),i=require("esui"),a=require("underscore"),r=require("esui/Extension");require("esui/TipLayer"),e.prototype.type="TableTip";var o=/table-operation-(\w+)/;return e.prototype.createAndAttachTip=function(e,t){var n={id:"table-operation-tip-"+a.escape(t),viewContext:this.target.viewContext,content:e[0].innerHTML,arrow:!0,skin:"table-tip"},r=i.create("TipLayer",n);r.appendTo(document.body),a.each(e,function(e){var t={targetDOM:e,showMode:"over",delayTime:200,positionOpt:{bottom:"bottom",left:"left"}};r.attachTo(t)})},e.prototype.initTips=function(){if(document.querySelectorAll){var e=document.querySelectorAll(".table-operation");a.chain(e).groupBy(t).each(a.bind(this.createAndAttachTip,this))}},e.prototype.activate=function(){r.prototype.activate.apply(this,arguments),this.target.on("afterrender",this.initTips,this)},e.prototype.inactivate=function(){this.target.un("afterrender",this.initTips,this),r.prototype.inactivate.apply(this,arguments)},n.inherits(e,r),i.registerExtension(e),e}),define("bat-ria/ui/extension/WordCount",["require","esui/lib","esui/validator/Validity","esui/Extension","esui"],function(require){function e(e){a.apply(this,arguments)}function t(){var e=this.getMaxLength(),t=this.target.getValue().length,n={max:e,current:t,available:e-t},a=n.available<0?"error":"hint",r=this.getHintMessage(n),o=new i;o.setCustomValidState(a),o.setCustomMessage(r),this.target.showValidity(o)}var n=require("esui/lib"),i=require("esui/validator/Validity"),a=require("esui/Extension");return e.prototype.type="WordCount",e.prototype.initialTemplate="最多可输入${available}个字符",e.prototype.remainingTemplate="还可输入${available}个字符",e.prototype.exceededTemplate="已超出${available}个字符",e.prototype.getHintMessage=function(e){var t;return e.current?e.available>=0?t=this.remainingTemplate:(t=this.exceededTemplate,e.available=-e.available):t=this.initialTemplate,n.format(t,e)},e.prototype.getMaxLength=function(){return this.target.get("maxLength")||this.target.get("length")},e.prototype.activate=function(){var e=this.target;(e.get("maxLength")||e.get("length"))&&(this.target.on("input",t,this),this.target.on("afterrender",t,this)),a.prototype.activate.apply(this,arguments)},e.prototype.inactivate=function(){this.target.un("input",t,this),this.target.un("afterrender",t,this),a.prototype.inactivate.apply(this,arguments)},n.inherits(e,a),require("esui").registerExtension(e),e}),define("bat-ria/ui/Image",["require","esui/lib","esui/controlHelper","esui/Control","inf-i18n","esui"],function(require){function e(e){i.apply(this,arguments)}var t=require("esui/lib"),n=require("esui/controlHelper"),i=require("esui/Control"),a=require("inf-i18n");e.prototype.type="Image",e.defaultProperties={imageType:"auto"},e.prototype.createMain=function(){return document.createElement("figure")},e.prototype.initOptions=function(n){var i={};t.extend(i,e.defaultProperties,n),this.setProperties(i)},e.prototype.initStructure=function(){var e=[this.helper.getPartHTML("content","div"),this.helper.getPartBeginTag("footer","footer"),this.helper.getPartBeginTag("magnifier","span"),a("放大显示"),this.helper.getPartEndTag("magnifier","span"),this.helper.getPartEndTag("footer","footer")];this.main.innerHTML=e.join(""),this.helper.addDOMEvent("magnifier","click",this.displayFullSize)},e.prototype.repaint=n.createRepaint(i.prototype.repaint,{name:["url","width","height"],paint:function(e,t){if(t){var n=e.getPreviewHTML();e.helper.getPart("content").innerHTML=n,e.removeState("empty")}else e.restoreInitialState()}}),e.prototype.restoreInitialState=function(){this.url=null,this.width=null,this.height=null;this.helper.getPart("content").innerHTML="",this.addState("empty")},e.prototype.getActualImageType=function(){if("auto"!==this.imageType)return this.imageType;if(!/\.\w+$/.exec(this.url))return null;var e=[0];return".swf"===e&&".flv"===e?"flash":"image"};var r=['<img src="${url}" ',"${widthAttribute} ${heightAttribute} />"];r=r.join("");var o=['<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ','align="middle" ',"${widthAttribute} ${heightAttribute}>",'<param name="allowScriptAccess" value="never">','<param name="quality" value="high">','<param name="wmode" value="transparent">','<param name="movie" value="${url}">','<embed wmode="transparent" src="${url}" ','quality="high" align="middle" allowScriptAccess="always" ',"${widthAttribute} ${heightAttribute} ",'type="application/x-shockwave-flash" />',"</object>"];return o=o.join(""),e.prototype.getPreviewHTML=function(){var e=this.getActualImageType();if(!e)return"<strong>"+a("无法预览该格式")+"</strong>";var n={url:this.url,widthAttribute:this.width?'width="'+this.width+'"':"",heightAttribute:this.height?'height="'+this.height+'"':""};return"image"===e?t.format(r,n):"flash"===e?t.format(o,n):"<strong>"+a("无法预览该格式")+"</strong>"},e.prototype.displayFullSize=function(){if(this.url){var e=this.helper.createPart("full-size-mask");document.body.appendChild(e);var t=this.helper.createPart("full-size-content");t.innerHTML=this.getPreviewHTML(),this.width&&this.height&&(t.style.top="50%",t.style.left="50%",t.style.marginLeft=-Math.round(this.width/2)+"px",t.style.marginTop=-Math.round(this.height/2)+"px"),document.body.appendChild(t);var n=this.helper.createPart("full-size-close");n.innerHTML="×",document.body.appendChild(n),this.helper.addDOMEvent(e,"click",this.cancelFullSize),this.helper.addDOMEvent(n,"click",this.cancelFullSize)}},e.prototype.cancelFullSize=function(){var e=this.helper.getPart("full-size-mask");t.removeNode(e);var n=this.helper.getPart("full-size-content");t.removeNode(n);var i=this.helper.getPart("full-size-close");this.helper.clearDOMEvents(i),t.removeNode(i)},t.inherits(e,i),require("esui").register(e),e}),define("bat-ria/ui/loading",["require","underscore","inf-i18n","esui","esui/Dialog"],function(require){var e,t,n=require("underscore"),i=require("inf-i18n"),a=0,r=!1;return{show:function(o,s){if(t&&clearTimeout(t),!e){var l=require("esui");require("esui/Dialog");var u=document.createElement("div");document.body.appendChild(u);var d={main:u,title:i("系统提示"),disposeOnHide:!1,mask:!0,top:180,width:"auto",needFoot:!1,skin:"loading"};(e=l.create("Dialog",d)).show(),r=!0}var c={content:o||i("正在读取数据，请稍候...")};return c=n.extend(c,s),e.setProperties(c),e.show(),r=!0,a++,e},hide:function(){e&&--a<=0&&(a=0,t&&clearTimeout(t),t=setTimeout(function(){e.hide(),r=!1},300))},isShowing:function(){return r}}}),define("bat-ria/ui/navigator",["require","underscore","er/locator","er/permission","er/URL","esui/lib"],function(require){function e(){}function t(e,t){return i.some(t,function(t){return"function"==typeof t.test?t.test(e):t===e})}function n(e){throw{name:"System Error",message:e||"Unknow Error"}}var i=require("underscore"),a=require("er/locator"),r=require("er/permission"),o=(require("er/URL"),require("esui/lib"));e.prototype.config=null,e.prototype.activeIndex=null,e.prototype.navItems={},e.prototype.init=function(e,t){if(t){var o=document.getElementById(e);if(o){var s=null;this.config=t,"ul"===o.tagName.toLowerCase()?s=o:(s=document.createElement("ul"),o.appendChild(s));var l=this;i.each(t,function(e,t){if(!e.auth||r.isAllow(e.auth)){var n=e.externalUrl||"#"+e.url,a=function(e,t,n){var a=document.createElement("li");return a.className="nav-item",a.innerHTML='<a href="'+n+'" data-nav-index="'+e+'"><span>'+i.escape(t)+"</span></a>",a}(t,e.text,n);s.appendChild(a),l.navItems[t]=a}}),a.on("redirect",i.bind(this.handleRedirect,this)),this.handleRedirect({url:location.hash.slice(1)})}else n("Can not find navigator main element!")}else n("Navigator config is null!")},e.prototype.handleRedirect=function(e){var n=this;i.some(this.config,function(i,a){var r=i.include||[],o=i.exclude||[];if(!t(e.url,o)&&t(e.url,r))return n.activeTab(a),!0})},e.prototype.activeTab=function(e){var t=this.navItems[e];null===this.activeIndex?this.activeIndex=e:(o.removeClass(this.navItems[this.activeIndex],"nav-item-current"),this.activeIndex=e),o.addClass(t,"nav-item-current")};var s=new e;return{init:i.bind(s.init,s)}}),define("bat-ria/ui/Uploader",["require","esui/lib","esui/controlHelper","esui/validator/Validity","esui/validator/ValidityState","esui/InputControl","underscore","./Image","esui"],function(require){function e(e){o.apply(this,arguments)}function t(e){this.removeState("busy"),this.fire("complete"),this.addState("complete"),this.addState("uploaded");n.g(i.getId(this,"button")).innerHTML=n.encodeHTML(this.overrideText);n.g(i.getId(this,"label")).innerHTML=n.encodeHTML(this.getFileName()||e.url);var t=new a;this.showValidity(t),this.fire("change"),this.preview&&this.showPreview(e),window.up=this}var n=require("esui/lib"),i=require("esui/controlHelper"),a=require("esui/validator/Validity"),r=require("esui/validator/ValidityState"),o=require("esui/InputControl"),s=require("underscore");require("./Image");var l=["auto","image","flash"];e.prototype.type="Uploader",e.defaultProperties={width:80,height:25,fileType:"image",method:"POST",text:"点击上传",overrideText:"重新上传",busyText:"正在上传...",completeText:"上传完成",unloadText:"未选择文件",preview:!0,autoUpload:!0},e.prototype.createMain=function(){return document.createElement("div")},e.prototype.filterAction=function(e){return e},e.prototype.initOptions=function(t){function i(e,t){a[e]=t,a.extraArgs.push({name:e,value:t})}var a={action:""};n.extend(a,e.defaultProperties,t),n.isInput(this.main)?(t.accept||(a.accept=n.getAttribute(this.main,"accept")),t.name||(a.name=this.main.name)):"form"===this.main.nodeName.toLowerCase()&&(t.action||(a.action=this.main.action),!t.method&&n.hasAttribute(this.main,"method")&&(a.method=this.main.method)),"string"==typeof a.accept&&(a.accept=a.accept.split(",")),"false"===a.autoUpload&&(a.autoUpload=!1),a.extraArgs=[];var r=[];if(a.args)if("string"==typeof a.args)r=a.args.split("&"),s.each(r,function(e){2===(e=e.split("=")).length&&i(e[0],e[1])});else if("object"==typeof a.args)for(var o in a.args)i(o,a.args[o]);!a.hasOwnProperty("title")&&this.main.title&&(a.title=this.main.title),this.setProperties(a)},e.prototype.initStructure=function(){"form"!==this.main.nodeName.toLowerCase()&&i.replaceMain(this),this.callbackName=i.getGUID(""),window.esuiShowUploadResult||(window.esuiShowUploadResult={}),window.esuiShowUploadResult[this.callbackName]=n.bind(this.showUploadResult,this);var e=i.getStateClasses(this,"input-container").join(" "),t=i.getStateClasses(this,"indicator").join(" "),a=i.getStateClasses(this,"button").join(" "),r=i.getStateClasses(this,"label").join(" "),o=i.getId(this,"iframe"),l=['<div id="'+i.getId(this,"input-container")+'" ','class="'+e+'">','<span id="'+i.getId(this,"button")+'" ','class="'+a+'">',"</span>",'<input type="hidden" name="callback" ',"value=\"parent.esuiShowUploadResult['"+this.callbackName+"']\" ","/>",'<input type="file" ','id="'+i.getId(this,"input")+'" ','size="1" ','name="'+(this.dataKey?this.dataKey:"filedata")+'" ',"/>",'<input type="hidden" name="type" ','value="'+this.typeIndex+'"',"/>"];this.extraArgs&&s.each(this.extraArgs,function(e){l.push('<input type="hidden" name="'+e.name+'" ','value="'+e.value+'"',"/>")}),l.push("</div>",'<div id="'+i.getId(this,"indicator-wrapper")+'"','class="'+t+'">','<span id="'+i.getId(this,"indicator")+'">',"</span>","</div>",'<div id="'+i.getId(this,"label")+'"','class="'+r+'">'+this.unloadText+"</div>",'<iframe id="'+o+'" name="'+o+'"',' src="about:blank"></iframe>'),this.main.innerHTML=l.join("");var u=document.createElement("form");u.className=this.helper.getPartClassName("form"),u.id=i.getId(this,"form"),u.setAttribute("enctype","multipart/form-data"),u.target=o,document.body.appendChild(u);var d=n.g(i.getId(this,"input"));i.addDOMEvent(this,d,"change",function(){""!=d.value&&this.receiveFile()})},e.prototype.repaint=i.createRepaint(o.prototype.repaint,{name:["method","action"],paint:function(e,t,n){var i=e.helper.getPart("form");i.method=t,i.action=e.filterAction(n)}},{name:["text","overrideText"],paint:function(e,t,a){var r=n.g(i.getId(e,"button")),o=e.hasState("uploaded")?n.encodeHTML(a):n.encodeHTML(t);r.innerHTML=o}},{name:["busyText","completeText"],paint:function(e,t,a){var r=n.g(i.getId(e,"indicator")),o=e.hasState("busy")?n.encodeHTML(t):n.encodeHTML(a);r.innerHTML=o}},{name:"accept",paint:function(e,t){var a=n.g(i.getId(e,"input"));t?n.setAttribute(a,"accept",t.join(",")):n.removeAttribute(a,"accept")}},{name:["disabled","readOnly"],paint:function(e,t,a){var r=n.g(i.getId(e,"input"));r.disabled=t,r.readOnly=a}},{name:["width","height"],paint:function(e,t,a){var r=t+"px",o=a+"px";e.main.style.height=o;var s=n.g(i.getId(e,"input-container"));s.style.width=r,s.style.height=o;n.g(i.getId(e,"button")).style.lineHeight=o;n.g(i.getId(e,"indicator-wrapper")).style.width=r;n.g(i.getId(e,"indicator")).style.lineHeight=o;n.g(i.getId(e,"label")).style.lineHeight=o}},{name:"rawValue",paint:function(e,n){if(n){var i=e.fileType;e.fileInfo={url:n,type:i},t.call(e,e.fileInfo),e.removeState("complete")}}});var u={image:{".jpg":!0,".jpeg":!0,".gif":!0,".bmp":!0,".tif":!0,".tiff":!0,".png":!0},flash:{".flv":!0,".swf":!0}};return e.prototype.checkFileFormat=function(e){if(this.accept){var t=e.split(".");t="."+t[t.length-1].toLowerCase();for(var n=!1,i=0;i<this.accept.length;i++){var a=this.accept[i].toLowerCase();if(a===t){n=!0;break}if("*"===a.slice(-1)[0]){var r=a.split("/")[0],o=u[r];if(o&&o.hasOwnProperty(t)){n=!0;break}}}if(!n){var s=this.acceptErrorMessage||"仅接受以下文件格式："+this.accept.join(",");this.notifyFail(s)}return n}return!0},e.prototype.submit=function(){this.showUploading();var e=this.helper.getPart("input-container"),t=this.helper.getPart("form");t.appendChild(e),t.submit(),this.main.insertBefore(e,this.main.firstChild)},e.prototype.receiveFile=function(){var e=n.g(i.getId(this,"input")).value;this.checkFileFormat(e)&&(this.fire("receive"),this.autoUpload&&this.submit())},e.prototype.showUploading=function(){this.removeState("complete"),this.addState("busy");n.g(i.getId(this,"indicator")).innerHTML=n.encodeHTML(this.busyText)},e.prototype.showUploadResult=function(e){var t=e.result;!1===e.success||"false"===e.success?this.notifyFail(e.message):t&&(e.hasOwnProperty("type")?"number"==typeof e.type&&(e.result.type=l[e.result.type]):e.result.type=this.fileType,this.fileInfo=t,this.rawValue=t.url||t.previewUrl||"",this.notifyComplete(e.result))},e.prototype.notifyFail=function(e){this.fire("fail",e),e=e.upload||"上传失败";var t=new a,n=new r(!1,e);t.addState("upload",n),this.showValidity(t),this.removeState("busy"),this.reset()},e.prototype.notifyComplete=function(e){t.call(this,e);n.g(i.getId(this,"indicator")).innerHTML=n.encodeHTML(this.completeText),this.timer=setTimeout(n.bind(this.removeState,this,"complete"),1e3)},e.prototype.showPreview=function(e){if(e||(e=this.fileInfo),this.previewContainer){var t=this.viewContext.get(this.previewContainer);if(!t)return;var n={imageType:e?e.type:this.fileType||"auto",url:this.getPreviewUrl(),width:e?e.width:null,height:e?e.height:null};t.setProperties(n)}},e.prototype.getRawValueProperty=e.prototype.getRawValue,e.prototype.getFileName=function(e){var t=n.g(i.getId(this,"input"));return(e||t.value).split("\\").pop()||""},e.prototype.getFileWidth=function(){return this.fileInfo?this.fileInfo.width:-1},e.prototype.getFileHeight=function(){return this.fileInfo?this.fileInfo.height:-1},e.prototype.getPreviewUrl=function(){return this.fileInfo?this.fileInfo.previewUrl||this.fileInfo.url:""},e.prototype.getSessionToken=function(){return""},e.prototype.reset=function(){n.g(i.getId(this,"input")).value=""},e.prototype.dispose=function(){var e=this.helper.getPart("form");n.removeNode(e),delete window.esuiShowUploadResult[this.callbackName],o.prototype.dispose.apply(this,arguments)},n.inherits(e,o),require("esui").register(e),e}),define("bat-ria/util",["require","underscore","moment","./io/serverIO","urijs","./system/user","etpl"],function(require){var e=require("underscore"),t=require("moment"),n=require("./io/serverIO"),i={};return i.genRequesters=function(t){if(e.isString(t))return function(e,i){return n.post(t,e,i)};if(e.isObject(t)){var i=e.clone(t);return e.each(i,function(t,a){e.isString(t)&&(i[a]=function(e,i){return n.post(t,e,i)})}),i}},i.getTimeRange=function(n,i,a){1===arguments.length&&(a=n);if(a=e.defaults({},a,{inputFormat:"YYYYMMDDHHmmss",outputFormat:"Date"}),n&&i)n=e.isString(n)?t(n,a.inputFormat):t(n),i=e.isString(i)?t(i,a.inputFormat):t(i);else{var r=t().startOf("day");n=r.clone().subtract("days",7),i=r.clone().subtract("day",1).endOf("day")}"date"===a.outputFormat.toLowerCase()?(n=n.toDate(),i=i.toDate()):(n=n.format(a.outputFormat),i=i.format(a.outputFormat));var o={begin:a.beginKey||"begin",end:a.endKey||"end"};return e.mapKey({begin:n,end:i},{begin:o.begin,end:o.end})},i.toMap=function(t,n,i){var a,r,o,s={};i=i;for(a=t.length;a--;)if(r=t[a],null!=(o=r[n]))if(e.isFunction(i)){var l=i(r);s[l.key]=l.value}else e.isString(i)?s[o]=r[i]:s[o]=r;return s},i.genListLink=function(t){var n={href:(t=e.defaults(t,{className:"list-operation"})).url,"class":t.className};return t.target&&"_self"!==t.target.toLowerCase()&&(n.target=t.target),"<a "+(n=e.map(n,function(t,n){return n+'="'+e.escape(t)+'"'})).join(" ")+">"+e.escape(t.text)+"</a>"},i.genListCommand=function(t){var n={"class":(t=e.defaults(t,{tagName:"span",className:"list-operation"})).className,"data-command":t.type};null!=t.args&&(n["data-command-args"]=t.args),n=e.map(n,function(t,n){return n+'="'+e.escape(t)+'"'});var i=e.escape(t.tagName);return"<"+i+" "+n.join(" ")+">"+e.escape(t.text)+"</"+i+">"},i.genListOperations=function(t,n){n=n||{};return e.map(t,function(e){return e.url?i.genListLink(e):i.genListCommand(e)}).join(n.separator||'<span class="list-operation-separator">|</span>')},i.download=function(e){var t="__DownloadContainer__",n=['<form action="${url}" method="post" id="${formId}" ','name="${formId}" target="${iframeId}"></form>','<iframe src="about:blank" id="${iframeId}" name="${iframeId}">',"</iframe>"].join(""),i=function(){var e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e.style.display="none",document.body.appendChild(e)),e}(),a=require("etpl").compile(n);i.innerHTML=a({url:function(){var t=require("urijs"),n=require("./system/user"),i=n.ader&&n.ader.id||t.parseQuery(document.location.search).aderId,a=i?{aderId:i}:{};return t(e).addQuery(a).toString()}(),formId:"__DownloadForm__",iframeId:"__DownloadIframe__"}),document.getElementById("__DownloadForm__").submit()},i}),define("inf-i18n/config",["exports","module"],function(exports,module){module.exports={defaultLanguage:"zh-cn",supportedLanguage:["zh-cn","en-us"],downgradeDefault:{en:"en-us",zh:"zh-cn"},sourceType:"json",url:""}}),define("inf-i18n/main",["exports","module","underscore","babel-runtime/helpers/interop-require-default","promise","./util","./config","./requester"],function(exports,module,e,t,n,i,a,r){function o(e){var t=e;if("object"==typeof CONSOLE_LOCALE)t=CONSOLE_LOCALE[e]||e;else{t=(o.getDatasource()||{})[e]||e}for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return u["default"].format.apply(u["default"],[t].concat(i))}var s=t["default"](e),l=t["default"](n),u=t["default"](i),d=t["default"](a),c=t["default"](r),f=navigator.language||navigator.userLanguage?navigator.language||navigator.userLanguage:navigator.languages&&navigator.languages[0]?navigator.languages[0]:"zh-cn",p=f?u["default"].determineLanguage(f.toLowerCase()):d["default"].defaultLanguage;o.activate=function(){var e=arguments.length<=0||arguments[0]===undefined?p:arguments[0];return o.setLanguage(e)},o.setLanguage=function(e){var t=e.toLowerCase();return p=u["default"].determineLanguage(t)||p,"object"==typeof CONSOLE_LOCALE?l["default"].resolve():o.load().then(function(e){return o.setDatasource(e)})},o.getLanguage=function(){return p},o.load=function(){var e=!(arguments.length<=0||arguments[0]===undefined)&&arguments[0];if(p===d["default"].defaultLanguage)return l["default"].resolve();var t=o.getDatasource();if(!e&&t)return l["default"].resolve(t);var n=c["default"][d["default"].sourceType];return n?n(u["default"].format(d["default"].url,p)):l["default"].resolve()};var h={};o.setDatasource=function(e){h[p]=s["default"].extend({},h[p],e)},o.getDatasource=function(){return h[p]},module.exports=o}),define("inf-i18n",["inf-i18n/main"],function(e){return e}),define("inf-i18n/requester",["exports","module","promise","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e),i={};i.json=function(e){return new n["default"](function(t,n){var i=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){if(4===i.readyState){if(i.status<200||i.status>=300&&304!==i.status)return void t();var e=i.responseText;try{e=JSON.parse(e),t(e)}catch(n){t()}}},i.open("GET",e,!0),i.send()})},i.amd=function(e){return new n["default"](function(t,n){return window.require([e],t)})},module.exports=i}),define("inf-i18n/util",["exports","module","underscore","babel-runtime/helpers/interop-require-default","./config"],function(exports,module,e,t,n){var i=t["default"](e),a=t["default"](n);module.exports={format:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n||!n.length)return e;var a=0;return e.replace(/%s/g,function(e){return a<n.length?n[a++]:e})},determineLanguage:function(e){return i["default"].indexOf(a["default"].supportedLanguage,e)>-1?e:(e=e.split("-")[0],a["default"].downgradeDefault[e]?a["default"].downgradeDefault[e]:a["default"].defaultLanguage)}}}),define("axios/main",["exports","module"],function(exports,module){var e=null;module.exports={post:function(t,n,i){if("function"==typeof e)return e(t,n,i)},setPostRequester:function(t){e=t}}}),define("axios",["axios/main"],function(e){return e}),define("san-xui/index",["exports","./x/components/ACEEditor","babel-runtime/helpers/interop-require","./x/components/AlertDialog","./x/components/BosUploader","./x/components/BoxGroup","./x/components/Breadcrumbs","./x/components/Button","./x/components/ButtonMenu","./x/components/BuyBucket","./x/components/CKEditor","./x/components/Calendar","./x/components/Chart","./x/components/CheckBox","./x/components/Clipboard","./x/components/ConfirmDialog","./x/components/Dialog","./x/components/Dragger","./x/components/Filter","./x/components/FrozenColumnTable","./x/components/Ghost","./x/components/Go","./x/components/Icon","./x/components/InfiniteScroll","./x/components/InstantEditor","./x/components/Layer","./x/components/Loading","./x/components/LongList","./x/components/MonthView","./x/components/MultiPicker","./x/components/NumberTextline","./x/components/Pager","./x/components/PlainDialog","./x/components/Progress","./x/components/RadioBox","./x/components/RadioSelect","./x/components/RangeCalendar","./x/components/Region","./x/components/RichTextEditor","./x/components/SMSCodeBox","./x/components/ScrollIntoView","./x/components/SearchBox","./x/components/Select","./x/components/StopScroll","./x/components/Switch","./x/components/Sticky","./x/components/SyntaxHighlighter","./x/components/Tab","./x/components/TabPanel","./x/components/Table","./x/components/TableColumnToggle","./x/components/TableFilter","./x/components/TextBox","./x/components/YearMonthSelect","./x/components/Tip","./x/components/Toast","./x/components/ToastLabel","./x/components/Tree","./x/components/UserPicker","./x/components/ViewStep","./x/components/Voice","./x/components/WebUploader","./x/components/asDrawer","./x/forms/Uploader","./x/components/Row","./x/components/util","./x/components/helper","./x/components/asInput","./x/components/asTable","./x/components/asDialog","./x/forms/asForm","./x/forms/createForm","./x/forms/FormDialog","./x/forms/Form","./x/forms/FormItem","./x/components/BucketSelect","./x/components/notification/index","./x/components/Suggestion"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c,f,p,h,v,m,g,x,y,b,w,C,T,k,_,S,I,D,E,P,A,M,O,N,L,R,B,$,q,F,j,H,V,z,U,W,Y,G,Z,X,Q,K,J,ee,te,ne,ie,ae,re,oe,se,le,ue,de,ce,fe,pe,he,ve,me,ge,xe,ye,be,we,Ce){exports.__esModule=!0,exports.ACEEditor=t["default"](e),exports.AlertDialog=t["default"](n),exports.BosUploader=t["default"](i),exports.BoxGroup=t["default"](a),exports.Breadcrumbs=t["default"](r),exports.Button=t["default"](o),exports.ButtonMenu=t["default"](s),exports.BuyBucket=t["default"](l),exports.CKEditor=t["default"](u),exports.Calendar=t["default"](d),exports.Chart=t["default"](c),exports.CheckBox=t["default"](f),exports.Clipboard=t["default"](p),exports.ConfirmDialog=t["default"](h),exports.Dialog=t["default"](v),exports.Dragger=t["default"](m),exports.Filter=t["default"](g),exports.FrozenColumnTable=t["default"](x),exports.Ghost=t["default"](y),exports.Go=t["default"](b),exports.Icon=t["default"](w),exports.InfiniteScroll=t["default"](C),exports.InstantEditor=t["default"](T),exports.Layer=t["default"](k),exports.Loading=t["default"](_),exports.LongList=t["default"](S),exports.MonthView=t["default"](I),exports.MultiPicker=t["default"](D),exports.NumberTextline=t["default"](E),exports.Pager=t["default"](P),exports.PlainDialog=t["default"](A),exports.Progress=t["default"](M),exports.RadioBox=t["default"](O),exports.RadioSelect=t["default"](N),exports.RangeCalendar=t["default"](L),exports.Region=t["default"](R),exports.RichTextEditor=t["default"](B),exports.SMSCodeBox=t["default"]($),exports.ScrollIntoView=t["default"](q),exports.SearchBox=t["default"](F),exports.Select=t["default"](j),exports.StopScroll=t["default"](H),exports.Switch=t["default"](V),exports.Sticky=t["default"](z),exports.SyntaxHighlighter=t["default"](U),exports.Tab=t["default"](W),exports.TabPanel=t["default"](Y),exports.Table=t["default"](G),exports.TableColumnToggle=t["default"](Z),exports.TableFilter=t["default"](X),exports.TextBox=t["default"](Q),exports.YearMonthSelect=t["default"](K),exports.Tip=t["default"](J),exports.Toast=t["default"](ee),exports.ToastLabel=t["default"](te),exports.Tree=t["default"](ne),exports.UserPicker=t["default"](ie),exports.ViewStep=t["default"](ae),exports.Voice=t["default"](re),exports.WebUploader=t["default"](oe),exports.asDrawer=t["default"](se),exports.Uploader=t["default"](le),exports.Row=t["default"](ue),exports.create=de.create,exports.html=de.html,exports.hasSlot=de.hasSlot,exports.nexUuid=de.nexUuid,exports.nextZindex=de.nextZindex,exports.hasUnit=de.hasUnit,exports.confirm=ce.confirm,exports.alert=ce.alert,exports.plain=ce.plain,exports.asInput=fe.asInput,exports.asTable=pe.asTable,exports.asDialog=he.asDialog,exports.asForm=ve.asForm,exports.registerFormItem=ve.registerFormItem,exports.createForm=me.createForm,exports.FormDialog=t["default"](ge),exports.Form=t["default"](xe),exports.FormItem=t["default"](ye),exports.BucketSelect=t["default"](be),exports.notification=t["default"](we),exports.Suggestion=t["default"](Ce)}),define("san-xui",["san-xui/index"],function(e){return e}),define("san-xui/x/AppExplorer",["exports","module","san","./components/Loading","babel-runtime/helpers/interop-require-default","./components/SyntaxHighlighter","./demos/Section","./demos/DataTypeExplorer"],function(exports,module,e,t,n,i,a,r){var o=n["default"](t),s=n["default"](i),l=n["default"](a),u=n["default"](r);module.exports=e.defineComponent({template:'<div class="app-explorer">\n    <div class="error" s-if="error">{{error}}</div>\n    <x-section label="{{title}}" s-if="title">\n        <ui-loading s-if="loading" />\n        <div s-ref="ghost"></div>\n    </x-section>\n    <x-section label="DataTypes" open>\n        <x-datatype-explorer key="{{title}}" code="{{code}}" />\n    </x-section>\n    <x-section label="Source Code" s-if="code" open="{=open=}">\n        <ui-hljs code="{{code}}" />\n    </x-section>\n</div>',components:{"ui-loading":o["default"],"ui-hljs":s["default"],"x-datatype-explorer":u["default"],"x-section":l["default"]},initData:function(){return{comp:null,open:!1}},inited:function(){var e=this;this.watch("comp",function(t){e.nextTick(function(){var n=e.ref("ghost");t&&n&&t.attach(n),e.data.set("open",!1)})})}})}),define("san-xui/x/Aside",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./components/SearchBox"],function(exports,module,e,t,n,i){var a=t["default"](e),r=t["default"](i);module.exports=n.defineComponent({template:'<div class="aside">\n    <div class="searchbox">\n        <ui-searchbox\n            search-btn="{{false}}"\n            value="{=keyword=}"\n            width="145"\n            placeholder="请输入关键字" />\n    </div>\n    <dl s-for="block, i in filteredBlocks">\n        <dt>{{block.title}}</dt>\n        <dd s-if="!block.collapse">\n            <ul>\n                <li on-click="onClick(item)"\n                    class="{{item === activedItem ? \'selected\' : item.disabled ? \'disabled\' : \'\'}}"\n                    s-for="item in block.items">{{item.text}}</li>\n            </ul>\n        </dd>\n    </dl>\n</div>',components:{"ui-searchbox":r["default"]},initData:function(){return{activedItem:null,keyword:"",blocks:[]}},computed:{filteredBlocks:function(){var e=this.data.get("keyword"),t=this.data.get("blocks"),n=[];return a["default"].each(t,function(t){var i=[];a["default"].each(t.items,function(t){-1!==t.text.indexOf(e)&&i.push(t)}),i.length&&n.push({title:t.title,items:i})}),n}},toggleItems:function(e){var t="blocks["+e+"].collapse",n=this.data.get(t);this.data.set(t,!n)},getItemByText:function(e){for(var t=this.data.get("blocks"),n=0;n<t.length;n++)for(var i=t[n].items,a=0;a<i.length;a++){var r=i[a];if(r.text===e)return r}return t[0].items[0]},activeItemByText:function(e){var t=this.getItemByText(e);this.onClick(t)},inited:function(){var e=this;this.watch("selectedItemText",function(t){return e.activeItemByText(t)})},attached:function(){this.activeItemByText(this.data.get("selectedItemText"))},onClick:function(e){var t=this.data.get("activedItem");e.disabled||e===t||(this.data.set("activedItem",e),this.fire("item-selected",e))}})}),define("san-xui/x/components/ACEEditor",["exports","module","san","./util","./helper","./Loading","babel-runtime/helpers/interop-require-default","./asInput"],function(exports,module,e,t,n,i,a,r){var o=a["default"](i),s=t.create("ui-aceeditor"),l="function"==typeof window.require?window.require.toUrl("ace-builds/ace.js").replace(/\?.*/,""):"https://bce.bdstatic.com/ace-builds/src-min-noconflict/ace.js",u='\n<div class="{{mainClass}}">\n    <div class="'+s("error")+'" s-if="error">{{error}}</div>\n    <ui-loading s-if="loading" />\n    <div s-else s-ref="ghost" style="{{mainStyle}}"></div>\n</div>',d=e.defineComponent({template:u,components:{"ui-loading":o["default"]},initData:function(){return{loading:!0,theme:null,mode:null,readonly:!1,width:"100%",height:300,value:null}},dataTypes:{value:e.DataTypes.string,theme:e.DataTypes.string,mode:e.DataTypes.string,readonly:e.DataTypes.bool,width:e.DataTypes.string,height:e.DataTypes.number},computed:{mainStyle:function(){var e=this.data.get("loading"),t=s.mainStyle(this);return t.display=e?"none":"block",t},mainClass:function(){return s.mainClass(this)}},inited:function(){var e=this;this.watch("value",function(t){if(e.editor){e.editor.getValue()!==t&&e.editor.setValue(t,1)}})},attached:function(){var e=this;n.loadThirdParty("ace",[n.js(l)]).then(function(t){e.data.set("loading",!1),e.nextTick(function(){var n=e.ref("ghost");if(n){var i=e.editor=t.edit(n);i.on("change",function(t){e.data.set("value",i.getValue()),e.fire("input")});var a=e.data.get(),r=a.theme,o=a.mode,s=a.readonly,l=a.value;null!=r&&i.setTheme(r),null!=o&&i.getSession().setMode(o),null!=s&&i.setReadOnly(s),null!=l&&i.setValue(l,1)}else e.data.set("error",new Error("ACEEditor初始化失败."))})})},disposed:function(){this.editor&&this.editor.destroy()}});module.exports=r.asInput(d)}),define("san-xui/x/components/ActionLoader",["exports","module","inf-ui/x/components/ActionLoader","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("san-xui/x/components/AlertDialog",["exports","module","san","./Dialog","babel-runtime/helpers/interop-require-default","./Button"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i);module.exports=e.defineComponent({template:'<template>\n    <ui-dialog open="{=open=}" skin="alert" width="{{width}}" s-ref="dialog" on-close="onCloseDialog">\n        <span slot="head">{{title}}</span>\n        <div class="ui-dialog-icon ui-dialog-icon-warning"></div>\n        <div class="ui-dialog-text">{{message | raw}}</div>\n        <div slot="foot">\n            <ui-button on-click="onConfirmDialog" skin="primary">{{foot.okBtn.label || \'确定\'}}</ui-button>\n        </div>\n    </ui-dialog>\n    </template>',components:{"ui-button":r["default"],"ui-dialog":a["default"]},initData:function(){return{open:!0,width:500,title:"确认",foot:{okBtn:{label:"确定"}}}},onConfirmDialog:function(){this.fire("confirm"),this.data.set("open",!1)},onCloseDialog:function(){this.fire("close"),this.data.set("open",!1)}})}),define("san-xui/x/components/asDialog",["exports","lodash","babel-runtime/helpers/interop-require-default","san","./Dialog","./Button"],function(exports,e,t,n,i,a){exports.__esModule=!0,exports.asDialog=function(e){if(e.__dialogComponent)return e.__dialogComponent;var t=r["default"].keys(e.dataTypes||e.prototype.dataTypes||{}),i=t.length<=0?'<x-biz payload="{{payload}}" />':"<x-biz "+r["default"].map(t,function(e){return e+'="{{payload.'+e+'}}"'}).join(" ")+" />",a=n.defineComponent({template:'<template>\n        <ui-dialog open="{{open}}" width="{{width}}" s-ref="dialog" foot="{{!!foot}}">\n            <span slot="head">{{title}}</span>\n            '+i+'\n            <div slot="foot" s-if="foot">\n                <ui-button on-click="onConfirmDialog" skin="primary">{{foot.okBtn.label || \'确定\'}}</ui-button>\n            </div>\n        </ui-dialog>\n        </template>',components:{"x-biz":e,"ui-button":s["default"],"ui-dialog":o["default"]},initData:function(){return{open:!0,title:"确认",payload:null}},inited:function(){this.data.get("foot")===undefined&&this.data.set("foot",{okBtn:{label:"确定"}})},messages:{resize:function(){this.ref("dialog").__resize()}},onConfirmDialog:function(){this.fire("confirm"),this.data.set("open",!1)}});return e.__dialogComponent=a,a};var r=t["default"](e),o=t["default"](i),s=t["default"](a)}),define("san-xui/x/components/asDrawer",["exports","module","lodash","babel-runtime/helpers/interop-require-default","jquery","san","./util"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=t["default"](n),s=a.create("ui-drawer");module.exports=function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(e.__drawerComponent)return e.__drawerComponent;var n=i.defineComponent({_isSuppressing:!1,_suppressHandler:r["default"].debounce(function(){this._isSuppressing=!1},10),template:'\n            <div class="{{mainClass}}" style="{{mainStyle}}" on-click="suppressHide">\n                <div class="'+s("header")+'" s-if="hasHeader">\n                    <slot name="header">{{title}}</slot>\n                </div>\n                <div class="'+s("body")+'" style="{{bodyStyle}}">\n                    <slot>\n                        <x-biz payload="{{payload}}" />\n                    </slot>\n                </div>\n                <div class="iconfont icon-close '+s("close")+'" on-click="hide"></div>\n            </div>\n        ',dataTypes:{top:i.DataTypes.string,width:i.DataTypes.string,height:i.DataTypes.string,payload:i.DataTypes.any,expand:i.DataTypes.bool,expandTo:i.DataTypes.string,title:i.DataTypes.string},components:{"x-biz":e},computed:{mainClass:function(){var e=this.data.get("loading"),t=s.mainClass(this);return e&&t.push(s("loading")),t},mainStyle:function(){var e,t=this.data.get("expand"),n=this.data.get("top"),i=this.data.get("width"),r=this.data.get("height"),s=this.data.get("expandTo"),l=(e={},e[s]=t?0:"-"+i,e.transition=s+" 0.5s",e["z-index"]=a.nextZindex(),e);return"left"===s||"right"===s?(l.top=n,l.height=o["default"](window).height()-parseInt(n,10)+"px",l.width=i):(l.width="100%",l.height=r),l},bodyStyle:function(){var e=this.data.get("mainStyle"),t={},n=this.data.get("hasHeader")?90:0;return t.height=parseInt(e.height,10)-n+"px",t}},messages:{loading:function(e){this.data.set("loading",e.value)},show:function(e){this.show(e.value)},hide:function(){this.hide()},"ui-layer:click":function(){this.suppressHide()}},initData:function(){return r["default"].defaults(t,{top:"0",width:"400px",height:"400px",expand:!1,expandTo:"right"})},suppressHide:function(){this._isSuppressing=!0,this._suppressHandler()},hide:function(){var e=this;arguments.length<=0||arguments[0]===undefined||!arguments[0]?this.nextTick(function(){e._isSuppressing||e.data.set("expand",!1)}):this.data.set("expand",!1)},show:function(e){this.data.set("expand",!0),this.data.set("payload",e)},updated:function(){this.suppressHide()},inited:function(){var e=this.data.get("title"),t="header"in(this.givenSlots||this.sourceSlots).named||!!e;this.data.set("hasHeader",t)},attached:function(){var e=this;o["default"]("body").bind("click.closeDrawer",function(){return e.hide()})},disposed:function(){o["default"]("body").unbind("click.closeDrawer")}});return e.__drawerComponent=n,n}}),define("san-xui/x/components/asInput",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check"],function(exports,e,t){exports.__esModule=!0,exports.asInput=function(n){return function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.fire=function(e,t){var i=this;n.prototype.fire.call(this,e,t),("change"===e&&null!=t.value||"input"===e)&&this.nextTick(function(){var e=i.data.get("value");i.dispatch("input-comp-value-changed",{value:e})})},i}(n)}}),define("san-xui/x/components/asTable",["exports","lodash","babel-runtime/helpers/interop-require-default","jquery","inf-i18n","san","./util","./Loading","./TableFilter","./Tip"],function(exports,e,t,n,i,a,r,o,s,l){function u(e){return!e||e.length<=0}function d(e,t){return'\n    <th class="{{tableColumns['+t+'] | hcellClass}}"\n        style="{{tableColumns['+t+'] | cellStyle}}">\n        <div class="'+x("hcell-text")+'">\n            <slot\n                name="h-'+e.name+'"\n                var-col="tableColumns['+t+']"\n            >\n                <div s-if="col.sortable" class="'+x("hcell-text-content")+'" on-click="onSort(col, '+t+')">\n                    {{col.label}}\n                    <div class="'+x("hsort")+'"></div>\n                </div>\n                <div s-else class="'+x("hcell-text-content")+'">{{col.label}}</div>\n                <ui-table-filter\n                    s-if="col.filter"\n                    on-change="onFilter($event, col)"\n                    options="{{col.filter.options}}"\n                    klass="{{col.filter.klass}}"\n                    track-id="{{trackId}}:filter"\n                    track-name="{{trackName}}:过滤"\n                />\n            </slot>\n        </div>\n    </th>\n    '}function c(e,t){return'\n    <td class="{{tableColumns['+t+'] | cellClass}}"\n        style="{{tableColumns['+t+'] | cellStyle}}">\n        <div class="'+x("cell-text")+'">\n            <slot\n                name="c-'+e.name+'"\n                var-row="item"\n                var-rowIndex="rowIndex"\n                var-col="tableColumns['+t+']"\n                var-colIndex="{{'+t+'}}"\n            >\n                {{row | tableCell(col.name, col, rowIndex, colIndex) | raw}}\n                <a s-if="col.editcmd || col.editable"\n                    data-command="{{col.editcmd || \'EDIT\'}}"\n                    class="'+x("cell-editentry")+'"\n                    href="javascript:void(0)"><i class="iconfont icon-edit"></i></a>\n            </slot>\n        </div>\n    </td>\n    '}exports.__esModule=!0,exports.asTable=function(e){var t=u(e)?b:f["default"].map(e,c).join("\n"),n=u(e)?y:f["default"].map(e,d).join("\n"),i='<div class="{{mainClass}}" style="{{mainStyle}}" on-scroll="onScroll($event)"\n        data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n        <table cellpadding="0" cellspacing="0" width="{{tableWidth}}">\n            <thead class="'+x("head")+'" s-if="!hiddenThead">\n                <tr>\n                    <th class="'+x("hcell","hcell-sel")+'" s-if="select === \'multi\'">\n                        <div class="'+x("hcell-text")+'">\n                            <input disabled="{{disabledSelectAll || loading}}"\n                                checked="{=selectAll=}"\n                                on-click="onSelectAllClicked($event)"\n                                type="checkbox"\n                                value="all"\n                                class="'+x("select-all")+'" />\n                        </div>\n                    </th>\n                    <th class="'+x("hcell","hcell-sel")+'" s-if="select === \'single\'">\n                        {{selectText}}\n                    </th>\n                    <th class="'+x("hcell","hcell-sel")+'" s-if="hasSubrow">\n                    </th>\n                    '+n+'\n                </tr>\n            </thead>\n            <tbody class="'+x("body")+'">\n                <tr s-if="error">\n                    <td colSpan="{{columnCount}}" class="'+x("error")+'">\n                        <slot name="error">{{error | raw}}</slot>\n                    </td>\n                </tr>\n                <tr s-elif="!loading && !datasource.length">\n                    <td colSpan="{{columnCount}}" class="'+x("empty")+'">\n                        <slot name="empty">{{emptyText}}</slot>\n                    </td>\n                </tr>\n                <template s-else s-for="item, rowIndex in datasource">\n                <tr class="{{item | rowClass(rowIndex)}}"\n                    on-mouseenter="onEnterRow(item, rowIndex)"\n                    on-mouseleave="onLeaveRow(item, rowIndex)"\n                    data-row-index="{{rowIndex}}">\n                    <td class="'+x("cell","cell-sel")+'" s-if="select === \'multi\'">\n                        <div class="'+x("cell-text","cell-sel")+'">\n                            <ui-tip s-if="{{item.tip}}"\n                                message="{{item.tip}}"\n                                width="{{item.tipWidth}}"\n                                position="tc"\n                                inComponent="true"\n                                track-id="{{trackId}}:tip"\n                                track-name="{{trackName}}:提示">\n                                <input disabled="{=item.xui__disabled=}"\n                                    checked="{=selectedIndex=}"\n                                    type="checkbox"\n                                    value="{{rowIndex}}"\n                                    class="'+x("multi-select")+'" />\n                            </ui-tip>\n                            <input s-else\n                                disabled="{=item.xui__disabled=}"\n                                checked="{=selectedIndex=}"\n                                type="checkbox"\n                                value="{{rowIndex}}"\n                                class="'+x("multi-select")+'" />\n                        </div>\n                    </td>\n                    <td class="'+x("cell","cell-sel")+'" s-if="select === \'single\'">\n                        <div class="'+x("cell-text","cell-sel")+'">\n                            <ui-tip s-if="{{item.tip}}"\n                                message="{{item.tip}}"\n                                width="{{item.tipWidth}}"\n                                position="tc"\n                                inComponent="true"\n                                track-id="{{trackId}}:tip"\n                                track-name="{{trackName}}:提示">\n                                <input\n                                    type="radio"\n                                    disabled="{=item.xui__disabled=}"\n                                    checked="{=selectedIndex=}"\n                                    value="{{rowIndex}}"\n                                    name="{{radioName}}"\n                                    class="'+x("single-select")+'" />\n                            </ui-tip>\n                            <input s-else\n                                type="radio"\n                                disabled="{=item.xui__disabled=}"\n                                checked="{=selectedIndex=}"\n                                value="{{rowIndex}}"\n                                name="{{radioName}}"\n                                class="'+x("single-select")+'" />\n                        </div>\n                    </td>\n                    <td class="'+x("cell","cell-sel")+'" s-if="hasSubrow">\n                        <div class="'+x("cell-text","cell-sel")+'">\n                            <label s-if="!(noSubrow && item.noSubrow)" class="'+x("subrow-label")+" {{item.xui__expanded ? 'open' : 'close'}} iconfont icon-downarrow\"\n                                on-click=\"toggleSubrow(rowIndex)\"></label>\n                        </div>\n                    </td>\n                    "+t+'\n                </tr>\n                <tr s-if="item.xui__expanded">\n                    <td colspan="{{columnCount}}">\n                        <div class="'+x("subrow-wrapper")+'">\n                            <slot\n                                name="sub-{{item.name}}"\n                                var-row="item"\n                                var-subrow="item.subrow"\n                                var-rowIndex="rowIndex"\n                            >\n                                {{row | raw}}\n                            </slot>\n                        </div>\n                    </td>\n                </tr>\n                </template>\n            </tbody>\n        </table>\n        <div class="'+x("loading")+'" s-if="loading"><slot name="loading"><ui-loading /></slot></div>\n    </div>';return a.defineComponent({template:i,components:{"ui-table-filter":m["default"],"ui-loading":v["default"],"ui-tip":g["default"]},computed:{mainStyle:function(){return x.mainStyle(this)},mainClass:function(){var e=x.mainClass(this);return this.data.get("loading")&&e.push(x("state-loading")),e},tableColumns:function(){var e=this.data.get("schema"),t=f["default"].filter(e,function(e){return!e.xui__hidden});return t},columnCount:function(){var e=this.data.get("tableColumns"),t=this.data.get("select"),n=this.data.get("hasSubrow");return e.length+(/^(multi|single)$/.test(t)?1:0)+(n?1:0)},selectAll:function(){if("multi"!==this.data.get("select"))return[];var e=this.data.get("loading"),t=this.data.get("error"),n=this.data.get("selectedIndex"),i=this.data.get("datasource");if(e||t||!i||0===i.length||i.length<n.length)return[];var a=f["default"].filter(i,function(e){return!e.xui__disabled}),r=f["default"].filter(n,function(e){return i[e]&&!i[e].xui__disabled});return r&&r.length>0&&r.length===a.length?["all"]:[]},selectedItems:function(){var e=this.data.get("datasource"),t=this.data.get("selectedIndex"),n=f["default"]([].concat(t)).map(function(t){return e[t]}).compact().value();return n}},filters:{rowClass:function(e,t){var n=[x("row")];return e.klassName&&n.push(x(""+e.klassName)),n.push(x(t%2==0?"row-even":"row-odd")),n},cellStyle:function(e){var t={};return null!=e.width&&(t.width=r.hasUnit(e.width)?e.width:e.width+"px"),t},cellClass:function(e){return[x("cell")]},hcellClass:function(e){var t=[x("hcell")];return e.sortable&&(t.push(x("hcell-sort")),e.order&&t.push(x("hcell-"+e.order))),e.labelClassName&&t.push(e.labelClassName),t},tableCell:function(e,t,n,i,a){var r=this.data.get("cellBuilder");return"function"==typeof r?r.call(this,e,t,n,i,a):e[t]}},initData:function(){return{schema:[],datasource:[],selectedIndex:[],expandedIndex:[],cellBuilder:null,tableWidth:"100%",select:"none",selectText:"",disabledSelectAll:!1,radioName:"e"+r.nextZindex(),loading:!1,emptyText:h["default"]("暂无数据"),hasSubrow:!1,noSubrow:!1,error:null}},dispatchEvent:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];switch(e){case"selected":var n=this.data.get(),i=n.selectedIndex,a=n.selectedItems;this.fire("selected-change",p["default"].extend({selectedIndex:[].concat(i),selectedItems:a},t));break;case"subrow-expand":this.fire("subrow-expand",t);break;case"subrow-collapse":this.fire("subrow-collapse",t)}},onSelectAllClicked:function(e){var t=this,n=e.target.checked,i=this.data.get("datasource"),a=[];i.length>0&&function(){var e=t.data.get("selectedIndex"),r=f["default"].filter(e,function(e){return i[e].xui__disabled});n?(a=f["default"].range(0,i.length),a=f["default"].filter(a,function(e){return!i[e].xui__disabled||f["default"].includes(r,e.toString())})):a=r}(),this.data.set("selectedIndex",f["default"].map(a,String))},inited:function(){var e=this,t=this.data.get("selectedIndex");t&&t.length&&"string"!=typeof t&&this.data.set("selectedIndex",f["default"].map(t,String)),this.watch("selectedIndex",function(){return e.dispatchEvent("selected")}),this.watch("expandedIndex",function(t){var n=e.data.get("datasource");t=f["default"].uniq(t),f["default"].forEach(n,function(t,n){return e.data.set("datasource["+n+"].xui__expanded",!1)}),f["default"].forEach(t,function(t){return e.data.set("datasource["+t+"].xui__expanded",!0)})})},onEnterRow:function(e,t){this.fire("row-enter",{rowIndex:t})},onLeaveRow:function(e,t){this.fire("row-leave",{rowIndex:t})},onFilter:function(e,t){var n,i=t.name,a=e.value;this.fire("filter",(n={},n[i]=a,n.filter=e,n.field=t,n))},onScroll:function(e){this.fire("scroll",e)},onSort:function(e,t){if(!this.data.get("loading")){var n=e.name,i="desc"===this.data.get("schema["+t+"].order")?"asc":"desc";this.data.set("schema["+t+"].order",i),this.fire("sort",{orderBy:n,order:i})}},toggleSubrow:function(e){this.data.get("datasource["+e+"].xui__expanded")?(this.data.remove("expandedIndex",e),this.dispatchEvent("subrow-collapse",{rowIndex:e})):(this.data.push("expandedIndex",e),this.dispatchEvent("subrow-expand",{rowIndex:e}))},attached:function(){var e=this,t=this.data.get("selectedIndex"),n=this.data.get("expandedIndex"),i=this.data.get("datasource");t&&t.length&&this.dispatchEvent("selected"),n&&n.length&&i.length&&f["default"].forEach(n,function(t){return e.data.set("datasource["+t+"].xui__expanded",!0)}),p["default"](this.el).on("click","a[data-command]",function(t){var n=p["default"](t.currentTarget).data("command");if(n){var i=p["default"](t.target).parents("tr").data("rowIndex"),a=e.data.get("datasource["+i+"]");i++,a&&e.fire("command",{type:n,payload:a,rowIndex:i,domEvent:t})}})},disposed:function(){p["default"](this.el).off("click")}})};var f=t["default"](e),p=t["default"](n),h=t["default"](i),v=t["default"](o),m=t["default"](s),g=t["default"](l),x=r.create("ui-table"),y='\n<th class="{{col | hcellClass}}" style="{{col | cellStyle}}" s-for="col, colIndex in tableColumns">\n    <div class="'+x("hcell-text")+'">\n        <slot\n            name="h-{{col.name}}"\n            var-col="{{col}}"\n            var-colIndex="{{colIndex}}"\n        >\n            <div s-if="col.sortable" class="'+x("hcell-text-content")+'" on-click="onSort(col, colIndex)">\n                {{col.label}}\n                <div class="'+x("hsort")+'"></div>\n            </div>\n            <div s-else class="'+x("hcell-text-content")+'">{{col.label}}</div>\n            <ui-table-filter\n                s-if="col.filter"\n                on-change="onFilter($event, col)"\n                options="{{col.filter.options}}"\n                klass="{{col.filter.klass}}"\n                track-id="{{trackId}}:filter"\n                track-name="{{trackName}}:过滤"\n            />\n        </slot>\n    </div>\n</th>\n',b='\n<td class="{{col | cellClass}}"\n    style="{{col | cellStyle}}"\n    s-for="col, colIndex in tableColumns">\n    <div class="'+x("cell-text")+'">\n        <slot\n            name="c-{{col.name}}"\n            var-row="item"\n            var-rowIndex="rowIndex"\n            var-col="{{col}}"\n            var-colIndex="{{colIndex}}"\n        >\n            {{item | tableCell(col.name, col, rowIndex, colIndex) | raw}}\n            <a s-if="col.editcmd || col.editable"\n                data-command="{{col.editcmd || \'EDIT\'}}"\n                class="'+x("cell-editentry")+'"\n                href="javascript:void(0)"><i class="iconfont icon-edit"></i></a>\n        </slot>\n    </div>\n</td>\n'}),define("san-xui/x/components/BcmChart",["exports","module","inf-ui/x/components/BcmChart","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("san-xui/x/components/BosUploader",["exports","module","jquery","babel-runtime/helpers/interop-require-default","humanize","san","./util","./helper","./Button"],function(exports,module,e,t,n,i,a,r,o){var s,l=t["default"](e),u=t["default"](n),d=t["default"](o),c=a.create("ui-bos-uploader"),f="pending",p="uploading",h="upload-success",v="upload-error",m=(s={},s[f]="等待上传",s[p]="上传中",s[h]="上传成功",s[v]="上传失败",s);window.$=l["default"];var g='<div class="{{mainClass}}">\n    <div class="'+c("error")+'" s-if="error">{{error}}</div>\n    <div s-else>\n        <ui-button disabled="{{disabled}}" s-ref="btn">{{label}}</ui-button>\n        <ui-button icon="paddle-upload"\n            s-if="!autoStart"\n            on-click="startUpload"\n            disabled="{{startDisabled}}"\n            class="'+c("start-btn")+'"\n            skin="primary">开始上传</ui-button>\n        <div class="'+c("speed-info")+'" s-if="withSpeedInfo && speedInfo">{{speedInfo | raw}}</div>\n        <slot name="tip" class="'+c("tip")+'"></slot>\n        <div class="'+c("list")+'" s-if="files.length">\n            <slot name="preview" var-files="files">\n                <table border="1" cellpadding="0" cellspacing="0">\n                    <thead>\n                        <tr>\n                            <th class="'+c("col-no")+'">序号</th>\n                            <th class="'+c("col-name")+'">名称</th>\n                            <th class="'+c("col-status")+'">状态</th>\n                            <th class="'+c("col-progress")+'">进度</th>\n                            <th class="'+c("col-size")+'">大小</th>\n                            <th class="'+c("col-time")+'">耗时</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr s-for="f, i in files">\n                            <td>#{{i}}</td>\n                            <td><div title="{{f.name}}">{{f.name}}</div></td>\n                            <td>{{f.status | status}}</td>\n                            <td>{{f.progress}}</td>\n                            <td>{{f.size | filesize}}</td>\n                            <td>{{f.time}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </slot>\n        </div>\n        <slot s-if="files.length" class="'+c("overview")+'" name="overview"></slot>\n    </div>\n</div>';module.exports=i.defineComponent({template:g,components:{"ui-button":d["default"]},initData:function(){return{label:"选择文件",autoStart:!1,finished:!1,multiple:!1,withSpeedInfo:!0,speedInfo:null,error:null,files:[]}},dataTypes:{label:i.DataTypes.string,autoStart:i.DataTypes.bool,disabled:i.DataTypes.bool,multiple:i.DataTypes.bool,withSpeedInfo:i.DataTypes.bool,uptokenUrl:i.DataTypes.string.isRequired,uptoken:i.DataTypes.string,ak:i.DataTypes.string,sk:i.DataTypes.string,keyCb:i.DataTypes.func,bosEndpoint:i.DataTypes.string.isRequired},computed:{startDisabled:function(){var e=this.data.get("files"),t=this.data.get("disabled"),n=this.data.get("finished");return!!(t||n||e.length<=0)},mainClass:function(){return c.mainClass(this)}},filters:{status:function(e){return'<i class="'+c("status","status-"+e)+'">'+m[e]+"</i>"},filesize:function(e){return u["default"].filesize(e)}},findById:function(e){for(var t=this.data.get("files"),n=0;n<t.length;n++)if(e===t[n].uuid)return n;return-1},initializeUploader:function(e){var t=this,n=this.data.get("autoStart"),i=this.data.get("bosEndpoint"),r=this.data.get("uptokenUrl"),o=this.data.get("ak"),s=this.data.get("sk"),d=this.data.get("uptoken");if(i&&(r||o&&s)){var c=this.ref("btn");if(c){var m=this.data.get("multiple");this.uploader=new e.bos.Uploader({browse_button:c.el,auto_start:n,multi_selection:m,bos_endpoint:i,bos_multipart_parallel:5,bos_multipart_auto_continue:!0,chunk_size:"8mb",uptoken_url:r,uptoken:d,bos_ak:o,bos_sk:s,max_retries:2,max_file_size:"50Gb",init:{FilesFilter:function(e,n){m||t.data.set("files",[])},FilesAdded:function(e,n){for(var i=0;i<n.length;i++){var r=n[i],o=a.nexUuid();r.__id=o;var s={uuid:o,name:r.name,size:r.size,status:f,progress:"0.00%",time:"-",type:r.type};t.data.push("files",s)}n.length&&t.data.set("finished",!1),t.fire("uploaderEvent",{type:"fileQueued",files:n,allFiles:t.data.get("files")})},BeforeUpload:function(e,n){var i=t.findById(n.__id);-1!==i&&(t.data.set("files["+i+"].__startTime",(new Date).getTime()),t.data.set("files["+i+"].status",p))},UploadProgress:function(e,n,i,a){var r=t.findById(n.__id);-1!==r&&t.data.set("files["+r+"].progress",(100*i).toFixed(2)+"%")},FileUploaded:function(e,n,i){var a=t.findById(n.__id);if(-1!==a){var r=t.data.get("files["+a+"]"),o=(((new Date).getTime()-r.__startTime)/1e3).toFixed(2);t.data.set("files["+a+"].time",o),t.data.set("files["+a+"].status",h),t.data.set("files["+a+"].url",i&&i.body&&i.body.location)}},NetworkSpeed:function(n,i,a,r){var o=i/(a/1e3),s="上传速度："+u["default"].filesize(o)+"/s",l=r/o;if(l>1){var d=e.utils.toDHMS(Math.ceil(l));s+="，剩余时间："+[u["default"].pad(d.HH,2,"0"),u["default"].pad(d.MM,2,"0"),u["default"].pad(d.SS,2,"0")].join(":")}t.data.set("speedInfo",s)},Aborted:function(e,n,i){var a=t.findById(i.__id);-1!==a&&t.data.set("files["+a+"].status",v)},Error:function(e,n,i){var a=t.findById(i.__id);-1!==a&&t.data.set("files["+a+"].status",v)},UploadComplete:function(){t.data.set("speedInfo",null),t.data.set("finished",!0);var e=t.data.get("files");t.fire("complete",{files:e})},Key:function(n,i){var a=t.data.get("keyCb");if("function"==typeof a)return a(i);var r=new Date,o=r.getFullYear(),s=r.getMonth()+1;s<10&&(s="0"+s);var l=r.getDate();l<10&&(l="0"+l);var u=e.sdk.Q.defer();return setTimeout(function(){var e=o+"/"+s+"/"+l+"/"+i.name;u.resolve(e)},0),u.promise}}});var g=this.data.get("disabled");if(g){var x=this.uploader.options.browse_button;l["default"](x).attr("disabled",g)}this.fire("uploaderInited")}}else this.data.set("error",new Error("初始化失败，请设置 bos-endpoint 和 uptoken-url 或者 ak && sk 属性"))},inited:function(){var e=this;this.watch("disabled",function(t){if(e.uploader){var n=e.uploader.options.browse_button;l["default"](n).attr("disabled",t)}})},attached:function(){var e=this;r.loadThirdParty("baidubce",["baidubce"]).then(function(t){return e.initializeUploader(t)})},startUpload:function(){this.uploader&&this.uploader.start()}})}),define("san-xui/x/components/BoxGroup",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./util","./asInput"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=i.create("ui-boxgroup"),s='\n<template>\n<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div class="'+o("group")+'" s-for="ds, i in groupedDatasource">\n        <label class="'+o("radio","wrapper")+'" style="{{itemStyle}}" san-for="item in ds">\n            <input san-if="boxType == \'radio\'"\n                type="radio"\n                on-change="onChange($event, item.__index)"\n                name="{{name}}"\n                disabled="{{item.disabled || disabled}}"\n                checked="{{checkedStatus[item.__index]}}"\n            />\n            <input san-else\n                type="checkbox"\n                on-change="onChange($event, item.__index)"\n                name="{{name}}"\n                disabled="{{item.disabled || disabled}}"\n                checked="{{checkedStatus[item.__index]}}"\n            />\n            <span title="{{item.title ? item.title : \'\'}}">{{item | title | raw}}</span>\n        </label>\n    </div>\n</div>\n</template>\n',l=n.defineComponent({template:s,initData:function(){return{datasource:[],disabled:!1,orientation:"horizontal",value:null,colCount:0,itemWidth:0,name:"esui"+i.nexUuid(),boxType:"radio"}},dataTypes:{disabled:n.DataTypes.bool,datasource:n.DataTypes.array,orientation:n.DataTypes.string,value:n.DataTypes.any,colCount:n.DataTypes.number,itemWidth:n.DataTypes.number,boxType:n.DataTypes.string},computed:{checkedStatus:function(){var e={},t=this.data.get("datasource"),n=this.data.get("boxType"),i=this.data.get("value");if(null!=i){"radio"!==n||r["default"].isArray(i)||(i=[i]);for(var a=0;a<i.length;a++)for(var o=0;o<t.length;o++)if(t[o].value===i[a]){e[""+o]=1;break}}return e},itemStyle:function(){var e={},t=this.data.get("itemWidth");return t>0&&(e.width=t+"px"),e},groupedDatasource:function(){var e=this.data.get("datasource"),t=this.data.get("colCount");if(!t)return[r["default"].map(e,function(e,t){return{text:e.text,title:e.title,disabled:e.disabled,__index:t}})];for(var n=e.length,i=[],a=Math.ceil(n/t),o=0;o<a;o++){for(var s=[],l=o*t,u=Math.min(n,(o+1)*t),d=l;d<u;d++){var c=e[d],f=c.text,p=c.title,h=c.disabled;s.push({text:f,title:p,disabled:h,__index:d})}i.push(s)}return i},mainClass:function(){var e=o.mainClass(this),t=this.data.get("orientation");return t&&(e.push(o(t)),e.push("state-"+t)),e}},filters:{title:function(e){return e.text||e.title}},inited:function(){var e=this,t=this.data.get(),n=t.boxType,i=t.value;""===t.disabled&&this.data.set("disabled",!0),"radio"===n&&r["default"].isArray(i)&&this.data.set("value",i[0]),"checkbox"!==n||i||this.data.set("value",[]),this.watch("value",function(t){return e.fire("change",{value:t})})},onChange:function(e,t){var n=this.data.get("boxType"),i=this.data.get("datasource")[t].value;if("radio"===n)e.target.checked&&this.data.set("value",i);else if(e.target.checked)this.data.push("value",i),this.fire("checked",{value:i});else{var a=r["default"].findIndex(this.data.get("value"),function(e){return e===i});-1!==a&&this.data.removeAt("value",a),this.fire("unchecked",{value:i})}}});module.exports=a.asInput(l)}),define("san-xui/x/components/Breadcrumbs",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-breadcrumbs"),i='<template>\n<div class="'+n()+'">\n    <div class="'+n("item")+'" san-for="item, index in items">\n        <span class="'+n("divider")+'" san-if="index > 0">/</span><span class="'+n("label")+'" >{{item.text}}</span>\n    </div>\n</div>\n</template>';module.exports=e.defineComponent({template:i,initData:function(){return{items:[]}}})}),define("san-xui/x/components/BucketSelect",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","axios","./util","./asInput","./Layer","./TextBox","./Icon"],function(exports,module,e,t,n,i,a,r,o,s,l){function u(e,t){e===undefined&&(e="");var n={bucket:"",prefix:[],file:"",urlPrefix:t},i=(e=e.replace(/\s/g,"")).split("://");i.length>1&&(n.urlPrefix=i[0]+"://");var a=function(e,t){var n=e||"";return n=n.replace(t,"")}(e,t).split("/");if(a.length>0){n.bucket=a[0],a.length>1&&(n.bucket+="/");for(var r=1;r<a.length-1;r++){for(var o="",s=1;s<=r;s++)o+=a[s]+"/";n.prefix.push(o)}a.length>1&&a[a.length-1]&&(n.file=a[a.length-1])}return n}var d=t["default"](e),c=t["default"](i),f=t["default"](o),p=t["default"](s),h=t["default"](l),v=a.create("ui-bucket-select"),m=n.defineComponent({template:'<div class="{{mainClass}}"\n    style="{{mainStyle}}"\n    on-click="toggleLayer($event)">\n    <ui-textbox\n        value="{=value=}"\n        placeholder="{{placeholder}}"\n        on-blur="onBlur($event)"\n        on-focus="onFocus($event)"\n        on-input="onInput"\n        autocomplete="off"\n        disabled="{=disabled=}" />\n    <ui-layer open="{=active=}"\n        follow-scroll="{{false}}"\n        s-ref="layer"\n        offset-top="{{layerOffsetTop}}"\n        offset-left="{{layerOffsetLeft}}">\n        <ul class="{{layerClass}}" style="{{layerStyle}}">\n            <ul class="{{listClass}}" on-scroll="loadNextPage($event)">\n                <li class="{{backItemClass}}"\n                    s-if="{{bucket && !bucketOnly && !curBucket}}"\n                    on-click="selectItem()">...</li>\n                <li class="{{item | itemClass}}"\n                    on-click="selectItem(item, index)"\n                    s-for="item, index in datasource">\n                    <span title="{{item | textContent}}">{{item | textContent}}</span>\n                </li>\n            </ul>\n            <li class="{{moreItemClass}}"\n                s-if="{{bucket && !bucketOnly && !end && !curBucket}}"\n                on-click="__loadObjectList()">{{\'加载更多\' | i18n}}</li>\n            <li class="{{createItemClass}}"\n                s-if="{{enableCreate && (!bucket || curBucket)}}"\n                on-click="onCreate">\n                <ui-icon name="plus" />{{\'新建Bucket\' | i18n}}\n            </li>\n        </ul>\n    </ui-layer>\n</div>',components:{"ui-textbox":p["default"],"ui-layer":f["default"],"ui-icon":h["default"]},initData:function(){return{datasource:[],layerWidth:null,value:"",bucket:"",prefix:[],file:"",urlPrefix:"",bucketListApi:"",folderListApi:"",fileListApi:"",locations:[],marker:"",end:!1,viewType:"folder",loading:!1,placeholder:"",enableCreate:!1}},dataTypes:{datasource:n.DataTypes.array,layerWidth:n.DataTypes.number,value:n.DataTypes.string,bucket:n.DataTypes.string,prefix:n.DataTypes.array,file:n.DataTypes.string,urlPrefix:n.DataTypes.string,bucketListApi:n.DataTypes.any,folderListApi:n.DataTypes.any,fileListApi:n.DataTypes.any,locations:n.DataTypes.array,marker:n.DataTypes.string,end:n.DataTypes.bool,viewType:n.DataTypes.string,loading:n.DataTypes.bool,placeholder:n.DataTypes.string},computed:{realLayerWidth:function(){var e=this.data.get("layerWidth"),t=this.data.get("autoLayerWidth");return e||t},layerStyle:function(){var e={},t=this.data.get("realLayerWidth");return null!=t&&(e.width=a.hasUnit(t)?t:t+"px"),e},textStyle:function(){var e={},t=this.data.get("realLayerWidth");return null!=t&&(e.width=t-60+"px"),e},mainClass:function(){var e=v.mainClass(this),t=this.data.get("active"),n=this.data.get("skin");return t&&(e.push("state-active"),e.push(v("active"))),n&&e.push(v(n)),e},layerClass:function(){var e=[v("layer"),v("layer-x")];return this.data.get("loading")&&e.push(v("layer-loading")),e},mainStyle:function(){return v.mainStyle(this)},listClass:function(){return[v("item-list")]},backItemClass:function(){return[v("back-item")]},moreItemClass:function(){return[v("more-item")]},createItemClass:function(){return[v("create-item")]},curBucket:function(){var e=this.data.get("bucket");return e&&!/\/$/.test(e)}},filters:{itemClass:function(e){var t=[v("item")];return e.selected&&t.push(v("item-selected")),t},textContent:function(e){if(!e)return"";if(!this.data.get("bucket"))return e.name;var t=e.name||e;return/\/$/.test(t)?t:t.split("/").pop()}},inited:function(){var e=this.data.get("value");if(e){var t=this.data.get("urlPrefix"),n=u(e,t);this.data.set("bucket",n.bucket),this.data.set("prefix",n.prefix),this.data.set("file",n.file),this.data.set("urlPrefix",t)}else this.data.set("value",this.data.get("urlPrefix"));this.data.set("bucketOnly","bucket"===this.data.get("viewType"))},toggleLayer:function(e){var t=this;if(!this.data.get("disabled")){var n=this.data.get("active");this.data.set("active",!n),this.nextTick(function(){return t.__setLayerWidth()})}},__setLayerWidth:function(){null==this.data.get("layerWidth")&&this.data.set("autoLayerWidth",this.el.clientWidth+2)},attached:function(){var e=this;this.__setLayerWidth();!this.data.get("bucket")||this.data.get("bucketOnly")||this.data.get("curBucket")?this.__loadBucketList():this.__loadObjectList(),this.watch("value",d["default"].debounce(function(t,n){var i=u(t,e.data.get("urlPrefix"));e.data.set("bucket",i.bucket),e.data.get("bucketOnly")?e.fire("change",{value:t}):(e.data.set("prefix",i.prefix),e.data.set("file",i.file),i.bucket&&!e.data.get("curBucket")?i.file||e.__loadObjectList():e.__loadBucketList(),e.fire("change",{value:t}))},300))},selectItem:function(e,t){var n=this,i=this.data.get("bucket"),a="folder";e?this.data.get("bucketOnly")||!i?a="bucket":d["default"].isObject(e)&&!/\/$/.test(e.name)&&(a="file"):a="back","back"!==a&&"folder"!==a&&"bucket"!==a||(this.data.set("marker",""),this.data.set("end",!1));var r=this.getPrefix(),o=e&&e.name||e||"",s=!r||/\/$/.test(r)?o.substring(r.length):o;if("bucket"===a&&(this.data.set("bucket",s+(this.data.get("bucketOnly")?"":"/")),this.data.get("bucketOnly")))return this.data.set("value",this.data.get("urlPrefix")+this.data.get("bucket").replace(/\//g,"")),d["default"].each(this.data.get("datasource"),function(e,t){e.selected&&n.data.set("datasource["+t+"].selected",!1)}),void this.data.set("datasource["+t+"].selected",!0);if("folder"===a&&(this.data.set("file",""),this.setPrefix(s),r=this.getPrefix()),"file"===a&&!e.selected)return r=this.getPrefix(),d["default"].each(this.data.get("datasource"),function(e,t){e.selected&&n.data.set("datasource["+t+"].selected",!1)}),this.data.set("datasource["+t+"].selected",!0),this.data.set("value",this.data.get("urlPrefix")+this.data.get("bucket").replace(/\//g,"")+"/"+r+s),this.data.set("file",s),this.fire("click",{selectType:a,fileItem:d["default"].find(this.data.get("datasource"),function(e){return e.name===r+s})}),void this.data.set("active",!1);if("file"!==a||!e.selected){if("back"===a)if(this.data.get("file"))this.data.set("file",""),r=this.getPrefix();else{if(0===this.data.get("prefix").length)return this.data.set("value",this.data.get("urlPrefix")),this.data.set("bucket",""),void this.fire("click",{selectType:a});this.data.pop("prefix"),r=this.getPrefix()}this.data.set("value",this.data.get("urlPrefix")+this.data.get("bucket").replace(/\//g,"")+"/"+r)}},loadNextPage:function(e){if(!this.data.get("bucketOnly")&&!this.data.get("curBucket")){var t=e.target;/\/$/.test(this.data.get("bucket"))&&t.scrollTop>0&&t.scrollTop+t.clientHeight>=t.scrollHeight&&(this.data.get("end")||this.__loadObjectList())}},setPrefix:function(e){var t=this.data.get("prefix");this.data.push("prefix",t.length>0?t[t.length-1]+e:e)},getPrefix:function(){var e=this.data.get("prefix");return e[e.length-1]||""},__loadBucketList:function(){var e=this;if(!this.data.get("loading")){var t=this.data.get("bucketListApi");if(t){this.data.set("loading",!0);var n={all:!0},i=this.data.get("locations"),a=this.data.get("bucket");i&&i.length>0&&(n.locations=i),a&&(n.keyword=a);var r=null;"string"==typeof t?r=c["default"].post(t,n):"function"==typeof t&&(r=t(n)),r&&r.then&&r.then(function(t){e.data.set("datasource",t.result),e.fire("bucketLoaded",{result:t.result})})["catch"](function(t){e.data.set("datasource",[]),e.fire("bucketFailed",{e:t})})["finally"](function(){return e.data.set("loading",!1)})}}},__loadObjectList:function(){var e=this;if(!this.data.get("loading")){var t=this.data.get("viewType"),n="file"===t?this.data.get("fileListApi"):this.data.get("folderListApi");if(n){this.data.set("loading",!0);var i={bucketName:this.data.get("bucket").replace(/\//g,""),marker:this.data.get("marker"),prefix:this.getPrefix()},a=this.data.get("filters");a&&d["default"].isObject(a)&&d["default"].extend(i,a);var r=null;"string"==typeof n?r=c["default"].post(n,i):"function"==typeof n&&(r=n(i)),r&&r.then&&r.then(function(n){var i=n.folders||n.objects||[];e.data.get("marker")?d["default"].each(i,function(t){return e.data.push("datasource",t)}):(e.data.set("datasource",i),"folder"===t&&0===i.length&&e.data.set("active",!1)),e.data.set("end",0===i.length),e.data.set("marker",n.marker)})["catch"](function(t){e.data.set("datasource",[]),e.data.set("end",!0),e.data.set("marker","")})["finally"](function(){return e.data.set("loading",!1)})}}},onBlur:function(e){this.fire("blur",e)},onFocus:function(e){this.fire("focus",e)},onInput:function(){var e=this.data.get("value");this.fire("input",{value:e})},onCreate:function(){this.fire("create")}});module.exports=r.asInput(m)}),define("san-xui/x/components/BulkActions",["exports","module","san","./util","./Button","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=i["default"](n),r=t.create("ui-bulk-actions"),o='<div class="'+r()+'">\n    <ui-button class="'+r("item")+'" san-for="item in items"\n        disabled="{{item.disabled || disabled}}"\n        skin="{{item.level}}"\n    >{{item.label}}</ui-button>\n</div>';module.exports=e.defineComponent({template:o,components:{"ui-button":a["default"]},initData:function(){return{disabled:!1,items:[]}}})}),define("san-xui/x/components/Button",["exports","module","san","./util","./Loading","babel-runtime/helpers/interop-require-default","./Tip"],function(exports,module,e,t,n,i,a){var r=i["default"](n),o=i["default"](a),s=t.create("ui-button"),l='\n<div on-click="onClick($event)" class="{{mainClass}}" style="{{mainStyle}}" aria-label="{{ariaLabel}}"\n    data-track-id="{{trackId}}"\n    data-track-name="{{trackName}}"\n>\n    <ui-tip s-if="{{tip && disabled}}" message="{{tip}}" position="{{tipPosition}}" inComponent="true"\n        track-id="{{trackId}}:tip" track-name="{{trackName}}:提示">\n        <i class="{{\'iconfont icon-\' + icon}}" s-if="icon"></i>\n        <span class="'+s("label")+'" san-if="label"><ui-loading s-if="loading" size="small" />{{label}}</span>\n        <div s-ref="slotHost" class="'+s("label")+'" san-else><ui-loading s-if="loading" size="small" /><slot /></div>\n    </ui-tip>\n    <div class="con-btn" s-else>\n        <i class="{{\'iconfont icon-\' + icon}}" s-if="icon"></i>\n        <span class="'+s("label")+'" san-if="label"><ui-loading s-if="loading" size="small" />{{label}}</span>\n        <div s-ref="slotHost" class="'+s("label")+'" san-else><ui-loading s-if="loading" size="small" /><slot /></div>\n    </div>\n</div>';module.exports=e.defineComponent({template:l,components:{"ui-loading":r["default"],"ui-tip":o["default"]},computed:{mainClass:function(){var e=s.mainClass(this),t=this.data.get("size");t&&e.push(s(t));return this.data.get("withLabel")&&e.push(s("with-label")),e},mainStyle:function(){return s.mainStyle(this)}},initData:function(){return{disabled:!1,loading:!1,withLabel:!1,skin:"",icon:"",label:"",tipPosition:"tc"}},dataTypes:{disabled:e.DataTypes.bool,loading:e.DataTypes.bool,size:e.DataTypes.string,skin:e.DataTypes.string,icon:e.DataTypes.string,label:e.DataTypes.string,tip:e.DataTypes.string,tipPosition:e.DataTypes.string},attached:function(){var e=this.data.get("label");if(!e){var t=this.ref("slotHost");if(t){var n=this.data.get("loading")?2:1;e=t.childNodes.length>n}}this.data.set("withLabel",!!e)},onClick:function(e){this.data.get("disabled")||this.fire("click",e)}})}),define("san-xui/x/components/ButtonMenu",["exports","module","san","./util","./Button","babel-runtime/helpers/interop-require-default","./Layer","./Icon","./Tip"],function(exports,module,e,t,n,i,a,r,o){var s=i["default"](n),l=i["default"](a),u=i["default"](r),d=i["default"](o),c=t.create("ui-button-menu"),f=t.create("ui-select"),p='<div class="{{mainClass}}">\n    <ui-button\n        on-click="toggleMenu"\n        disabled="{{disabled}}"\n        icon="{{icon}}"\n        skin="{{skin}}"\n    >{{label}}<ui-icon name="downarrow" /></ui-button>\n    <ui-layer open="{=open=}" s-ref="layer" follow-scroll="{{false}}" class="{{layerClass}}">\n        <ul class="'+f("layer","layer-x")+'">\n            <template s-for="item in menus">\n                <ui-tip in-component="{{true}}" s-if="{{item.tip}}" message="{{item.tip}}" position="{{item.tipPosition}}" layerClass="{{item.tipLayerClass}}">\n                    <li class="{{item.disabled ? \''+f("item","item-disabled")+"' : '"+f("item")+'\'}}" on-click="onItemClick(item)">\n                        {{item.text}}\n                    </li>\n                </ui-tip>\n                <li class="{{item.disabled ? \''+f("item","item-disabled")+"' : '"+f("item")+'\'}}" on-click="onItemClick(item)" s-else>\n                    {{item.text}}\n                </li>\n            </template>\n        </ul>\n    </ui-layer>\n</div>';module.exports=e.defineComponent({template:p,components:{"ui-button":s["default"],"ui-icon":u["default"],"ui-layer":l["default"],"ui-tip":d["default"]},initData:function(){return{disabled:!1,skin:"",icon:"",label:"",menus:[],open:!1}},computed:{mainClass:function(){var e=c.mainClass(this);return this.data.get("open")&&(e.push("state-active"),e.push(c("active"))),e}},toggleMenu:function(){var e=this.data.get("open");this.data.set("open",!e)},onItemClick:function(e){e.disabled||(this.fire("command",e),this.data.set("open",!1))}})}),define("san-xui/x/components/BuyBucket",["exports","module","san","./util","./Button","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=i["default"](n),r=t.create("ui-buybucket"),o='<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div class="'+r("title")+'">\n        <span>所选配置</span>\n        <ui-button on-click="onReset" skin="stringfy" disabled="{{disabledReset}}"\n            track-id="{{trackId}}:reset" track-name="{{trackName}}:清空配置">清空配置</ui-button>\n    </div>\n    <div class="'+r("body")+'">\n        <div class="'+r("body-item")+'" s-for="item in datasource">\n            <div s-if="!item.hidden">\n                <label class="'+r("body-title")+'">{{item.title|raw}}：</label>\n                <div class="'+r("body-content")+'">{{item.content|raw}}</div>\n            </div>\n        </div>\n    </div>\n    <div class="'+r("bottom","previous-true")+'" s-if="previous">\n        <ui-button on-click="onPrevious" disabled="{{disabledPrevious}}"\n            track-id="{{trackId}}:previous" track-name="{{trackName}}:上一步">上一步</ui-button>\n        <ui-button on-click="onConfirm" skin="primary" disabled="{{disabledConfirm}}"\n            track-id="{{trackId}}:confirm" track-name="{{trackName}}:{{confirmText}}">{{confirmText}}</ui-button>\n    </div>\n    <div class="'+r("bottom")+'" s-else>\n        <ui-button on-click="onConfirm" skin="primary"\n            disabled="{{disabledConfirm}}"\n            track-id="{{trackId}}:confirm" track-name="{{trackName}}:{{confirmText}}">{{confirmText}}</ui-button>\n    </div>\n    <div class="'+r("tip")+'" s-if="tip">{{tip|raw}}</div>\n</div>';module.exports=e.defineComponent({template:o,components:{"ui-button":a["default"]},initData:function(){return{previous:!1,confirmText:"立即购买",disabledConfirm:!1,disabledPrevious:!1,disabledReset:!1,fixedTop:70,datasource:[]}},dataTypes:{previous:e.DataTypes.bool,disabledReset:e.DataTypes.bool,disabledConfirm:e.DataTypes.bool,disabledPrevious:e.DataTypes.bool,fixedTop:e.DataTypes.number,datasource:e.DataTypes.array,tip:e.DataTypes.string},computed:{mainClass:function(){return r.mainClass(this)}},attached:function(){var e=this;this.scrollHandler=function(){return e.setPosition()},window.addEventListener("scroll",this.scrollHandler,!1)},setPosition:function(){var e=this.data.get("fixedTop"),t=this.el.getBoundingClientRect(),n=document.body.getBoundingClientRect(),i=document.documentElement.clientWidth;n.top<=20-e?"fixed"!==this.el.style.position&&(this.el.style.position="fixed",this.el.style.top=e+"px",this.el.style.right=i-t.left-t.width+"px"):"fixed"===this.el.style.position&&(this.el.style.position="absolute",this.el.style.top="",this.el.style.right="")},detached:function(){window.removeEventListener("scroll",this.scrollHandler,!1)},onConfirm:function(){this.fire("confirm")},onPrevious:function(){this.fire("previous")},onReset:function(){this.fire("reset")}})}),define("san-xui/x/components/Calendar",["exports","module","moment","babel-runtime/helpers/interop-require-default","san","./util","./asInput","./Layer","./MonthView","./Button"],function(exports,module,e,t,n,i,a,r,o,s){var l=t["default"](e),u=t["default"](r),d=t["default"](o),c=t["default"](s),f=i.create("ui-calendar"),p={begin:new Date(2014,1,1),end:new Date(2046,10,4)},h='<div class="'+f("xx")+'" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n<ui-button on-click="prevDay" disabled="{{prevDisabled}}" s-if="prev"\n    track-id="{{trackId}}:prebutton" track-name="{{trackName}}:前一天按钮"><</ui-button>\n<div on-click="toggleLayer" class="{{mainClass}}">\n    <div class="'+f("text")+'">{{text}}</div>\n    <div class="'+f("arrow")+'"></div>\n    <ui-layer open="{=active=}" s-ref="layer" follow-scroll="{{false}}"\n        track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n        <div class="'+f("layer")+'">\n            <ui-monthview value="{=value=}" time="{{time}}" range="{{range}}" on-change="onChange"/>\n        </div>\n    </ui-layer>\n</div>\n<ui-button on-click="nextDay" disabled="{{nextDisabled}}" s-if="next"\n    track-id="{{trackId}}:nextbutton" track-name="{{trackName}}:后一天按钮">></ui-button>\n</div>\n',v=n.defineComponent({template:h,components:{"ui-button":c["default"],"ui-layer":u["default"],"ui-monthview":d["default"]},computed:{text:function(){var e=this.data.get("value");return""+l["default"](e).format(this.data.get("format"))},mainClass:function(){return f.mainClass(this)},prevDisabled:function(){var e=this.data.get("disabled"),t=this.data.get("range"),n=this.data.get("value");return e||t&&l["default"](t.begin).unix()>=l["default"](n).add(-1,"day").unix()},nextDisabled:function(){var e=this.data.get("disabled"),t=this.data.get("range"),n=this.data.get("value");return e||t&&l["default"](t.end).unix()<=l["default"](n).unix()}},initData:function(){return{value:new Date,time:!1,prev:!1,next:!1,active:!1,range:p,format:"YYYY-MM-DD",closeOnChange:!1}},dataTypes:{disabled:n.DataTypes.bool,closeOnChange:n.DataTypes.bool,time:n.DataTypes.bool,prev:n.DataTypes.bool,next:n.DataTypes.bool,active:n.DataTypes.bool,value:n.DataTypes.date,format:n.DataTypes.string},inited:function(){var e=this,t=this.data.get(),n=t.value;t.range||this.data.set("range",p),n?n&&"string"==typeof n&&(n=new Date(n)):n=new Date,this.data.set("value",new Date(n)),this.watch("value",function(t){e.fire("change",{value:t});e.data.get("closeOnChange")&&e.data.set("active",!1)})},nextDay:function(){var e=this.data.get("value"),t=l["default"](e).add(1,"day").toDate();this.data.set("value",t)},prevDay:function(){var e=this.data.get("value"),t=l["default"](e).subtract(1,"day").toDate();this.data.set("value",t)},toggleLayer:function(){if(!this.data.get("disabled")){var e=this.data.get("active");this.data.set("active",!e)}},onChange:function(e){var t=e.value;t!==this.data.get("value")&&this.data.set("value",t)}});module.exports=a.asInput(v)}),define("san-xui/x/components/Chart",["exports","module","san","./ResizeObserver","babel-runtime/helpers/interop-require-default","./util","./helper"],function(exports,module,e,t,n,i,a){var r=n["default"](t),o=i.create("ui-chart");module.exports=e.defineComponent({template:'<div class="{{mainClass}}" style="{{mainStyle}}"></div>',computed:{mainStyle:function(){var e=this.data.get("width"),t=this.data.get("height");return{width:e+"px",height:t+"px","line-height":t+"px"}},mainClass:function(){return o.mainClass(this)}},initData:function(){return{loading:!0,autoResize:!1,width:300,height:300,option:{},notMerge:!1}},dataTypes:{loading:e.DataTypes.bool,autoResize:e.DataTypes.bool,width:e.DataTypes.number,height:e.DataTypes.number,option:e.DataTypes.object,notMerge:e.DataTypes.bool},getChart:function(){return this.chart},clearEmptyRing:function(){this.chart&&this.ring&&(this.chart.getZr().remove(this.ring),this.ring=null)},__drawEmptyRing:function(e){var t=this;return function(){var n=t.chart,i=n.getWidth(),a=n.getHeight(),r=Math.min(i,a)/2,o=e.number.parsePercent("50%",r),s=e.number.parsePercent("80%",r);t.ring=new e.graphic.Ring({shape:{r0:o,r:s,cx:i/2,cy:a/2},style:{stroke:"#ccc",fill:"none"}}),n.getZr().add(t.ring)}},attached:function(){var e=this;this.watch("loading",function(t){e.chart&&(t?e.chart.showLoading():e.chart.hideLoading())}),this.watch("option",function(t){e.chart&&t&&(e.chart.setOption(t,!!e.data.get("notMerge")),e.chart.hideLoading())});a.loadThirdParty("echarts",["echarts","zrender/vml/vml","echarts/chart/pie","echarts/chart/bar","echarts/chart/line","echarts/chart/lines","echarts/chart/map","echarts/chart/scatter","echarts/component/legendScroll","echarts/component/legend","echarts/component/dataZoom","echarts/component/tooltip","echarts/component/title","echarts/component/grid","echarts/component/toolbox","echarts/component/markPoint","echarts/component/markLine"],300).then(function(t){e.drawEmptyRing=e.__drawEmptyRing(t),e.data.set("loading",!1),e.chart=t.init(e.el),e.chart.showLoading();var n=e.data.get("option");if(n&&(e.chart.setOption(n),e.chart.hideLoading()),e.data.get("autoResize")){var i=e.el.parentNode,a=i.clientWidth,r=i.clientHeight;e.chart.resize({width:a,height:r})}e.fire("chart-initialized")}),this.data.get("autoResize")&&(this.observer=new r["default"](function(t){if(e.chart&&e.chart.resize){var n=t[0];e.chart.resize({width:n.clientWidth(),height:n.clientHeight()})}}).observe(this.el.parentNode))},disposed:function(){this.observer&&this.observer.disconnect(),this.chart&&(this.chart.dispose(),this.chart=null)}})}),define("san-xui/x/components/CheckBox",["exports","module","san","./util","./asInput"],function(exports,module,e,t,n){var i=t.create("ui-checkbox"),a=e.defineComponent({template:'<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <label>\n        <input s-if="indeterminate"\n            type="checkbox"\n            checked="{=checked=}"\n            indeterminate="true"\n            on-change="onChange($event)"\n            disabled="{{disabled}}" />\n        <input s-else\n            type="checkbox"\n            checked="{=checked=}"\n            on-change="onChange($event)"\n            disabled="{{disabled}}" />\n        <span s-if="title">{{title}}</span>\n    </label>\n</div>',initData:function(){return{checked:!1,indeterminate:!1,title:null}},dataTypes:{checked:e.DataTypes.bool,indeterminate:e.DataTypes.bool,disabled:e.DataTypes.bool,title:e.DataTypes.string},computed:{value:function(){return this.data.get("checked")},mainClass:function(){return i.mainClass(this)}},inited:function(){var e=this;this.watch("value",function(t){return e.fire("value.change",{value:t})})},onChange:function(e){this.fire("change",{value:e.target.checked})}});module.exports=n.asInput(a)}),define("san-xui/x/components/CKEditor",["exports","module","san","./Loading","babel-runtime/helpers/interop-require-default","./util","./helper"],function(exports,module,e,t,n,i,a){var r=n["default"](t),o=i.create("ui-ckeditor"),s='<template>\n<div class="'+o()+'">\n    <ui-loading s-if="loading" />\n    <div class="'+o("error")+'" s-if="error">{{error}}</div>\n    <div s-ref="ghost" id="{{ghostId}}" style="{{mainStyle}}"></div>\n</div>\n</template>';window.CKEDITOR_BASEPATH="https://bce.bdstatic.com/ckeditor/4.8.0/",module.exports=e.defineComponent({template:s,components:{"ui-loading":r["default"]},computed:{mainStyle:function(){return o.mainStyle(this)}},initData:function(){return{loading:!0,error:null,value:null,ghostId:"ckeditor-ghost-"+i.nexUuid(),options:{language:"zh-cn",toolbarCanCollapse:!0}}},dataTypes:{value:e.DataTypes.string,options:e.DataTypes.object},inited:function(){},attached:function(){var e=this;a.loadThirdParty("CKEDITOR",[a.js("ckeditor/ckeditor.js")]).then(function(t){e.data.set("loading",!1);var n=e.data.get("ghostId"),i=e.data.get("options"),a=e.editor=t.replace(n,i);a.on("instanceReady",function(){var t=e.data.get("value");t&&a.setData(t)}),a.on("change",function(){var t=a.getData();e.data.set("value",t),e.fire("change",{value:t})})})},disposed:function(){if(this.editor)try{this.editor.destroy()}catch(e){}}})}),define("san-xui/x/components/Clipboard",["exports","module","inf-i18n","babel-runtime/helpers/interop-require-default","san","clipboard","./util"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=t["default"](i),s=a.create("ui-clipboard");module.exports=n.defineComponent({template:'<div on-mouseleave="onMouseLeave" class="{{mainClass}}" aria-label="{{ariaLabel}}"\n     data-track-id="{{trackId}}" data-track-name="{{trackName}}"><slot/></div>',computed:{mainClass:function(){var e=[s(),s("x")],t=this.data.get("ariaLabel"),n=this.data.get("tipPosition");return t&&e.push("tooltipped","tooltipped-"+n),e}},initData:function(){return{ariaLabel:r["default"]("复制到剪贴板"),tipPosition:"s",text:null}},dataTypes:{ariaLabel:n.DataTypes.string,tipPosition:n.DataTypes.oneOf(["n","e","s","w"]),text:n.DataTypes.string.isRequired},detached:function(){this.client.destroy()},attached:function(){var e=this;this.client=new o["default"](this.el,{action:function(){return"copy"},text:function(){return e.data.get("text")}}),this.client.on("beforecopy",function(){return e.fire("beforecopy")}),this.client.on("success",function(){e.data.get("ariaLabel")&&e.data.set("ariaLabel",r["default"]("复制成功")),e.fire("aftercopy")}),this.client.on("error",function(){return e.fire("error")})},onMouseLeave:function(){this.data.get("ariaLabel")&&this.data.set("ariaLabel",r["default"]("复制到剪贴板"))}})}),define("san-xui/x/components/ConfirmDialog",["exports","module","san","./Dialog","babel-runtime/helpers/interop-require-default","./Button"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i);module.exports=e.defineComponent({template:'<template>\n    <ui-dialog open="{=open=}" s-ref="dialog" skin="{{skin || \'confirm\'}}" width="{{width}}"\n        on-close="onCloseDialog" on-confirm="onConfirmDialog" show-close="{{showClose}}">\n        <span slot="head">{{title}}</span>\n        <div class="ui-dialog-icon ui-dialog-icon-confirm"></div>\n        <div class="ui-dialog-text">{{message | raw}}</div>\n        <div slot="foot">\n            <ui-button on-click="onConfirmDialog" skin="primary">{{foot.okBtn.label || \'确定\'}}</ui-button>\n            <ui-button on-click="onCloseDialog">{{foot.cancelBtn.label || \'取消\'}}</ui-button>\n        </div>\n    </ui-dialog>\n    </template>',components:{"ui-dialog":a["default"],"ui-button":r["default"]},initData:function(){return{open:!0,width:500,skin:"",title:"请确认",foot:{okBtn:{label:"确定"},cancelBtn:{label:"取消"}},showClose:!0}},onCloseDialog:function(){this.fire("close"),this.data.set("open",!1)},onConfirmDialog:function(){this.fire("confirm"),this.data.set("open",!1)}})}),define("san-xui/x/components/data/regions",["exports","module"],function(exports,module){module.exports=[{value:11e4,text:"北京市",children:[{value:110100,text:"市辖区",children:[{value:110101,text:"东城区"},{value:110102,text:"西城区"},{value:110103,text:"崇文区"},{value:110104,text:"宣武区"},{value:110105,text:"朝阳区"},{value:110106,text:"丰台区"},{value:110107,text:"石景山区"},{value:110108,text:"海淀区"},{value:110109,text:"门头沟区"},{value:110111,text:"房山区"},{value:110112,text:"通州区"},{value:110113,text:"顺义区"},{value:110114,text:"昌平区"},{value:110115,text:"大兴区"},{value:110116,text:"怀柔区"},{value:110117,text:"平谷区"}]},{value:110200,text:"县",children:[{value:110228,text:"密云县"},{value:110229,text:"延庆县"}]}]},{value:12e4,text:"天津市",children:[{value:120100,text:"市辖区",children:[{value:120101,text:"和平区"},{value:120102,text:"河东区"},{value:120103,text:"河西区"},{value:120104,text:"南开区"},{value:120105,text:"河北区"},{value:120106,text:"红桥区"},{value:120110,text:"东丽区"},{value:120111,text:"西青区"},{value:120112,text:"津南区"},{value:120113,text:"北辰区"},{value:120114,text:"武清区"},{value:120115,text:"宝坻区"},{value:120116,text:"滨海新区"}]},{value:120200,text:"县",children:[{value:120221,text:"宁河县"},{value:120223,text:"静海县"},{value:120225,text:"蓟县"}]}]},{value:13e4,text:"河北省",children:[{value:130100,text:"石家庄市",children:[{value:130101,text:"市辖区"},{value:130102,text:"长安区"},{value:130103,text:"桥东区"},{value:130104,text:"桥西区"},{value:130105,text:"新华区"},{value:130107,text:"井陉矿区"},{value:130108,text:"裕华区"},{value:130121,text:"井陉县"},{value:130123,text:"正定县"},{value:130124,text:"栾城县"},{value:130125,text:"行唐县"},{value:130126,text:"灵寿县"},{value:130127,text:"高邑县"},{value:130128,text:"深泽县"},{value:130129,text:"赞皇县"},{value:130130,text:"无极县"},{value:130131,text:"平山县"},{value:130132,text:"元氏县"},{value:130133,text:"赵县"},{value:130181,text:"辛集市"},{value:130182,text:"藁城市"},{value:130183,text:"晋州市"},{value:130184,text:"新乐市"},{value:130185,text:"鹿泉市"}]},{value:130200,text:"唐山市",children:[{value:130201,text:"市辖区"},{value:130202,text:"路南区"},{value:130203,text:"路北区"},{value:130204,text:"古冶区"},{value:130205,text:"开平区"},{value:130207,text:"丰南区"},{value:130208,text:"丰润区"},{value:130223,text:"滦县"},{value:130224,text:"滦南县"},{value:130225,text:"乐亭县"},{value:130227,text:"迁西县"},{value:130229,text:"玉田县"},{value:130230,text:"唐海县"},{value:130281,text:"遵化市"},{value:130283,text:"迁安市"}]},{value:130300,text:"秦皇岛市",children:[{value:130301,text:"市辖区"},{value:130302,text:"海港区"},{value:130303,text:"山海关区"},{value:130304,text:"北戴河区"},{value:130321,text:"青龙满族自治县"},{value:130322,text:"昌黎县"},{value:130323,text:"抚宁县"},{value:130324,text:"卢龙县"}]},{value:130400,text:"邯郸市",children:[{value:130401,text:"市辖区"},{value:130402,text:"邯山区"},{value:130403,text:"丛台区"},{value:130404,text:"复兴区"},{value:130406,text:"峰峰矿区"},{value:130421,text:"邯郸县"},{value:130423,text:"临漳县"},{value:130424,text:"成安县"},{value:130425,text:"大名县"},{value:130426,text:"涉县"},{value:130427,text:"磁县"},{value:130428,text:"肥乡县"},{value:130429,text:"永年县"},{value:130430,text:"邱县"},{value:130431,text:"鸡泽县"},{value:130432,text:"广平县"},{value:130433,text:"馆陶县"},{value:130434,text:"魏县"},{value:130435,text:"曲周县"},{value:130481,text:"武安市"}]},{value:130500,text:"邢台市",children:[{value:130501,text:"市辖区"},{value:130502,text:"桥东区"},{value:130503,text:"桥西区"},{value:130521,text:"邢台县"},{value:130522,text:"临城县"},{value:130523,text:"内丘县"},{value:130524,text:"柏乡县"},{value:130525,text:"隆尧县"},{value:130526,text:"任县"},{value:130527,text:"南和县"},{value:130528,text:"宁晋县"},{value:130529,text:"巨鹿县"},{value:130530,text:"新河县"},{value:130531,text:"广宗县"},{value:130532,text:"平乡县"},{value:130533,text:"威县"},{value:130534,text:"清河县"},{value:130535,text:"临西县"},{value:130581,text:"南宫市"},{value:130582,text:"沙河市"}]},{value:130600,text:"保定市",children:[{value:130601,text:"市辖区"},{value:130602,text:"新市区"},{value:130603,text:"北市区"},{value:130604,text:"南市区"},{value:130621,text:"满城县"},{value:130622,text:"清苑县"},{value:130623,text:"涞水县"},{value:130624,text:"阜平县"},{value:130625,text:"徐水县"},{value:130626,text:"定兴县"},{value:130627,text:"唐县"},{value:130628,text:"高阳县"},{value:130629,text:"容城县"},{value:130630,text:"涞源县"},{value:130631,text:"望都县"},{value:130632,text:"安新县"},{value:130633,text:"易县"},{value:130634,text:"曲阳县"},{value:130635,text:"蠡县"},{value:130636,text:"顺平县"},{value:130637,text:"博野县"},{value:130638,text:"雄县"},{value:130681,text:"涿州市"},{value:130682,text:"定州市"},{value:130683,text:"安国市"},{value:130684,text:"高碑店市"}]},{value:130700,text:"张家口市",children:[{value:130701,text:"市辖区"},{value:130702,text:"桥东区"},{value:130703,text:"桥西区"},{value:130705,text:"宣化区"},{value:130706,text:"下花园区"},{value:130721,text:"宣化县"},{value:130722,text:"张北县"},{value:130723,text:"康保县"},{value:130724,text:"沽源县"},{value:130725,text:"尚义县"},{value:130726,text:"蔚县"},{value:130727,text:"阳原县"},{value:130728,text:"怀安县"},{value:130729,text:"万全县"},{value:130730,text:"怀来县"},{value:130731,text:"涿鹿县"},{value:130732,text:"赤城县"},{value:130733,text:"崇礼县"}]},{value:130800,text:"承德市",children:[{value:130801,text:"市辖区"},{value:130802,text:"双桥区"},{value:130803,text:"双滦区"},{value:130804,text:"鹰手营子矿区"},{value:130821,text:"承德县"},{value:130822,text:"兴隆县"},{value:130823,text:"平泉县"},{value:130824,text:"滦平县"},{value:130825,text:"隆化县"},{value:130826,text:"丰宁满族自治县"},{value:130827,text:"宽城满族自治县"},{value:130828,text:"围场满族蒙古族自治县"}]},{value:130900,text:"沧州市",children:[{value:130901,text:"市辖区"},{value:130902,text:"新华区"},{value:130903,text:"运河区"},{value:130921,text:"沧县"},{value:130922,text:"青县"},{value:130923,text:"东光县"},{value:130924,text:"海兴县"},{value:130925,text:"盐山县"},{value:130926,text:"肃宁县"},{value:130927,text:"南皮县"},{value:130928,text:"吴桥县"},{value:130929,text:"献县"},{value:130930,text:"孟村回族自治县"},{value:130981,text:"泊头市"},{value:130982,text:"任丘市"},{value:130983,text:"黄骅市"},{value:130984,text:"河间市"}]},{value:131e3,text:"廊坊市",children:[{value:131001,text:"市辖区"},{value:131002,text:"安次区"},{value:131003,text:"广阳区"},{value:131022,text:"固安县"},{value:131023,text:"永清县"},{value:131024,text:"香河县"},{value:131025,text:"大城县"},{value:131026,text:"文安县"},{value:131028,text:"大厂回族自治县"},{value:131081,text:"霸州市"},{value:131082,text:"三河市"}]},{value:131100,text:"衡水市",children:[{value:131101,text:"市辖区"},{value:131102,text:"桃城区"},{value:131121,text:"枣强县"},{value:131122,text:"武邑县"},{value:131123,text:"武强县"},{value:131124,text:"饶阳县"},{value:131125,text:"安平县"},{value:131126,text:"故城县"},{value:131127,text:"景县"},{value:131128,text:"阜城县"},{value:131181,text:"冀州市"},{value:131182,text:"深州市"}]}]},{value:14e4,text:"山西省",children:[{value:140100,text:"太原市",children:[{value:140101,text:"市辖区"},{value:140105,text:"小店区"},{value:140106,text:"迎泽区"},{value:140107,text:"杏花岭区"},{value:140108,text:"尖草坪区"},{value:140109,text:"万柏林区"},{value:140110,text:"晋源区"},{value:140121,text:"清徐县"},{value:140122,text:"阳曲县"},{value:140123,text:"娄烦县"},{value:140181,text:"古交市"}]},{value:140200,text:"大同市",children:[{value:140201,text:"市辖区"},{value:140202,text:"城区"},{value:140203,text:"矿区"},{value:140211,text:"南郊区"},{value:140212,text:"新荣区"},{value:140221,text:"阳高县"},{value:140222,text:"天镇县"},{value:140223,text:"广灵县"},{value:140224,text:"灵丘县"},{value:140225,text:"浑源县"},{value:140226,text:"左云县"},{value:140227,text:"大同县"}]},{value:140300,text:"阳泉市",children:[{value:140301,text:"市辖区"},{value:140302,text:"城区"},{value:140303,text:"矿区"},{value:140311,text:"郊区"},{value:140321,text:"平定县"},{value:140322,text:"盂县"}]},{value:140400,text:"长治市",children:[{value:140401,text:"市辖区"},{value:140402,text:"城区"},{value:140411,text:"郊区"},{value:140421,text:"长治县"},{value:140423,text:"襄垣县"},{value:140424,text:"屯留县"},{value:140425,text:"平顺县"},{value:140426,text:"黎城县"},{value:140427,text:"壶关县"},{value:140428,text:"长子县"},{value:140429,text:"武乡县"},{value:140430,text:"沁县"},{value:140431,text:"沁源县"},{value:140481,text:"潞城市"}]},{value:140500,text:"晋城市",children:[{value:140501,text:"市辖区"},{value:140502,text:"城区"},{value:140521,text:"沁水县"},{value:140522,text:"阳城县"},{value:140524,text:"陵川县"},{value:140525,text:"泽州县"},{value:140581,text:"高平市"}]},{value:140600,text:"朔州市",children:[{value:140601,text:"市辖区"},{value:140602,text:"朔城区"},{value:140603,text:"平鲁区"},{value:140621,text:"山阴县"},{value:140622,text:"应县"},{value:140623,text:"右玉县"},{value:140624,text:"怀仁县"}]},{value:140700,text:"晋中市",children:[{value:140701,text:"市辖区"},{value:140702,text:"榆次区"},{value:140721,text:"榆社县"},{value:140722,text:"左权县"},{value:140723,text:"和顺县"},{value:140724,text:"昔阳县"},{value:140725,text:"寿阳县"},{value:140726,text:"太谷县"},{value:140727,text:"祁县"},{value:140728,text:"平遥县"},{value:140729,text:"灵石县"},{value:140781,text:"介休市"}]},{value:140800,text:"运城市",children:[{value:140801,text:"市辖区"},{value:140802,text:"盐湖区"},{value:140821,text:"临猗县"},{value:140822,text:"万荣县"},{value:140823,text:"闻喜县"},{value:140824,text:"稷山县"},{value:140825,text:"新绛县"},{value:140826,text:"绛县"},{value:140827,text:"垣曲县"},{value:140828,text:"夏县"},{value:140829,text:"平陆县"},{value:140830,text:"芮城县"},{value:140881,text:"永济市"},{value:140882,text:"河津市"}]},{value:140900,text:"忻州市",children:[{value:140901,text:"市辖区"},{value:140902,text:"忻府区"},{value:140921,text:"定襄县"},{value:140922,text:"五台县"},{value:140923,text:"代县"},{value:140924,text:"繁峙县"},{value:140925,text:"宁武县"},{value:140926,text:"静乐县"},{value:140927,text:"神池县"},{value:140928,text:"五寨县"},{value:140929,text:"岢岚县"},{value:140930,text:"河曲县"},{value:140931,text:"保德县"},{value:140932,text:"偏关县"},{value:140981,text:"原平市"}]},{value:141e3,text:"临汾市",children:[{value:141001,text:"市辖区"},{value:141002,text:"尧都区"},{value:141021,text:"曲沃县"},{value:141022,text:"翼城县"},{value:141023,text:"襄汾县"},{value:141024,text:"洪洞县"},{value:141025,text:"古县"},{value:141026,text:"安泽县"},{value:141027,text:"浮山县"},{value:141028,text:"吉县"},{value:141029,text:"乡宁县"},{value:141030,text:"大宁县"},{value:141031,text:"隰县"},{value:141032,text:"永和县"},{value:141033,text:"蒲县"},{value:141034,text:"汾西县"},{value:141081,text:"侯马市"},{value:141082,text:"霍州市"}]},{value:141100,text:"吕梁市",children:[{value:141101,text:"市辖区"},{value:141102,text:"离石区"},{value:141121,text:"文水县"},{value:141122,text:"交城县"},{value:141123,text:"兴县"},{value:141124,text:"临县"},{value:141125,text:"柳林县"},{value:141126,text:"石楼县"},{value:141127,text:"岚县"},{value:141128,text:"方山县"},{value:141129,text:"中阳县"},{value:141130,text:"交口县"},{value:141181,text:"孝义市"},{value:141182,text:"汾阳市"}]}]},{value:15e4,text:"内蒙古自治区",children:[{value:150100,text:"呼和浩特市",children:[{value:150101,text:"市辖区"},{value:150102,text:"新城区"},{value:150103,text:"回民区"},{value:150104,text:"玉泉区"},{value:150105,text:"赛罕区"},{value:150121,text:"土默特左旗"},{value:150122,text:"托克托县"},{value:150123,text:"和林格尔县"},{value:150124,text:"清水河县"},{value:150125,text:"武川县"}]},{value:150200,text:"包头市",children:[{value:150201,text:"市辖区"},{value:150202,text:"东河区"},{value:150203,text:"昆都仑区"},{value:150204,text:"青山区"},{value:150205,text:"石拐区"},{value:150206,text:"白云矿区"},{value:150207,text:"九原区"},{value:150221,text:"土默特右旗"},{value:150222,text:"固阳县"},{value:150223,text:"达尔罕茂明安联合旗"}]},{value:150300,text:"乌海市",children:[{value:150301,text:"市辖区"},{value:150302,text:"海勃湾区"},{value:150303,text:"海南区"},{value:150304,text:"乌达区"}]},{value:150400,text:"赤峰市",children:[{value:150401,text:"市辖区"},{value:150402,text:"红山区"},{value:150403,text:"元宝山区"},{value:150404,text:"松山区"},{value:150421,text:"阿鲁科尔沁旗"},{value:150422,text:"巴林左旗"},{value:150423,text:"巴林右旗"},{value:150424,text:"林西县"},{value:150425,text:"克什克腾旗"},{value:150426,text:"翁牛特旗"},{value:150428,text:"喀喇沁旗"},{value:150429,text:"宁城县"},{value:150430,text:"敖汉旗"}]},{value:150500,text:"通辽市",children:[{value:150501,text:"市辖区"},{value:150502,text:"科尔沁区"},{value:150521,text:"科尔沁左翼中旗"},{value:150522,text:"科尔沁左翼后旗"},{value:150523,text:"开鲁县"},{value:150524,text:"库伦旗"},{value:150525,text:"奈曼旗"},{value:150526,text:"扎鲁特旗"},{value:150581,text:"霍林郭勒市"}]},{value:150600,text:"鄂尔多斯市",children:[{value:150602,text:"东胜区"},{value:150621,text:"达拉特旗"},{value:150622,text:"准格尔旗"},{value:150623,text:"鄂托克前旗"},{value:150624,text:"鄂托克旗"},{value:150625,text:"杭锦旗"},{value:150626,text:"乌审旗"},{value:150627,text:"伊金霍洛旗"}]},{value:150700,text:"呼伦贝尔市",children:[{value:150701,text:"市辖区"},{value:150702,text:"海拉尔区"},{value:150721,text:"阿荣旗"},{value:150722,text:"莫力达瓦达斡尔族自治旗"},{value:150723,text:"鄂伦春自治旗"},{value:150724,text:"鄂温克族自治旗"},{value:150725,text:"陈巴尔虎旗"},{value:150726,text:"新巴尔虎左旗"},{value:150727,text:"新巴尔虎右旗"},{value:150781,text:"满洲里市"},{value:150782,text:"牙克石市"},{value:150783,text:"扎兰屯市"},{value:150784,text:"额尔古纳市"},{value:150785,text:"根河市"}]},{value:150800,text:"巴彦淖尔市",children:[{value:150801,text:"市辖区"},{value:150802,text:"临河区"},{value:150821,text:"五原县"},{value:150822,text:"磴口县"},{value:150823,text:"乌拉特前旗"},{value:150824,text:"乌拉特中旗"},{value:150825,text:"乌拉特后旗"},{value:150826,text:"杭锦后旗"}]},{value:150900,text:"乌兰察布市",children:[{value:150901,text:"市辖区"},{value:150902,text:"集宁区"},{value:150921,text:"卓资县"},{value:150922,text:"化德县"},{value:150923,text:"商都县"},{value:150924,text:"兴和县"},{value:150925,text:"凉城县"},{value:150926,text:"察哈尔右翼前旗"},{value:150927,text:"察哈尔右翼中旗"},{value:150928,text:"察哈尔右翼后旗"},{value:150929,text:"四子王旗"},{value:150981,text:"丰镇市"}]},{value:152200,text:"兴安盟",children:[{value:152201,text:"乌兰浩特市"},{value:152202,text:"阿尔山市"},{value:152221,text:"科尔沁右翼前旗"},{value:152222,text:"科尔沁右翼中旗"},{value:152223,text:"扎赉特旗"},{value:152224,text:"突泉县"}]},{value:152500,text:"锡林郭勒盟",children:[{value:152501,text:"二连浩特市"},{value:152502,text:"锡林浩特市"},{value:152522,text:"阿巴嘎旗"},{value:152523,text:"苏尼特左旗"},{value:152524,text:"苏尼特右旗"},{value:152525,text:"东乌珠穆沁旗"},{value:152526,text:"西乌珠穆沁旗"},{value:152527,text:"太仆寺旗"},{value:152528,text:"镶黄旗"},{value:152529,text:"正镶白旗"},{value:152530,text:"正蓝旗"},{value:152531,text:"多伦县"}]},{value:152900,text:"阿拉善盟",children:[{value:152921,text:"阿拉善左旗"},{value:152922,text:"阿拉善右旗"},{value:152923,text:"额济纳旗"}]}]},{value:21e4,text:"辽宁省",children:[{value:210100,text:"沈阳市",children:[{value:210101,text:"市辖区"},{value:210102,text:"和平区"},{value:210103,text:"沈河区"},{value:210104,text:"大东区"},{value:210105,text:"皇姑区"},{value:210106,text:"铁西区"},{value:210111,text:"苏家屯区"},{value:210112,text:"东陵区"},{value:210113,text:"沈北新区"},{value:210114,text:"于洪区"},{value:210122,text:"辽中县"},{value:210123,text:"康平县"},{value:210124,text:"法库县"},{value:210181,text:"新民市"}]},{value:210200,text:"大连市",children:[{value:210201,text:"市辖区"},{value:210202,text:"中山区"},{value:210203,text:"西岗区"},{value:210204,text:"沙河口区"},{value:210211,text:"甘井子区"},{value:210212,text:"旅顺口区"},{value:210213,text:"金州区"},{value:210224,text:"长海县"},{value:210281,text:"瓦房店市"},{value:210282,text:"普兰店市"},{value:210283,text:"庄河市"}]},{value:210300,text:"鞍山市",children:[{value:210301,text:"市辖区"},{value:210302,text:"铁东区"},{value:210303,text:"铁西区"},{value:210304,text:"立山区"},{value:210311,text:"千山区"},{value:210321,text:"台安县"},{value:210323,text:"岫岩满族自治县"},{value:210381,text:"海城市"}]},{value:210400,text:"抚顺市",children:[{value:210401,text:"市辖区"},{value:210402,text:"新抚区"},{value:210403,text:"东洲区"},{value:210404,text:"望花区"},{value:210411,text:"顺城区"},{value:210421,text:"抚顺县"},{value:210422,text:"新宾满族自治县"},{value:210423,text:"清原满族自治县"}]},{value:210500,text:"本溪市",children:[{value:210501,text:"市辖区"},{value:210502,text:"平山区"},{value:210503,text:"溪湖区"},{value:210504,text:"明山区"},{value:210505,text:"南芬区"},{value:210521,text:"本溪满族自治县"},{value:210522,text:"桓仁满族自治县"}]},{value:210600,text:"丹东市",children:[{value:210601,text:"市辖区"},{value:210602,text:"元宝区"},{value:210603,text:"振兴区"},{value:210604,text:"振安区"},{value:210624,text:"宽甸满族自治县"},{value:210681,text:"东港市"},{value:210682,text:"凤城市"}]},{value:210700,text:"锦州市",children:[{value:210701,text:"市辖区"},{value:210702,text:"古塔区"},{value:210703,text:"凌河区"},{value:210711,text:"太和区"},{value:210726,text:"黑山县"},{value:210727,text:"义县"},{value:210781,text:"凌海市"},{value:210782,text:"北镇市"}]},{value:210800,text:"营口市",children:[{value:210801,text:"市辖区"},{value:210802,text:"站前区"},{value:210803,text:"西市区"},{value:210804,text:"鲅鱼圈区"},{value:210811,text:"老边区"},{value:210881,text:"盖州市"},{value:210882,text:"大石桥市"}]},{value:210900,text:"阜新市",children:[{value:210901,text:"市辖区"},{value:210902,text:"海州区"},{value:210903,text:"新邱区"},{value:210904,text:"太平区"},{value:210905,text:"清河门区"},{value:210911,text:"细河区"},{value:210921,text:"阜新蒙古族自治县"},{value:210922,text:"彰武县"}]},{value:211e3,text:"辽阳市",children:[{value:211001,text:"市辖区"},{value:211002,text:"白塔区"},{value:211003,text:"文圣区"},{value:211004,text:"宏伟区"},{value:211005,text:"弓长岭区"},{value:211011,text:"太子河区"},{value:211021,text:"辽阳县"},{value:211081,text:"灯塔市"}]},{value:211100,text:"盘锦市",children:[{value:211101,text:"市辖区"},{value:211102,text:"双台子区"},{value:211103,text:"兴隆台区"},{value:211121,text:"大洼县"},{value:211122,text:"盘山县"}]},{value:211200,text:"铁岭市",children:[{value:211201,text:"市辖区"},{value:211202,text:"银州区"},{value:211204,text:"清河区"},{value:211221,text:"铁岭县"},{value:211223,text:"西丰县"},{value:211224,text:"昌图县"},{value:211281,text:"调兵山市"},{value:211282,text:"开原市"}]},{value:211300,text:"朝阳市",children:[{value:211301,text:"市辖区"},{value:211302,text:"双塔区"},{value:211303,text:"龙城区"},{value:211321,text:"朝阳县"},{value:211322,text:"建平县"},{value:211324,text:"喀喇沁左翼蒙古族自治县"},{value:211381,text:"北票市"},{value:211382,text:"凌源市"}]},{value:211400,text:"葫芦岛市",children:[{value:211401,text:"市辖区"},{value:211402,text:"连山区"},{value:211403,text:"龙港区"},{value:211404,text:"南票区"},{value:211421,text:"绥中县"},{value:211422,text:"建昌县"},{value:211481,text:"兴城市"}]}]},{value:22e4,text:"吉林省",children:[{value:220100,text:"长春市",children:[{value:220101,text:"市辖区"},{value:220102,text:"南关区"},{value:220103,text:"宽城区"},{value:220104,text:"朝阳区"},{value:220105,text:"二道区"},{value:220106,text:"绿园区"},{value:220112,text:"双阳区"},{value:220122,text:"农安县"},{value:220181,text:"九台市"},{value:220182,text:"榆树市"},{value:220183,text:"德惠市"}]},{value:220200,text:"吉林市",children:[{value:220201,text:"市辖区"},{value:220202,text:"昌邑区"},{value:220203,text:"龙潭区"},{value:220204,text:"船营区"},{value:220211,text:"丰满区"},{value:220221,text:"永吉县"},{value:220281,text:"蛟河市"},{value:220282,text:"桦甸市"},{value:220283,text:"舒兰市"},{value:220284,text:"磐石市"}]},{value:220300,text:"四平市",children:[{value:220301,text:"市辖区"},{value:220302,text:"铁西区"},{value:220303,text:"铁东区"},{value:220322,text:"梨树县"},{value:220323,text:"伊通满族自治县"},{value:220381,text:"公主岭市"},{value:220382,text:"双辽市"}]},{value:220400,text:"辽源市",children:[{value:220401,text:"市辖区"},{value:220402,text:"龙山区"},{value:220403,text:"西安区"},{value:220421,text:"东丰县"},{value:220422,text:"东辽县"}]},{value:220500,text:"通化市",children:[{value:220501,text:"市辖区"},{value:220502,text:"东昌区"},{value:220503,text:"二道江区"},{value:220521,text:"通化县"},{value:220523,text:"辉南县"},{value:220524,text:"柳河县"},{value:220581,text:"梅河口市"},{value:220582,text:"集安市"}]},{value:220600,text:"白山市",children:[{value:220601,text:"市辖区"},{value:220602,text:"八道江区"},{value:220604,text:"江源区"},{value:220621,text:"抚松县"},{value:220622,text:"靖宇县"},{value:220623,text:"长白朝鲜族自治县"},{value:220681,text:"临江市"}]},{value:220700,text:"松原市",children:[{value:220701,text:"市辖区"},{value:220702,text:"宁江区"},{value:220721,text:"前郭尔罗斯蒙古族自治县"},{value:220722,text:"长岭县"},{value:220723,text:"乾安县"},{value:220724,text:"扶余县"}]},{value:220800,text:"白城市",children:[{value:220801,text:"市辖区"},{value:220802,text:"洮北区"},{value:220821,text:"镇赉县"},{value:220822,text:"通榆县"},{value:220881,text:"洮南市"},{value:220882,text:"大安市"}]},{value:222400,text:"延边朝鲜族自治州",children:[{value:222401,text:"延吉市"},{value:222402,text:"图们市"},{value:222403,text:"敦化市"},{value:222404,text:"珲春市"},{value:222405,text:"龙井市"},{value:222406,text:"和龙市"},{value:222424,text:"汪清县"},{value:222426,text:"安图县"}]}]},{value:23e4,text:"黑龙江省",children:[{value:230100,text:"哈尔滨市",children:[{value:230101,text:"市辖区"},{value:230102,text:"道里区"},{value:230103,text:"南岗区"},{value:230104,text:"道外区"},{value:230108,text:"平房区"},{value:230109,text:"松北区"},{value:230110,text:"香坊区"},{value:230111,text:"呼兰区"},{value:230112,text:"阿城区"},{value:230123,text:"依兰县"},{value:230124,text:"方正县"},{value:230125,text:"宾县"},{value:230126,text:"巴彦县"},{value:230127,text:"木兰县"},{value:230128,text:"通河县"},{value:230129,text:"延寿县"},{value:230182,text:"双城市"},{value:230183,text:"尚志市"},{value:230184,text:"五常市"}]},{value:230200,text:"齐齐哈尔市",children:[{value:230201,text:"市辖区"},{value:230202,text:"龙沙区"},{value:230203,text:"建华区"},{value:230204,text:"铁锋区"},{value:230205,text:"昂昂溪区"},{value:230206,text:"富拉尔基区"},{value:230207,text:"碾子山区"},{value:230208,text:"梅里斯达斡尔族区"},{value:230221,text:"龙江县"},{value:230223,text:"依安县"},{value:230224,text:"泰来县"},{value:230225,text:"甘南县"},{value:230227,text:"富裕县"},{value:230229,text:"克山县"},{value:230230,text:"克东县"},{value:230231,text:"拜泉县"},{value:230281,text:"讷河市"}]},{value:230300,text:"鸡西市",children:[{value:230301,text:"市辖区"},{value:230302,text:"鸡冠区"},{value:230303,text:"恒山区"},{value:230304,text:"滴道区"},{value:230305,text:"梨树区"},{value:230306,text:"城子河区"},{value:230307,text:"麻山区"},{value:230321,text:"鸡东县"},{value:230381,text:"虎林市"},{value:230382,text:"密山市"}]},{value:230400,text:"鹤岗市",children:[{value:230401,text:"市辖区"},{value:230402,text:"向阳区"},{value:230403,text:"工农区"},{value:230404,text:"南山区"},{value:230405,text:"兴安区"},{value:230406,text:"东山区"},{value:230407,text:"兴山区"},{value:230421,text:"萝北县"},{value:230422,text:"绥滨县"}]},{value:230500,text:"双鸭山市",children:[{value:230501,text:"市辖区"},{value:230502,text:"尖山区"},{value:230503,text:"岭东区"},{value:230505,text:"四方台区"},{value:230506,text:"宝山区"},{value:230521,text:"集贤县"},{value:230522,text:"友谊县"},{value:230523,text:"宝清县"},{value:230524,text:"饶河县"}]},{value:230600,text:"大庆市",children:[{value:230601,text:"市辖区"},{value:230602,text:"萨尔图区"},{value:230603,text:"龙凤区"},{value:230604,text:"让胡路区"},{value:230605,text:"红岗区"},{value:230606,text:"大同区"},{value:230621,text:"肇州县"},{value:230622,text:"肇源县"},{value:230623,text:"林甸县"},{value:230624,text:"杜尔伯特蒙古族自治县"}]},{value:230700,text:"伊春市",children:[{value:230701,text:"市辖区"},{value:230702,text:"伊春区"},{value:230703,text:"南岔区"},{value:230704,text:"友好区"},{value:230705,text:"西林区"},{value:230706,text:"翠峦区"},{value:230707,text:"新青区"},{value:230708,text:"美溪区"},{value:230709,text:"金山屯区"},{value:230710,text:"五营区"},{value:230711,text:"乌马河区"},{value:230712,text:"汤旺河区"},{value:230713,text:"带岭区"},{value:230714,text:"乌伊岭区"},{value:230715,text:"红星区"},{value:230716,text:"上甘岭区"},{value:230722,text:"嘉荫县"},{value:230781,text:"铁力市"}]},{value:230800,text:"佳木斯市",children:[{value:230801,text:"市辖区"},{value:230803,text:"向阳区"},{value:230804,text:"前进区"},{value:230805,text:"东风区"},{value:230811,text:"郊区"},{value:230822,text:"桦南县"},{value:230826,text:"桦川县"},{value:230828,text:"汤原县"},{value:230833,text:"抚远县"},{value:230881,text:"同江市"},{value:230882,text:"富锦市"}]},{value:230900,text:"七台河市",children:[{value:230901,text:"市辖区"},{value:230902,text:"新兴区"},{value:230903,text:"桃山区"},{value:230904,text:"茄子河区"},{value:230921,text:"勃利县"}]},{value:231e3,text:"牡丹江市",children:[{value:231001,text:"市辖区"},{value:231002,text:"东安区"},{value:231003,text:"阳明区"},{value:231004,text:"爱民区"},{value:231005,text:"西安区"},{value:231024,text:"东宁县"},{value:231025,text:"林口县"},{value:231081,text:"绥芬河市"},{value:231083,text:"海林市"},{value:231084,text:"宁安市"},{value:231085,text:"穆棱市"}]},{value:231100,text:"黑河市",children:[{value:231101,text:"市辖区"},{value:231102,text:"爱辉区"},{value:231121,text:"嫩江县"},{value:231123,text:"逊克县"},{value:231124,text:"孙吴县"},{value:231181,text:"北安市"},{value:231182,text:"五大连池市"}]},{value:231200,text:"绥化市",children:[{value:231201,text:"市辖区"},{value:231202,text:"北林区"},{value:231221,text:"望奎县"},{value:231222,text:"兰西县"},{value:231223,text:"青冈县"},{value:231224,text:"庆安县"},{value:231225,text:"明水县"},{value:231226,text:"绥棱县"},{value:231281,text:"安达市"},{value:231282,text:"肇东市"},{value:231283,text:"海伦市"}]},{value:232700,text:"大兴安岭地区",children:[{value:232701,text:"加格达奇区"},{value:232702,text:"松岭区"},{value:232703,text:"新林区"},{value:232704,text:"呼中区"},{value:232721,text:"呼玛县"},{value:232722,text:"塔河县"},{value:232723,text:"漠河县"}]}]},{value:31e4,text:"上海市",children:[{value:310100,text:"市辖区",children:[{value:310101,text:"黄浦区"},{value:310103,text:"卢湾区"},{value:310104,text:"徐汇区"},{value:310105,text:"长宁区"},{value:310106,text:"静安区"},{value:310107,text:"普陀区"},{value:310108,text:"闸北区"},{value:310109,text:"虹口区"},{value:310110,text:"杨浦区"},{value:310112,text:"闵行区"},{value:310113,text:"宝山区"},{value:310114,text:"嘉定区"},{value:310115,text:"浦东新区"},{value:310116,text:"金山区"},{value:310117,text:"松江区"},{value:310118,text:"青浦区"},{value:310119,text:"南汇区"},{value:310120,text:"奉贤区"}]},{value:310200,text:"县",children:[{value:310230,text:"崇明县"}]}]},{value:32e4,text:"江苏省",children:[{value:320100,text:"南京市",children:[{value:320101,text:"市辖区"},{value:320102,text:"玄武区"},{value:320103,text:"白下区"},{value:320104,text:"秦淮区"},{value:320105,text:"建邺区"},{value:320106,text:"鼓楼区"},{value:320107,text:"下关区"},{value:320111,text:"浦口区"},{value:320113,text:"栖霞区"},{value:320114,text:"雨花台区"},{value:320115,text:"江宁区"},{value:320116,text:"六合区"},{value:320124,text:"溧水县"},{value:320125,text:"高淳县"}]},{value:320200,text:"无锡市",children:[{value:320201,text:"市辖区"},{value:320202,text:"崇安区"},{value:320203,text:"南长区"},{value:320204,text:"北塘区"},{value:320205,text:"锡山区"},{value:320206,text:"惠山区"},{value:320211,text:"滨湖区"},{value:320281,text:"江阴市"},{value:320282,text:"宜兴市"}]},{value:320300,text:"徐州市",children:[{value:320301,text:"市辖区"},{value:320302,text:"鼓楼区"},{value:320303,text:"云龙区"},{value:320304,text:"九里区"},{value:320305,text:"贾汪区"},{value:320311,text:"泉山区"},{value:320321,text:"丰县"},{value:320322,text:"沛县"},{value:320323,text:"铜山县"},{value:320324,text:"睢宁县"},{value:320381,text:"新沂市"},{value:320382,text:"邳州市"}]},{value:320400,text:"常州市",children:[{value:320401,text:"市辖区"},{value:320402,text:"天宁区"},{value:320404,text:"钟楼区"},{value:320405,text:"戚墅堰区"},{value:320411,text:"新北区"},{value:320412,text:"武进区"},{value:320481,text:"溧阳市"},{value:320482,text:"金坛市"}]},{value:320500,text:"苏州市",children:[{value:320501,text:"市辖区"},{value:320502,text:"沧浪区"},{value:320503,text:"平江区"},{value:320504,text:"金阊区"},{value:320505,text:"虎丘区"},{value:320506,text:"吴中区"},{value:320507,text:"相城区"},{value:320581,text:"常熟市"},{value:320582,text:"张家港市"},{value:320583,text:"昆山市"},{value:320584,text:"吴江市"},{value:320585,text:"太仓市"}]},{value:320600,text:"南通市",children:[{value:320601,text:"市辖区"},{value:320602,text:"崇川区"},{value:320611,text:"港闸区"},{value:320621,text:"海安县"},{value:320623,text:"如东县"},{value:320681,text:"启东市"},{value:320682,text:"如皋市"},{value:320683,text:"通州市"},{value:320684,text:"海门市"}]},{value:320700,text:"连云港市",children:[{value:320701,text:"市辖区"},{value:320703,text:"连云区"},{value:320705,text:"新浦区"},{value:320706,text:"海州区"},{value:320721,text:"赣榆县"},{value:320722,text:"东海县"},{value:320723,text:"灌云县"},{value:320724,text:"灌南县"}]},{value:320800,text:"淮安市",children:[{value:320801,text:"市辖区"},{value:320802,text:"清河区"},{value:320803,text:"楚州区"},{value:320804,text:"淮阴区"},{value:320811,text:"清浦区"},{value:320826,text:"涟水县"},{value:320829,text:"洪泽县"},{value:320830,text:"盱眙县"},{value:320831,text:"金湖县"}]},{value:320900,text:"盐城市",children:[{value:320901,text:"市辖区"},{value:320902,text:"亭湖区"},{value:320903,text:"盐都区"},{value:320921,text:"响水县"},{value:320922,text:"滨海县"},{value:320923,text:"阜宁县"},{value:320924,text:"射阳县"},{value:320925,text:"建湖县"},{value:320981,text:"东台市"},{value:320982,text:"大丰市"}]},{value:321e3,text:"扬州市",children:[{value:321001,text:"市辖区"},{value:321002,text:"广陵区"},{value:321003,text:"邗江区"},{value:321011,text:"维扬区"},{value:321023,text:"宝应县"},{value:321081,text:"仪征市"},{value:321084,text:"高邮市"},{value:321088,text:"江都市"}]},{value:321100,text:"镇江市",children:[{value:321101,text:"市辖区"},{value:321102,text:"京口区"},{value:321111,text:"润州区"},{value:321112,text:"丹徒区"},{value:321181,text:"丹阳市"},{value:321182,text:"扬中市"},{value:321183,text:"句容市"}]},{value:321200,text:"泰州市",children:[{value:321201,text:"市辖区"},{value:321202,text:"海陵区"},{value:321203,text:"高港区"},{value:321281,text:"兴化市"},{value:321282,text:"靖江市"},{value:321283,text:"泰兴市"},{value:321284,text:"姜堰市"}]},{value:321300,text:"宿迁市",children:[{value:321301,text:"市辖区"},{value:321302,text:"宿城区"},{value:321311,text:"宿豫区"},{value:321322,text:"沭阳县"},{value:321323,text:"泗阳县"},{value:321324,text:"泗洪县"}]}]},{value:33e4,text:"浙江省",children:[{value:330100,text:"杭州市",children:[{value:330101,text:"市辖区"},{value:330102,text:"上城区"},{value:330103,text:"下城区"},{value:330104,text:"江干区"},{value:330105,text:"拱墅区"},{value:330106,text:"西湖区"},{value:330108,text:"滨江区"},{value:330109,text:"萧山区"},{value:330110,text:"余杭区"},{value:330122,text:"桐庐县"},{value:330127,text:"淳安县"},{value:330182,text:"建德市"},{value:330183,text:"富阳市"},{value:330185,text:"临安市"}]},{value:330200,text:"宁波市",children:[{value:330201,text:"市辖区"},{value:330203,text:"海曙区"},{value:330204,text:"江东区"},{value:330205,text:"江北区"},{value:330206,text:"北仑区"},{value:330211,text:"镇海区"},{value:330212,text:"鄞州区"},{value:330225,text:"象山县"},{value:330226,text:"宁海县"},{value:330281,text:"余姚市"},{value:330282,text:"慈溪市"},{value:330283,text:"奉化市"}]},{value:330300,text:"温州市",children:[{value:330301,text:"市辖区"},{value:330302,text:"鹿城区"},{value:330303,text:"龙湾区"},{value:330304,text:"瓯海区"},{value:330322,text:"洞头县"},{value:330324,text:"永嘉县"},{value:330326,text:"平阳县"},{value:330327,text:"苍南县"},{value:330328,text:"文成县"},{value:330329,text:"泰顺县"},{value:330381,text:"瑞安市"},{value:330382,text:"乐清市"}]},{value:330400,text:"嘉兴市",children:[{value:330401,text:"市辖区"},{value:330402,text:"秀城区"},{value:330411,text:"秀洲区"},{value:330421,text:"嘉善县"},{value:330424,text:"海盐县"},{value:330481,text:"海宁市"},{value:330482,text:"平湖市"},{value:330483,text:"桐乡市"}]},{value:330500,text:"湖州市",children:[{value:330501,text:"市辖区"},{value:330502,text:"吴兴区"},{value:330503,text:"南浔区"},{value:330521,text:"德清县"},{value:330522,text:"长兴县"},{value:330523,text:"安吉县"}]},{value:330600,text:"绍兴市",children:[{value:330601,text:"市辖区"},{value:330602,text:"越城区"},{value:330621,text:"绍兴县"},{value:330624,text:"新昌县"},{value:330681,text:"诸暨市"},{value:330682,text:"上虞市"},{value:330683,text:"嵊州市"}]},{value:330700,text:"金华市",children:[{value:330701,text:"市辖区"},{value:330702,text:"婺城区"},{value:330703,text:"金东区"},{value:330723,text:"武义县"},{value:330726,text:"浦江县"},{value:330727,text:"磐安县"},{value:330781,text:"兰溪市"},{value:330782,text:"义乌市"},{value:330783,text:"东阳市"},{value:330784,text:"永康市"}]},{value:330800,text:"衢州市",children:[{value:330801,text:"市辖区"},{value:330802,text:"柯城区"},{value:330803,text:"衢江区"},{value:330822,text:"常山县"},{value:330824,text:"开化县"},{value:330825,text:"龙游县"},{value:330881,text:"江山市"}]},{value:330900,text:"舟山市",children:[{value:330901,text:"市辖区"},{value:330902,text:"定海区"},{value:330903,text:"普陀区"},{value:330921,text:"岱山县"},{value:330922,text:"嵊泗县"}]},{value:331e3,text:"台州市",children:[{value:331001,text:"市辖区"},{value:331002,text:"椒江区"},{value:331003,text:"黄岩区"},{value:331004,text:"路桥区"},{value:331021,text:"玉环县"},{value:331022,text:"三门县"},{value:331023,text:"天台县"},{value:331024,text:"仙居县"},{value:331081,text:"温岭市"},{value:331082,text:"临海市"}]},{value:331100,text:"丽水市",children:[{value:331101,text:"市辖区"},{value:331102,text:"莲都区"},{value:331121,text:"青田县"},{value:331122,text:"缙云县"},{value:331123,text:"遂昌县"},{value:331124,text:"松阳县"},{value:331125,text:"云和县"},{value:331126,text:"庆元县"},{value:331127,text:"景宁畲族自治县"},{value:331181,text:"龙泉市"}]}]},{value:34e4,text:"安徽省",children:[{value:340100,text:"合肥市",children:[{value:340101,text:"市辖区"},{value:340102,text:"瑶海区"},{value:340103,text:"庐阳区"},{value:340104,text:"蜀山区"},{value:340111,text:"包河区"},{value:340121,text:"长丰县"},{value:340122,text:"肥东县"},{value:340123,text:"肥西县"}]},{value:340200,text:"芜湖市",children:[{value:340201,text:"市辖区"},{value:340202,text:"镜湖区"},{value:340203,text:"弋江区"},{value:340207,text:"鸠江区"},{value:340208,text:"三山区"},{value:340221,text:"芜湖县"},{value:340222,text:"繁昌县"},{value:340223,text:"南陵县"}]},{value:340300,text:"蚌埠市",children:[{value:340301,text:"市辖区"},{value:340302,text:"龙子湖区"},{value:340303,text:"蚌山区"},{value:340304,text:"禹会区"},{value:340311,text:"淮上区"},{value:340321,text:"怀远县"},{value:340322,text:"五河县"},{value:340323,text:"固镇县"}]},{value:340400,text:"淮南市",children:[{value:340401,text:"市辖区"},{value:340402,text:"大通区"},{value:340403,text:"田家庵区"},{value:340404,text:"谢家集区"},{value:340405,text:"八公山区"},{value:340406,text:"潘集区"},{value:340421,text:"凤台县"}]},{value:340500,text:"马鞍山市",children:[{value:340501,text:"市辖区"},{value:340502,text:"金家庄区"},{value:340503,text:"花山区"},{value:340504,text:"雨山区"},{value:340521,text:"当涂县"}]},{value:340600,text:"淮北市",children:[{value:340601,text:"市辖区"},{value:340602,text:"杜集区"},{value:340603,text:"相山区"},{value:340604,text:"烈山区"},{value:340621,text:"濉溪县"}]},{value:340700,text:"铜陵市",children:[{value:340701,text:"市辖区"},{value:340702,text:"铜官山区"},{value:340703,text:"狮子山区"},{value:340711,text:"郊区"},{value:340721,text:"铜陵县"}]},{value:340800,text:"安庆市",children:[{value:340801,text:"市辖区"},{value:340802,text:"迎江区"},{value:340803,text:"大观区"},{value:340811,text:"宜秀区"},{value:340822,text:"怀宁县"},{value:340823,text:"枞阳县"},{value:340824,text:"潜山县"},{value:340825,text:"太湖县"},{value:340826,text:"宿松县"},{value:340827,text:"望江县"},{value:340828,text:"岳西县"},{value:340881,text:"桐城市"}]},{value:341e3,text:"黄山市",children:[{value:341001,text:"市辖区"},{value:341002,text:"屯溪区"},{value:341003,text:"黄山区"},{value:341004,text:"徽州区"},{value:341021,text:"歙县"},{value:341022,text:"休宁县"},{value:341023,text:"黟县"},{value:341024,text:"祁门县"}]},{value:341100,text:"滁州市",children:[{value:341101,text:"市辖区"},{value:341102,text:"琅琊区"},{value:341103,text:"南谯区"},{value:341122,text:"来安县"},{value:341124,text:"全椒县"},{value:341125,text:"定远县"},{value:341126,text:"凤阳县"},{value:341181,text:"天长市"},{value:341182,text:"明光市"}]},{value:341200,text:"阜阳市",children:[{value:341201,text:"市辖区"},{value:341202,text:"颍州区"},{value:341203,text:"颍东区"},{value:341204,text:"颍泉区"},{value:341221,text:"临泉县"},{value:341222,text:"太和县"},{value:341225,text:"阜南县"},{value:341226,text:"颍上县"},{value:341282,text:"界首市"}]},{value:341300,text:"宿州市",children:[{value:341301,text:"市辖区"},{value:341302,text:"埇桥区"},{value:341321,text:"砀山县"},{value:341322,text:"萧县"},{value:341323,text:"灵璧县"},{value:341324,text:"泗县"}]},{value:341400,text:"巢湖市",children:[{value:341401,text:"市辖区"},{value:341402,text:"居巢区"},{value:341421,text:"庐江县"},{value:341422,text:"无为县"},{value:341423,text:"含山县"},{value:341424,text:"和县"}]},{value:341500,text:"六安市",children:[{value:341501,text:"市辖区"},{value:341502,text:"金安区"},{value:341503,text:"裕安区"},{value:341521,text:"寿县"},{value:341522,text:"霍邱县"},{value:341523,text:"舒城县"},{value:341524,text:"金寨县"},{value:341525,text:"霍山县"}]},{value:341600,text:"亳州市",children:[{value:341601,text:"市辖区"},{value:341602,text:"谯城区"},{value:341621,text:"涡阳县"},{value:341622,text:"蒙城县"},{value:341623,text:"利辛县"}]},{value:341700,text:"池州市",children:[{value:341701,text:"市辖区"},{value:341702,text:"贵池区"},{value:341721,text:"东至县"},{value:341722,text:"石台县"},{value:341723,text:"青阳县"}]},{value:341800,text:"宣城市",children:[{value:341801,text:"市辖区"},{value:341802,text:"宣州区"},{value:341821,text:"郎溪县"},{value:341822,text:"广德县"},{value:341823,text:"泾县"},{value:341824,text:"绩溪县"},{value:341825,text:"旌德县"},{value:341881,text:"宁国市"}]}]},{value:35e4,text:"福建省",children:[{value:350100,text:"福州市",children:[{value:350101,text:"市辖区"},{value:350102,text:"鼓楼区"},{value:350103,text:"台江区"},{value:350104,text:"仓山区"},{value:350105,text:"马尾区"},{value:350111,text:"晋安区"},{value:350121,text:"闽侯县"},{value:350122,text:"连江县"},{value:350123,text:"罗源县"},{value:350124,text:"闽清县"},{value:350125,text:"永泰县"},{value:350128,text:"平潭县"},{value:350181,text:"福清市"},{value:350182,text:"长乐市"}]},{value:350200,text:"厦门市",children:[{value:350201,text:"市辖区"},{value:350203,text:"思明区"},{value:350205,text:"海沧区"},{value:350206,text:"湖里区"},{value:350211,text:"集美区"},{value:350212,text:"同安区"},{value:350213,text:"翔安区"}]},{value:350300,text:"莆田市",children:[{value:350301,text:"市辖区"},{value:350302,text:"城厢区"},{value:350303,text:"涵江区"},{value:350304,text:"荔城区"},{value:350305,text:"秀屿区"},{value:350322,text:"仙游县"}]},{value:350400,text:"三明市",children:[{value:350401,text:"市辖区"},{value:350402,text:"梅列区"},{value:350403,text:"三元区"},{value:350421,text:"明溪县"},{value:350423,text:"清流县"},{value:350424,text:"宁化县"},{value:350425,text:"大田县"},{value:350426,text:"尤溪县"},{value:350427,text:"沙县"},{value:350428,text:"将乐县"},{value:350429,text:"泰宁县"},{value:350430,text:"建宁县"},{value:350481,text:"永安市"}]},{value:350500,text:"泉州市",children:[{value:350501,text:"市辖区"},{value:350502,text:"鲤城区"},{value:350503,text:"丰泽区"},{value:350504,text:"洛江区"},{value:350505,text:"泉港区"},{value:350521,text:"惠安县"},{value:350524,text:"安溪县"},{value:350525,text:"永春县"},{value:350526,text:"德化县"},{value:350527,text:"金门县"},{value:350581,text:"石狮市"},{value:350582,text:"晋江市"},{value:350583,text:"南安市"}]},{value:350600,text:"漳州市",children:[{value:350601,text:"市辖区"},{value:350602,text:"芗城区"},{value:350603,text:"龙文区"},{value:350622,text:"云霄县"},{value:350623,text:"漳浦县"},{value:350624,text:"诏安县"},{value:350625,text:"长泰县"},{value:350626,text:"东山县"},{value:350627,text:"南靖县"},{value:350628,text:"平和县"},{value:350629,text:"华安县"},{value:350681,text:"龙海市"}]},{value:350700,text:"南平市",children:[{value:350701,text:"市辖区"},{value:350702,text:"延平区"},{value:350721,text:"顺昌县"},{value:350722,text:"浦城县"},{value:350723,text:"光泽县"},{value:350724,text:"松溪县"},{value:350725,text:"政和县"},{value:350781,text:"邵武市"},{value:350782,text:"武夷山市"},{value:350783,text:"建瓯市"},{value:350784,text:"建阳市"}]},{value:350800,text:"龙岩市",children:[{value:350801,text:"市辖区"},{value:350802,text:"新罗区"},{value:350821,text:"长汀县"},{value:350822,text:"永定县"},{value:350823,text:"上杭县"},{value:350824,text:"武平县"},{value:350825,text:"连城县"},{value:350881,text:"漳平市"}]},{value:350900,text:"宁德市",children:[{value:350901,text:"市辖区"},{value:350902,text:"蕉城区"},{value:350921,text:"霞浦县"},{value:350922,text:"古田县"},{value:350923,text:"屏南县"},{value:350924,text:"寿宁县"},{value:350925,text:"周宁县"},{value:350926,text:"柘荣县"},{value:350981,text:"福安市"},{value:350982,text:"福鼎市"}]}]},{value:36e4,text:"江西省",children:[{value:360100,text:"南昌市",children:[{value:360101,text:"市辖区"},{value:360102,text:"东湖区"},{value:360103,text:"西湖区"},{value:360104,text:"青云谱区"},{value:360105,text:"湾里区"},{value:360111,text:"青山湖区"},{value:360121,text:"南昌县"},{value:360122,text:"新建县"},{value:360123,text:"安义县"},{value:360124,text:"进贤县"}]},{value:360200,text:"景德镇市",children:[{value:360201,text:"市辖区"},{value:360202,text:"昌江区"},{value:360203,text:"珠山区"},{value:360222,text:"浮梁县"},{value:360281,text:"乐平市"}]},{value:360300,text:"萍乡市",children:[{value:360301,text:"市辖区"},{value:360302,text:"安源区"},{value:360313,text:"湘东区"},{value:360321,text:"莲花县"},{value:360322,text:"上栗县"},{value:360323,text:"芦溪县"}]},{value:360400,text:"九江市",children:[{value:360401,text:"市辖区"},{value:360402,text:"庐山区"},{value:360403,text:"浔阳区"},{value:360421,text:"九江县"},{value:360423,text:"武宁县"},{value:360424,text:"修水县"},{value:360425,text:"永修县"},{value:360426,text:"德安县"},{value:360427,text:"星子县"},{value:360428,text:"都昌县"},{value:360429,text:"湖口县"},{value:360430,text:"彭泽县"},{value:360481,text:"瑞昌市"}]},{value:360500,text:"新余市",children:[{value:360501,text:"市辖区"},{value:360502,text:"渝水区"},{value:360521,text:"分宜县"}]},{value:360600,text:"鹰潭市",children:[{value:360601,text:"市辖区"},{value:360602,text:"月湖区"},{value:360622,text:"余江县"},{value:360681,text:"贵溪市"}]},{value:360700,text:"赣州市",children:[{value:360701,text:"市辖区"},{value:360702,text:"章贡区"},{value:360721,text:"赣县"},{value:360722,text:"信丰县"},{value:360723,text:"大余县"},{value:360724,text:"上犹县"},{value:360725,text:"崇义县"},{value:360726,text:"安远县"},{value:360727,text:"龙南县"},{value:360728,text:"定南县"},{value:360729,text:"全南县"},{value:360730,text:"宁都县"},{value:360731,text:"于都县"},{value:360732,text:"兴国县"},{value:360733,text:"会昌县"},{value:360734,text:"寻乌县"},{value:360735,text:"石城县"},{value:360781,text:"瑞金市"},{value:360782,text:"南康市"}]},{value:360800,text:"吉安市",children:[{value:360801,text:"市辖区"},{value:360802,text:"吉州区"},{value:360803,text:"青原区"},{value:360821,text:"吉安县"},{value:360822,text:"吉水县"},{value:360823,text:"峡江县"},{value:360824,text:"新干县"},{value:360825,text:"永丰县"},{value:360826,text:"泰和县"},{value:360827,text:"遂川县"},{value:360828,text:"万安县"},{value:360829,text:"安福县"},{value:360830,text:"永新县"},{value:360881,text:"井冈山市"}]},{value:360900,text:"宜春市",children:[{value:360901,text:"市辖区"},{value:360902,text:"袁州区"},{value:360921,text:"奉新县"},{value:360922,text:"万载县"},{value:360923,text:"上高县"},{value:360924,text:"宜丰县"},{value:360925,text:"靖安县"},{value:360926,text:"铜鼓县"},{value:360981,text:"丰城市"},{value:360982,text:"樟树市"},{value:360983,text:"高安市"}]},{value:361e3,text:"抚州市",children:[{value:361001,text:"市辖区"},{value:361002,text:"临川区"},{value:361021,text:"南城县"},{value:361022,text:"黎川县"},{value:361023,text:"南丰县"},{value:361024,text:"崇仁县"},{value:361025,text:"乐安县"},{value:361026,text:"宜黄县"},{value:361027,text:"金溪县"},{value:361028,text:"资溪县"},{value:361029,text:"东乡县"},{value:361030,text:"广昌县"}]},{value:361100,text:"上饶市",children:[{value:361101,text:"市辖区"},{value:361102,text:"信州区"},{value:361121,text:"上饶县"},{value:361122,text:"广丰县"},{value:361123,text:"玉山县"},{value:361124,text:"铅山县"},{value:361125,text:"横峰县"},{value:361126,text:"弋阳县"},{value:361127,text:"余干县"},{value:361128,text:"鄱阳县"},{value:361129,text:"万年县"},{value:361130,text:"婺源县"},{value:361181,text:"德兴市"}]}]},{value:37e4,text:"山东省",children:[{value:370100,text:"济南市",children:[{value:370101,text:"市辖区"},{value:370102,text:"历下区"},{value:370103,text:"市中区"},{value:370104,text:"槐荫区"},{value:370105,text:"天桥区"},{value:370112,text:"历城区"},{value:370113,text:"长清区"},{value:370124,text:"平阴县"},{value:370125,text:"济阳县"},{value:370126,text:"商河县"},{value:370181,text:"章丘市"}]},{value:370200,text:"青岛市",children:[{value:370201,text:"市辖区"},{value:370202,text:"市南区"},{value:370203,text:"市北区"},{value:370205,text:"四方区"},{value:370211,text:"黄岛区"},{value:370212,text:"崂山区"},{value:370213,text:"李沧区"},{value:370214,text:"城阳区"},{value:370281,text:"胶州市"},{value:370282,text:"即墨市"},{value:370283,text:"平度市"},{value:370284,text:"胶南市"},{value:370285,text:"莱西市"}]},{value:370300,text:"淄博市",children:[{value:370301,text:"市辖区"},{value:370302,text:"淄川区"},{value:370303,text:"张店区"},{value:370304,text:"博山区"},{value:370305,text:"临淄区"},{value:370306,text:"周村区"},{value:370321,text:"桓台县"},{value:370322,text:"高青县"},{value:370323,text:"沂源县"}]},{value:370400,text:"枣庄市",children:[{value:370401,text:"市辖区"},{value:370402,text:"市中区"},{value:370403,text:"薛城区"},{value:370404,text:"峄城区"},{value:370405,text:"台儿庄区"},{value:370406,text:"山亭区"},{value:370481,text:"滕州市"}]},{value:370500,text:"东营市",children:[{value:370501,text:"市辖区"},{value:370502,text:"东营区"},{value:370503,text:"河口区"},{value:370521,text:"垦利县"},{value:370522,text:"利津县"},{value:370523,text:"广饶县"}]},{value:370600,text:"烟台市",children:[{value:370601,text:"市辖区"},{value:370602,text:"芝罘区"},{value:370611,text:"福山区"},{value:370612,text:"牟平区"},{value:370613,text:"莱山区"},{value:370634,text:"长岛县"},{value:370681,text:"龙口市"},{value:370682,text:"莱阳市"},{value:370683,text:"莱州市"},{value:370684,text:"蓬莱市"},{value:370685,text:"招远市"},{value:370686,text:"栖霞市"},{value:370687,text:"海阳市"}]},{value:370700,text:"潍坊市",children:[{value:370701,text:"市辖区"},{value:370702,text:"潍城区"},{value:370703,text:"寒亭区"},{value:370704,text:"坊子区"},{value:370705,text:"奎文区"},{value:370724,text:"临朐县"},{value:370725,text:"昌乐县"},{value:370781,text:"青州市"},{value:370782,text:"诸城市"},{value:370783,text:"寿光市"},{value:370784,text:"安丘市"},{value:370785,text:"高密市"},{value:370786,text:"昌邑市"}]},{value:370800,text:"济宁市",children:[{value:370801,text:"市辖区"},{value:370802,text:"市中区"},{value:370811,text:"任城区"},{value:370826,text:"微山县"},{value:370827,text:"鱼台县"},{value:370828,text:"金乡县"},{value:370829,text:"嘉祥县"},{value:370830,text:"汶上县"},{value:370831,text:"泗水县"},{value:370832,text:"梁山县"},{value:370881,text:"曲阜市"},{value:370882,text:"兖州市"},{value:370883,text:"邹城市"}]},{value:370900,text:"泰安市",children:[{value:370901,text:"市辖区"},{value:370902,text:"泰山区"},{value:370903,text:"岱岳区"},{value:370921,text:"宁阳县"},{value:370923,text:"东平县"},{value:370982,text:"新泰市"},{value:370983,text:"肥城市"}]},{value:371e3,text:"威海市",children:[{value:371001,text:"市辖区"},{value:371002,text:"环翠区"},{value:371081,text:"文登市"},{value:371082,text:"荣成市"},{value:371083,text:"乳山市"}]},{value:371100,text:"日照市",children:[{value:371101,text:"市辖区"},{value:371102,text:"东港区"},{value:371103,text:"岚山区"},{value:371121,text:"五莲县"},{value:371122,text:"莒县"}]},{value:371200,text:"莱芜市",children:[{value:371201,text:"市辖区"},{value:371202,text:"莱城区"},{value:371203,text:"钢城区"}]},{value:371300,text:"临沂市",children:[{value:371301,text:"市辖区"},{value:371302,text:"兰山区"},{value:371311,text:"罗庄区"},{value:371312,text:"河东区"},{value:371321,text:"沂南县"},{value:371322,text:"郯城县"},{value:371323,text:"沂水县"},{value:371324,text:"苍山县"},{value:371325,text:"费县"},{value:371326,text:"平邑县"},{value:371327,text:"莒南县"},{value:371328,text:"蒙阴县"},{value:371329,text:"临沭县"}]},{value:371400,text:"德州市",children:[{value:371401,text:"市辖区"},{value:371402,text:"德城区"},{value:371421,text:"陵县"},{value:371422,text:"宁津县"},{value:371423,text:"庆云县"},{value:371424,text:"临邑县"},{value:371425,text:"齐河县"},{value:371426,text:"平原县"},{value:371427,text:"夏津县"},{value:371428,text:"武城县"},{value:371481,text:"乐陵市"},{value:371482,text:"禹城市"}]},{value:371500,text:"聊城市",children:[{value:371501,text:"市辖区"},{value:371502,text:"东昌府区"},{value:371521,text:"阳谷县"},{value:371522,text:"莘县"},{value:371523,text:"茌平县"},{value:371524,text:"东阿县"},{value:371525,text:"冠县"},{value:371526,text:"高唐县"},{value:371581,text:"临清市"}]},{value:371600,text:"滨州市",children:[{value:371601,text:"市辖区"},{value:371602,text:"滨城区"},{value:371621,text:"惠民县"},{value:371622,text:"阳信县"},{value:371623,text:"无棣县"},{value:371624,text:"沾化县"},{value:371625,text:"博兴县"},{value:371626,text:"邹平县"}]},{value:371700,text:"菏泽市",children:[{value:371701,text:"市辖区"},{value:371702,text:"牡丹区"},{value:371721,text:"曹县"},{value:371722,text:"单县"},{value:371723,text:"成武县"},{value:371724,text:"巨野县"},{value:371725,text:"郓城县"},{value:371726,text:"鄄城县"},{value:371727,text:"定陶县"},{value:371728,text:"东明县"}]}]},{value:41e4,text:"河南省",children:[{value:410100,text:"郑州市",children:[{value:410101,text:"市辖区"},{value:410102,text:"中原区"},{value:410103,text:"二七区"},{value:410104,text:"管城回族区"},{value:410105,text:"金水区"},{value:410106,text:"上街区"},{value:410108,text:"惠济区"},{value:410122,text:"中牟县"},{value:410181,text:"巩义市"},{value:410182,text:"荥阳市"},{value:410183,text:"新密市"},{value:410184,text:"新郑市"},{value:410185,text:"登封市"}]},{value:410200,text:"开封市",children:[{value:410201,text:"市辖区"},{value:410202,text:"龙亭区"},{value:410203,text:"顺河回族区"},{value:410204,text:"鼓楼区"},{value:410205,text:"禹王台区"},{value:410211,text:"金明区"},{value:410221,text:"杞县"},{value:410222,text:"通许县"},{value:410223,text:"尉氏县"},{value:410224,text:"开封县"},{value:410225,text:"兰考县"}]},{value:410300,text:"洛阳市",children:[{value:410301,text:"市辖区"},{value:410302,text:"老城区"},{value:410303,text:"西工区"},{value:410304,text:"廛河回族区"},{value:410305,text:"涧西区"},{value:410306,text:"吉利区"},{value:410307,text:"洛龙区"},{value:410322,text:"孟津县"},{value:410323,text:"新安县"},{value:410324,text:"栾川县"},{value:410325,text:"嵩县"},{value:410326,text:"汝阳县"},{value:410327,text:"宜阳县"},{value:410328,text:"洛宁县"},{value:410329,text:"伊川县"},{value:410381,text:"偃师市"}]},{value:410400,text:"平顶山市",children:[{value:410401,text:"市辖区"},{value:410402,text:"新华区"},{value:410403,text:"卫东区"},{value:410404,text:"石龙区"},{value:410411,text:"湛河区"},{value:410421,text:"宝丰县"},{value:410422,text:"叶县"},{value:410423,text:"鲁山县"},{value:410425,text:"郏县"},{value:410481,text:"舞钢市"},{value:410482,text:"汝州市"}]},{value:410500,text:"安阳市",children:[{value:410501,text:"市辖区"},{value:410502,text:"文峰区"},{value:410503,text:"北关区"},{value:410505,text:"殷都区"},{value:410506,text:"龙安区"},{value:410522,text:"安阳县"},{value:410523,text:"汤阴县"},{value:410526,text:"滑县"},{value:410527,text:"内黄县"},{value:410581,text:"林州市"}]},{value:410600,text:"鹤壁市",children:[{value:410601,text:"市辖区"},{value:410602,text:"鹤山区"},{value:410603,text:"山城区"},{value:410611,text:"淇滨区"},{value:410621,text:"浚县"},{value:410622,text:"淇县"}]},{value:410700,text:"新乡市",children:[{value:410701,text:"市辖区"},{value:410702,text:"红旗区"},{value:410703,text:"卫滨区"},{value:410704,text:"凤泉区"},{value:410711,text:"牧野区"},{value:410721,text:"新乡县"},{value:410724,text:"获嘉县"},{value:410725,text:"原阳县"},{value:410726,text:"延津县"},{value:410727,text:"封丘县"},{value:410728,text:"长垣县"},{value:410781,text:"卫辉市"},{value:410782,text:"辉县市"}]},{value:410800,text:"焦作市",children:[{value:410801,text:"市辖区"},{value:410802,text:"解放区"},{value:410803,text:"中站区"},{value:410804,text:"马村区"},{value:410811,text:"山阳区"},{value:410821,text:"修武县"},{value:410822,text:"博爱县"},{value:410823,text:"武陟县"},{value:410825,text:"温县"},{value:410881,text:"济源市"},{value:410882,text:"沁阳市"},{value:410883,text:"孟州市"}]},{value:410900,text:"濮阳市",children:[{value:410901,text:"市辖区"},{value:410902,text:"华龙区"},{value:410922,text:"清丰县"},{value:410923,text:"南乐县"},{value:410926,text:"范县"},{value:410927,text:"台前县"},{value:410928,text:"濮阳县"}]},{value:411e3,text:"许昌市",children:[{value:411001,text:"市辖区"},{value:411002,text:"魏都区"},{value:411023,text:"许昌县"},{value:411024,text:"鄢陵县"},{value:411025,text:"襄城县"},{value:411081,text:"禹州市"},{value:411082,text:"长葛市"}]},{value:411100,text:"漯河市",children:[{value:411101,text:"市辖区"},{value:411102,text:"源汇区"},{value:411103,text:"郾城区"},{value:411104,text:"召陵区"},{value:411121,text:"舞阳县"},{value:411122,text:"临颍县"}]},{value:411200,text:"三门峡市",children:[{value:411201,text:"市辖区"},{value:411202,text:"湖滨区"},{value:411221,text:"渑池县"},{value:411222,text:"陕县"},{value:411224,text:"卢氏县"},{value:411281,text:"义马市"},{value:411282,text:"灵宝市"}]},{value:411300,text:"南阳市",children:[{value:411301,text:"市辖区"},{value:411302,text:"宛城区"},{value:411303,text:"卧龙区"},{value:411321,text:"南召县"},{value:411322,text:"方城县"},{value:411323,text:"西峡县"},{value:411324,text:"镇平县"},{value:411325,text:"内乡县"},{value:411326,text:"淅川县"},{value:411327,text:"社旗县"},{value:411328,text:"唐河县"},{value:411329,text:"新野县"},{value:411330,text:"桐柏县"},{value:411381,text:"邓州市"}]},{value:411400,text:"商丘市",children:[{value:411401,text:"市辖区"},{value:411402,text:"梁园区"},{value:411403,text:"睢阳区"},{value:411421,text:"民权县"},{value:411422,text:"睢县"},{value:411423,text:"宁陵县"},{value:411424,text:"柘城县"},{value:411425,text:"虞城县"},{value:411426,text:"夏邑县"},{value:411481,text:"永城市"}]},{value:411500,text:"信阳市",children:[{value:411501,text:"市辖区"},{value:411502,text:"浉河区"},{value:411503,text:"平桥区"},{value:411521,text:"罗山县"},{value:411522,text:"光山县"},{value:411523,text:"新县"},{value:411524,text:"商城县"},{value:411525,text:"固始县"},{value:411526,text:"潢川县"},{value:411527,text:"淮滨县"},{value:411528,text:"息县"}]},{value:411600,text:"周口市",children:[{value:411601,text:"市辖区"},{value:411602,text:"川汇区"},{value:411621,text:"扶沟县"},{value:411622,text:"西华县"},{value:411623,text:"商水县"},{value:411624,text:"沈丘县"},{value:411625,text:"郸城县"},{value:411626,text:"淮阳县"},{value:411627,text:"太康县"},{value:411628,text:"鹿邑县"},{value:411681,text:"项城市"}]},{value:411700,text:"驻马店市",children:[{value:411701,text:"市辖区"},{value:411702,text:"驿城区"},{value:411721,text:"西平县"},{value:411722,text:"上蔡县"},{value:411723,text:"平舆县"},{value:411724,text:"正阳县"},{value:411725,text:"确山县"},{value:411726,text:"泌阳县"},{value:411727,text:"汝南县"},{value:411728,text:"遂平县"},{value:411729,text:"新蔡县"}]}]},{value:42e4,text:"湖北省",children:[{value:420100,text:"武汉市",children:[{value:420101,text:"市辖区"},{value:420102,text:"江岸区"},{value:420103,text:"江汉区"},{value:420104,text:"硚口区"},{value:420105,text:"汉阳区"},{value:420106,text:"武昌区"},{value:420107,text:"青山区"},{value:420111,text:"洪山区"},{value:420112,text:"东西湖区"},{value:420113,text:"汉南区"},{value:420114,text:"蔡甸区"},{value:420115,text:"江夏区"},{value:420116,text:"黄陂区"},{value:420117,text:"新洲区"}]},{value:420200,text:"黄石市",children:[{value:420201,text:"市辖区"},{value:420202,text:"黄石港区"},{value:420203,text:"西塞山区"},{value:420204,text:"下陆区"},{value:420205,text:"铁山区"},{value:420222,text:"阳新县"},{value:420281,text:"大冶市"}]},{value:420300,text:"十堰市",children:[{value:420301,text:"市辖区"},{value:420302,text:"茅箭区"},{value:420303,text:"张湾区"},{value:420321,text:"郧县"},{value:420322,text:"郧西县"},{value:420323,text:"竹山县"},{value:420324,text:"竹溪县"},{value:420325,text:"房县"},{value:420381,text:"丹江口市"}]},{value:420500,text:"宜昌市",children:[{value:420501,text:"市辖区"},{value:420502,text:"西陵区"},{value:420503,text:"伍家岗区"},{value:420504,text:"点军区"},{value:420505,text:"猇亭区"},{value:420506,text:"夷陵区"},{value:420525,text:"远安县"},{value:420526,text:"兴山县"},{value:420527,text:"秭归县"},{value:420528,text:"长阳土家族自治县"},{value:420529,text:"五峰土家族自治县"},{value:420581,text:"宜都市"},{value:420582,text:"当阳市"},{value:420583,text:"枝江市"}]},{value:420600,text:"襄樊市",children:[{value:420601,text:"市辖区"},{value:420602,text:"襄城区"},{value:420606,text:"樊城区"},{value:420607,text:"襄阳区"},{value:420624,text:"南漳县"},{value:420625,text:"谷城县"},{value:420626,text:"保康县"},{value:420682,text:"老河口市"},{value:420683,text:"枣阳市"},{value:420684,text:"宜城市"}]},{value:420700,text:"鄂州市",children:[{value:420701,text:"市辖区"},{value:420702,text:"梁子湖区"},{value:420703,text:"华容区"},{value:420704,text:"鄂城区"}]},{value:420800,text:"荆门市",children:[{value:420801,text:"市辖区"},{value:420802,text:"东宝区"},{value:420804,text:"掇刀区"},{value:420821,text:"京山县"},{value:420822,text:"沙洋县"},{value:420881,text:"钟祥市"}]},{value:420900,text:"孝感市",children:[{value:420901,text:"市辖区"},{value:420902,text:"孝南区"},{value:420921,text:"孝昌县"},{value:420922,text:"大悟县"},{value:420923,text:"云梦县"},{value:420981,text:"应城市"},{value:420982,text:"安陆市"},{value:420984,text:"汉川市"}]},{value:421e3,text:"荆州市",children:[{value:421001,text:"市辖区"},{value:421002,text:"沙市区"},{value:421003,text:"荆州区"},{value:421022,text:"公安县"},{value:421023,text:"监利县"},{value:421024,text:"江陵县"},{value:421081,text:"石首市"},{value:421083,text:"洪湖市"},{value:421087,text:"松滋市"}]},{value:421100,text:"黄冈市",children:[{value:421101,text:"市辖区"},{value:421102,text:"黄州区"},{value:421121,text:"团风县"},{value:421122,text:"红安县"},{value:421123,text:"罗田县"},{value:421124,text:"英山县"},{value:421125,text:"浠水县"},{value:421126,text:"蕲春县"},{value:421127,text:"黄梅县"},{value:421181,text:"麻城市"},{value:421182,text:"武穴市"}]},{value:421200,text:"咸宁市",children:[{value:421201,text:"市辖区"},{value:421202,text:"咸安区"},{value:421221,text:"嘉鱼县"},{value:421222,text:"通城县"},{value:421223,text:"崇阳县"},{value:421224,text:"通山县"},{value:421281,text:"赤壁市"}]},{value:421300,text:"随州市",children:[{value:421301,text:"市辖区"},{value:421302,text:"曾都区"},{value:421381,text:"广水市"}]},{value:422800,text:"恩施土家族苗族自治州",children:[{value:422801,text:"恩施市"},{value:422802,text:"利川市"},{value:422822,text:"建始县"},{value:422823,text:"巴东县"},{value:422825,text:"宣恩县"},{value:422826,text:"咸丰县"},{value:422827,text:"来凤县"},{value:422828,text:"鹤峰县"}]},{value:429e3,text:"省直辖行政单位",children:[{value:429004,text:"仙桃市"},{value:429005,text:"潜江市"},{value:429006,text:"天门市"},{value:429021,text:"神农架林区"}]}]},{value:43e4,text:"湖南省",children:[{value:430100,text:"长沙市",children:[{value:430101,text:"市辖区"},{value:430102,text:"芙蓉区"},{value:430103,text:"天心区"},{value:430104,text:"岳麓区"},{value:430105,text:"开福区"},{value:430111,text:"雨花区"},{value:430121,text:"长沙县"},{value:430122,text:"望城县"},{value:430124,text:"宁乡县"},{value:430181,text:"浏阳市"}]},{value:430200,text:"株洲市",children:[{value:430201,text:"市辖区"},{value:430202,text:"荷塘区"},{value:430203,text:"芦淞区"},{value:430204,text:"石峰区"},{value:430211,text:"天元区"},{value:430221,text:"株洲县"},{value:430223,text:"攸县"},{value:430224,text:"茶陵县"},{value:430225,text:"炎陵县"},{value:430281,text:"醴陵市"}]},{value:430300,text:"湘潭市",children:[{value:430301,text:"市辖区"},{value:430302,text:"雨湖区"},{value:430304,text:"岳塘区"},{value:430321,text:"湘潭县"},{value:430381,text:"湘乡市"},{value:430382,text:"韶山市"}]},{value:430400,text:"衡阳市",children:[{value:430401,text:"市辖区"},{value:430405,text:"珠晖区"},{value:430406,text:"雁峰区"},{value:430407,text:"石鼓区"},{value:430408,text:"蒸湘区"},{value:430412,text:"南岳区"},{value:430421,text:"衡阳县"},{value:430422,text:"衡南县"},{value:430423,text:"衡山县"},{value:430424,text:"衡东县"},{value:430426,text:"祁东县"},{value:430481,text:"耒阳市"},{value:430482,text:"常宁市"}]},{value:430500,text:"邵阳市",children:[{value:430501,text:"市辖区"},{value:430502,text:"双清区"},{value:430503,text:"大祥区"},{value:430511,text:"北塔区"},{value:430521,text:"邵东县"},{value:430522,text:"新邵县"},{value:430523,text:"邵阳县"},{value:430524,text:"隆回县"},{value:430525,text:"洞口县"},{value:430527,text:"绥宁县"},{value:430528,text:"新宁县"},{value:430529,text:"城步苗族自治县"},{value:430581,text:"武冈市"}]},{value:430600,text:"岳阳市",children:[{value:430601,text:"市辖区"},{value:430602,text:"岳阳楼区"},{value:430603,text:"云溪区"},{value:430611,text:"君山区"},{value:430621,text:"岳阳县"},{value:430623,text:"华容县"},{value:430624,text:"湘阴县"},{value:430626,text:"平江县"},{value:430681,text:"汨罗市"},{value:430682,text:"临湘市"}]},{value:430700,text:"常德市",children:[{value:430701,text:"市辖区"},{value:430702,text:"武陵区"},{value:430703,text:"鼎城区"},{value:430721,text:"安乡县"},{value:430722,text:"汉寿县"},{value:430723,text:"澧县"},{value:430724,text:"临澧县"},{value:430725,text:"桃源县"},{value:430726,text:"石门县"},{value:430781,text:"津市市"}]},{value:430800,text:"张家界市",children:[{value:430801,text:"市辖区"},{value:430802,text:"永定区"},{value:430811,text:"武陵源区"},{value:430821,text:"慈利县"},{value:430822,text:"桑植县"}]},{value:430900,text:"益阳市",children:[{value:430901,text:"市辖区"},{value:430902,text:"资阳区"},{value:430903,text:"赫山区"},{value:430921,text:"南县"},{value:430922,text:"桃江县"},{value:430923,text:"安化县"},{value:430981,text:"沅江市"}]},{value:431e3,text:"郴州市",children:[{value:431001,text:"市辖区"},{value:431002,text:"北湖区"},{value:431003,text:"苏仙区"},{value:431021,text:"桂阳县"},{value:431022,text:"宜章县"},{value:431023,text:"永兴县"},{value:431024,text:"嘉禾县"},{value:431025,text:"临武县"},{value:431026,text:"汝城县"},{value:431027,text:"桂东县"},{value:431028,text:"安仁县"},{value:431081,text:"资兴市"}]},{value:431100,text:"永州市",children:[{value:431101,text:"市辖区"},{value:431102,text:"零陵区"},{value:431103,text:"冷水滩区"},{value:431121,text:"祁阳县"},{value:431122,text:"东安县"},{value:431123,text:"双牌县"},{value:431124,text:"道县"},{value:431125,text:"江永县"},{value:431126,text:"宁远县"},{value:431127,text:"蓝山县"},{value:431128,text:"新田县"},{value:431129,text:"江华瑶族自治县"}]},{value:431200,text:"怀化市",children:[{value:431201,text:"市辖区"},{value:431202,text:"鹤城区"},{value:431221,text:"中方县"},{value:431222,text:"沅陵县"},{value:431223,text:"辰溪县"},{value:431224,text:"溆浦县"},{value:431225,text:"会同县"},{value:431226,text:"麻阳苗族自治县"},{value:431227,text:"新晃侗族自治县"},{value:431228,text:"芷江侗族自治县"},{value:431229,text:"靖州苗族侗族自治县"},{value:431230,text:"通道侗族自治县"},{value:431281,text:"洪江市"}]},{value:431300,text:"娄底市",children:[{value:431301,text:"市辖区"},{value:431302,text:"娄星区"},{value:431321,text:"双峰县"},{value:431322,text:"新化县"},{value:431381,text:"冷水江市"},{value:431382,text:"涟源市"}]},{value:433100,text:"湘西土家族苗族自治州",children:[{value:433101,text:"吉首市"},{value:433122,text:"泸溪县"},{value:433123,text:"凤凰县"},{value:433124,text:"花垣县"},{value:433125,text:"保靖县"},{value:433126,text:"古丈县"},{value:433127,text:"永顺县"},{value:433130,text:"龙山县"}]}]},{value:44e4,text:"广东省",children:[{value:440100,text:"广州市",children:[{value:440101,text:"市辖区"},{value:440103,text:"荔湾区"},{value:440104,text:"越秀区"},{value:440105,text:"海珠区"},{value:440106,text:"天河区"},{value:440111,text:"白云区"},{value:440112,text:"黄埔区"},{value:440113,text:"番禺区"},{value:440114,text:"花都区"},{value:440115,text:"南沙区"},{value:440116,text:"萝岗区"},{value:440183,text:"增城市"},{value:440184,text:"从化市"}]},{value:440200,text:"韶关市",children:[{value:440201,text:"市辖区"},{value:440203,text:"武江区"},{value:440204,text:"浈江区"},{value:440205,text:"曲江区"},{value:440222,text:"始兴县"},{value:440224,text:"仁化县"},{value:440229,text:"翁源县"},{value:440232,text:"乳源瑶族自治县"},{value:440233,text:"新丰县"},{value:440281,text:"乐昌市"},{value:440282,text:"南雄市"}]},{value:440300,text:"深圳市",children:[{value:440301,text:"市辖区"},{value:440303,text:"罗湖区"},{value:440304,text:"福田区"},{value:440305,text:"南山区"},{value:440306,text:"宝安区"},{value:440307,text:"龙岗区"},{value:440308,text:"盐田区"}]},{value:440400,text:"珠海市",children:[{value:440401,text:"市辖区"},{value:440402,text:"香洲区"},{value:440403,text:"斗门区"},{value:440404,text:"金湾区"}]},{value:440500,text:"汕头市",children:[{value:440501,text:"市辖区"},{value:440507,text:"龙湖区"},{value:440511,text:"金平区"},{value:440512,text:"濠江区"},{value:440513,text:"潮阳区"},{value:440514,text:"潮南区"},{value:440515,text:"澄海区"},{value:440523,text:"南澳县"}]},{value:440600,text:"佛山市",children:[{value:440601,text:"市辖区"},{value:440604,text:"禅城区"},{value:440605,text:"南海区"},{value:440606,text:"顺德区"},{value:440607,text:"三水区"},{value:440608,text:"高明区"}]},{value:440700,text:"江门市",children:[{value:440701,text:"市辖区"},{value:440703,text:"蓬江区"},{value:440704,text:"江海区"},{value:440705,text:"新会区"},{value:440781,text:"台山市"},{value:440783,text:"开平市"},{value:440784,text:"鹤山市"},{value:440785,text:"恩平市"}]},{value:440800,text:"湛江市",children:[{value:440801,text:"市辖区"},{value:440802,text:"赤坎区"},{value:440803,text:"霞山区"},{value:440804,text:"坡头区"},{value:440811,text:"麻章区"},{value:440823,text:"遂溪县"},{value:440825,text:"徐闻县"},{value:440881,text:"廉江市"},{value:440882,text:"雷州市"},{value:440883,text:"吴川市"}]},{value:440900,text:"茂名市",children:[{value:440901,text:"市辖区"},{value:440902,text:"茂南区"},{value:440903,text:"茂港区"},{value:440923,text:"电白县"},{value:440981,text:"高州市"},{value:440982,text:"化州市"},{value:440983,text:"信宜市"}]},{value:441200,text:"肇庆市",children:[{value:441201,text:"市辖区"},{value:441202,text:"端州区"},{value:441203,text:"鼎湖区"},{value:441223,text:"广宁县"},{value:441224,text:"怀集县"},{value:441225,text:"封开县"},{value:441226,text:"德庆县"},{value:441283,text:"高要市"},{value:441284,text:"四会市"}]},{value:441300,text:"惠州市",children:[{value:441301,text:"市辖区"},{value:441302,text:"惠城区"},{value:441303,text:"惠阳区"},{value:441322,text:"博罗县"},{value:441323,text:"惠东县"},{value:441324,text:"龙门县"}]},{value:441400,text:"梅州市",children:[{value:441401,text:"市辖区"},{value:441402,text:"梅江区"},{value:441421,text:"梅县"},{value:441422,text:"大埔县"},{value:441423,text:"丰顺县"},{value:441424,text:"五华县"},{value:441426,text:"平远县"},{value:441427,text:"蕉岭县"},{value:441481,text:"兴宁市"}]},{value:441500,text:"汕尾市",children:[{value:441501,text:"市辖区"},{value:441502,text:"城区"},{value:441521,text:"海丰县"},{value:441523,text:"陆河县"},{value:441581,text:"陆丰市"}]},{value:441600,text:"河源市",children:[{value:441601,text:"市辖区"},{value:441602,text:"源城区"},{value:441621,text:"紫金县"},{value:441622,text:"龙川县"},{value:441623,text:"连平县"},{value:441624,text:"和平县"},{value:441625,text:"东源县"}]},{value:441700,text:"阳江市",children:[{value:441701,text:"市辖区"},{value:441702,text:"江城区"},{value:441721,text:"阳西县"},{value:441723,text:"阳东县"},{value:441781,text:"阳春市"}]},{value:441800,text:"清远市",children:[{value:441801,text:"市辖区"},{value:441802,text:"清城区"},{value:441821,text:"佛冈县"},{value:441823,text:"阳山县"},{value:441825,text:"连山壮族瑶族自治县"},{value:441826,text:"连南瑶族自治县"},{value:441827,text:"清新县"},{value:441881,text:"英德市"},{value:441882,text:"连州市"}]},{value:441900,text:"东莞市",children:[{value:441901,text:"东莞市市辖区"}]},{value:442e3,text:"中山市",children:[{value:442001,text:"中山市市辖区"}]},{value:445100,text:"潮州市",children:[{value:445101,text:"市辖区"},{value:445102,text:"湘桥区"},{value:445121,text:"潮安县"},{value:445122,text:"饶平县"}]},{value:445200,text:"揭阳市",children:[{value:445201,text:"市辖区"},{value:445202,text:"榕城区"},{value:445221,text:"揭东县"},{value:445222,text:"揭西县"},{value:445224,text:"惠来县"},{value:445281,text:"普宁市"}]},{value:445300,text:"云浮市",children:[{value:445301,text:"市辖区"},{value:445302,text:"云城区"},{value:445321,text:"新兴县"},{value:445322,text:"郁南县"},{value:445323,text:"云安县"},{value:445381,text:"罗定市"}]}]},{value:45e4,text:"广西壮族自治区",children:[{value:450100,text:"南宁市",children:[{value:450101,text:"市辖区"},{value:450102,text:"兴宁区"},{value:450103,text:"青秀区"},{value:450105,text:"江南区"},{value:450107,text:"西乡塘区"},{value:450108,text:"良庆区"},{value:450109,text:"邕宁区"},{value:450122,text:"武鸣县"},{value:450123,text:"隆安县"},{value:450124,text:"马山县"},{value:450125,text:"上林县"},{value:450126,text:"宾阳县"},{value:450127,text:"横县"}]},{value:450200,text:"柳州市",children:[{value:450201,text:"市辖区"},{value:450202,text:"城中区"},{value:450203,text:"鱼峰区"},{value:450204,text:"柳南区"},{value:450205,text:"柳北区"},{value:450221,text:"柳江县"},{value:450222,text:"柳城县"},{value:450223,text:"鹿寨县"},{value:450224,text:"融安县"},{value:450225,text:"融水苗族自治县"},{value:450226,text:"三江侗族自治县"}]},{value:450300,text:"桂林市",children:[{value:450301,text:"市辖区"},{value:450302,text:"秀峰区"},{value:450303,text:"叠彩区"},{value:450304,text:"象山区"},{value:450305,text:"七星区"},{value:450311,text:"雁山区"},{value:450321,text:"阳朔县"},{value:450322,text:"临桂县"},{value:450323,text:"灵川县"},{value:450324,text:"全州县"},{value:450325,text:"兴安县"},{value:450326,text:"永福县"},{value:450327,text:"灌阳县"},{value:450328,text:"龙胜各族自治县"},{value:450329,text:"资源县"},{value:450330,text:"平乐县"},{value:450331,text:"荔蒲县"},{value:450332,text:"恭城瑶族自治县"}]},{value:450400,text:"梧州市",children:[{value:450401,text:"市辖区"},{value:450403,text:"万秀区"},{value:450404,text:"蝶山区"},{value:450405,text:"长洲区"},{value:450421,text:"苍梧县"},{value:450422,text:"藤县"},{value:450423,text:"蒙山县"},{value:450481,text:"岑溪市"}]},{value:450500,text:"北海市",children:[{value:450501,text:"市辖区"},{value:450502,text:"海城区"},{value:450503,text:"银海区"},{value:450512,text:"铁山港区"},{value:450521,text:"合浦县"}]},{value:450600,text:"防城港市",children:[{value:450601,text:"市辖区"},{value:450602,text:"港口区"},{value:450603,text:"防城区"},{value:450621,text:"上思县"},{value:450681,text:"东兴市"}]},{value:450700,text:"钦州市",children:[{value:450701,text:"市辖区"},{value:450702,text:"钦南区"},{value:450703,text:"钦北区"},{value:450721,text:"灵山县"},{value:450722,text:"浦北县"}]},{value:450800,text:"贵港市",children:[{value:450801,text:"市辖区"},{value:450802,text:"港北区"},{value:450803,text:"港南区"},{value:450804,text:"覃塘区"},{value:450821,text:"平南县"},{value:450881,text:"桂平市"}]},{value:450900,text:"玉林市",children:[{value:450901,text:"市辖区"},{value:450902,text:"玉州区"},{value:450921,text:"容县"},{value:450922,text:"陆川县"},{value:450923,text:"博白县"},{value:450924,text:"兴业县"},{value:450981,text:"北流市"}]},{value:451e3,text:"百色市",children:[{value:451001,text:"市辖区"},{value:451002,text:"右江区"},{value:451021,text:"田阳县"},{value:451022,text:"田东县"},{value:451023,text:"平果县"},{value:451024,text:"德保县"},{value:451025,text:"靖西县"},{value:451026,text:"那坡县"},{value:451027,text:"凌云县"},{value:451028,text:"乐业县"},{value:451029,text:"田林县"},{value:451030,text:"西林县"},{value:451031,text:"隆林各族自治县"}]},{value:451100,text:"贺州市",children:[{value:451101,text:"市辖区"},{value:451102,text:"八步区"},{value:451121,text:"昭平县"},{value:451122,text:"钟山县"},{value:451123,text:"富川瑶族自治县"}]},{value:451200,text:"河池市",children:[{value:451201,text:"市辖区"},{value:451202,text:"金城江区"},{value:451221,text:"南丹县"},{value:451222,text:"天峨县"},{value:451223,text:"凤山县"},{value:451224,text:"东兰县"},{value:451225,text:"罗城仫佬族自治县"},{value:451226,text:"环江毛南族自治县"},{value:451227,text:"巴马瑶族自治县"},{value:451228,text:"都安瑶族自治县"},{value:451229,text:"大化瑶族自治县"},{value:451281,text:"宜州市"}]},{value:451300,text:"来宾市",children:[{value:451301,text:"市辖区"},{value:451302,text:"兴宾区"},{value:451321,text:"忻城县"},{value:451322,text:"象州县"},{value:451323,text:"武宣县"},{value:451324,text:"金秀瑶族自治县"},{value:451381,text:"合山市"}]},{value:451400,text:"崇左市",children:[{value:451401,text:"市辖区"},{value:451402,text:"江洲区"},{value:451421,text:"扶绥县"},{value:451422,text:"宁明县"},{value:451423,text:"龙州县"},{value:451424,text:"大新县"},{value:451425,text:"天等县"},{value:451481,text:"凭祥市"}]}]},{value:46e4,text:"海南省",children:[{value:460100,text:"海口市",children:[{value:460101,text:"市辖区"},{value:460105,text:"秀英区"},{value:460106,text:"龙华区"},{value:460107,text:"琼山区"},{value:460108,text:"美兰区"}]},{value:460200,text:"三亚市",children:[{value:460201,text:"市辖区"}]},{value:469e3,text:"省直辖县级行政单位",children:[{value:469001,text:"五指山市"},{value:469002,text:"琼海市"},{value:469003,text:"儋州市"},{value:469005,text:"文昌市"},{value:469006,text:"万宁市"},{value:469007,text:"东方市"},{value:469025,text:"定安县"},{value:469026,text:"屯昌县"},{value:469027,text:"澄迈县"},{value:469028,text:"临高县"},{value:469030,text:"白沙黎族自治县"},{value:469031,text:"昌江黎族自治县"},{value:469033,text:"乐东黎族自治县"},{value:469034,text:"陵水黎族自治县"},{value:469035,text:"保亭黎族苗族自治县"},{value:469036,text:"琼中黎族苗族自治县"},{value:469037,text:"西沙群岛"},{value:469038,text:"南沙群岛"},{value:469039,text:"中沙群岛的岛礁及其海域"}]}]},{value:5e5,text:"重庆市",children:[{value:500100,text:"市辖区",children:[{value:500101,text:"万州区"},{value:500102,text:"涪陵区"},{value:500103,text:"渝中区"},{value:500104,text:"大渡口区"},{value:500105,text:"江北区"},{value:500106,text:"沙坪坝区"},{value:500107,text:"九龙坡区"},{value:500108,text:"南岸区"},{value:500109,text:"北碚区"},{value:500110,text:"万盛区"},{value:500111,text:"双桥区"},{value:500112,text:"渝北区"},{value:500113,text:"巴南区"},{value:500114,text:"黔江区"},{value:500115,text:"长寿区"},{value:500116,text:"江津区"},{value:500117,text:"合川区"},{value:500118,text:"永川区"},{value:500119,text:"南川区"}]},{value:500200,text:"县",children:[{value:500222,text:"綦江县"},{value:500223,text:"潼南县"},{value:500224,text:"铜梁县"},{value:500225,text:"大足县"},{value:500226,text:"荣昌县"},{value:500227,text:"璧山县"},{value:500228,text:"梁平县"},{value:500229,text:"城口县"},{value:500230,text:"丰都县"},{value:500231,text:"垫江县"},{value:500232,text:"武隆县"},{value:500233,text:"忠县"},{value:500234,text:"开县"},{value:500235,text:"云阳县"},{value:500236,text:"奉节县"},{value:500237,text:"巫山县"},{value:500238,text:"巫溪县"},{value:500240,text:"石柱土家族自治县"},{value:500241,text:"秀山土家族苗族自治县"},{value:500242,text:"酉阳土家族苗族自治县"},{value:500243,text:"彭水苗族土家族自治县"}]}]},{value:51e4,text:"四川省",children:[{value:510100,text:"成都市",children:[{value:510101,text:"市辖区"},{value:510104,text:"锦江区"},{value:510105,text:"青羊区"},{value:510106,text:"金牛区"},{value:510107,text:"武侯区"},{value:510108,text:"成华区"},{value:510112,text:"龙泉驿区"},{value:510113,text:"青白江区"},{value:510114,text:"新都区"},{value:510115,text:"温江区"},{value:510121,text:"金堂县"},{value:510122,text:"双流县"},{value:510124,text:"郫县"},{value:510129,text:"大邑县"},{value:510131,text:"蒲江县"},{value:510132,text:"新津县"},{value:510181,text:"都江堰市"},{value:510182,text:"彭州市"},{value:510183,text:"邛崃市"},{value:510184,text:"崇州市"}]},{value:510300,text:"自贡市",children:[{value:510301,text:"市辖区"},{value:510302,text:"自流井区"},{value:510303,text:"贡井区"},{value:510304,text:"大安区"},{value:510311,text:"沿滩区"},{value:510321,text:"荣县"},{value:510322,text:"富顺县"}]},{value:510400,text:"攀枝花市",children:[{value:510401,text:"市辖区"},{value:510402,text:"东区"},{value:510403,text:"西区"},{value:510411,text:"仁和区"},{value:510421,text:"米易县"},{value:510422,text:"盐边县"}]},{value:510500,text:"泸州市",children:[{value:510501,text:"市辖区"},{value:510502,text:"江阳区"},{value:510503,text:"纳溪区"},{value:510504,text:"龙马潭区"},{value:510521,text:"泸县"},{value:510522,text:"合江县"},{value:510524,text:"叙永县"},{value:510525,text:"古蔺县"}]},{value:510600,text:"德阳市",children:[{value:510601,text:"市辖区"},{value:510603,text:"旌阳区"},{value:510623,text:"中江县"},{value:510626,text:"罗江县"},{value:510681,text:"广汉市"},{value:510682,text:"什邡市"},{value:510683,text:"绵竹市"}]},{value:510700,text:"绵阳市",children:[{value:510701,text:"市辖区"},{value:510703,text:"涪城区"},{value:510704,text:"游仙区"},{value:510722,text:"三台县"},{value:510723,text:"盐亭县"},{value:510724,text:"安县"},{value:510725,text:"梓潼县"},{value:510726,text:"北川羌族自治县"},{value:510727,text:"平武县"},{value:510781,text:"江油市"}]},{value:510800,text:"广元市",children:[{value:510801,text:"市辖区"},{value:510802,text:"市中区"},{value:510811,text:"元坝区"},{value:510812,text:"朝天区"},{value:510821,text:"旺苍县"},{value:510822,text:"青川县"},{value:510823,text:"剑阁县"},{value:510824,text:"苍溪县"}]},{value:510900,text:"遂宁市",children:[{value:510901,text:"市辖区"},{value:510903,text:"船山区"},{value:510904,text:"安居区"},{value:510921,text:"蓬溪县"},{value:510922,text:"射洪县"},{value:510923,text:"大英县"}]},{value:511e3,text:"内江市",children:[{value:511001,text:"市辖区"},{value:511002,text:"市中区"},{value:511011,text:"东兴区"},{value:511024,text:"威远县"},{value:511025,text:"资中县"},{value:511028,text:"隆昌县"}]},{value:511100,text:"乐山市",children:[{value:511101,text:"市辖区"},{value:511102,text:"市中区"},{value:511111,text:"沙湾区"},{value:511112,text:"五通桥区"},{value:511113,text:"金口河区"},{value:511123,text:"犍为县"},{value:511124,text:"井研县"},{value:511126,text:"夹江县"},{value:511129,text:"沐川县"},{value:511132,text:"峨边彝族自治县"},{value:511133,text:"马边彝族自治县"},{value:511181,text:"峨眉山市"}]},{value:511300,text:"南充市",children:[{value:511301,text:"市辖区"},{value:511302,text:"顺庆区"},{value:511303,text:"高坪区"},{value:511304,text:"嘉陵区"},{value:511321,text:"南部县"},{value:511322,text:"营山县"},{value:511323,text:"蓬安县"},{value:511324,text:"仪陇县"},{value:511325,text:"西充县"},{value:511381,text:"阆中市"}]},{value:511400,text:"眉山市",children:[{value:511401,text:"市辖区"},{value:511402,text:"东坡区"},{value:511421,text:"仁寿县"},{value:511422,text:"彭山县"},{value:511423,text:"洪雅县"},{value:511424,text:"丹棱县"},{value:511425,text:"青神县"}]},{value:511500,text:"宜宾市",children:[{value:511501,text:"市辖区"},{value:511502,text:"翠屏区"},{value:511521,text:"宜宾县"},{value:511522,text:"南溪县"},{value:511523,text:"江安县"},{value:511524,text:"长宁县"},{value:511525,text:"高县"},{value:511526,text:"珙县"},{value:511527,text:"筠连县"},{value:511528,text:"兴文县"},{value:511529,text:"屏山县"}]},{value:511600,text:"广安市",children:[{value:511601,text:"市辖区"},{value:511602,text:"广安区"},{value:511621,text:"岳池县"},{value:511622,text:"武胜县"},{value:511623,text:"邻水县"},{value:511681,text:"华蓥市"}]},{value:511700,text:"达州市",children:[{value:511701,text:"市辖区"},{value:511702,text:"通川区"},{value:511721,text:"达县"},{value:511722,text:"宣汉县"},{value:511723,text:"开江县"},{value:511724,text:"大竹县"},{value:511725,text:"渠县"},{value:511781,text:"万源市"}]},{value:511800,text:"雅安市",children:[{value:511801,text:"市辖区"},{value:511802,text:"雨城区"},{value:511821,text:"名山县"},{value:511822,text:"荥经县"},{value:511823,text:"汉源县"},{value:511824,text:"石棉县"},{value:511825,text:"天全县"},{value:511826,text:"芦山县"},{value:511827,text:"宝兴县"}]},{value:511900,text:"巴中市",children:[{value:511901,text:"市辖区"},{value:511902,text:"巴州区"},{value:511921,text:"通江县"},{value:511922,text:"南江县"},{value:511923,text:"平昌县"}]},{value:512e3,text:"资阳市",children:[{value:512001,text:"市辖区"},{value:512002,text:"雁江区"},{value:512021,text:"安岳县"},{value:512022,text:"乐至县"},{value:512081,text:"简阳市"}]},{value:513200,text:"阿坝藏族羌族自治州",children:[{value:513221,text:"汶川县"},{value:513222,text:"理县"},{value:513223,text:"茂县"},{value:513224,text:"松潘县"},{value:513225,text:"九寨沟县"},{value:513226,text:"金川县"},{value:513227,text:"小金县"},{value:513228,text:"黑水县"},{value:513229,text:"马尔康县"},{value:513230,text:"壤塘县"},{value:513231,text:"阿坝县"},{value:513232,text:"若尔盖县"},{value:513233,text:"红原县"}]},{value:513300,text:"甘孜藏族自治州",children:[{value:513321,text:"康定县"},{value:513322,text:"泸定县"},{value:513323,text:"丹巴县"},{value:513324,text:"九龙县"},{value:513325,text:"雅江县"},{value:513326,text:"道孚县"},{value:513327,text:"炉霍县"},{value:513328,text:"甘孜县"},{value:513329,text:"新龙县"},{value:513330,text:"德格县"},{value:513331,text:"白玉县"},{value:513332,text:"石渠县"},{value:513333,text:"色达县"},{value:513334,text:"理塘县"},{value:513335,text:"巴塘县"},{value:513336,text:"乡城县"},{value:513337,text:"稻城县"},{value:513338,text:"得荣县"}]},{value:513400,text:"凉山彝族自治州",children:[{value:513401,text:"西昌市"},{value:513422,text:"木里藏族自治县"},{value:513423,text:"盐源县"},{value:513424,text:"德昌县"},{value:513425,text:"会理县"},{value:513426,text:"会东县"},{value:513427,text:"宁南县"},{value:513428,text:"普格县"},{value:513429,text:"布拖县"},{value:513430,text:"金阳县"},{value:513431,text:"昭觉县"},{value:513432,text:"喜德县"},{value:513433,text:"冕宁县"},{value:513434,text:"越西县"},{value:513435,text:"甘洛县"},{value:513436,text:"美姑县"},{value:513437,text:"雷波县"}]}]},{value:52e4,text:"贵州省",children:[{value:520100,text:"贵阳市",children:[{value:520101,text:"市辖区"},{value:520102,text:"南明区"},{value:520103,text:"云岩区"},{value:520111,text:"花溪区"},{value:520112,text:"乌当区"},{value:520113,text:"白云区"},{value:520114,text:"小河区"},{value:520121,text:"开阳县"},{value:520122,text:"息烽县"},{value:520123,text:"修文县"},{value:520181,text:"清镇市"}]},{value:520200,text:"六盘水市",children:[{value:520201,text:"钟山区"},{value:520203,text:"六枝特区"},{value:520221,text:"水城县"},{value:520222,text:"盘县"}]},{value:520300,text:"遵义市",children:[{value:520301,text:"市辖区"},{value:520302,text:"红花岗区"},{value:520303,text:"汇川区"},{value:520321,text:"遵义县"},{value:520322,text:"桐梓县"},{value:520323,text:"绥阳县"},{value:520324,text:"正安县"},{value:520325,text:"道真仡佬族苗族自治县"},{value:520326,text:"务川仡佬族苗族自治县"},{value:520327,text:"凤冈县"},{value:520328,text:"湄潭县"},{value:520329,text:"余庆县"},{value:520330,text:"习水县"},{value:520381,text:"赤水市"},{value:520382,text:"仁怀市"}]},{value:520400,text:"安顺市",children:[{value:520401,text:"市辖区"},{value:520402,text:"西秀区"},{value:520421,text:"平坝县"},{value:520422,text:"普定县"},{value:520423,text:"镇宁布依族苗族自治县"},{value:520424,text:"关岭布依族苗族自治县"},{value:520425,text:"紫云苗族布依族自治县"}]},{value:522200,text:"铜仁地区",children:[{value:522201,text:"铜仁市"},{value:522222,text:"江口县"},{value:522223,text:"玉屏侗族自治县"},{value:522224,text:"石阡县"},{value:522225,text:"思南县"},{value:522226,text:"印江土家族苗族自治县"},{value:522227,text:"德江县"},{value:522228,text:"沿河土家族自治县"},{value:522229,text:"松桃苗族自治县"},{value:522230,text:"万山特区"}]},{value:522300,text:"黔西南布依族苗族自治州",children:[{value:522301,text:"兴义市"},{value:522322,text:"兴仁县"},{value:522323,text:"普安县"},{value:522324,text:"晴隆县"},{value:522325,text:"贞丰县"},{value:522326,text:"望谟县"},{value:522327,text:"册亨县"},{value:522328,text:"安龙县"}]},{value:522400,text:"毕节地区",children:[{value:522401,text:"毕节市"},{value:522422,text:"大方县"},{value:522423,text:"黔西县"},{value:522424,text:"金沙县"},{value:522425,text:"织金县"},{value:522426,text:"纳雍县"},{value:522427,text:"威宁彝族回族苗族自治县"},{value:522428,text:"赫章县"}]},{value:522600,text:"黔东南苗族侗族自治州",children:[{value:522601,text:"凯里市"},{value:522622,text:"黄平县"},{value:522623,text:"施秉县"},{value:522624,text:"三穗县"},{value:522625,text:"镇远县"},{value:522626,text:"岑巩县"},{value:522627,text:"天柱县"},{value:522628,text:"锦屏县"},{value:522629,text:"剑河县"},{value:522630,text:"台江县"},{value:522631,text:"黎平县"},{value:522632,text:"榕江县"},{value:522633,text:"从江县"},{value:522634,text:"雷山县"},{value:522635,text:"麻江县"},{value:522636,text:"丹寨县"}]},{value:522700,text:"黔南布依族苗族自治州",children:[{value:522701,text:"都匀市"},{value:522702,text:"福泉市"},{value:522722,text:"荔波县"},{value:522723,text:"贵定县"},{value:522725,text:"瓮安县"},{value:522726,text:"独山县"},{value:522727,text:"平塘县"},{value:522728,text:"罗甸县"},{value:522729,text:"长顺县"},{value:522730,text:"龙里县"},{value:522731,text:"惠水县"},{value:522732,text:"三都水族自治县"}]}]},{value:53e4,text:"云南省",children:[{value:530100,text:"昆明市",children:[{value:530101,text:"市辖区"},{value:530102,text:"五华区"},{value:530103,text:"盘龙区"},{value:530111,text:"官渡区"},{value:530112,text:"西山区"},{value:530113,text:"东川区"},{value:530121,text:"呈贡县"},{value:530122,text:"晋宁县"},{value:530124,text:"富民县"},{value:530125,text:"宜良县"},{value:530126,text:"石林彝族自治县"},{value:530127,text:"嵩明县"},{value:530128,text:"禄劝彝族苗族自治县"},{value:530129,text:"寻甸回族彝族自治县"},{value:530181,text:"安宁市"}]},{value:530300,text:"曲靖市",children:[{value:530301,text:"市辖区"},{value:530302,text:"麒麟区"},{value:530321,text:"马龙县"},{value:530322,text:"陆良县"},{value:530323,text:"师宗县"},{value:530324,text:"罗平县"},{value:530325,text:"富源县"},{value:530326,text:"会泽县"},{value:530328,text:"沾益县"},{value:530381,text:"宣威市"}]},{value:530400,text:"玉溪市",children:[{value:530401,text:"市辖区"},{value:530402,text:"红塔区"},{value:530421,text:"江川县"},{value:530422,text:"澄江县"},{value:530423,text:"通海县"},{value:530424,text:"华宁县"},{value:530425,text:"易门县"},{value:530426,text:"峨山彝族自治县"},{value:530427,text:"新平彝族傣族自治县"},{value:530428,text:"元江哈尼族彝族傣族自治县"}]},{value:530500,text:"保山市",children:[{value:530501,text:"市辖区"},{value:530502,text:"隆阳区"},{value:530521,text:"施甸县"},{value:530522,text:"腾冲县"},{value:530523,text:"龙陵县"},{value:530524,text:"昌宁县"}]},{value:530600,text:"昭通市",children:[{value:530601,text:"市辖区"},{value:530602,text:"昭阳区"},{value:530621,text:"鲁甸县"},{value:530622,text:"巧家县"},{value:530623,text:"盐津县"},{value:530624,text:"大关县"},{value:530625,text:"永善县"},{value:530626,text:"绥江县"},{value:530627,text:"镇雄县"},{value:530628,text:"彝良县"},{value:530629,text:"威信县"},{value:530630,text:"水富县"}]},{value:530700,text:"丽江市",children:[{value:530701,text:"市辖区"},{value:530702,text:"古城区"},{value:530721,text:"玉龙纳西族自治县"},{value:530722,text:"永胜县"},{value:530723,text:"华坪县"},{value:530724,text:"宁蒗彝族自治县"}]},{value:530800,text:"普洱市      ",children:[{value:530801,text:"市辖区"},{value:530802,text:"思茅区      "},{value:530821,text:"宁洱哈尼族彝族自治县      "},{value:530822,text:"墨江哈尼族自治县"},{value:530823,text:"景东彝族自治县"},{value:530824,text:"景谷傣族彝族自治县"},{value:530825,text:"镇沅彝族哈尼族拉祜族自治县"},{value:530826,text:"江城哈尼族彝族自治县"},{value:530827,text:"孟连傣族拉祜族佤族自治县"},{value:530828,text:"澜沧拉祜族自治县"},{value:530829,text:"西盟佤族自治县"}]},{value:530900,text:"临沧市",children:[{value:530901,text:"市辖区"},{value:530902,text:"临翔区"},{value:530921,text:"凤庆县"},{value:530922,text:"云县"},{value:530923,text:"永德县"},{value:530924,text:"镇康县"},{value:530925,text:"双江拉祜族佤族布朗族傣族自治县"},{value:530926,text:"耿马傣族佤族自治县"},{value:530927,text:"沧源佤族自治县"}]},{value:532300,text:"楚雄彝族自治州",children:[{value:532301,text:"楚雄市"},{value:532322,text:"双柏县"},{value:532323,text:"牟定县"},{value:532324,text:"南华县"},{value:532325,text:"姚安县"},{value:532326,text:"大姚县"},{value:532327,text:"永仁县"},{value:532328,text:"元谋县"},{value:532329,text:"武定县"},{value:532331,text:"禄丰县"}]},{value:532500,text:"红河哈尼族彝族自治州",children:[{value:532501,text:"个旧市"},{value:532502,text:"开远市"},{value:532522,text:"蒙自县"},{value:532523,text:"屏边苗族自治县"},{value:532524,text:"建水县"},{value:532525,text:"石屏县"},{value:532526,text:"弥勒县"},{value:532527,text:"泸西县"},{value:532528,text:"元阳县"},{value:532529,text:"红河县"},{value:532530,text:"金平苗族瑶族傣族自治县"},{value:532531,text:"绿春县"},{value:532532,text:"河口瑶族自治县"}]},{value:532600,text:"文山壮族苗族自治州",children:[{value:532621,text:"文山县"},{value:532622,text:"砚山县"},{value:532623,text:"西畴县"},{value:532624,text:"麻栗坡县"},{value:532625,text:"马关县"},{value:532626,text:"丘北县"},{value:532627,text:"广南县"},{value:532628,text:"富宁县"}]},{value:532800,text:"西双版纳傣族自治州",children:[{value:532801,text:"景洪市"},{value:532822,text:"勐海县"},{value:532823,text:"勐腊县"}]},{value:532900,text:"大理白族自治州",children:[{value:532901,text:"大理市"},{value:532922,text:"漾濞彝族自治县"},{value:532923,text:"祥云县"},{value:532924,text:"宾川县"},{value:532925,text:"弥渡县"},{value:532926,text:"南涧彝族自治县"},{value:532927,text:"巍山彝族回族自治县"},{value:532928,text:"永平县"},{value:532929,text:"云龙县"},{value:532930,text:"洱源县"},{value:532931,text:"剑川县"},{value:532932,text:"鹤庆县"}]},{value:533100,text:"德宏傣族景颇族自治州",children:[{value:533102,text:"瑞丽市"},{value:533103,text:"潞西市"},{value:533122,text:"梁河县"},{value:533123,text:"盈江县"},{value:533124,text:"陇川县"}]},{value:533300,text:"怒江傈僳族自治州",children:[{value:533321,text:"泸水县"},{value:533323,text:"福贡县"},{value:533324,text:"贡山独龙族怒族自治县"},{value:533325,text:"兰坪白族普米族自治县"}]},{value:533400,text:"迪庆藏族自治州",children:[{value:533421,text:"香格里拉县"},{value:533422,text:"德钦县"},{value:533423,text:"维西傈僳族自治县"}]}]},{value:54e4,text:"西藏自治区",children:[{value:540100,text:"拉萨市",children:[{value:540101,text:"市辖区"},{value:540102,text:"城关区"},{value:540121,text:"林周县"},{value:540122,text:"当雄县"},{value:540123,text:"尼木县"},{value:540124,text:"曲水县"},{value:540125,text:"堆龙德庆县"},{value:540126,text:"达孜县"},{value:540127,text:"墨竹工卡县"}]},{value:542100,text:"昌都地区",children:[{value:542121,text:"昌都县"},{value:542122,text:"江达县"},{value:542123,text:"贡觉县"},{value:542124,text:"类乌齐县"},{value:542125,text:"丁青县"},{value:542126,text:"察雅县"},{value:542127,text:"八宿县"},{value:542128,text:"左贡县"},{value:542129,text:"芒康县"},{value:542132,text:"洛隆县"},{value:542133,text:"边坝县"}]},{value:542200,text:"山南地区",children:[{value:542221,text:"乃东县"},{value:542222,text:"扎囊县"},{value:542223,text:"贡嘎县"},{value:542224,text:"桑日县"},{value:542225,text:"琼结县"},{value:542226,text:"曲松县"},{value:542227,text:"措美县"},{value:542228,text:"洛扎县"},{value:542229,text:"加查县"},{value:542231,text:"隆子县"},{value:542232,text:"错那县"},{value:542233,text:"浪卡子县"}]},{value:542300,text:"日喀则地区",children:[{value:542301,text:"日喀则市"},{value:542322,text:"南木林县"},{value:542323,text:"江孜县"},{value:542324,text:"定日县"},{value:542325,text:"萨迦县"},{value:542326,text:"拉孜县"},{value:542327,text:"昂仁县"},{value:542328,text:"谢通门县"},{value:542329,text:"白朗县"},{value:542330,text:"仁布县"},{value:542331,text:"康马县"},{value:542332,text:"定结县"},{value:542333,text:"仲巴县"},{value:542334,text:"亚东县"},{value:542335,text:"吉隆县"},{value:542336,text:"聂拉木县"},{value:542337,text:"萨嘎县"},{value:542338,text:"岗巴县"}]},{value:542400,text:"那曲地区",children:[{value:542421,text:"那曲县"},{value:542422,text:"嘉黎县"},{value:542423,text:"比如县"},{value:542424,text:"聂荣县"},{value:542425,text:"安多县"},{value:542426,text:"申扎县"},{value:542427,text:"索县"},{value:542428,text:"班戈县"},{value:542429,text:"巴青县"},{value:542430,text:"尼玛县"}]},{value:542500,text:"阿里地区",children:[{value:542521,text:"普兰县"},{value:542522,text:"札达县"},{value:542523,text:"噶尔县"},{value:542524,text:"日土县"},{value:542525,text:"革吉县"},{value:542526,text:"改则县"},{value:542527,text:"措勤县"}]},{value:542600,text:"林芝地区",children:[{value:542621,text:"林芝县"},{value:542622,text:"工布江达县"},{value:542623,text:"米林县"},{value:542624,text:"墨脱县"},{value:542625,text:"波密县"},{value:542626,text:"察隅县"},{value:542627,text:"朗县"}]}]},{value:61e4,text:"陕西省",children:[{value:610100,text:"西安市",children:[{value:610101,text:"市辖区"},{value:610102,text:"新城区"},{value:610103,text:"碑林区"},{value:610104,text:"莲湖区"},{value:610111,text:"灞桥区"},{value:610112,text:"未央区"},{value:610113,text:"雁塔区"},{value:610114,text:"阎良区"},{value:610115,text:"临潼区"},{value:610116,text:"长安区"},{value:610122,text:"蓝田县"},{value:610124,text:"周至县"},{value:610125,text:"户县"},{value:610126,text:"高陵县"}]},{value:610200,text:"铜川市",children:[{value:610201,text:"市辖区"},{value:610202,text:"王益区"},{value:610203,text:"印台区"},{value:610204,text:"耀州区"},{value:610222,text:"宜君县"}]},{value:610300,text:"宝鸡市",children:[{value:610301,text:"市辖区"},{value:610302,text:"渭滨区"},{value:610303,text:"金台区"},{value:610304,text:"陈仓区"},{value:610322,text:"凤翔县"},{value:610323,text:"岐山县"},{value:610324,text:"扶风县"},{value:610326,text:"眉县"},{value:610327,text:"陇县"},{value:610328,text:"千阳县"},{value:610329,text:"麟游县"},{value:610330,text:"凤县"},{value:610331,text:"太白县"}]},{value:610400,text:"咸阳市",children:[{value:610401,text:"市辖区"},{value:610402,text:"秦都区"},{value:610403,text:"杨凌区"},{value:610404,text:"渭城区"},{value:610422,text:"三原县"},{value:610423,text:"泾阳县"},{value:610424,text:"乾县"},{value:610425,text:"礼泉县"},{value:610426,text:"永寿县"},{value:610427,text:"彬县"},{value:610428,text:"长武县"},{value:610429,text:"旬邑县"},{value:610430,text:"淳化县"},{value:610431,text:"武功县"},{value:610481,text:"兴平市"}]},{value:610500,text:"渭南市",children:[{value:610501,text:"市辖区"},{value:610502,text:"临渭区"},{value:610521,text:"华县"},{value:610522,text:"潼关县"},{value:610523,text:"大荔县"},{value:610524,text:"合阳县"},{value:610525,text:"澄城县"},{value:610526,text:"蒲城县"},{value:610527,text:"白水县"},{value:610528,text:"富平县"},{value:610581,text:"韩城市"},{value:610582,text:"华阴市"}]},{value:610600,text:"延安市",children:[{value:610601,text:"市辖区"},{value:610602,text:"宝塔区"},{value:610621,text:"延长县"},{value:610622,text:"延川县"},{value:610623,text:"子长县"},{value:610624,text:"安塞县"},{value:610625,text:"志丹县"},{value:610626,text:"吴起县"},{value:610627,text:"甘泉县"},{value:610628,text:"富县"},{value:610629,text:"洛川县"},{value:610630,text:"宜川县"},{value:610631,text:"黄龙县"},{value:610632,text:"黄陵县"}]},{value:610700,text:"汉中市",children:[{value:610701,text:"市辖区"},{value:610702,text:"汉台区"},{value:610721,text:"南郑县"},{value:610722,text:"城固县"},{value:610723,text:"洋县"},{value:610724,text:"西乡县"},{value:610725,text:"勉县"},{value:610726,text:"宁强县"},{value:610727,text:"略阳县"},{value:610728,text:"镇巴县"},{value:610729,text:"留坝县"},{value:610730,text:"佛坪县"}]},{value:610800,text:"榆林市",children:[{value:610801,text:"市辖区"},{value:610802,text:"榆阳区"},{value:610821,text:"神木县"},{value:610822,text:"府谷县"},{value:610823,text:"横山县"},{value:610824,text:"靖边县"},{value:610825,text:"定边县"},{value:610826,text:"绥德县"},{value:610827,text:"米脂县"},{value:610828,text:"佳县"},{value:610829,text:"吴堡县"},{value:610830,text:"清涧县"},{value:610831,text:"子洲县"}]},{value:610900,text:"安康市",children:[{value:610901,text:"市辖区"},{value:610902,text:"汉滨区"},{value:610921,text:"汉阴县"},{value:610922,text:"石泉县"},{value:610923,text:"宁陕县"},{value:610924,text:"紫阳县"},{value:610925,text:"岚皋县"},{value:610926,text:"平利县"},{value:610927,text:"镇坪县"},{value:610928,text:"旬阳县"},{value:610929,text:"白河县"}]},{value:611e3,text:"商洛市",children:[{value:611001,text:"市辖区"},{value:611002,text:"商州区"},{value:611021,text:"洛南县"},{value:611022,text:"丹凤县"},{value:611023,text:"商南县"},{value:611024,text:"山阳县"},{value:611025,text:"镇安县"},{value:611026,text:"柞水县"}]}]},{value:62e4,text:"甘肃省",children:[{value:620100,text:"兰州市",children:[{value:620101,text:"市辖区"},{value:620102,text:"城关区"},{value:620103,text:"七里河区"},{value:620104,text:"西固区"},{value:620105,text:"安宁区"},{value:620111,text:"红古区"},{value:620121,text:"永登县"},{value:620122,text:"皋兰县"},{value:620123,text:"榆中县"}]},{value:620200,text:"嘉峪关市",children:[{value:620201,text:"市辖区"}]},{value:620300,text:"金昌市",children:[{value:620301,text:"市辖区"},{value:620302,text:"金川区"},{value:620321,text:"永昌县"}]},{value:620400,text:"白银市",children:[{value:620401,text:"市辖区"},{value:620402,text:"白银区"},{value:620403,text:"平川区"},{value:620421,text:"靖远县"},{value:620422,text:"会宁县"},{value:620423,text:"景泰县"}]},{value:620500,text:"天水市",children:[{value:620501,text:"市辖区"},{value:620502,text:"秦城区"},{value:620503,text:"北道区"},{value:620521,text:"清水县"},{value:620522,text:"秦安县"},{value:620523,text:"甘谷县"},{value:620524,text:"武山县"},{value:620525,text:"张家川回族自治县"}]},{value:620600,text:"武威市",children:[{value:620601,text:"市辖区"},{value:620602,text:"凉州区"},{value:620621,text:"民勤县"},{value:620622,text:"古浪县"},{value:620623,text:"天祝藏族自治县"}]},{value:620700,text:"张掖市",children:[{value:620701,text:"市辖区"},{value:620702,text:"甘州区"},{value:620721,text:"肃南裕固族自治县"},{value:620722,text:"民乐县"},{value:620723,text:"临泽县"},{value:620724,text:"高台县"},{value:620725,text:"山丹县"}]},{value:620800,text:"平凉市",children:[{value:620801,text:"市辖区"},{value:620802,text:"崆峒区"},{value:620821,text:"泾川县"},{value:620822,text:"灵台县"},{value:620823,text:"崇信县"},{value:620824,text:"华亭县"},{value:620825,text:"庄浪县"},{value:620826,text:"静宁县"}]},{value:620900,text:"酒泉市",children:[{value:620901,text:"市辖区"},{value:620902,text:"肃州区"},{value:620921,text:"金塔县"},{value:620922,text:"瓜州县"},{value:620923,text:"肃北蒙古族自治县"},{value:620924,text:"阿克塞哈萨克族自治县"},{value:620981,text:"玉门市"},{value:620982,text:"敦煌市"}]},{value:621e3,text:"庆阳市",children:[{value:621001,text:"市辖区"},{value:621002,text:"西峰区"},{value:621021,text:"庆城县"},{value:621022,text:"环县"},{value:621023,text:"华池县"},{value:621024,text:"合水县"},{value:621025,text:"正宁县"},{value:621026,text:"宁县"},{value:621027,text:"镇原县"}]},{value:621100,text:"定西市",children:[{value:621101,text:"市辖区"},{value:621102,text:"安定区"},{value:621121,text:"通渭县"},{value:621122,text:"陇西县"},{value:621123,text:"渭源县"},{value:621124,text:"临洮县"},{value:621125,text:"漳县"},{value:621126,text:"岷县"}]},{value:621200,text:"陇南市",children:[{value:621201,text:"市辖区"},{value:621202,text:"武都区"},{value:621221,text:"成县"},{value:621222,text:"文县"},{value:621223,text:"宕昌县"},{value:621224,text:"康县"},{value:621225,text:"西和县"},{value:621226,text:"礼县"},{value:621227,text:"徽县"},{value:621228,text:"两当县"}]},{value:622900,text:"临夏回族自治州",children:[{value:622901,text:"临夏市"},{value:622921,text:"临夏县"},{value:622922,text:"康乐县"},{value:622923,text:"永靖县"},{value:622924,text:"广河县"},{value:622925,text:"和政县"},{value:622926,text:"东乡族自治县"},{value:622927,text:"积石山保安族东乡族撒拉族自治县"}]},{value:623e3,text:"甘南藏族自治州",children:[{value:623001,text:"合作市"},{value:623021,text:"临潭县"},{value:623022,text:"卓尼县"},{value:623023,text:"舟曲县"},{value:623024,text:"迭部县"},{value:623025,text:"玛曲县"},{value:623026,text:"碌曲县"},{value:623027,text:"夏河县"}]}]},{value:63e4,text:"青海省",children:[{value:630100,text:"西宁市",children:[{value:630101,text:"市辖区"},{value:630102,text:"城东区"},{value:630103,text:"城中区"},{value:630104,text:"城西区"},{value:630105,text:"城北区"},{value:630121,text:"大通回族土族自治县"},{value:630122,text:"湟中县"},{value:630123,text:"湟源县"}]},{value:632100,text:"海东地区",children:[{value:632121,text:"平安县"},{value:632122,text:"民和回族土族自治县"},{value:632123,text:"乐都县"},{value:632126,text:"互助土族自治县"},{value:632127,text:"化隆回族自治县"},{value:632128,text:"循化撒拉族自治县"}]},{value:632200,text:"海北藏族自治州",children:[{value:632221,text:"门源回族自治县"},{value:632222,text:"祁连县"},{value:632223,text:"海晏县"},{value:632224,text:"刚察县"}]},{value:632300,text:"黄南藏族自治州",children:[{value:632321,text:"同仁县"},{value:632322,text:"尖扎县"},{value:632323,text:"泽库县"},{value:632324,text:"河南蒙古族自治县"}]},{value:632500,text:"海南藏族自治州",children:[{value:632521,text:"共和县"},{value:632522,text:"同德县"},{value:632523,text:"贵德县"},{value:632524,text:"兴海县"},{value:632525,text:"贵南县"}]},{value:632600,text:"果洛藏族自治州",children:[{value:632621,text:"玛沁县"},{value:632622,text:"班玛县"},{value:632623,text:"甘德县"},{value:632624,text:"达日县"},{value:632625,text:"久治县"},{value:632626,text:"玛多县"}]},{value:632700,text:"玉树藏族自治州",children:[{value:632721,text:"玉树县"},{value:632722,text:"杂多县"},{value:632723,text:"称多县"},{value:632724,text:"治多县"},{value:632725,text:"囊谦县"},{value:632726,text:"曲麻莱县"}]},{value:632800,text:"海西蒙古族藏族自治州",children:[{value:632801,text:"格尔木市"},{value:632802,text:"德令哈市"},{value:632821,text:"乌兰县"},{value:632822,text:"都兰县"},{value:632823,text:"天峻县"},{value:632824,text:"芒崖            "},{value:632825,text:"冷湖"},{value:632826,text:"大柴旦      "}]}]},{value:64e4,text:"宁夏回族自治区",children:[{value:640100,text:"银川市",children:[{value:640101,text:"市辖区"},{value:640104,text:"兴庆区"},{value:640105,text:"西夏区"},{value:640106,text:"金凤区"},{value:640121,text:"永宁县"},{value:640122,text:"贺兰县"},{value:640181,text:"灵武市"}]},{value:640200,text:"石嘴山市",children:[{value:640201,text:"市辖区"},{value:640202,text:"大武口区"},{value:640205,text:"惠农区"},{value:640221,text:"平罗县"}]},{value:640300,text:"吴忠市",children:[{value:640301,text:"市辖区"},{value:640302,text:"利通区"},{value:640323,text:"盐池县"},{value:640324,text:"同心县"},{value:640381,text:"青铜峡市"}]},{value:640400,text:"固原市",children:[{value:640401,text:"市辖区"},{value:640402,text:"原州区"},{value:640422,text:"西吉县"},{value:640423,text:"隆德县"},{value:640424,text:"泾源县"},{value:640425,text:"彭阳县"}]},{value:640500,text:"中卫市",children:[{value:640501,text:"市辖区"},{value:640502,text:"沙坡头区"},{value:640521,text:"中宁县"},{value:640522,text:"海原县"}]}]},{value:65e4,text:"新疆维吾尔自治区",children:[{value:650100,text:"乌鲁木齐市",children:[{value:650101,text:"市辖区"},{value:650102,text:"天山区"},{value:650103,text:"沙依巴克区"},{value:650104,text:"新市区"},{value:650105,text:"水磨沟区"},{value:650106,text:"头屯河区"},{value:650107,text:"达坂城区"},{value:650108,text:"东山区"},{value:650121,text:"乌鲁木齐县"}]},{value:650200,text:"克拉玛依市",children:[{value:650201,text:"市辖区"},{value:650202,text:"独山子区"},{value:650203,text:"克拉玛依区"},{value:650204,text:"白碱滩区"},{value:650205,text:"乌尔禾区"}]},{value:650300,text:"石河子市"},{value:652100,text:"吐鲁番地区",children:[{value:652101,text:"吐鲁番市"},{value:652122,text:"鄯善县"},{value:652123,text:"托克逊县"}]},{value:652200,text:"哈密地区",children:[{value:652201,text:"哈密市"},{value:652222,text:"巴里坤哈萨克自治县"},{value:652223,text:"伊吾县"}]},{value:652300,text:"昌吉回族自治州",children:[{value:652301,text:"昌吉市"},{value:652302,text:"阜康市"},{value:652303,text:"米泉市"},{value:652323,text:"呼图壁县"},{value:652324,text:"玛纳斯县"},{value:652325,text:"奇台县"},{value:652327,text:"吉木萨尔县"},{value:652328,text:"木垒哈萨克自治县"}]},{value:652700,text:"博尔塔拉蒙古自治州",children:[{value:652701,text:"博乐市"},{value:652722,text:"精河县"},{value:652723,text:"温泉县"}]},{value:652800,text:"巴音郭楞蒙古自治州",children:[{value:652801,text:"库尔勒市"},{value:652822,text:"轮台县"},{value:652823,text:"尉犁县"},{value:652824,text:"若羌县"},{value:652825,text:"且末县"},{value:652826,text:"焉耆回族自治县"},{value:652827,text:"和静县"},{value:652828,text:"和硕县"},{value:652829,text:"博湖县"}]},{value:652900,text:"阿克苏地区",children:[{value:652901,text:"阿克苏市"},{value:652922,text:"温宿县"},{value:652923,text:"库车县"},{value:652924,text:"沙雅县"},{value:652925,text:"新和县"},{value:652926,text:"拜城县"},{value:652927,text:"乌什县"},{value:652928,text:"阿瓦提县"},{value:652929,text:"柯坪县"}]},{value:653e3,text:"克孜勒苏柯尔克孜自治州",children:[{value:653001,text:"阿图什市"},{value:653022,text:"阿克陶县"},{value:653023,text:"阿合奇县"},{value:653024,text:"乌恰县"}]},{value:653100,text:"喀什地区",children:[{value:653101,text:"喀什市"},{value:653121,text:"疏附县"},{value:653122,text:"疏勒县"},{value:653123,text:"英吉沙县"},{value:653124,text:"泽普县"},{value:653125,text:"莎车县"},{value:653126,text:"叶城县"},{value:653127,text:"麦盖提县"},{value:653128,text:"岳普湖县"},{value:653129,text:"伽师县"},{value:653130,text:"巴楚县"},{value:653131,text:"塔什库尔干塔吉克自治县"}]},{value:653200,text:"和田地区",children:[{value:653201,text:"和田市"},{value:653221,text:"和田县"},{value:653222,text:"墨玉县"},{value:653223,text:"皮山县"},{value:653224,text:"洛浦县"},{value:653225,text:"策勒县"},{value:653226,text:"于田县"},{value:653227,text:"民丰县"}]},{value:654e3,text:"伊犁哈萨克自治州",children:[{value:654002,text:"伊宁市"},{value:654003,text:"奎屯市"},{value:654021,text:"伊宁县"},{value:654022,text:"察布查尔锡伯自治县"},{value:654023,text:"霍城县"},{value:654024,text:"巩留县"},{value:654025,text:"新源县"},{value:654026,text:"昭苏县"},{value:654027,text:"特克斯县"},{value:654028,text:"尼勒克县"}]},{value:654200,text:"塔城地区",children:[{value:654201,text:"塔城市"},{value:654202,text:"乌苏市"},{value:654221,text:"额敏县"},{value:654223,text:"沙湾县"},{value:654224,text:"托里县"},{value:654225,text:"裕民县"},{value:654226,text:"和布克赛尔蒙古自治县"}]},{value:654300,text:"阿勒泰地区",children:[{value:654301,text:"阿勒泰市"},{value:654321,text:"布尔津县"},{value:654322,text:"富蕴县"},{value:654323,text:"福海县"},{value:654324,text:"哈巴河县"},{value:654325,text:"青河县"},{value:654326,text:"吉木乃县"}]},{value:659e3,text:"省直辖行政单位",children:[{value:659001,text:"石河子市"},{value:659002,text:"阿拉尔市"},{value:659003,text:"图木舒克市"},{value:659004,text:"五家渠市"}]}]}]}),define("san-xui/x/components/Dialog",["exports","module","jquery","babel-runtime/helpers/interop-require-default","san","./util","./Button","./fx/opacity","../esui/page"],function(exports,module,e,t,n,i,a,r,o){var s=t["default"](e),l=t["default"](a),u=i.create("ui-dialog"),d='<template>\n<div s-if="open" s-transition="$fxOpacity" class="{{mainClass}}" style="{{dialogStyle}}">\n    <div class="'+u("head","head-panel")+'" s-if="head">\n        <div class="'+u("title")+'">\n            <slot name="head">{{title}}</slot>\n        </div>\n        <div class="'+u("close-icon")+'" on-click="onCloseDialog" s-if="showClose"></div>\n    </div>\n    <div class="'+u("body","body-panel")+'" style="{{dialogBodyStyle}}">\n        <slot />\n    </div>\n    <div class="'+u("foot","foot-panel")+'" s-if="foot">\n        <slot name="foot">\n            <ui-button on-click="onConfirmDialog" skin="primary">{{\'确认\'}}</ui-button>\n            <ui-button on-click="onCloseDialog">{{\'取消\'}}</ui-button>\n        </slot>\n    </div>\n</div>\n<div s-if="open && mask" on-click="onClickMask" class="'+u("mask","mask-x")+'" style="{{maskStyle}}"></div>\n</template>';module.exports=n.defineComponent({template:d,$fxOpacity:r.opacity(5),components:{"ui-button":l["default"]},initData:function(){var e=i.nextZindex();return{draggable:!1,closeOnClickMask:!1,maskZindex:e,dialogZindex:e+1,width:"auto",height:"auto",title:"Title",left:null,top:"-10000px",open:!1,mask:!0,foot:!0,head:!0,showClose:!0}},dataTypes:{draggable:n.DataTypes.bool,closeOnClickMask:n.DataTypes.bool,mask:n.DataTypes.bool,foot:n.DataTypes.bool,head:n.DataTypes.bool,width:n.DataTypes.any,height:n.DataTypes.any,showClose:n.DataTypes.bool},computed:{mainClass:function(){var e=[u(),u("x")];this.data.get("draggable")&&(e.push("state-draggable"),e.push(u("draggable")));var t=this.data.get("skin");return t&&(e.push("skin-"+t),e.push("skin-"+t+"-dialog")),e},maskStyle:function(){return{"z-index":this.data.get("maskZindex")}},dialogBodyStyle:function(){var e={},t=this.data.get("height");return"auto"!==t&&(e.height=t+"px"),e},dialogStyle:function(){var e=this.data.get("width"),t=this.data.get("left"),n=this.data.get("top"),i={opacity:1,"z-index":this.data.get("dialogZindex")};return"auto"!==e&&(i.width=e+"px"),null!=t&&(i.left=t),null!=n&&(i.top=n),i}},onCloseDialog:function(){this.data.set("open",!1),this.fire("close")},onConfirmDialog:function(){this.data.set("open",!1),this.fire("confirm")},onClickMask:function(){this.data.get("closeOnClickMask")&&(this.data.set("open",!1),this.fire("close"))},__resize:function(){var e=this;this.data.get("open")&&(this.data.set("maskZindex",i.nextZindex()),this.data.set("dialogZindex",i.nextZindex()),this.nextTick(function(){var t=s["default"](e.el).find("> .ui-dialog-x"),n=o.getScrollTop()+Math.max((o.getViewHeight()-t.prop("offsetHeight"))/2,0);e.data.set("top",n+"px")}))},inited:function(){var e=this;this.watch("open",function(){return e.__resize()})},attached:function(){this.el.parentNode!==document.body&&document.body.appendChild(this.el);this.data.get("open")&&this.fire("open"),this.__resize()},detached:function(){s["default"](this.el).remove()}})}),define("san-xui/x/components/Dragger",["exports","module","jquery","babel-runtime/helpers/interop-require-default","san","./util","./TextBox","./asInput"],function(exports,module,e,t,n,i,a,r){function o(e,t){return 1===t?~~e:(e=Math.round(e/t)*t,t<1?parseFloat(e.toFixed(2)):~~e)}var s=t["default"](e),l=t["default"](a),u=i.create("ui-dragger"),d='<div on-click="onClick" class="{{mainClass}}" style="{{mainStyle}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div\n        class="'+u("control-bar","control-bar-horizontal")+'"\n        s-ref="control-bar"\n        style="{{controlBarStyle}}"></div>\n    <div class="'+u("bar","bar-horizontal")+'" s-ref="bar" on-click="onBarClick($event)">\n        <div class="'+u("bar-selected","bar-selected-horizontal")+'" style="{{selectedBarStyle}}"></div>\n        <div class="'+u("bar-left")+'">{{min}}{{unit}}</div>\n        <div class="'+u("bar-middle")+'">{{midValue}}{{unit}}</div>\n        <div class="'+u("bar-right")+'">{{max}}{{unit}}</div>\n        <div class="'+u("ruling-box")+'">\n            <div class="'+u("ruling","ruling-horizontal")+'"></div>\n        </div>\n    </div>\n    <ui-textbox\n        addon="{{unit}}"\n        addon-position="end"\n        type="number"\n        width="60px"\n        value="{=value=}"\n        max="{=max=}"\n        min="{=min=}"\n        disabled="{{disabled}}"\n        style="{{textboxStyle}}"\n        on-blur="onBlur($event)"\n        track-id="{{trackId}}:textbox"\n        track-name="{{trackName}}:文本输入框"\n        />\n</div>',c=n.defineComponent({template:d,components:{"ui-textbox":l["default"]},initData:function(){return{disabled:!1,length:350,value:0,min:0,max:100,mid:0,step:1,unit:null,skin:""}},dataTypes:{value:n.DataTypes.number,min:n.DataTypes.number,max:n.DataTypes.number,mid:n.DataTypes.number,step:n.DataTypes.number,disabled:n.DataTypes.bool,length:n.DataTypes.number,unit:n.DataTypes.string,skin:n.DataTypes.string},computed:{midValue:function(){var e=this.data.get("mid");if(e)return e;return(this.data.get("min")+this.data.get("max"))/2},selectedBarStyle:function(){return{width:this.data.get("controlBarStyle").left}},textboxStyle:function(){return{left:this.data.get("length")+35+"px"}},controlBarStyle:function(){var e=this.data.get("min"),t=this.data.get("max");if(e>=t)return{};var n=this.data.get("value"),i=this.data.get("length");+n<+e?n=e:+n>+t&&(n=t);return{left:(n-e)/(t-e)*i+"px"}},mainStyle:function(){return{width:this.data.get("length")+"px"}},mainClass:function(){return u.mainClass(this)}},onBlur:function(e){var t=this.data.get(),n=t.min,i=t.step,a=t.max,r=e.target.value;r=+r<+n?n:+r>+a?a:o(r,i),this.data.set("value",r+""),this.fire("blur",{value:r})},inited:function(){var e=this;this.watch("value",function(t){e.fire("change",{value:t})})},attached:function(){var e=this,t=this.ref("control-bar");t&&s["default"](t).on("mousedown",function(t){return!e.data.get("disabled")&&(e.startPosition={x:t.clientX,y:t.clientY,originalValue:e.data.get("value")},s["default"](document).on("mousemove.dragger",function(t){return e.onMoveControlBar(t)}),s["default"](document).on("mouseup.dragger",function(t){return e.onReleaseMouse(t)}),!1)})},onMoveControlBar:function(e){var t=this.startPosition,n=t.x,i=t.originalValue,a=this.data.get(),r=a.min,s=a.length,l=a.step,u=a.max,d=i+(e.clientX-n)*(u-r)/s;d<=r?d=r:d>=u&&(d=u),this.data.set("value",o(d,l))},onReleaseMouse:function(e){s["default"](document).off("mousemove.dragger"),s["default"](document).off("mouseup.dragger")},onBarClick:function(e){var t=this.data.get(),n=t.disabled,i=t.step,a=t.min,r=t.length,s=t.max;if(!n){var l=this.ref("bar").getBoundingClientRect(),u=(e.clientX-l.left)*(s-a)/r+a;u<=a?u=a:u>=s&&(u=s),this.data.set("value",o(u,i))}},onClick:function(){this.data.get("disabled")||this.fire("click")},disposed:function(){var e=this.ref("control-bar");e&&s["default"](e).off("mousedown"),s["default"](document).off("mousemove.dragger"),s["default"](document).off("mouseup.dragger")}});module.exports=r.asInput(c)}),define("san-xui/x/components/Filter",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:"<template></template>"})}),define("san-xui/x/components/FrozenColumnTable",["exports","module","lodash","babel-runtime/helpers/interop-require-default","jquery","san","./util","./Table","./Loading"],function(exports,module,e,t,n,i,a,r,o){function s(e){(null==e.width||a.hasUnit(e.width))&&(e.width=100)}var l=t["default"](e),u=t["default"](n),d=t["default"](r),c=t["default"](o),f=a.create("ui-frozen-column-table"),p='<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <style type="text/css">{{__syncHeightStyles}}</style>\n    <div class="'+f("loading")+'" s-if="loading">\n        <slot name="loading"><ui-loading /></slot>\n    </div>\n    <div class="'+f("error")+'" s-if="error">\n        <slot name="error">{{error}}</slot>\n    </div>\n    <div\n        s-if="!loading && !error"\n        class="{{bodyClass}}"\n        style="{{bodyStyle}}"\n        >\n        <div class="'+f("cell","cell-left")+'" style="{{leftCellStyle}}" s-if="leftSchema.length">\n            <ui-table\n                s-ref="left"\n                empty-text="{{emptyText}}"\n                disabled-select-all="{{disabledSelectAll}}"\n                select="{{select}}"\n                cell-builder="{{cellBuilder}}"\n                selected-index="{=selectedIndex=}"\n                datasource="{{datasource}}"\n                schema="{{leftSchema}}"\n\n                on-row-enter="onEnterRow($event)"\n                on-row-leave="onLeaveRow($event)"\n                on-selected-change="onSelectedChange($event)"\n                on-filter="onFilter($event)"\n                on-sort="onSort($event)"\n                on-command="onCommand($event)"\n                track-id="{{trackId}}:lefttable"\n                track-name="{{trackName}}:左表格"\n                />\n        </div>\n        <div class="'+f("cell","cell-middle")+'" s-if="middleSchema.length">\n            <ui-table\n                s-ref="middle"\n                empty-text="{{emptyText}}"\n                disabled-select-all="{{disabledSelectAll}}"\n                select="{{select}}"\n                cell-builder="{{cellBuilder}}"\n                selected-index="{=selectedIndex=}"\n                datasource="{{datasource}}"\n                schema="{{middleSchema}}"\n\n                on-scroll="onScroll($event)"\n                on-row-enter="onEnterRow($event)"\n                on-row-leave="onLeaveRow($event)"\n                on-selected-change="onSelectedChange($event)"\n                on-filter="onFilter($event)"\n                on-sort="onSort($event)"\n                on-command="onCommand($event)"\n                track-id="{{trackId}}:middletable"\n                track-name="{{trackName}}:中表格"\n                />\n        </div>\n        <div class="'+f("cell","cell-right")+'" style="{{rightCellStyle}}" s-if="rightSchema.length">\n            <ui-table\n                s-ref="right"\n                empty-text="{{emptyText}}"\n                cell-builder="{{cellBuilder}}"\n                datasource="{{datasource}}"\n                schema="{{rightSchema}}"\n\n                on-row-enter="onEnterRow($event)"\n                on-row-leave="onLeaveRow($event)"\n                on-filter="onFilter($event)"\n                on-sort="onSort($event)"\n                on-command="onCommand($event)"\n                track-id="{{trackId}}:righttable"\n                track-name="{{trackName}}:右表格"\n                />\n        </div>\n    </div>\n</div>';module.exports=i.defineComponent({template:p,components:{"ui-table":d["default"],"ui-loading":c["default"]},initData:function(){return{__syncHeightStyles:"",bodyHeight:0,scrollPosition:"left"}},computed:{mainClass:function(){return f.mainClass(this)},bodyClass:function(){var e=[f("body")],t=this.data.get("scrollPosition");return t&&e.push(f("scroll-position-"+t)),e},bodyStyle:function(){return{height:this.data.get("bodyHeight")+"px"}},leftCellWidth:function(){var e=this.data.get("leftSchema"),t=this.data.get("select"),n="multi"===t||"single"===t?46:0;return l["default"].reduce(e,function(e,t){return e+t.width},n)},rightCellWidth:function(){var e=this.data.get("rightSchema");return l["default"].reduce(e,function(e,t){return e+t.width},0)},leftCellStyle:function(){return{width:this.data.get("leftCellWidth")+"px"}},rightCellStyle:function(){return{width:this.data.get("rightCellWidth")+"px"}},leftSchema:function(){for(var e=this.data.get("schema"),t=[],n=0;n<e.length;n++){var i=e[n];if(!i.freezed)break;s(i),t.push(i)}return t},middleSchema:function(){var e=this.data.get("schema");return l["default"].each(e,function(e){return s(e)}),e},rightSchema:function(){for(var e=this.data.get("schema"),t=[],n=e.length-1;n>=0;n--){var i=e[n];if(!i.freezed)break;s(i),t.unshift(i)}return t}},__syncHeight:function(){var e=this;this.data.set("__syncHeightStyles",""),this.nextTick(function(){var t=e.ref("left"),n=e.ref("middle"),i=e.ref("right");if(t&&t.el&&n&&n.el){e.data.set("bodyHeight",u["default"](n.el).height());for(var a=u["default"](t.el).find("tbody tr"),r=u["default"](n.el).find("tbody tr"),o=i&&i.el?u["default"](i.el).find("tbody tr"):[],s=[],l=0;l<a.length;l++){var d=a[l],c=r[l],f=o[l],p=u["default"](d).find("td:first-child").prop("clientHeight"),h=u["default"](c).find("td:first-child").prop("clientHeight"),v=f?u["default"](f).find("td:first-child").prop("clientHeight"):0;if(f){if(p===h&&p===v)continue;p<(m=Math.max(p,h,v))&&s.push("#"+d.id+"{height: "+(m+1)+"px !important;}"),h<m&&s.push("#"+c.id+"{height: "+(m+1)+"px !important;}"),v<m&&s.push("#"+f.id+"{height: "+(m+1)+"px !important;}")}else{if(p===h)continue;var m;p<(m=Math.max(p,h))?s.push("#"+d.id+"{height: "+(m+1)+"px !important;}"):h<m&&s.push("#"+c.id+"{height: "+(m+1)+"px !important;}")}}s.length&&e.data.set("__syncHeightStyles",s.join("\n"))}})},__syncHoverState:function(e,t){var n=[this.ref("left"),this.ref("middle"),this.ref("right")];l["default"].each(n,function(n){n&&n.el&&(t?u["default"](n.el).find("tbody tr:nth-child("+(e+1)+")").addClass("ui-table-row-hover"):u["default"](n.el).find("tbody tr:nth-child("+(e+1)+")").removeClass("ui-table-row-hover"))})},onSelectedChange:function(e){this.fire("on-selected-change",e)},onFilter:function(e){this.fire("filter",e)},onSort:function(e){this.fire("sort",e)},onCommand:function(e){this.fire("command",e)},onEnterRow:function(e){var t=e.rowIndex;this.__syncHoverState(t,!0),this.fire("row-enter",{rowIndex:t})},onLeaveRow:function(e){var t=e.rowIndex;this.__syncHoverState(t,!1),this.fire("row-leave",{rowIndex:t})},onScroll:function(e){var t=u["default"](e.target).width(),n=u["default"](e.target.firstElementChild).width(),i=Math.max(n-t,0),a=e.target.scrollLeft;a>0?this.data.set("scrollPosition",a===i?"right":"middle"):this.data.set("scrollPosition","left")},inited:function(){var e=this;this.watch("datasource",function(){return e.__syncHeight()})},attached:function(){this.__syncHeight()}})}),define("san-xui/x/components/fx/opacity",["exports"],function(exports){exports.__esModule=!0,exports.opacity=function(){var e=arguments.length<=0||arguments[0]===undefined?20:arguments[0],t=arguments.length<=1||arguments[1]===undefined?1:arguments[1],n="function"==typeof window.requestAnimationFrame?window.requestAnimationFrame:function(e){window.setTimeout(e,1e3/60)};return{enter:function(i,a){function r(){if(o>=e)return i.style.opacity=t,void a();i.style.opacity=1/e*o++,n(r)}var o=0;r()},leave:function(t,i){function a(){if(r>=e)return t.style.opacity=0,void i();t.style.opacity=1-1/e*r++,n(a)}var r=0;a()}}}}),define("san-xui/x/components/Ghost",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:'<div on-click="proxyEvent($event)"><slot/></div>',proxyEvent:function(e){this.fire("click",e)}})}),define("san-xui/x/components/Go",["exports","module","babel-runtime/core-js/promise","jquery","babel-runtime/helpers/interop-require-default","san"],function(exports,module,e,t,n,i){var a=n["default"](t),r=i.defineComponent({template:'<a on-click="switchTo($event)"\n    target="{{target}}"\n    title="{{title}}"\n    href="{{href}}"><slot/></a>',initData:function(){return{target:"_self",region:null}},switchTo:function(e){var t=a["default"].event.fix(e);t.preventDefault(),t.stopPropagation();var n=this.data.get("href");this.fire("click",{href:n}),r.switchHandler(t,this)["catch"](function(){location.href=n})}});r.switchHandler=function(t,n){return e["default"].resolve()},r.setSwitchHandler=function(e){r.switchHandler=e},module.exports=r}),define("san-xui/x/components/helper",["exports","babel-runtime/core-js/promise","./ConfirmDialog","babel-runtime/helpers/interop-require-default","./AlertDialog","./PlainDialog"],function(exports,e,t,n,i,a){function r(t){return new e["default"](function(e,n){t.on("confirm",function(){e(),t.dispose()}),t.on("close",function(){n(),t.dispose()})})}function o(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"string"==typeof t&&(t={message:t});var n=new e({data:t});return n.attach(document.body),r(n)}exports.__esModule=!0,exports.js=function(e){return d+"/js!"+e},exports.css=function(e){return d+"/css!"+e},exports.loadThirdParty=function(t,n){for(var i=arguments.length<=2||arguments[2]===undefined?0:arguments[2],a="string"==typeof t?[t]:t,r=[],o=0;o<a.length;o++){var s=a[o],l=window[s];if(null==l){r.length=0;break}r.push(l)}return r.length?new e["default"](function(e){a.length>1?e(r):e(r[0])}):new e["default"](function(e,t){setTimeout(function(){return window.require(n,function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=[],o=0;o<n.length;o++){var s=a[o];r.push(window[s]||n[o])}a.length>1?e(r):e(r[0])})},i)})},exports.asPromise=r,exports.displayDialog=o,exports.plain=function(e){return console.warn("san-xui.helper.plain 即将废弃，请使用`notification`代替"),o(u["default"],e)},exports.alert=function(e){return console.warn("san-xui.helper.alert 即将废弃，请使用`notification`代替"),o(l["default"],e)},exports.confirm=function(e){return console.warn("san-xui.helper.confirm 即将废弃，请使用`notification`代替"),o(s["default"],e)};var s=n["default"](t),l=n["default"](i),u=n["default"](a),d="san-xui-loader-"+(new Date).getTime().toString(36);"function"==typeof window.define&&window.define.amd&&(window.define(d+"/js",function(){return{load:function(e,t,n){function i(){var e=a.readyState;(void 0===e||/^(loaded|complete)$/.test(e))&&(a.onload=a.onreadystatechange=null,a=null,n(!0))}var a=document.createElement("script");a.src=t.toUrl(e),a.async=!0,a.readyState?a.onreadystatechange=i:a.onload=i;var r=document.getElementsByTagName("head")[0]||document.body;r.appendChild(a),r=null}}}),window.define(d+"/css",function(){return{load:function(e,t,n){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t.toUrl(e));var a=document.getElementsByTagName("head")[0]||document.body;a.appendChild(i),a=null,i=null,n(!0)}}}))}),define("san-xui/x/components/Icon",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:'<i tip="{{title}}" class="iconfont icon-{{name}}" on-click="onClick" data-track-id="{{trackId}}" data-track-name="{{trackName}}"></i>',dataTypes:{name:e.DataTypes.string.isRequired,title:e.DataTypes.string},onClick:function(){this.fire("click")}})}),define("san-xui/x/components/InfiniteScroll",["exports","module","san","./Loading","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n){var i=n["default"](t);module.exports=e.defineComponent({template:'\n    <div on-scroll="scrollHandler" class="ui-infinite-scroll">\n        <slot></slot>\n        <slot name="loading">\n            <xui-loading s-if="loading && !finished"/>\n        </slot>\n    </div>\n    ',components:{"xui-loading":i["default"]},initData:function(){return{loading:!1,distance:50}},dataTypes:{loading:e.DataTypes.bool,finished:e.DataTypes.bool,distance:e.DataTypes.number},scrollHandler:function(){var e=this.el;e.scrollHeight-e.offsetHeight-e.scrollTop<this.data.get("distance")&&!this.data.get("loading")&&!this.data.get("finished")&&this.fire("more")}})}),define("san-xui/x/components/InstantEditor",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./util","./Layer","./Button"],function(exports,module,e,t,n,i,a,r){var o=t["default"](e),s=t["default"](a),l=t["default"](r),u=i.create("ui-instanteditor"),d='<div on-click="toggleLayer($event)" class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <span s-if="label" class="'+u("text")+'">{{label|raw}}</span>\n    <ui-layer\n        follow-scroll="{{false}}"\n        auto-hide="{{true}}"\n        open="{=active=}"\n        offset-left="{{layerOffsetLeft}}"\n        layer-style="{{position}}"\n        s-ref="layer"\n        track-id="{{trackId}}:layer"\n        track-name="{{trackName}}:浮层"\n    >\n        <div class="'+u("layer")+" "+u("layer-x")+'" style="{{layerStyle}}">\n            <div class="'+u("input-field")+'">\n                <slot />\n                <div class="'+u("error")+'" s-if="error">{{error}}</div>\n            </div>\n            <div class="'+u("help")+'" s-if="help">{{help | raw}}</div>\n            <div class="'+u("btns")+'">\n                <ui-button disabled="{{submitDisabled}}" on-click="onSubmit" skin="primary"\n                    track-id="{{trackId}}:submibutton" track-name="{{trackName}}:提交按钮">{{submiting ? \'提交中...\' : \'确定\'}}</ui-button>\n                <ui-button on-click="toggleLayer" track-id="{{trackId}}:cancelbutton" track-name="{{trackName}}:取消按钮">取消</ui-button>\n            </div>\n        </div>\n    </ui-layer>\n</div>';module.exports=n.defineComponent({template:d,components:{"ui-button":l["default"],"ui-layer":s["default"]},initData:function(){return{label:"编辑",help:null,active:!1,submiting:!1,submitDisabled:!1,position:{},layerWidth:"auto",layerOffsetLeft:0}},computed:{mainClass:function(){var e=u.mainClass(this);return this.data.get("active")&&(e.push("state-active"),e.push(u("active"))),e},layerStyle:function(){var e={},t=this.data.get("layerWidth");return null!=t&&(e.width=i.hasUnit(t)?t:t+"px"),e}},getInputComp:function(){try{var e=this.slot();return o["default"].filter(e[0].children,function(e){return e.nodeType!==n.NodeType.TEXT})[0]}catch(t){return null}},attached:function(){},onSubmit:function(){var e=this.getInputComp(),t=e?e.data.get("value"):null;this.fire("submit",{value:t})},toggleLayer:function(e){var t=this.data.get("active");this.data.set("active",!t),this.data.set("error",null)}})}),define("san-xui/x/components/Layer",["exports","module","jquery","babel-runtime/helpers/interop-require-default","lodash","san","./util","./fx/opacity","../esui/dom","../esui/page"],function(exports,module,e,t,n,i,a,r,o,s){function l(e){e.stopPropagation()}var u=t["default"](e),d=t["default"](n),c='\n<template>\n    <div s-ref="layer" s-if="open" s-transition="$fxOpacity" class="'+a.create("ui-layer")()+'" style="{{layerStyle}}"\n        on-mouseover="onMouseOver($event)" on-mouseout="onMouseOut($event)" on-click="onMouseClick($event)"\n        data-track-id="{{trackId}}" data-track-name="{{trackName}}"><slot/></div>\n</template>\n';module.exports=i.defineComponent({template:c,$fxOpacity:r.opacity(5),initData:function(){return{open:!1,centerToView:!1,autoHide:!0,followScroll:!0,autoHideExceptParent:!0,autoPosition:!0,width:0,height:0,align:null,offsetTop:0,offsetLeft:0,layerStyle:{left:"-10000px",top:"-10000px"}}},dataTypes:{open:i.DataTypes.bool,centerToView:i.DataTypes.bool,autoHide:i.DataTypes.bool,followScroll:i.DataTypes.bool,autoHideExceptParent:i.DataTypes.bool,autoPosition:i.DataTypes.bool,width:i.DataTypes.number,height:i.DataTypes.number,align:i.DataTypes.oneOf(["left","right"]),offsetTop:i.DataTypes.number,offsetLeft:i.DataTypes.number},inited:function(){var e=this;this.moving=!1;var t=this.data.get("autoHide"),n=this.data.get("followScroll");this.autoHideHandler=t?function(){return e.data.set("open",!1)}:null,this.scrollHandler=n?d["default"].debounce(function(){return e.selfPosition(!0)},100):null,this.watch("open",function(t){t?e.bindLayerEvents():e.unbindLayerEvents();e.data.get("autoPosition")&&t&&e.nextTick(function(){return e.selfPosition()}),t||e.nextTick(function(){e.data.merge("layerStyle",{top:"-10000px",left:"-10000px"})})})},attached:function(){this.el.parentNode!==document.body&&document.body.appendChild(this.el),this.data.get("open")&&this.bindLayerEvents()},bindLayerEvents:function(){if(this.autoHideHandler){u["default"](document).on("mousedown",this.autoHideHandler),u["default"](this.el).on("mousedown",l),this.scrollHandler||u["default"](window).on("scroll",this.autoHideHandler);var e=this.parentComponent;this.data.get("autoHideExceptParent")&&e&&e.el&&u["default"](e.el).on("mousedown",l)}this.scrollHandler&&u["default"](window).on("scroll",this.scrollHandler)},unbindLayerEvents:function(){if(this.autoHideHandler){u["default"](document).off("mousedown",this.autoHideHandler),u["default"](this.el).off("mousedown",l),this.scrollHandler||u["default"](window).off("scroll",this.autoHideHandler);var e=this.parentComponent;this.data.get("autoHideExceptParent")&&e&&e.el&&u["default"](e.el).off("mousedown",l)}this.scrollHandler&&u["default"](window).off("scroll",this.scrollHandler)},selfPosition:function(e){this.moving||(this.moving=!0,this.data.get("centerToView")?this.centerToView(e):this.attachToElement(e),this.moving=!1)},attachToElement:function(e){var t=this.data.get("align"),n=this.data.get("offsetTop"),i=this.data.get("offsetLeft"),a=this.parentComponent;if(a&&a.el){var r=this.ref("layer");if(r){var l=0,u=0,d=s.getViewWidth(),c=s.getViewHeight(),f=s.getScrollTop(),p=s.getScrollLeft(),h=o.getOffset(a.el);this.data.set("layerStyle.left","-10000px"),this.data.set("layerStyle.top","-10000px");var v=o.getOffset(r),m="auto",g="auto";this.data.set("layerStyle.left","0px"),this.data.set("layerStyle.top","0px"),this.data.get("width")&&(m=v.width=this.data.get("width")),this.data.get("height")&&(g=v.height=this.data.get("height"));var x=c-(h.bottom-f),y=h.top-f;if(l=x<=v.height+n&&y>v.height+n?h.top-v.height:h.bottom,l+=n,"left"===t)u=h.left;else if("right"===t)u=h.right-v.width;else{var b=d-(h.left-p),w=h.right-p;u=b<=v.width+i&&w>v.width+i?h.right-v.width:h.left}u+=i,this.positionLayerElement({topValue:l,leftValue:u,widthValue:m,heightValue:g,kz:e})}}},centerToView:function(e){var t=this.ref("layer");if(t){this.data.set("layerStyle.left","-10000px"),this.data.set("layerStyle.top","-10000px");var n="auto",i="auto",a=o.getOffset(t);this.data.get("width")&&(n=a.width=this.data.get("width")),this.data.get("height")&&(i=a.height=this.data.get("height")),this.data.set("layerStyle.left","0px"),this.data.set("layerStyle.top","0px");var r=s.getViewWidth(),l=s.getViewHeight(),u=Math.floor((l-a.height)/2),d=Math.floor((r-a.width)/2);u+=s.getScrollTop(),this.positionLayerElement({topValue:u,leftValue:d,widthValue:n,heightValue:i,kz:e})}},positionLayerElement:function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.topValue+"px",n=e.leftValue+"px",i=e.widthValue+"px",r=e.heightValue+"px";e.kz?(this.data.set("layerStyle.left",n),this.data.set("layerStyle.top",t),this.data.set("layerStyle.width",i),this.data.set("layerStyle.height",r)):this.data.set("layerStyle",{"z-index":a.nextZindex(),left:n,top:t,width:i,height:r})},detached:function(){this.unbindLayerEvents(),u["default"](this.el).remove()},onMouseOver:function(e){this.fire("mouseover",e)},onMouseOut:function(e){this.fire("mouseout",e)},onMouseClick:function(e){this.dispatch("ui-layer:click",e)}})}),define("san-xui/x/components/Loading",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-loading");module.exports=e.defineComponent({template:'<div class="{{mainClass}}" style="{{mainStyle}}"></div>',initData:function(){return{size:"normal"}},dataTypes:{size:e.DataTypes.string},computed:{mainStyle:function(){var e=this.data.get("size");return"middle"===e?{width:"26px",height:"26px"}:"small"===e?{width:"13px",height:"13px"}:{width:"52px",height:"52px"}},mainClass:function(){return[n(),n("x")]}}})}),define("san-xui/x/components/LongList",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:'\n        <template>\n            <div s-ref="scroller" class="{{lClass}}" style="{{wStyle}}" on-scroll="onScroll" on-wheel="onWheel">\n                <div style="{{iStyle}}" class="{{iClass}}">\n                    <slot s-for="i in curds" var-item="{{i}}"/>\n                </div>\n            </div>\n        </template>',onScroll:function(e){if(this.data.get("enable")){var t=e.target.scrollTop,n=this.data.get(),i=n.size,a=n.buffer,r=this.data.get("cache")||0;if(!(Math.abs(r-t)<=a*i)){var o=t%i,s=Math.floor(t/i);this.data.set("cache",t),this.update(s,o)}}},update:function(e){var t=arguments.length<=1||arguments[1]===undefined?0:arguments[1],n=this.data.get(),i=n.datasource,a=n.radius,r=n.keeps,o=n.size;r="number"==typeof r?r:0;for(var s=[],l=e-a;l<e+a-r;l++)l<0||l>=i.length||s.push(i[l]);this.data.set("curds",s);var u=(e-(a+1))*o+t,d={"padding-top":u+"px","padding-bottom":i.length*o-u-(2*a-r)*o+"px"};this.data.merge("iStyle",d)},inited:function(){var e=this;this.watch("datasource",function(t){return e.onDatasourceUpdate(t)}),this.watch("lStyle",function(t){return e.data.merge("wStyle",t)});var t=this.data.get("lStyle");this.data.merge("wStyle",t)},onDatasourceUpdate:function(e){this.ref("scroller").scrollTop=0;var t=this.data.get("threshold");e.length<=t?(this.data.set("curds",e),this.data.merge("iStyle",{"padding-top":0,"padding-bottom":0}),this.data.set("enable",!1)):(this.data.set("enable",!0),this.update(0,0))},initData:function(){return{datasource:[],curds:[],keeps:5,radius:30,buffer:4,wStyle:{"overflow-y":"scroll"},fixHeight:null,stopScroll:!0,iStyle:{},threshold:300,lHeight:function(e,t,n){return"300px"},enable:!0}},dataTypes:{stopScroll:e.DataTypes.bool,keeps:e.DataTypes.number,radius:e.DataTypes.number,buffer:e.DataTypes.number,size:e.DataTypes.number.isRequired,lHeight:e.DataTypes.func,lStyle:e.DataTypes.object,lClass:e.DataTypes.array,iStyle:e.DataTypes.object,iClass:e.DataTypes.array,threshold:e.DataTypes.number},attached:function(){var e=this.data.get(),t=e.threshold,n=e.buffer,i=e.datasource;t||this.data.set("threshold",2*n+1),this.onDatasourceUpdate(i)},onWheel:function(e){if(this.data.get("stopScroll")){var t=e.currentTarget;t&&(t.scrollTop+e.deltaY+t.clientHeight>=t.scrollHeight&&(e.preventDefault(),t.scrollTop=t.scrollHeight),t.scrollTop+e.deltaY<=0&&(e.preventDefault(),t.scrollTop=0))}},computed:{"wStyle.height":function(){var e=this.data.get("keeps"),t=this.data.get("size"),n=this.data.get("datasource").length,i=this.data.get("lHeight");if("function"!=typeof i)throw new TypeError("(from LongList)lHeight should be a function.");return i(e,n,t)}}})}),define("san-xui/x/components/MonthView",["exports","module","san","./util","./asInput","./Button","babel-runtime/helpers/interop-require-default","./Select","./TextBox"],function(exports,module,e,t,n,i,a,r,o){var s=a["default"](i),l=a["default"](r),u=a["default"](o),d=t.create("ui-monthview"),c={begin:new Date(2014,1,1),end:new Date(2046,10,4)},f='<div on-click="onClick" class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div class="'+d("head")+'">\n        <table>\n            <tbody>\n                <tr>\n                    <td width="30" align="left"><ui-button class="'+d("month-back")+'" on-click="onMonthBack" /></td>\n                    <td><ui-select datasource="{{yearDs.datasource}}" value="{=yearDs.value=}" on-change="onYearChange($event)"/></td>\n                    <td><ui-select datasource="{{monthDs.datasource}}" value="{=monthDs.value=}" /></td>\n                    <td width="30" align="right"><ui-button class="'+d("month-forward")+'" on-click="onMonthForward" /></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="'+d("month")+'">\n        <table border="0" cellpadding="0" cellspacing="0" class="'+d("month-main")+'">\n            <thead>\n                <tr>\n                    <td class="'+d("month-title")+'" s-for="title in titles">{{title}}</td>\n                </tr>\n            </thead>\n            <tbody>\n                <tr s-for="row in rows">\n                    <td s-for="cell in row" class="{{cell | cellClass}}" on-click="onCellClick(cell)">{{cell.date}}</td>\n                </tr>\n                <tr s-if="{{false}}">\n                    <td colspan="7" class="'+d("shortcut")+'"><ui-button on-click="onTodayClick()">今天</ui-button></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="'+d("time")+'" s-if="time">\n        <ui-textbox type="number" value="{=hour=}" width="20" track-id="{{trackId}}:hourtextbox" track-name="{{trackName}}:时文本输入框" />\n        :\n        <ui-textbox type="number" value="{=minute=}" width="20" track-id="{{trackId}}:minutetextbox" track-name="{{trackName}}:分文本输入框" />\n        :\n        <ui-textbox type="number" value="{=second=}" width="20" track-id="{{trackId}}:secondtextbox" track-name="{{trackName}}:秒文本输入框" />\n    </div>\n</div>',p=e.defineComponent({template:f,components:{"ui-textbox":u["default"],"ui-button":s["default"],"ui-select":l["default"]},computed:{mainClass:function(){return d.mainClass(this)},rows:function(){var e=this.data.get("yearDs.value"),n=this.data.get("monthDs.value"),i=this.data.get("range");return t.buildMonths(e,n,this.data.get("value"),i)}},filters:{cellClass:function(e){var t=[d("month-item")];return e.virtual&&t.push(d("month-item-virtual")),e.disabled&&t.push(d("month-item-disabled")),e.active&&(t.push(d("month-item-today")),t.push(d("month-item-selected"))),t}},initData:function(){return{disabled:!1,skin:"",time:!1,endOfDay:!1,value:new Date,titles:["一","二","三","四","五","六","日"],range:c,hour:null,minute:null,second:null,yearDs:{datasource:[]},monthDs:{datasource:[]}}},dataTypes:{disabled:e.DataTypes.bool,endOfDay:e.DataTypes.bool,time:e.DataTypes.bool,skin:e.DataTypes.string,value:e.DataTypes.instanceOf(Date),range:e.DataTypes.object,titles:e.DataTypes.array},initYearOptions:function(){for(var e=this.data.get("value"),t=this.data.get("range"),n=t.begin,i=t.end,a=e.getFullYear(),r=[],o=i.getFullYear(),s=n.getFullYear();s<=o;s++)r.push({text:s,value:s});this.data.set("yearDs.datasource",r),this.data.set("yearDs.value",a)},initMonthOptions:function(e){var t=this.data.get(),n=t.value,i=t.yearDs,a=t.range,r=[],o=n.getMonth(),s=11,l=0;for((e=e||i.value)===a.begin.getFullYear()?o<(l=a.begin.getMonth())&&(o=l):e===a.end.getFullYear()&&o>(s=a.end.getMonth())&&(o=s);l<=s;l++)r.push({text:l+1,value:l});this.data.set("monthDs.datasource",r),this.data.set("monthDs.value",o)},inited:function(){var e=this;this.data.get("range")||this.data.set("range",c);var t=this.data.get("value");t&&"string"==typeof t&&this.data.set("value",new Date(t));var n=function(t){e.initYearOptions(),e.initMonthOptions();var n=e.data.get("time");t&&n&&(e.data.set("hour",t.getHours()),e.data.set("minute",t.getMinutes()),e.data.set("second",t.getSeconds())),e.fire("change",{value:t})};this.watch("value",n),n(this.data.get("value")),this.watch("hour",function(t){if(e.data.get("time")){t>=0&&t<=23||(t=0);var n=e.data.get("value");n.setHours(+t),e.data.set("value",new Date(n))}}),this.watch("minute",function(t){if(e.data.get("time")){t>=0&&t<=59||(t=0);var n=e.data.get("value");n.setMinutes(+t),e.data.set("value",new Date(n))}}),this.watch("second",function(t){if(e.data.get("time")){t>=0&&t<=59||(t=0);var n=e.data.get("value");n.setSeconds(+t),e.data.set("value",new Date(n))}})},onTodayClick:function(){this.data.set("value",new Date)},onCellClick:function(e){if(!e.disabled&&!e.virtual){var t=e.year,n=e.month,i=e.date,a=this.data.get(),r=a.value,o=a.time,s=a.endOfDay;r.setFullYear(t,n,i),s&&!o&&r.setHours(23,59,59,999),this.data.set("value",new Date(r))}},onYearChange:function(e){this.initMonthOptions(e.value)},onMonthBack:function(){var e=this.data.get("monthDs.value"),t=this.data.get("yearDs.value");0===e?(e=11,t-=1):e-=1,this.data.set("monthDs.value",e),this.data.set("yearDs.value",t)},onMonthForward:function(){var e=this.data.get("monthDs.value"),t=this.data.get("yearDs.value");11===e?(e=0,t+=1):e+=1,this.data.set("monthDs.value",e),this.data.set("yearDs.value",t)}});module.exports=n.asInput(p)}),define("san-xui/x/components/MultiPicker",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./util","./asInput","./Layer","./Icon","./Loading","./StopScroll"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=t["default"](e),d=t["default"](r),c=t["default"](o),f=t["default"](s),p=t["default"](l),h=i.create("ui-select"),v="__values",m='<div on-click="toggleLayer($event)" class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <span class="'+h("text")+'" title="{{label|raw}}">{{label|raw}}</span>\n    <ui-layer open="{=active=}" follow-scroll="{{false}}" s-ref="layer" offset-top="{{0}}"\n        track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n        <div class="{{layerClass}}" style="{{layerStyle}}">\n            <ui-ss class="'+h("multipicker-column")+'" s-for="datastore, levelIndex in compactLevels"\n                track-id="{{trackId}}:stopscroll" track-name="{{trackName}}:停止滚动">\n                <ul>\n                    <li class="{{item.disabled ? \''+h("item","item-disabled")+"' : item.active ? '"+h("item","item-selected")+"' : '"+h("item")+'\'}}"\n                        on-click="onItemClicked(item, levelIndex)"\n                        s-for="item in datastore">\n                        <span title="{{item.text}}">\n                            {{item.text}}\n                            <ui-loading size="small" s-if="item.loading" />\n                            <ui-icon name="color-error" s-elif="item.error" />\n                            <ui-icon name="arrow-right" s-elif="item.expandable" />\n                        </span>\n                    </li>\n                </ul>\n            </ui-ss>\n        </div>\n    </ui-layer>\n</div>',g=n.defineComponent({template:m,components:{"ui-loading":f["default"],"ui-icon":c["default"],"ui-ss":p["default"],"ui-layer":d["default"]},initData:function(){var e;return e={disabled:!1,active:!1,layerWidth:"auto",loader:null,datasource:[]},e.value=[],e.__values=[],e},dataTypes:{active:n.DataTypes.bool,value:n.DataTypes.array,disabled:n.DataTypes.bool,datasource:n.DataTypes.array,loader:n.DataTypes.func,layerWidth:n.DataTypes.any,skin:n.DataTypes.string},computed:{compactLevels:function(){var e=this.data.get(v),t=this.data.get("datasource"),n=i.arrayTreeCompact(e,t);return n},mainClass:function(){var e=h.mainClass(this);this.data.get("active")&&(e.push("state-active"),e.push(h("active")));var t=this.data.get("skin");return t&&e.push(h(t)),e},layerClass:function(){var e=[h("layer"),h("layer-x"),h("multipicker-layer")],t=this.data.get("skin");return t&&e.push(h("multipicker-layer-"+t)),e},layerStyle:function(){var e={},t=this.data.get("layerWidth");return null!=t&&(e.width=i.hasUnit(t)?t:t+"px"),e},label:function(){var e=this.data.get("value"),t=this.data.get("datasource"),n=i.arrayTreeFilter(t,function(t,n){return t.value===e[n]}),a=u["default"].map(n,function(e){return e.text});return a.length?a.join(" / "):"请选择"}},inited:function(){var e=this,t=this.data.get("value");this.data.set(v,t),this.watch("value",function(t){return e.data.set(v,t)})},onItemClicked:function(e,t){var n;if(!e.disabled&&(this.expandChildren(e,t),!e.expandable)){this.data.set("active",!1);var i=this.data.get(v);this.data.set("value",i),this.fire("change",(n={},n.value=i,n))}},expandChildren:function(e,t){if(!e.disabled){"function"==typeof this.data.get("loader")?this.expandChildrenAsync(e,t):this.expandChildrenInternal(e,t)}},expandChildrenAsync:function(e,t){var n=this,a=[].concat(this.data.get(v));if(a[t]=e.value,a.splice(t+1),!(a.length<=0)){var r=this.data.get("datasource"),o=i.arrayTreeFilterIndex(r,function(e,t){return e.value===a[t]}),s=u["default"].map(o,function(e,t){return 0===t?"datasource["+e+"]":"children["+e+"]"}).join("."),l=this.data.get(s);if(l&&!l.children&&l.expandable){this.data.set(s+".loading",!0),this.data.set(s+".error",null);return this.data.get("loader")(a).then(function(i){n.data.set(s+".loading",!1),i.length<=0?n.data.set(s+".expandable",!1):n.data.set(s+".children",i),n.expandChildrenInternal(e,t)})["catch"](function(e){n.data.set(s+".loading",!1),n.data.set(s+".error",e)})}this.expandChildrenInternal(e,t)}},expandChildrenInternal:function(e,t){this.data.set("__values["+t+"]",e.value);for(var n=this.data.get(v),i=t+1;i<n.length;i++)this.data.removeAt(v,i)},toggleLayer:function(e){if(!this.data.get("disabled")){var t=this.data.get("value");this.data.set(v,t);var n=this.data.get("active");this.data.set("active",!n)}}});module.exports=a.asInput(g)}),define("san-xui/x/components/notification/index",["exports","module","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","lodash","san","../util","./Notification"],function(exports,module,e,t,n,i,a,r,o){var s=n["default"](t),l=n["default"](i),u=n["default"](o),d=r.create("ui-notification"),c=s["default"]('<div class="'+d()+'"></div>').appendTo(document.body).get(0),f=[],p=function(){function t(){e["default"](this,t)}return t._invokeQueue=function(e){(f=f.filter(function(e){return!e.lifeCycle.is("disposed")})).length>=4&&f.shift().dispose(),f.push(e)},t.from=function(e){var n=e.category,i=e.comp,r=e.options,o=null,d={enter:function(e){s["default"](e).addClass("ui-notification-fade-in").addClass("ui-notification-fade-in-active")},leave:function(e,t){s["default"](e).addClass("ui-notification-fade-out").addClass("ui-notification-fade-out-active"),setTimeout(t,350)}};if(i.prototype instanceof a.Component)u["default"].prototype.components["biz-content"]=i,o=new u["default"]({transition:d,data:{category:n,options:r}});else{if(!l["default"].isString(i))throw new TypeError("notification.from args expect `String` | `SanComponent`");o=new u["default"]({transition:d,data:{category:n,options:r,content:i}})}return o.transition=d,o.attach(c),t._invokeQueue(o),o},t.success=function(e){var n=arguments.length<=1||arguments[1]===undefined?{duration:5}:arguments[1];return t.from({category:"ok",comp:e,options:n})},t.info=function(e){var n=arguments.length<=1||arguments[1]===undefined?{duration:5}:arguments[1];return t.from({category:"info",comp:e,options:n})},t.warn=function(e){var n=arguments.length<=1||arguments[1]===undefined?{duration:5}:arguments[1];return t.from({category:"warning",comp:e,options:n})},t.error=function(e){var n=arguments.length<=1||arguments[1]===undefined?{duration:5}:arguments[1];return t.from({category:"fatal",comp:e,options:n})},t}();module.exports=p}),define("san-xui/x/components/notification/Notification",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","../util","../Icon"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=t["default"](a),s=i.create("ui-notification");module.exports=n.defineComponent({trimWhitespace:"all",dataTypes:{category:n.DataTypes.string,content:n.DataTypes.string,options:n.DataTypes.object},components:{"xui-icon":o["default"]},template:'\n        <div class="'+s("container")+' {{mainClass}}">\n            <div class="'+s("content")+'" s-if="hasTextContent">\n                <xui-icon name="{{category}}" />\n                <span class="'+s("text")+'">{{content}}</span>\n            </div>\n            <biz-content class="'+s("content")+'" s-if="!hasTextContent" />\n            <div class="'+s("operation")+'">\n                <span s-if="{{options.duration > 0}}">({{options.duration}}s)</span>\n                <xui-icon name="close" on-click="dispose"/>\n            </div>\n        </div>\n    ',computed:{hasTextContent:function(){return!!this.data.get("content")},mainClass:function(){var e=this.data.get("category");return s(e)}},attached:function(){var e=this;this._timer=setInterval(function(){var t=e.data.get("options.duration")||{};!r["default"].isNumber(t)||t<0||(t-1>0?e.data.set("options.duration",t-1):e.nextTick(function(){return e.dispose()}))},1e3)},disposed:function(){clearInterval(this._timer)}})}),define("san-xui/x/components/NumberTextline",["exports","module","big.js","babel-runtime/helpers/interop-require-default","san","./Button","./TextBox","./util","./asInput"],function(exports,module,e,t,n,i,a,r,o){function s(e){return/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i.test(e)}var l=t["default"](e),u=t["default"](i),d=t["default"](a),c=r.create("ui-numbertextline"),f=n.defineComponent({template:'<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <ui-button icon="minus" on-click="onDecrease" skin="primary" disabled="{{decreaseDisabled}}" tip="{{minusTip}}"\n        track-id="{{trackId}}:decreasebutton" track-name="{{trackName}}:减按钮"/>\n    <ui-textbox type="number" value="{=value=}" min="{{min}}" max="{{max}}" step="{{step}}"\n        disabled="{{disabled}}" width="{{width}}" on-input="onInput" on-blur="onBlur"\n        track-id="{{trackId}}:textbox" track-name="{{trackName}}:文本输入框" />\n    <ui-button icon="plus" on-click="onIncrease" skin="primary" disabled="{{increaseDisabled}}" tip="{{plusTip}}"\n        track-id="{{trackId}}:increasebutton" track-name="{{trackName}}:加按钮" />\n</div>',components:{"ui-button":u["default"],"ui-textbox":d["default"]},computed:{mainClass:function(){return c.mainClass(this)},decreaseDisabled:function(){if(this.data.get("disabled"))return!0;var e=this.data.get("min"),t=this.data.get("value");return!(s(t)&&+t>e)},increaseDisabled:function(){if(this.data.get("disabled"))return!0;var e=this.data.get("max"),t=this.data.get("value");return!(s(t)&&+t<e)}},initData:function(){return{disabled:!1,width:38,min:0,max:100,step:1,minusTip:"",plusTip:""}},dataTypes:{disabled:n.DataTypes.bool,width:n.DataTypes.number,value:n.DataTypes.string,min:n.DataTypes.number,max:n.DataTypes.number,step:n.DataTypes.number,minusTip:n.DataTypes.number,plusTip:n.DataTypes.number},inited:function(){var e=this,t=this.data.get(),n=t.value,i=t.min;null==n&&this.data.set("value",String(i)),this.watch("value",function(t){e.fire("input",{value:t})}),this.watch("max",function(t){t<Number(e.data.get("value"))&&e.data.set("value",String(t))}),this.watch("min",function(t){t>Number(e.data.get("value"))&&e.data.set("value",String(t))})},onDecrease:function(){var e=this.data.get(),t=e.value,n=e.min,i=e.max,a=e.step,r=Math.min(i,Math.max(n,new l["default"](t).minus(a)));this.data.set("value",String(r))},onIncrease:function(){var e=this.data.get(),t=e.value,n=e.min,i=e.max,a=e.step,r=Math.max(n,Math.min(i,new l["default"](t).add(a)));this.data.set("value",String(r))},onInput:function(e){var t=e.value;this.fire("input",{value:t})},onBlur:function(e){var t=e.target.value,n=this.data.get(),i=n.max,a=n.min;""===t||+t<+a?t=a:+t>+i&&(t=i),this.data.set("value",String(t))}});module.exports=o.asInput(f)}),define("san-xui/x/components/Pager",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-pager"),i='<template>\n<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <span class="'+n("count")+'" s-if="withTotalCount">共{{count}}条</span>\n    <slot name="size-select"></slot>\n    <ul class="'+n("main")+'">\n        <li on-click="onPagerItemClick(item)"\n            class="'+n("item")+' {{item.className}}"\n            san-for="item in items">{{item.label|raw}}</li>\n    </ul>\n</div>\n</template>';module.exports=e.defineComponent({template:i,computed:{mainClass:function(){return n.mainClass(this)},items:function(){var e=this.data.get("size"),i=this.data.get("page"),a=this.data.get("count"),r=this.data.get("backText"),o=this.data.get("backCount"),s=this.data.get("forwardCount"),l=this.data.get("forwardText");return t.buildPagerItems({size:e,page:i,count:a,backCount:o,backText:r,forwardCount:s,forwardText:l,cx:n})}},initData:function(){return{withTotalCount:!1,size:10,page:1,count:0,backCount:3,forwardCount:3,backText:"<",forwardText:">"}},dataTypes:{withTotalCount:e.DataTypes.bool,size:e.DataTypes.number,page:e.DataTypes.number,count:e.DataTypes.number,backCount:e.DataTypes.number,forwardCount:e.DataTypes.number,backText:e.DataTypes.string,forwardText:e.DataTypes.string},onPagerItemClick:function(e){e.disabled||this.fire("change",{pageNo:e.value})}})}),define("san-xui/x/components/PlainDialog",["exports","module","san","./Dialog","babel-runtime/helpers/interop-require-default","./Button"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i);module.exports=e.defineComponent({template:'<template>\n    <ui-dialog open="{=open=}" width="{{width}}" s-ref="dialog" foot="{{!!foot}}">\n        <span slot="head">{{title}}</span>\n        {{message | raw}}\n        <div slot="foot">\n            <ui-button on-click="onConfirmDialog" skin="primary">{{foot.okBtn.label || \'确定\'}}</ui-button>\n        </div>\n    </ui-dialog>\n    </template>',components:{"ui-button":r["default"],"ui-dialog":a["default"]},initData:function(){return{open:!0,width:500,title:"确认",foot:{okBtn:{label:"确定"}}}},onConfirmDialog:function(){this.fire("confirm"),this.data.set("open",!1)}})}),define("san-xui/x/components/Progress",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-viewprogress");module.exports=e.defineComponent({template:'<div class="{{mainClass}}" style="{{mainStyle}}">\n    <div class="inner" style="{{barStyle}}"></div>\n    <div class="percent">{{value}}%</div>\n</div>',components:{},initData:function(){return{value:0}},dataTypes:{value:e.DataTypes.number,width:e.DataTypes.number},computed:{barStyle:function(){return{width:this.data.get("value")+"%"}},mainStyle:function(){var e=this.data.get("width");return null==e?{}:{width:e+"px"}},mainClass:function(){return n.mainClass(this)}}})}),define("san-xui/x/components/RadioBox",["exports","module","san","./util","./asInput"],function(exports,module,e,t,n){var i=t.create("ui-radiobox"),a=e.defineComponent({template:'<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <label>\n        <input\n            type="radio"\n            checked="{=checked=}"\n            name="{{name}}"\n            on-change="onChange($event)"\n            disabled="{{disabled}}" />\n        <span s-if="title">{{title}}</span>\n    </label>\n</div>',initData:function(){return{checked:!1,name:"",title:null}},dataTypes:{checked:e.DataTypes.bool,name:e.DataTypes.string,disabled:e.DataTypes.bool,title:e.DataTypes.string},computed:{value:function(){return this.data.get("checked")},mainClass:function(){return i.mainClass(this)}},inited:function(){var e=this;this.watch("value",function(t){return e.fire("value.change",{value:t})})},onChange:function(e){this.fire("change",{value:e.target.checked})}});module.exports=n.asInput(a)}),define("san-xui/x/components/RadioSelect",["exports","module","san","./util","./asInput","./Tip","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i,a){var r=a["default"](i),o=t.create("ui-radioselect"),s=t.create("ui-radio"),l=e.defineComponent({template:'<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <ul>\n        <li on-click="onItemClick(item)"\n            class="{{item | itemClass(value)}}"\n            s-for="item in datasource">\n            <ui-tip s-if="item.tip" message="{{item.tip}}" position="{{tipPosition}}" inComponent="true" width="{{tipWidth}}"\n                track-id="{{trackId}}:tip" track-name="{{trackName}}:提示">\n                <span s-if="{{item.autoEscape}}">{{item.text | raw}}</span>\n                <span s-else>{{item.text}}</span>\n            </ui-tip>\n            <div s-else>\n                <span s-if="{{item.autoEscape}}">{{item.text | raw}}</span>\n                <span s-else>{{item.text}}</span>\n            </div>\n        </li>\n    </ul>\n</div>',components:{"ui-tip":r["default"]},computed:{mainClass:function(){return o.mainClass(this)}},filters:{itemClass:function(e,t){var n=[s("block")];return e.disabled&&n.push(s("disabled")),e.value===t&&n.push(s("selected")),e["class"]&&n.push(e["class"]),n}},initData:function(){return{value:null,datasource:[],tipPosition:"tc",tipWidth:150}},dataTypes:{disabled:e.DataTypes.bool,value:e.DataTypes.any,datasource:e.DataTypes.array,tipPosition:e.DataTypes.string,tipWidth:e.DataTypes.number,"class":e.DataTypes.string},onItemClick:function(e){var t=this.data.get("disabled");e.disabled||t||(this.data.set("value",e.value),this.fire("change",e))}});module.exports=n.asInput(l)}),define("san-xui/x/components/RangeCalendar",["exports","module","moment","babel-runtime/helpers/interop-require-default","san","./util","./Button","./Layer","./MonthView","./asInput"],function(exports,module,e,t,n,i,a,r,o,s){function l(){var e=arguments.length<=0||arguments[0]===undefined?1:arguments[0],t=arguments.length<=1||arguments[1]===undefined?2:arguments[1];return function(){return{begin:u["default"]().subtract(e,"day").toDate(),end:u["default"]().subtract(t,"day").endOf("day").toDate()}}}var u=t["default"](e),d=t["default"](a),c=t["default"](r),f=t["default"](o),p=i.create("ui-rangecalendar"),h='<div on-click="toggleLayer" class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div class="'+p("text")+'">{{text}}</div>\n    <div class="'+p("arrow")+'"></div>\n    <ui-layer open="{=active=}" s-ref="layer" follow-scroll="{{false}}">\n        <div class="'+p("layer")+'">\n            <div class="'+p("shortcut")+'" s-if="shortcut">\n                <span on-click="onShortcutSelect(item)"\n                    class="'+p("shortcut-item")+'"\n                    s-for="item in shortcutItems">{{item.text}}</span>\n            </div>\n            <div class="'+p("body")+'">\n                <div class="'+p("begin")+'">\n                    <div class="'+p("label")+'"><h3>开始日期</h3></div>\n                    <div class="'+p("begin-cal")+'">\n                        <ui-monthview value="{=begin.value=}" range="{{range}}" time="{{time}}" />\n                    </div>\n                </div>\n                <div class="'+p("end")+'">\n                    <div class="'+p("label")+'"><h3>结束日期</h3></div>\n                    <div class="'+p("end-cal")+'">\n                        <ui-monthview value="{=end.value=}" range="{{range}}" time="{{time}}" end-of-day />\n                    </div>\n                </div>\n            </div>\n            <div class="'+p("foot")+'">\n                <ui-button on-click="onSelect" skin="ok" class="'+p("okBtn")+'">确定</ui-button>\n                <ui-button on-click="closeLayer" skin="cancel" class="'+p("cancelBtn")+'">取消</ui-button>\n            </div>\n        </div>\n    </ui-layer>\n</div>',v=n.defineComponent({template:h,components:{"ui-layer":c["default"],"ui-monthview":f["default"],"ui-button":d["default"]},computed:{text:function(){var e=this.data.get("value");if(!e)return"-";var t=e.begin,n=e.end,i=this.data.get("time")?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD";return u["default"](t).format(i)+" - "+u["default"](n).format(i)},mainClass:function(){return p.mainClass(this)}},initData:function(){return{value:{begin:new Date,end:new Date},time:null,range:{begin:new Date(2014,1,1),end:new Date(2046,10,4)},begin:{value:null},end:{value:null},active:!1,shortcut:!0,shortcutItems:[{text:"昨天",value:l(1,1)},{text:"最近7天",value:l(6,0)},{text:"上周",value:function(){var e=new Date,t=new Date(e),n=new Date(e);return t.getDay()<1?t.setDate(t.getDate()-14+1-t.getDay()):t.setDate(t.getDate()-7-t.getDay()+1),t.setHours(0,0,0,0),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()+6),n.setHours(23,59,59,999),{begin:t,end:n}}},{text:"本月",value:function(){return{begin:u["default"]().startOf("month").toDate(),end:u["default"]().endOf("day").toDate()}}},{text:"上个月",value:function(){return{begin:u["default"]().subtract("month",1).startOf("month").toDate(),end:u["default"]().startOf("month").subtract("day",1).endOf("day").toDate()}}},{text:"上个季度",value:function(){var e=new Date;return{begin:u["default"]().subtract("month",e.getMonth()%3+3).startOf("month").toDate(),end:u["default"]().subtract("month",e.getMonth()%3).startOf("month").subtract("day",1).endOf("day").toDate()}}}]}},dataTypes:{value:n.DataTypes.object,range:n.DataTypes.object,disabled:n.DataTypes.bool,shortcut:n.DataTypes.bool,active:n.DataTypes.bool,time:n.DataTypes.bool},inited:function(){var e=this,t=this.data.get("value"),n=t.begin,i=t.end;n?"string"==typeof n&&(n=new Date(n)):n=new Date,i?"string"==typeof i&&(i=new Date(i)):i=new Date,this.data.set("value",{begin:n,end:i}),this.watch("value",function(t){return e.fire("change",{value:t})})},onShortcutSelect:function(e){var t="function"==typeof e.value?e.value():e.value,n=t.begin,i=t.end;this.data.get("time")||(n.setHours(0,0,0,0),i.setHours(23,59,59,999)),this.data.set("begin.value",n),this.data.set("end.value",i),this.fire("shortcutSelect",{text:e.text})},onSelect:function(){var e=this.data.get("begin.value"),t=this.data.get("end.value"),n=this.data.get("time");e<=t?this.data.set("value",{begin:e,end:t}):(n||(e.setHours(23,59,59,999),t.setHours(0,0,0,0)),this.data.set("value",{begin:t,end:e})),this.closeLayer()},closeLayer:function(){this.data.set("active",!1)},toggleLayer:function(){if(!this.data.get("disabled")){var e=this.data.get("active");if(!e){var t=this.data.get("value"),n=t.begin,i=t.end;this.data.set("begin.value",new Date(n)),this.data.set("end.value",new Date(i))}this.data.set("active",!e)}}});module.exports=s.asInput(v)}),define("san-xui/x/components/Recorder",["exports","module","jquery","babel-runtime/helpers/interop-require-default","./RecorderWorker"],function(exports,module,e,t,n){function i(e){if(!m){e=u["default"].extend({top:0,"z-index":999},e);h||(h=u["default"]("<div id='_voice_mask' data-for='result'/>")),h.css({opacity:.3,position:"absolute",background:"#000","z-index":e["z-index"],top:e.top+"px",left:"0",width:g.width(),height:g.height()-e.top}),m=!0,h.appendTo(g)}}function a(){h&&m&&(m=!1,h.remove())}function r(e,t){var n=document.createElement("div"),i='_<style type="text/css">';return t&&(i="_<style type=\"text/css\" data-for='result'>"),n.innerHTML=i+e+"</style>",n.removeChild(n.firstChild),document.getElementsByTagName("HEAD")[0].appendChild(n.firstChild),n.firstChild}var o,s,l,u=t["default"](e),d=t["default"](n),c="win7",f=navigator.userAgent.match(/Windows NT ([\d\.]*)/);f?f[1]<=5.1&&(c="xp"):(f=navigator.userAgent.match(/Mac OS/))&&(c="mac");var p=function(e,t){function n(e,t){var n=parseInt(1e5*Math.random())+"_"+(new Date).getTime();e&&(e.eventId=n),c.postMessage(e),t&&(f[n]=t)}function i(e,n){!n&&x.length>4||e.getSendBuffer(function(i){if(i){e.glb=i.json.glb;var a=u["default"].ajax({url:t.url,cache:!1,contentType:"Content-Type: multipart/form-data; boundary="+i.boundary,dataType:"text",data:i.buffer,processData:!1,type:"post"});x.push(a),a.always(function(t){if(t&&"string"==typeof t){var i=t.match(/\"corpus\_no\"\:(\d+)/);i&&(i=i[1]),(t=JSON.parse(t)).result&&t.result.corpus_no&&i&&(t.result.corpus_no=i)}else t=null;return x=u["default"].grep(x,function(e){return a!==e}),!t||t&&t.result&&0!=t.result.err_no?void e.stop(!0):(t&&t.content&&t.content.item&&(g=t,v.result.fire(t)),(t&&t.result&&(3==t.result.res_type||5==t.result.res_type)||!t.result)&&e.stop(!0),void((n||t&&t.result&&t.result.idx<0)&&e.stop(!0)))})}},n)}if(e.ended)return!1;s||(s=this.context=new AudioContext);var a=this.source=s.createMediaStreamSource(e),r=u["default"].extend({timeout:5e3},t);r.eq;var o=r.bufferLen||4096;this.context=a.context;this.node=this.context.createScriptProcessor(o,1,1);var c=new Worker(r.workerPath||function(){var e=new Blob([d["default"]],{type:"text/javascript"});return URL.createObjectURL(e)}());c.postMessage({command:"init",config:{outputChannels:1,outputSampleRate:8e3,uid:"7B5859B25CD832205CD220798CF1F1B9:FG=1",sampleRate:this.context.sampleRate}});var f={};c.onmessage=function(e){e.data&&e.data.eventId&&"function"==typeof f[e.data.eventId]&&(f[e.data.eventId](e.data.data),f[e.data.eventId]=null)};var p=!1;this.node.onaudioprocess=function(e){if(p){var t,i=[];for(t=0;1>t;t++)i.push(e.inputBuffer.getChannelData(t));n({command:"record",buffer:i}),v.audioprocess.fire(e);var a=e.inputBuffer.getChannelData(0),r=Math.max.apply(Math,a),o=0;u["default"].each(a,function(e,t){o+=Math.abs(t-r)}),o/=a.length,m.maxVolumn=Math.max(r,m.maxVolumn||0),m.maxAvgDiff=Math.max(o,m.maxAvgDiff||0)}},this.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},this.reinit=function(){c.postMessage({command:"reinit"}),g=null};var h;this.start=function(){p||(this.reinit(),v.start.fire(),i(this),p=!0,h=setInterval(function(){i(m)},100),l&&(clearTimeout(l),l=null),this.maxVolumn=0,this.maxAvgDiff=0,l=setTimeout(function(){clearTimeout(l),l=null,(m.maxVolumn<.1||m.maxAvgDiff<.07)&&v.volumnLow.fire()},3e3))};var v={},m=this;u["default"].each(["audioprocess","stop","start","finish","stop","result","fail","noUserMedia","volumnLow"],function(e,t){v[t]=u["default"].Callbacks(),m["on"+t]=function(e){v[t].add(e)}}),this.removeEventListener=function(e,t){void 0===t?v[e].empty():v[e].remove(t)},e&&e.addEventListener&&e.addEventListener("ended",function(){v.noUserMedia.fire(),e.removeEventListener(arguments.callee)}),this.stop=function(e){p&&(e?(u["default"].each(x,function(e,t){t.abort()}),x=[],g?v.finish.fire(g):v.fail.fire(),p=!1):i(this,!0),v.stop.fire(e)),clearInterval(h),l&&(clearTimeout(l),l=null)},this.clear=function(){n({command:"clear"},cb)},this.getBuffer=function(e){n({command:"getBuffer"},e)},this.getSendBuffer=function(e,t){n({command:t?"getLastSendBuffer":"getSendBuffer"},e)},this.exportWAV=function(e,t){n({command:"exportWAV",type:t},e)},a.connect(this.node),this.node.connect(this.context.destination);var g,x=[];this.glb=""};window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.AudioContext=window.AudioContext||window.webkitAudioContext,p.lowVolumnTipUrl={win7:"http://jingyan.baidu.com/article/e73e26c0f6832e24adb6a7b2.html",xp:"http://jingyan.baidu.com/article/375c8e19b8564125f2a229c7.html",mac:"https://support.apple.com/kb/index?page=search&locale=zh_CN&product=&q=os%20x%20%E8%BE%93%E5%85%A5%E9%9F%B3%E9%87%8F&src=support_site.kbase.search.searchresults"}[c],p.support=function(){return!!(navigator.getUserMedia&&window.URL&&window.AudioContext&&window.Worker)},p.log=function(){};var h,v,m=!1,g=u["default"]("body"),x=function(){var e,t,n,r,o,s,l;return function(d){function c(){s.show(),d.removeEventListener("audioprocess"),d.onaudioprocess(function(e){var t=e.inputBuffer.getChannelData(0),n=Math.max.apply(Math,t),i=(1-n)*(1-n)*56;r.height(i);var a=100*n;o.css({width:a+100+"px",height:a+100+"px","border-radius":a+100+"px",margin:71-a/2+"px 0 0 -"+(a/2+50)+"px"})})}function f(e){e.removeEventListener("audioprocess"),o.get(0).style.cssText="",r.get(0).style.cssText="",s.hide()}e||(e=u["default"]("<div id='voice' data-for='result'><div class='close'>x</div><div class='result'><span class='result-word'></span><span class='tip'></span></div><div class='voice_inner'><img class='btn' src='https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/voice/imgs/start_btn_e61e030.png'><div class='box'><div class='box_inner'></div></div><div class='round2'></div><div class='round1'></div><div class='round3'></div></div></div>"),t=u["default"](".btn",e),n=u["default"](".result-word",e),l=u["default"](".tip",e),r=u["default"](".box_inner",e),o=u["default"](".round3",e),s=u["default"](".round2,.round1",e)),l.mousedown(function(){p.log({q:"setVolumn"})}),u["default"](".close",e).click(function(){d.stop(!0),d.closeUI(),a(),p.log({q:"close"})}),d.closeUI=function(){e.remove(),a()},d.openUI=function(){i(),e.appendTo(g)},d.onnoUserMedia(function(){d.stop(!0),d.closeUI(),a()}),d.onfinish(function(){d.closeUI(),a(),l.hide()}),d.onresult(function(e){n.html(e.content.item[0]),l.hide()}),d.onstart(function(){n.html("请说话"),t.one("click",function(){f(d),n.html("识别中..."),d.stop(),p.log({q:"manual_stop"})}),l.hide()}),d.onfail(function(e){var i="识别失败，请点击下面按钮后再说一次";e&&e.result&&"-3005"==e.result.err_no&&(i="没听清楚，请点击下面按钮后再说一次"),n.html(i),f(d),t.unbind("click").one("click",function(){d.start(),c(),p.log({q:"manual_restart"})})}),d.onvolumnLow(function(){var e=p.lowVolumnTipUrl;l.html(' (音量小，请您检查麦克风设置，或参考<a href="'+e+'" target="_blank">这里</a>进行设置)').show()}),d.start(),c()}}();p.showTip=function(){i();var e={"z-index":1e3,"text-align":"center",position:"fixed"};e=bds&&bds.se&&bds.se.upn&&bds.se.upn.cookieset&&bds.se.upn.cookieset[0]&&2==bds.se.upn.cookieset[0].v?u["default"].extend(e,{top:"0",right:"40px",width:"205px"}):u["default"].extend(e,{top:"25%",right:"inherit",width:"100%"}),v||(v=u["default"]('<div><img src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/voice/imgs/allow_d7a970f.png" usemap="#voiceTipMap"/><map name="voiceTipMap"><area shape="circle" coords="13,55,8"></map></div>').css(e)).find("area").click(function(){p.hideTip(),p.log({q:"hideTip"})}),v.appendTo(g).show()},p.hideTip=function(){v.hide()};var y,b=!1;p.init=function(e){var t=u["default"].Deferred();if(o){var n=new p(o,e);x(n),t.resolve(n)}else navigator.getUserMedia({audio:!0},function(n){o=n,b||(b=!0,u["default"](window).on("blur",function(){y=setTimeout(function(){o&&(o.stop&&o.stop(),o=null)},1e4)}),u["default"](window).on("focus",function(){y&&(clearTimeout(y),y=!1)}));var i=new p(o,e);x(i),t.resolve(i)},function(){a(),t.reject()});return t},p.forceDownload=function(e,t){var n=URL.createObjectURL(e),i=window.document.createElement("a");i.href=n,i.download=t||"output.wav";var a=document.createEvent("Event");a.initEvent("click",!0,!0),i.dispatchEvent(a)},p.addStartBtn=function(e){u["default"]('<span class="ipt_rec"></span>').prependTo(u["default"]("#kw").parent());var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAXlJREFUKBW9kr1Kw1AUx5OYVWiRGqqLiPgIios4qg+QobhI7QdYH6CKk4IPUCRNQhFRHPIAnRykIIqre7cMsUMHp0Jt/J2ShiYWxx44/M/53/N17z2qkhLbtgtQl+g62kWvKpXKExiLFlsYzWbzCLgOw7A2HA6XVFU9Ez/i41A9tjAIutA0rVAqld4j/tl13cJoNLrHf5zEJjpBbvq+/zE5FIz8jWkuYXOfMEFETppPd5qV84ebX5Iu82azWd00zR+Zg+fmEdWZd/M8b6Hf7w9kvKDX661Eg3cdx9mK7DFQdBtDPlkhYRUI5J86uq4fgA4d6nR6sCzrOAiCN8MwduDvhAdF9tFX/lJrYNRbrdZiuVz2SDqHs/P5/EBQfOHlXOIkXsVQGMnicI2OZrFY/BZuWiSBtfLo6FPgZLxGmUymxrwNDj65ww3YzuVycleDQof4Ml6bONlFZdxpUpXF3MU+peIeuIx+McELeFutVjvg/5Jeneno+W3ELz3Rmg23qA6NAAAAAElFTkSuQmCC",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAMAAAC3taQAAAAAhFBMVEX///8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf8zhf+04UQDAAAAK3RSTlMAAQIDBgwNHR43ODs9PkNEVFZaXGZnlpecqaq31NfZ2t3e3+Dl6On5+/z9BL131wAAAHdJREFUCB0FwYcCgQAUAMBTFGWPaCGb9///5w5s+3e/BdgNy8lq2AH6AsUZ8EuQ/AABAhAgAAECECAgUjGCkH49c9cZZlfTh2ZvcymT8rKxb8xvmXX36day25xjm4GsPSGt7od8nB/uVQoW9Ste9QKAAAABAAL4AzokCI8/h6hiAAAAAElFTkSuQmCC",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAkCAMAAACg5NohAAAA7VBMVEUAAACqqqqZmZmqqqqfn5+Ojo6ZmZmVlZWdnZ2ZmZmfn5+WlpadnZ2Xl5ebm5uVlZWZmZmXl5eZmZmampqXl5eZmZmampqZmZmampqbm5uXl5eZmZmampqYmJiZmZmampqampqYmJiZmZmYmJiampqZmZmampqZmZmZmZmZmZmYmJiZmZmampqZmZmZmZmZmZmZmZmZmZmZmZmampqZmZmZmZmYmJiZmZmampqZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlntL8zAAAATnRSTlMAAwUGCAkKDA0PEBEaGxwdHiAjJiwtMDc6PUBBTE1aXWBhZG1vcH5/goWGh4iKjo+UmZump6iuvr/AxcbI0tPZ297f5uft7vL09fb5+/48nAt9AAABHElEQVQoz93S21ZBURjF8T855BiSw06UUqiEcipKOW7s+f6P04XWGOw8QKN5Ndf4jfHdrAkm8Yf39XpUi/MrxaUkScuiW8pS9zwYtLpyyvsSt1XZtors/ZuP6pjaUWOPpJypOX24yG+qX3LR4f4vaSPvIfJqw1rHgOQx4pGAI62Z6BSYKmsoqylwogl9XQANvRh61hNQUJ+qmkDS1s1WrmUngaaqZDQLAZeOuvlAIN+VcwWEZsrAq+oApcV2NosSQF1vgKXVGUDsfmTbo/soQHolC6ClcXR/RLGxWgAEhvpM70r6S8PAtkaGWtXCBsK1lYYR8/K1Hc2bhYTXmyg051Lbt3PDGjj6iTOwXMtO3fUm0qR3m+JQXD/1N+gbnHtANlxuv2EAAAAASUVORK5CYII=",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAkCAMAAACg5NohAAAA8FBMVEUsgf////8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf8sgf+F30pxAAAAT3RSTlMAAAMFBggJCgwNDxARGhscHR4gIyYsLTA3Oj1AQUxNWl1gYWRtb3B+f4KFhoeIio6PlJmbpqeorr6/wMXGyNLT2dve3+bn7e7y9PX2+fv+wE6fLAAAASxJREFUKM/d01dWAkEUBNAqkCBBBETCiKAoSlAElKSgKHGAqf3vxg/oQ9AFeKzPvh/vdPVr0CTy8L5cDsoRbEIYyc0lSZrnDqkgtS/8fqstp7BPEVvF9UlRdmSPHtUyM1qq7ZGUNpTWxwF5DXmlA6Ih/Htayf0bubXCUsckJZcRlwTgSEuMdEZyrJShlMYATjVCV5cka3ox9KwnAFl1UVKdZMzW7VpuZMcA1FVCUpMAyStH7YzPl2nLuQYQmCgJvqpCkvnZem1meQCo6I2gpcU5SZ5UB7Y9qIYBILGQRZANDcPk9l7AyVANEKSvr8/ELiW+1Petiwr1tSgHDQTLC/VDpkNP09G0no263dFsfSo1PTv1Wj1Hmzg962Dn4/edkTTq3MV/fAdun+Nv0TegC0JUU1yQZAAAAABJRU5ErkJggg==";if(e=e||".ipt_rec{z-index:1;display:none;position:absolute;right:0;height:34px;width:24px;background:url("+t+") no-repeat center;background-image: -webkit-image-set(url("+t+") 1x,url("+i+") 2x);background-image: -moz-image-set(url("+t+") 1x,url("+i+") 2x);background-image: -o-image-set(url("+t+") 1x,url("+i+") 2x);background-image: -ms-image-set(url("+t+") 1x,url("+i+") 2x);background-size:13px 18px;background-position:0 50%;cursor:pointer;}.ipt_rec:hover{background-image:url("+n+");background-image: -webkit-image-set(url("+n+") 1x,url("+a+") 2x);background-image: -moz-image-set(url("+n+") 1x,url("+a+") 2x);background-image: -o-image-set(url("+n+") 1x,url("+a+") 2x);background-image: -ms-image-set(url("+n+") 1x,url("+a+") 2x);}",r(e,"forResult"),window.bds&&bds.comm&&bds.comm.newindex){var o=r(".ipt_rec{left:"+(u["default"]("#kw").parent().width()-30)+"px;top:3px}");u["default"](window).one("index_off",function(){u["default"](o).remove()})}},p.addStyle=function(){p.addStartBtn();r('#voice{font-family:"microsoft yahei";z-index:1000;box-shadow:0 5px 5px #888;position:fixed;width:100%;height:38.2%;min-height:229.2px;background:#fff;font-size:16px;bottom:0}#voice .close{position:absolute;right:30px;top:20px;font-size:24px;color:#333;cursor:pointer;text-indent:-10000px;background:url(https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/voice/imgs/close_btn_04bc664.png) no-repeat;background-size:18px 38px;width:20px;height:20px}#voice .close:hover{color:#999;background-position:0 -21px}#voice .voice_inner{margin:-40px auto 0;width:0}#voice .result{width:100%;font-size:22px;margin:40px 0 0 63px;text-align:left;}#voice .result .tip{color:#999;font-size:14px;}#voice .btn{position:absolute;width:105px;height:105px;margin:69px 0 0 -52px;z-index:3;cursor:pointer;background:none}#voice .box{width:56px;height:56px;position:absolute;z-index:2;background:#35d2ff;margin:92px 0 0 -28px}#voice .box_inner{width:100%;height:56px;background:#fff}@keyframes myfirst{from{border:1px solid rgba(0,0,255,1);width:100px;height:100px;border-radius:100px;margin:70px 0 0 -50px}to{border:1px solid rgba(0,0,255,0);width:200px;height:200px;border-radius:200px;margin:20px 0 0 -100px}}@-webkit-keyframes myfirst{from{border:1px solid rgba(194,224,253,1);width:100px;height:100px;border-radius:100px;margin:70px 0 0 -50px}to{border:1px solid rgba(194,224,253,0);width:300px;height:300px;border-radius:300px;margin:-30px 0 0 -150px}}@-moz-keyframes myfirst{from{border:1px solid rgba(0,0,255,1);width:100px;height:100px;border-radius:100px;margin:70px 0 0 -50px}to{border:1px solid rgba(0,0,255,0);width:200px;height:200px;border-radius:200px;margin:20px 0 0 -100px}}@-o-keyframes myfirst{from{border:1px solid rgba(0,0,255,1);width:100px;height:100px;border-radius:100px;margin:70px 0 0 -50px}to{border:1px solid rgba(0,0,255,0);width:200px;height:200px;border-radius:200px;margin:20px 0 0 -100px}}#voice .round1,#voice .round2{position:absolute;border:0 solid rgba(0,0,255,1);border-radius:200px;width:0;height:0;line-height:0;animation:myfirst 3s linear 0s infinite;-webkit-animation:myfirst 3s linear 0s infinite;-moz-animation:myfirst 3s linear 0s infinite;-o-animation:myfirst 3s linear 0s infinite}#voice .round2{animation-delay:1.5s;-webkit-animation-delay:1.5s;-moz-animation-delay:1.5s;-o-animation-delay:1.5s}#voice .round3{position:absolute;background:#c2e0fd;width:0;height:0;line-height:0}',"forResult")},p.addMask=i,p.removeMask=a,p.addStyleEle=r,module.exports=p}),define("san-xui/x/components/RecorderWorker",["exports","module"],function(exports,module){module.exports="\nfunction str2uint8(e) {\n    var t = new ArrayBuffer(e.length),\n        n = new Uint8Array(t);\n    for (var r = 0; r < e.length; r++) n[r] = e.charCodeAt(r);\n    return n;\n}\nfunction init(e) {\n    (sampleRate = e.sampleRate),\n        (outputChannels = e.outputChannels),\n        (outputSampleRate = e.outputSampleRate),\n        (uid = e.uid),\n        uid || (uid = 'test_uid');\n}\nfunction record(e) {\n    recBuffersL.push(e[0]), outputChannels == 2 && recBuffersR.push(e[1]);\n}\nfunction exportWAV(e) {\n    var t,\n        n = mergeBuffers(recBuffersL);\n    if (outputChannels == 2) {\n        var r = mergeBuffers(recBuffersR);\n        t = interleave(n, r);\n    } else t = n;\n    var i = encodeWAV(t),\n        s = new Blob([i], { type: e });\n    return s;\n}\nfunction getBuffer() {\n    var e = [];\n    return (\n        e.push(mergeBuffers(recBuffersL)),\n        outputChannels == 2 && e.push(mergeBuffers(recBuffersR)),\n        e\n    );\n}\nfunction getSendBuffer(e) {\n    var t = '-BD**VR+gzgzip',\n        n = '\\r\\n',\n        r = {\n            pfm: 'iOS&1&1&1&1',\n            ver: '1.0',\n            enc: 'utf-8',\n            rtn: 'json',\n            pdt: '818',\n            app_name: 'com.baidu.www.voice',\n            idx: sendIdx++ + '',\n            fun: '1',\n            glb: glb,\n            uid: uid\n        };\n    e && (r.idx = '-' + r.idx);\n    var i = JSON.stringify(r),\n        s = new Zlib.Gzip(str2uint8(i)),\n        o = s.compress();\n    if (sendOffset >= recBuffersL.length && !e) {\n        sendIdx--;\n        return null;\n    }\n    recBuffersL.slice(sendOffset);\n    var u = mergeBuffers(recBuffersL.slice(sendOffset));\n    sendOffset = recBuffersL.length;\n    var a = '--' + t,\n        f = new ArrayBuffer(\n            o.byteLength +\n                4 +\n                u.length * 2 +\n                (n.length + n.length + a.length) * 3 +\n                2\n        ),\n        l = new DataView(f),\n        c = 0;\n    return (\n        (c = writeString(l, c, n + a + n)),\n        (c = writeUint8Array(l, c, o)),\n        (c = writeString(l, c, n + a + n)),\n        l.setUint32(c, 1, !0),\n        (c += 4),\n        (c = writePcm(l, c, u)),\n        (c = writeString(l, c, n + a + '--' + n)),\n        { buffer: f, boundary: t, json: r }\n    );\n}\nfunction clear() {\n    (recBuffersL = []), (recBuffersR = []);\n}\nfunction mergeBuffers(e) {\n    var t = 0;\n    e.forEach(function(e) {\n        t += e.length;\n    });\n    var n = new Float32Array(t),\n        r = 0,\n        i;\n    for (i = 0; i < e.length; i++) n.set(e[i], r), (r += e[i].length);\n    var s = 0,\n        o = sampleRate / outputSampleRate,\n        u = Math.ceil(t * outputSampleRate / sampleRate),\n        a = new Float32Array(u);\n    for (i = 0; i < u; i++) (a[i] = n[Math.floor(s)]), (s += o);\n    return a;\n}\nfunction interleave(e, t) {\n    var n = e.length + t.length,\n        r = new Float32Array(n),\n        i = 0,\n        s = 0;\n    while (i < n) (r[i++] = e[s]), (r[i++] = t[s]), s++;\n    return r;\n}\nfunction floatTo16BitPCM(e, t, n) {\n    for (var r = 0; r < n.length; r++, t += 2) {\n        var i = Math.max(-1, Math.min(1, n[r]));\n        e.setInt16(t, i < 0 ? i * 32768 : i * 32767, !0);\n    }\n}\nfunction writeUint8Array(e, t, n) {\n    for (var r = 0; r < n.length; r++) e.setUint8(t + r, n[r]);\n    return t + n.length;\n}\nfunction writeString(e, t, n) {\n    for (var r = 0; r < n.length; r++) e.setUint8(t + r, n.charCodeAt(r));\n    return t + n.length;\n}\nfunction writePcm(e, t, n) {\n    return floatTo16BitPCM(e, t, n), t + n.length * 2;\n}\nfunction encodeWAV(e) {\n    var t = new ArrayBuffer(44 + e.length * 2),\n        n = new DataView(t);\n    return (\n        writeString(n, 0, 'RIFF'),\n        n.setUint32(4, 32 + e.length * 2, !0),\n        writeString(n, 8, 'WAVE'),\n        writeString(n, 12, 'fmt '),\n        n.setUint32(16, 16, !0),\n        n.setUint16(20, 1, !0),\n        n.setUint16(22, outputChannels, !0),\n        n.setUint32(24, outputSampleRate, !0),\n        n.setUint32(28, outputSampleRate, !0),\n        n.setUint16(32, outputChannels * 2, !0),\n        n.setUint16(34, 16, !0),\n        writeString(n, 36, 'data'),\n        n.setUint32(40, e.length * 2, !0),\n        floatTo16BitPCM(n, 44, e),\n        n\n    );\n}\n(function() {\n    'use strict';\n    function r(t, r) {\n        var i = t.split('.'),\n            s = n;\n        !(i[0] in s) && s.execScript && s.execScript('var ' + i[0]);\n        for (var o; i.length && (o = i.shift()); )\n            !i.length && r !== e ? (s[o] = r) : (s = s[o] ? s[o] : (s[o] = {}));\n    }\n    function s(e, t) {\n        (this.index = 'number' == typeof t ? t : 0),\n            (this.f = 0),\n            (this.buffer =\n                e instanceof (i ? Uint8Array : Array)\n                    ? e\n                    : new (i ? Uint8Array : Array)(32768));\n        if (2 * this.buffer.length <= this.index) throw Error('invalid index');\n        this.buffer.length <= this.index && o(this);\n    }\n    function o(e) {\n        var t = e.buffer,\n            n,\n            r = t.length,\n            s = new (i ? Uint8Array : Array)(r << 1);\n        if (i) s.set(t);\n        else for (n = 0; n < r; ++n) s[n] = t[n];\n        return (e.buffer = s);\n    }\n    function p(e, t, n) {\n        var r,\n            i = 'number' == typeof t ? t : (t = 0),\n            s = 'number' == typeof n ? n : e.length;\n        r = -1;\n        for (i = s & 7; i--; ++t) r = (r >>> 8) ^ v[(r ^ e[t]) & 255];\n        for (i = s >> 3; i--; t += 8)\n            (r = (r >>> 8) ^ v[(r ^ e[t]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 1]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 2]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 3]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 4]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 5]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 6]) & 255]),\n                (r = (r >>> 8) ^ v[(r ^ e[t + 7]) & 255]);\n        return (r ^ 4294967295) >>> 0;\n    }\n    function m(e) {\n        (this.buffer = new (i ? Uint16Array : Array)(2 * e)), (this.length = 0);\n    }\n    function g(e, t) {\n        (this.h = y),\n            (this.j = 0),\n            (this.input = i && e instanceof Array ? new Uint8Array(e) : e),\n            (this.c = 0),\n            t &&\n                (t.lazy && (this.j = t.lazy),\n                'number' == typeof t.compressionType &&\n                    (this.h = t.compressionType),\n                t.outputBuffer &&\n                    (this.a =\n                        i && t.outputBuffer instanceof Array\n                            ? new Uint8Array(t.outputBuffer)\n                            : t.outputBuffer),\n                'number' == typeof t.outputIndex && (this.c = t.outputIndex)),\n            this.a || (this.a = new (i ? Uint8Array : Array)(32768));\n    }\n    function E(e, t) {\n        (this.length = e), (this.k = t);\n    }\n    function T(n, r) {\n        function s(e, n) {\n            var r = e.k,\n                i = [],\n                s = 0,\n                o;\n            (o = x[e.length]),\n                (i[s++] = o & 65535),\n                (i[s++] = (o >> 16) & 255),\n                (i[s++] = o >> 24);\n            var u;\n            switch (t) {\n                case 1 === r:\n                    u = [0, r - 1, 0];\n                    break;\n                case 2 === r:\n                    u = [1, r - 2, 0];\n                    break;\n                case 3 === r:\n                    u = [2, r - 3, 0];\n                    break;\n                case 4 === r:\n                    u = [3, r - 4, 0];\n                    break;\n                case 6 >= r:\n                    u = [4, r - 5, 1];\n                    break;\n                case 8 >= r:\n                    u = [5, r - 7, 1];\n                    break;\n                case 12 >= r:\n                    u = [6, r - 9, 2];\n                    break;\n                case 16 >= r:\n                    u = [7, r - 13, 2];\n                    break;\n                case 24 >= r:\n                    u = [8, r - 17, 3];\n                    break;\n                case 32 >= r:\n                    u = [9, r - 25, 3];\n                    break;\n                case 48 >= r:\n                    u = [10, r - 33, 4];\n                    break;\n                case 64 >= r:\n                    u = [11, r - 49, 4];\n                    break;\n                case 96 >= r:\n                    u = [12, r - 65, 5];\n                    break;\n                case 128 >= r:\n                    u = [13, r - 97, 5];\n                    break;\n                case 192 >= r:\n                    u = [14, r - 129, 6];\n                    break;\n                case 256 >= r:\n                    u = [15, r - 193, 6];\n                    break;\n                case 384 >= r:\n                    u = [16, r - 257, 7];\n                    break;\n                case 512 >= r:\n                    u = [17, r - 385, 7];\n                    break;\n                case 768 >= r:\n                    u = [18, r - 513, 8];\n                    break;\n                case 1024 >= r:\n                    u = [19, r - 769, 8];\n                    break;\n                case 1536 >= r:\n                    u = [20, r - 1025, 9];\n                    break;\n                case 2048 >= r:\n                    u = [21, r - 1537, 9];\n                    break;\n                case 3072 >= r:\n                    u = [22, r - 2049, 10];\n                    break;\n                case 4096 >= r:\n                    u = [23, r - 3073, 10];\n                    break;\n                case 6144 >= r:\n                    u = [24, r - 4097, 11];\n                    break;\n                case 8192 >= r:\n                    u = [25, r - 6145, 11];\n                    break;\n                case 12288 >= r:\n                    u = [26, r - 8193, 12];\n                    break;\n                case 16384 >= r:\n                    u = [27, r - 12289, 12];\n                    break;\n                case 24576 >= r:\n                    u = [28, r - 16385, 13];\n                    break;\n                case 32768 >= r:\n                    u = [29, r - 24577, 13];\n                    break;\n                default:\n                    throw 'invalid distance';\n            }\n            (o = u), (i[s++] = o[0]), (i[s++] = o[1]), (i[s++] = o[2]);\n            var a, f;\n            a = 0;\n            for (f = i.length; a < f; ++a) v[m++] = i[a];\n            y[i[0]]++, b[i[3]]++, (g = e.length + n - 1), (d = null);\n        }\n        var o,\n            u,\n            a,\n            f,\n            l,\n            c = {},\n            h,\n            p,\n            d,\n            v = i ? new Uint16Array(2 * r.length) : [],\n            m = 0,\n            g = 0,\n            y = new (i ? Uint32Array : Array)(286),\n            b = new (i ? Uint32Array : Array)(30),\n            w = n.j,\n            E;\n        if (!i) {\n            for (a = 0; 285 >= a; ) y[a++] = 0;\n            for (a = 0; 29 >= a; ) b[a++] = 0;\n        }\n        (y[256] = 1), (o = 0);\n        for (u = r.length; o < u; ++o) {\n            a = l = 0;\n            for (f = 3; a < f && o + a !== u; ++a) l = (l << 8) | r[o + a];\n            c[l] === e && (c[l] = []), (h = c[l]);\n            if (!(0 < g--)) {\n                for (; 0 < h.length && 32768 < o - h[0]; ) h.shift();\n                if (o + 3 >= u) {\n                    d && s(d, -1), (a = 0);\n                    for (f = u - o; a < f; ++a)\n                        (E = r[o + a]), (v[m++] = E), ++y[E];\n                    break;\n                }\n                0 < h.length\n                    ? ((p = N(r, o, h)),\n                      d\n                          ? d.length < p.length\n                            ? ((E = r[o - 1]), (v[m++] = E), ++y[E], s(p, 0))\n                            : s(d, -1)\n                          : p.length < w ? (d = p) : s(p, 0))\n                    : d ? s(d, -1) : ((E = r[o]), (v[m++] = E), ++y[E]);\n            }\n            h.push(o);\n        }\n        return (\n            (v[m++] = 256),\n            y[256]++,\n            (n.n = y),\n            (n.m = b),\n            i ? v.subarray(0, m) : v\n        );\n    }\n    function N(e, t, n) {\n        var r,\n            i,\n            s = 0,\n            o,\n            u,\n            a,\n            f,\n            l = e.length;\n        (u = 0), (f = n.length);\n        e: for (; u < f; u++) {\n            (r = n[f - u - 1]), (o = 3);\n            if (3 < s) {\n                for (a = s; 3 < a; a--)\n                    if (e[r + a - 1] !== e[t + a - 1]) continue e;\n                o = s;\n            }\n            for (; 258 > o && t + o < l && e[r + o] === e[t + o]; ) ++o;\n            o > s && ((i = r), (s = o));\n            if (258 === o) break;\n        }\n        return new E(s, t - i);\n    }\n    function C(e, t) {\n        var n = e.length,\n            r = new m(572),\n            s = new (i ? Uint8Array : Array)(n),\n            o,\n            u,\n            a,\n            f,\n            l;\n        if (!i) for (f = 0; f < n; f++) s[f] = 0;\n        for (f = 0; f < n; ++f) 0 < e[f] && r.push(f, e[f]);\n        (o = Array(r.length / 2)),\n            (u = new (i ? Uint32Array : Array)(r.length / 2));\n        if (1 === o.length) return (s[r.pop().index] = 1), s;\n        f = 0;\n        for (l = r.length / 2; f < l; ++f)\n            (o[f] = r.pop()), (u[f] = o[f].value);\n        (a = k(u, u.length, t)), (f = 0);\n        for (l = o.length; f < l; ++f) s[o[f].index] = a[f];\n        return s;\n    }\n    function k(e, t, n) {\n        function r(e) {\n            var n = f[e][l[e]];\n            n === t ? (r(e + 1), r(e + 1)) : --u[n], ++l[e];\n        }\n        var s = new (i ? Uint16Array : Array)(n),\n            o = new (i ? Uint8Array : Array)(n),\n            u = new (i ? Uint8Array : Array)(t),\n            a = Array(n),\n            f = Array(n),\n            l = Array(n),\n            c = (1 << n) - t,\n            h = 1 << (n - 1),\n            p,\n            d,\n            v,\n            m,\n            g;\n        s[n - 1] = t;\n        for (d = 0; d < n; ++d)\n            c < h ? (o[d] = 0) : ((o[d] = 1), (c -= h)),\n                (c <<= 1),\n                (s[n - 2 - d] = ((s[n - 1 - d] / 2) | 0) + t);\n        (s[0] = o[0]), (a[0] = Array(s[0])), (f[0] = Array(s[0]));\n        for (d = 1; d < n; ++d)\n            s[d] > 2 * s[d - 1] + o[d] && (s[d] = 2 * s[d - 1] + o[d]),\n                (a[d] = Array(s[d])),\n                (f[d] = Array(s[d]));\n        for (p = 0; p < t; ++p) u[p] = n;\n        for (v = 0; v < s[n - 1]; ++v) (a[n - 1][v] = e[v]), (f[n - 1][v] = v);\n        for (p = 0; p < n; ++p) l[p] = 0;\n        1 === o[n - 1] && (--u[0], ++l[n - 1]);\n        for (d = n - 2; 0 <= d; --d) {\n            (m = p = 0), (g = l[d + 1]);\n            for (v = 0; v < s[d]; v++)\n                (m = a[d + 1][g] + a[d + 1][g + 1]),\n                    m > e[p]\n                        ? ((a[d][v] = m), (f[d][v] = t), (g += 2))\n                        : ((a[d][v] = e[p]), (f[d][v] = p), ++p);\n            (l[d] = 0), 1 === o[d] && r(d);\n        }\n        return u;\n    }\n    function L(e) {\n        var t = new (i ? Uint16Array : Array)(e.length),\n            n = [],\n            r = [],\n            s = 0,\n            o,\n            u,\n            a,\n            f;\n        o = 0;\n        for (u = e.length; o < u; o++) n[e[o]] = (n[e[o]] | 0) + 1;\n        o = 1;\n        for (u = 16; o <= u; o++) (r[o] = s), (s += n[o] | 0), (s <<= 1);\n        o = 0;\n        for (u = e.length; o < u; o++) {\n            (s = r[e[o]]), (r[e[o]] += 1), (a = t[o] = 0);\n            for (f = e[o]; a < f; a++)\n                (t[o] = (t[o] << 1) | (s & 1)), (s >>>= 1);\n        }\n        return t;\n    }\n    function A(e, t) {\n        (this.input = e),\n            (this.c = this.i = 0),\n            (this.d = {}),\n            t &&\n                (t.flags && (this.d = t.flags),\n                'string' == typeof t.filename && (this.filename = t.filename),\n                'string' == typeof t.comment && (this.l = t.comment),\n                t.deflateOptions && (this.e = t.deflateOptions)),\n            this.e || (this.e = {});\n    }\n    var e = void 0,\n        t = !0,\n        n = this,\n        i =\n            'undefined' != typeof Uint8Array &&\n            'undefined' != typeof Uint16Array &&\n            'undefined' != typeof Uint32Array &&\n            'undefined' != typeof DataView;\n    (s.prototype.b = function(e, t, n) {\n        var r = this.buffer,\n            i = this.index,\n            s = this.f,\n            u = r[i],\n            a;\n        n &&\n            1 < t &&\n            (e =\n                8 < t\n                    ? ((h[e & 255] << 24) |\n                          (h[(e >>> 8) & 255] << 16) |\n                          (h[(e >>> 16) & 255] << 8) |\n                          h[(e >>> 24) & 255]) >>\n                      (32 - t)\n                    : h[e] >> (8 - t));\n        if (8 > t + s) (u = (u << t) | e), (s += t);\n        else\n            for (a = 0; a < t; ++a)\n                (u = (u << 1) | ((e >> (t - a - 1)) & 1)),\n                    8 === ++s &&\n                        ((s = 0),\n                        (r[i++] = h[u]),\n                        (u = 0),\n                        i === r.length && (r = o(this)));\n        (r[i] = u), (this.buffer = r), (this.f = s), (this.index = i);\n    }),\n        (s.prototype.finish = function() {\n            var e = this.buffer,\n                t = this.index,\n                n;\n            return (\n                0 < this.f && ((e[t] <<= 8 - this.f), (e[t] = h[e[t]]), t++),\n                i ? (n = e.subarray(0, t)) : ((e.length = t), (n = e)),\n                n\n            );\n        });\n    var u = new (i ? Uint8Array : Array)(256),\n        a;\n    for (a = 0; 256 > a; ++a) {\n        for (var f = a, l = f, c = 7, f = f >>> 1; f; f >>>= 1)\n            (l <<= 1), (l |= f & 1), --c;\n        u[a] = ((l << c) & 255) >>> 0;\n    }\n    var h = u,\n        d = [\n            0,\n            1996959894,\n            3993919788,\n            2567524794,\n            124634137,\n            1886057615,\n            3915621685,\n            2657392035,\n            249268274,\n            2044508324,\n            3772115230,\n            2547177864,\n            162941995,\n            2125561021,\n            3887607047,\n            2428444049,\n            498536548,\n            1789927666,\n            4089016648,\n            2227061214,\n            450548861,\n            1843258603,\n            4107580753,\n            2211677639,\n            325883990,\n            1684777152,\n            4251122042,\n            2321926636,\n            335633487,\n            1661365465,\n            4195302755,\n            2366115317,\n            997073096,\n            1281953886,\n            3579855332,\n            2724688242,\n            1006888145,\n            1258607687,\n            3524101629,\n            2768942443,\n            901097722,\n            1119000684,\n            3686517206,\n            2898065728,\n            853044451,\n            1172266101,\n            3705015759,\n            2882616665,\n            651767980,\n            1373503546,\n            3369554304,\n            3218104598,\n            565507253,\n            1454621731,\n            3485111705,\n            3099436303,\n            671266974,\n            1594198024,\n            3322730930,\n            2970347812,\n            795835527,\n            1483230225,\n            3244367275,\n            3060149565,\n            1994146192,\n            31158534,\n            2563907772,\n            4023717930,\n            1907459465,\n            112637215,\n            2680153253,\n            3904427059,\n            2013776290,\n            251722036,\n            2517215374,\n            3775830040,\n            2137656763,\n            141376813,\n            2439277719,\n            3865271297,\n            1802195444,\n            476864866,\n            2238001368,\n            4066508878,\n            1812370925,\n            453092731,\n            2181625025,\n            4111451223,\n            1706088902,\n            314042704,\n            2344532202,\n            4240017532,\n            1658658271,\n            366619977,\n            2362670323,\n            4224994405,\n            1303535960,\n            984961486,\n            2747007092,\n            3569037538,\n            1256170817,\n            1037604311,\n            2765210733,\n            3554079995,\n            1131014506,\n            879679996,\n            2909243462,\n            3663771856,\n            1141124467,\n            855842277,\n            2852801631,\n            3708648649,\n            1342533948,\n            654459306,\n            3188396048,\n            3373015174,\n            1466479909,\n            544179635,\n            3110523913,\n            3462522015,\n            1591671054,\n            702138776,\n            2966460450,\n            3352799412,\n            1504918807,\n            783551873,\n            3082640443,\n            3233442989,\n            3988292384,\n            2596254646,\n            62317068,\n            1957810842,\n            3939845945,\n            2647816111,\n            81470997,\n            1943803523,\n            3814918930,\n            2489596804,\n            225274430,\n            2053790376,\n            3826175755,\n            2466906013,\n            167816743,\n            2097651377,\n            4027552580,\n            2265490386,\n            503444072,\n            1762050814,\n            4150417245,\n            2154129355,\n            426522225,\n            1852507879,\n            4275313526,\n            2312317920,\n            282753626,\n            1742555852,\n            4189708143,\n            2394877945,\n            397917763,\n            1622183637,\n            3604390888,\n            2714866558,\n            953729732,\n            1340076626,\n            3518719985,\n            2797360999,\n            1068828381,\n            1219638859,\n            3624741850,\n            2936675148,\n            906185462,\n            1090812512,\n            3747672003,\n            2825379669,\n            829329135,\n            1181335161,\n            3412177804,\n            3160834842,\n            628085408,\n            1382605366,\n            3423369109,\n            3138078467,\n            570562233,\n            1426400815,\n            3317316542,\n            2998733608,\n            733239954,\n            1555261956,\n            3268935591,\n            3050360625,\n            752459403,\n            1541320221,\n            2607071920,\n            3965973030,\n            1969922972,\n            40735498,\n            2617837225,\n            3943577151,\n            1913087877,\n            83908371,\n            2512341634,\n            3803740692,\n            2075208622,\n            213261112,\n            2463272603,\n            3855990285,\n            2094854071,\n            198958881,\n            2262029012,\n            4057260610,\n            1759359992,\n            534414190,\n            2176718541,\n            4139329115,\n            1873836001,\n            414664567,\n            2282248934,\n            4279200368,\n            1711684554,\n            285281116,\n            2405801727,\n            4167216745,\n            1634467795,\n            376229701,\n            2685067896,\n            3608007406,\n            1308918612,\n            956543938,\n            2808555105,\n            3495958263,\n            1231636301,\n            1047427035,\n            2932959818,\n            3654703836,\n            1088359270,\n            936918e3,\n            2847714899,\n            3736837829,\n            1202900863,\n            817233897,\n            3183342108,\n            3401237130,\n            1404277552,\n            615818150,\n            3134207493,\n            3453421203,\n            1423857449,\n            601450431,\n            3009837614,\n            3294710456,\n            1567103746,\n            711928724,\n            3020668471,\n            3272380065,\n            1510334235,\n            755167117\n        ],\n        v = i ? new Uint32Array(d) : d;\n    (m.prototype.getParent = function(e) {\n        return 2 * (((e - 2) / 4) | 0);\n    }),\n        (m.prototype.push = function(e, t) {\n            var n,\n                r,\n                i = this.buffer,\n                s;\n            (n = this.length), (i[this.length++] = t);\n            for (i[this.length++] = e; 0 < n; ) {\n                if (((r = this.getParent(n)), !(i[n] > i[r]))) break;\n                (s = i[n]),\n                    (i[n] = i[r]),\n                    (i[r] = s),\n                    (s = i[n + 1]),\n                    (i[n + 1] = i[r + 1]),\n                    (i[r + 1] = s),\n                    (n = r);\n            }\n            return this.length;\n        }),\n        (m.prototype.pop = function() {\n            var e,\n                t,\n                n = this.buffer,\n                r,\n                i,\n                s;\n            (t = n[0]),\n                (e = n[1]),\n                (this.length -= 2),\n                (n[0] = n[this.length]),\n                (n[1] = n[this.length + 1]);\n            for (s = 0; ; ) {\n                i = 2 * s + 2;\n                if (i >= this.length) break;\n                i + 2 < this.length && n[i + 2] > n[i] && (i += 2);\n                if (!(n[i] > n[s])) break;\n                (r = n[s]),\n                    (n[s] = n[i]),\n                    (n[i] = r),\n                    (r = n[s + 1]),\n                    (n[s + 1] = n[i + 1]),\n                    (n[i + 1] = r),\n                    (s = i);\n            }\n            return { index: e, value: t, length: this.length };\n        });\n    var y = 2,\n        b = [],\n        w;\n    for (w = 0; 288 > w; w++)\n        switch (t) {\n            case 143 >= w:\n                b.push([w + 48, 8]);\n                break;\n            case 255 >= w:\n                b.push([w - 144 + 400, 9]);\n                break;\n            case 279 >= w:\n                b.push([w - 256 + 0, 7]);\n                break;\n            case 287 >= w:\n                b.push([w - 280 + 192, 8]);\n                break;\n            default:\n                throw 'invalid literal: ' + w;\n        }\n    g.prototype.g = function() {\n        var n,\n            r,\n            o,\n            u,\n            a = this.input;\n        switch (this.h) {\n            case 0:\n                o = 0;\n                for (u = a.length; o < u; ) {\n                    (r = i ? a.subarray(o, o + 65535) : a.slice(o, o + 65535)),\n                        (o += r.length);\n                    var f = r,\n                        l = o === u,\n                        c = e,\n                        h = e,\n                        p = e,\n                        d = e,\n                        v = e,\n                        m = this.a,\n                        g = this.c;\n                    if (i) {\n                        for (\n                            m = new Uint8Array(this.a.buffer);\n                            m.length <= g + f.length + 5;\n\n                        )\n                            m = new Uint8Array(m.length << 1);\n                        m.set(this.a);\n                    }\n                    (c = l ? 1 : 0),\n                        (m[g++] = c | 0),\n                        (h = f.length),\n                        (p = (~h + 65536) & 65535),\n                        (m[g++] = h & 255),\n                        (m[g++] = (h >>> 8) & 255),\n                        (m[g++] = p & 255),\n                        (m[g++] = (p >>> 8) & 255);\n                    if (i) m.set(f, g), (g += f.length), (m = m.subarray(0, g));\n                    else {\n                        d = 0;\n                        for (v = f.length; d < v; ++d) m[g++] = f[d];\n                        m.length = g;\n                    }\n                    (this.c = g), (this.a = m);\n                }\n                break;\n            case 1:\n                var w = new s(\n                    i ? new Uint8Array(this.a.buffer) : this.a,\n                    this.c\n                );\n                w.b(1, 1, t), w.b(1, 2, t);\n                var E = T(this, a),\n                    S,\n                    x,\n                    N;\n                S = 0;\n                for (x = E.length; S < x; S++)\n                    if (((N = E[S]), s.prototype.b.apply(w, b[N]), 256 < N))\n                        w.b(E[++S], E[++S], t),\n                            w.b(E[++S], 5),\n                            w.b(E[++S], E[++S], t);\n                    else if (256 === N) break;\n                (this.a = w.finish()), (this.c = this.a.length);\n                break;\n            case y:\n                var k = new s(\n                        i ? new Uint8Array(this.a.buffer) : this.a,\n                        this.c\n                    ),\n                    A,\n                    O,\n                    M,\n                    _,\n                    D,\n                    P = [\n                        16,\n                        17,\n                        18,\n                        0,\n                        8,\n                        7,\n                        9,\n                        6,\n                        10,\n                        5,\n                        11,\n                        4,\n                        12,\n                        3,\n                        13,\n                        2,\n                        14,\n                        1,\n                        15\n                    ],\n                    H,\n                    B,\n                    j,\n                    I,\n                    q,\n                    R = Array(19),\n                    U,\n                    z,\n                    W,\n                    X,\n                    $;\n                (A = y),\n                    k.b(1, 1, t),\n                    k.b(A, 2, t),\n                    (O = T(this, a)),\n                    (H = C(this.n, 15)),\n                    (B = L(H)),\n                    (j = C(this.m, 7)),\n                    (I = L(j));\n                for (M = 286; 257 < M && 0 === H[M - 1]; M--);\n                for (_ = 30; 1 < _ && 0 === j[_ - 1]; _--);\n                var J = M,\n                    K = _,\n                    Q = new (i ? Uint32Array : Array)(J + K),\n                    G,\n                    Y,\n                    Z,\n                    et,\n                    tt = new (i ? Uint32Array : Array)(316),\n                    nt,\n                    rt,\n                    it = new (i ? Uint8Array : Array)(19);\n                for (G = Y = 0; G < J; G++) Q[Y++] = H[G];\n                for (G = 0; G < K; G++) Q[Y++] = j[G];\n                if (!i) {\n                    G = 0;\n                    for (et = it.length; G < et; ++G) it[G] = 0;\n                }\n                G = nt = 0;\n                for (et = Q.length; G < et; G += Y) {\n                    for (Y = 1; G + Y < et && Q[G + Y] === Q[G]; ++Y);\n                    Z = Y;\n                    if (0 === Q[G])\n                        if (3 > Z) for (; 0 < Z--; ) (tt[nt++] = 0), it[0]++;\n                        else\n                            for (; 0 < Z; )\n                                (rt = 138 > Z ? Z : 138),\n                                    rt > Z - 3 && rt < Z && (rt = Z - 3),\n                                    10 >= rt\n                                        ? ((tt[nt++] = 17),\n                                          (tt[nt++] = rt - 3),\n                                          it[17]++)\n                                        : ((tt[nt++] = 18),\n                                          (tt[nt++] = rt - 11),\n                                          it[18]++),\n                                    (Z -= rt);\n                    else if (((tt[nt++] = Q[G]), it[Q[G]]++, Z--, 3 > Z))\n                        for (; 0 < Z--; ) (tt[nt++] = Q[G]), it[Q[G]]++;\n                    else\n                        for (; 0 < Z; )\n                            (rt = 6 > Z ? Z : 6),\n                                rt > Z - 3 && rt < Z && (rt = Z - 3),\n                                (tt[nt++] = 16),\n                                (tt[nt++] = rt - 3),\n                                it[16]++,\n                                (Z -= rt);\n                }\n                (n = i ? tt.subarray(0, nt) : tt.slice(0, nt)), (q = C(it, 7));\n                for (X = 0; 19 > X; X++) R[X] = q[P[X]];\n                for (D = 19; 4 < D && 0 === R[D - 1]; D--);\n                (U = L(q)),\n                    k.b(M - 257, 5, t),\n                    k.b(_ - 1, 5, t),\n                    k.b(D - 4, 4, t);\n                for (X = 0; X < D; X++) k.b(R[X], 3, t);\n                X = 0;\n                for ($ = n.length; X < $; X++)\n                    if (((z = n[X]), k.b(U[z], q[z], t), 16 <= z)) {\n                        X++;\n                        switch (z) {\n                            case 16:\n                                W = 2;\n                                break;\n                            case 17:\n                                W = 3;\n                                break;\n                            case 18:\n                                W = 7;\n                                break;\n                            default:\n                                throw 'invalid code: ' + z;\n                        }\n                        k.b(n[X], W, t);\n                    }\n                var st = [B, H],\n                    ot = [I, j],\n                    ut,\n                    at,\n                    ft,\n                    lt,\n                    ct,\n                    ht,\n                    pt,\n                    dt;\n                (ct = st[0]),\n                    (ht = st[1]),\n                    (pt = ot[0]),\n                    (dt = ot[1]),\n                    (ut = 0);\n                for (at = O.length; ut < at; ++ut)\n                    if (((ft = O[ut]), k.b(ct[ft], ht[ft], t), 256 < ft))\n                        k.b(O[++ut], O[++ut], t),\n                            (lt = O[++ut]),\n                            k.b(pt[lt], dt[lt], t),\n                            k.b(O[++ut], O[++ut], t);\n                    else if (256 === ft) break;\n                (this.a = k.finish()), (this.c = this.a.length);\n                break;\n            default:\n                throw 'invalid compression type';\n        }\n        return this.a;\n    };\n    var S = (function() {\n            function e(e) {\n                switch (t) {\n                    case 3 === e:\n                        return [257, e - 3, 0];\n                    case 4 === e:\n                        return [258, e - 4, 0];\n                    case 5 === e:\n                        return [259, e - 5, 0];\n                    case 6 === e:\n                        return [260, e - 6, 0];\n                    case 7 === e:\n                        return [261, e - 7, 0];\n                    case 8 === e:\n                        return [262, e - 8, 0];\n                    case 9 === e:\n                        return [263, e - 9, 0];\n                    case 10 === e:\n                        return [264, e - 10, 0];\n                    case 12 >= e:\n                        return [265, e - 11, 1];\n                    case 14 >= e:\n                        return [266, e - 13, 1];\n                    case 16 >= e:\n                        return [267, e - 15, 1];\n                    case 18 >= e:\n                        return [268, e - 17, 1];\n                    case 22 >= e:\n                        return [269, e - 19, 2];\n                    case 26 >= e:\n                        return [270, e - 23, 2];\n                    case 30 >= e:\n                        return [271, e - 27, 2];\n                    case 34 >= e:\n                        return [272, e - 31, 2];\n                    case 42 >= e:\n                        return [273, e - 35, 3];\n                    case 50 >= e:\n                        return [274, e - 43, 3];\n                    case 58 >= e:\n                        return [275, e - 51, 3];\n                    case 66 >= e:\n                        return [276, e - 59, 3];\n                    case 82 >= e:\n                        return [277, e - 67, 4];\n                    case 98 >= e:\n                        return [278, e - 83, 4];\n                    case 114 >= e:\n                        return [279, e - 99, 4];\n                    case 130 >= e:\n                        return [280, e - 115, 4];\n                    case 162 >= e:\n                        return [281, e - 131, 5];\n                    case 194 >= e:\n                        return [282, e - 163, 5];\n                    case 226 >= e:\n                        return [283, e - 195, 5];\n                    case 257 >= e:\n                        return [284, e - 227, 5];\n                    case 258 === e:\n                        return [285, e - 258, 0];\n                    default:\n                        throw 'invalid length: ' + e;\n                }\n            }\n            var n = [],\n                r,\n                i;\n            for (r = 3; 258 >= r; r++)\n                (i = e(r)), (n[r] = (i[2] << 24) | (i[1] << 16) | i[0]);\n            return n;\n        })(),\n        x = i ? new Uint32Array(S) : S;\n    A.prototype.g = function() {\n        var t,\n            n,\n            r,\n            s,\n            o,\n            u,\n            a,\n            f,\n            l = new (i ? Uint8Array : Array)(32768),\n            c = 0,\n            h = this.input,\n            d = this.i,\n            v = this.filename,\n            m = this.l;\n        (l[c++] = 31),\n            (l[c++] = 139),\n            (l[c++] = 8),\n            (t = 0),\n            this.d.fname && (t |= _),\n            this.d.fcomment && (t |= D),\n            this.d.fhcrc && (t |= M),\n            (l[c++] = t),\n            (n = ((Date.now ? Date.now() : +new Date()) / 1e3) | 0),\n            (l[c++] = n & 255),\n            (l[c++] = (n >>> 8) & 255),\n            (l[c++] = (n >>> 16) & 255),\n            (l[c++] = (n >>> 24) & 255),\n            (l[c++] = 0),\n            (l[c++] = O);\n        if (this.d.fname !== e) {\n            a = 0;\n            for (f = v.length; a < f; ++a)\n                (u = v.charCodeAt(a)),\n                    255 < u && (l[c++] = (u >>> 8) & 255),\n                    (l[c++] = u & 255);\n            l[c++] = 0;\n        }\n        if (this.d.comment) {\n            a = 0;\n            for (f = m.length; a < f; ++a)\n                (u = m.charCodeAt(a)),\n                    255 < u && (l[c++] = (u >>> 8) & 255),\n                    (l[c++] = u & 255);\n            l[c++] = 0;\n        }\n        return (\n            this.d.fhcrc &&\n                ((r = p(l, 0, c) & 65535),\n                (l[c++] = r & 255),\n                (l[c++] = (r >>> 8) & 255)),\n            (this.e.outputBuffer = l),\n            (this.e.outputIndex = c),\n            (o = new g(h, this.e)),\n            (l = o.g()),\n            (c = o.c),\n            i &&\n                (c + 8 > l.buffer.byteLength\n                    ? ((this.a = new Uint8Array(c + 8)),\n                      this.a.set(new Uint8Array(l.buffer)),\n                      (l = this.a))\n                    : (l = new Uint8Array(l.buffer))),\n            (s = p(h, e, e)),\n            (l[c++] = s & 255),\n            (l[c++] = (s >>> 8) & 255),\n            (l[c++] = (s >>> 16) & 255),\n            (l[c++] = (s >>> 24) & 255),\n            (f = h.length),\n            (l[c++] = f & 255),\n            (l[c++] = (f >>> 8) & 255),\n            (l[c++] = (f >>> 16) & 255),\n            (l[c++] = (f >>> 24) & 255),\n            (this.i = d),\n            i && c < l.length && (this.a = l = l.subarray(0, c)),\n            l\n        );\n    };\n    var O = 255,\n        M = 2,\n        _ = 8,\n        D = 16;\n    r('Zlib.Gzip', A), r('Zlib.Gzip.prototype.compress', A.prototype.g);\n}.call(this));\nvar createUUID = (function(e, t) {\n        return function() {\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n                .replace(e, t)\n                .toUpperCase();\n        };\n    })(/[xy]/g, function(e) {\n        var t = (Math.random() * 16) | 0,\n            n = e == 'x' ? t : (t & 3) | 8;\n        return n.toString(16);\n    }),\n    recBuffersL = [],\n    recBuffersR = [],\n    outputChannels,\n    outputSampleRate,\n    sendOffset = 0,\n    glb = createUUID(),\n    sendIdx = 1,\n    uid = '',\n    sampleRate;\nthis.onmessage = function(e) {\n    var t;\n    switch (e.data.command) {\n        case 'reinit':\n            (recBuffersL = []),\n                (recBuffersR = []),\n                (sendOffset = 0),\n                (sendIdx = 1),\n                (glb = createUUID());\n            break;\n        case 'init':\n            init(e.data.config);\n            break;\n        case 'record':\n            record(e.data.buffer);\n            break;\n        case 'exportWAV':\n            (t = exportWAV(e.data.type)),\n                this.postMessage({ data: t, eventId: e.data.eventId });\n            break;\n        case 'getBuffer':\n            (t = getBuffer()),\n                this.postMessage({ data: t, eventId: e.data.eventId });\n            break;\n        case 'getSendBuffer':\n            (t = getSendBuffer()),\n                this.postMessage({ data: t, eventId: e.data.eventId });\n            break;\n        case 'getLastSendBuffer':\n            (t = getSendBuffer(!0)),\n                this.postMessage({ data: t, eventId: e.data.eventId });\n            break;\n        case 'clear':\n            clear();\n    }\n};\n"}),define("san-xui/x/components/Region",["exports","module","san","./MultiPicker","babel-runtime/helpers/interop-require-default","./asInput","./util","./data/regions"],function(exports,module,e,t,n,i,a,r){var o=n["default"](t),s=n["default"](r),l=a.create("ui-region"),u=e.defineComponent({template:'<template>\n<div class="{{mainClass}}" style="{{mainStyle}}">\n    <ui-multipicker\n        disabled="{{disabled}}"\n        datasource="{{datasource}}"\n        value="{=value=}"\n    />\n</div>\n</template>',components:{"ui-multipicker":o["default"]},computed:{mainClass:function(){return l.mainClass(this)},mainStyle:function(){return l.mainStyle(this)}},initData:function(){return{datasource:s["default"],disabled:!1,value:[]}},dataTypes:{disabled:e.DataTypes.bool,value:e.DataTypes.array,datasource:e.DataTypes.array}});module.exports=i.asInput(u)}),define("san-xui/x/components/ResizeObserver",["exports","module"],function(exports,module){function e(e){l.push(this),this.__callback=e,this.__observationTargets=[],this.__activeTargets=[]}function t(e){this.__target=e,this.__clientWidth=a(e),this.__clientHeight=r(e)}function n(e){this.__target=e,this.__lastBroadcastWidth=a(e),this.__lastBroadcastHeight=r(e)}function i(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target()===t)return n}function a(e){return e.getBoundingClientRect().width}function r(e){return e.getBoundingClientRect().height}function o(){!function(){for(var e=0;e<l.length;e+=1)l[e].__populateActiveTargets()}(),function(){for(var e=0;e<l.length;e++){var n=l[e];if(0!==n.__activeTargets.length){for(var i=[],o=0;o<n.__activeTargets.length;o+=1){var s=n.__activeTargets[o],u=new t(s.target());i.push(u),s.__lastBroadcastWidth=a(s.target()),s.__lastBroadcastHeight=r(s.target())}n.__callback(i),n.__activeTargets=[]}}}(),s(o)}function s(e){"undefined"==typeof window.requestAnimationFrame?window.setTimeout(e,1e3/60):window.requestAnimationFrame(e)}var l=[];e.prototype.observe=function(e){if(!(i(this.__observationTargets,e)>=0)){var t=new n(e);this.__observationTargets.push(t)}},e.prototype.unobserve=function(e){var t=i(this.__observationTargets,e);-1!==t&&this.__observationTargets.splice(t,1)},e.prototype.disconnect=function(){this.__observationTargets=[],this.__activeTargets=[]},e.prototype.__populateActiveTargets=function(){this.__activeTargets=[];for(var e in this.__observationTargets){var t=this.__observationTargets[e];t.isActive()&&this.__activeTargets.push(t)}},t.prototype.target=function(){return this.__target},t.prototype.clientWidth=function(){return this.__clientWidth},t.prototype.clientHeight=function(){return this.__clientHeight},n.prototype.target=function(){return this.__target},n.prototype.lastBroadcastWidth=function(){return this.__lastBroadcastWidth},n.prototype.lastBroadcastHeight=function(){return this.__lastBroadcastHeight},n.prototype.isActive=function(){return a(this.__target)!==this.lastBroadcastWidth()||r(this.__target)!==this.lastBroadcastHeight()},s(o),module.exports=e}),define("san-xui/x/components/RichTextEditor",["exports","module","jquery","babel-runtime/helpers/interop-require-default","lodash","san","./util","./helper","./asInput","./Loading"],function(exports,module,e,t,n,i,a,r,o,s){var l=t["default"](e),u=t["default"](n),d=t["default"](s),c=a.create("ui-richtexteditor"),f={UEDITOR_HOME_URL:"https://bce.bdstatic.com/console/dep/c42ae776/ueditor/1.4.3/",initialFrameHeight:250,autoFloatEnabled:!1,elementPathEnabled:!1,autoHeightEnabled:!1,iframeUrlMap:{link:"function"==typeof window.require?window.require.toUrl("ueditor/dialogs/link/link.html"):null},serverUrl:"/api/mc/imageUpload",initialStyle:["p, ol{\n            line-height: 1.5em;\n            color: #494949;\n            font-family: Microsoft Yahei, Tahoma, Arial, Helvetica, STHeiti;\n            font-size: 12px;\n        }"],toolbars:[["source","undo","redo","insertunorderedlist","insertorderedlist","unlink","link","bold","underline","fontborder","strikethrough","forecolor","backcolor","justifyleft","justifycenter","justifyright","justifyjustify","removeformat","fontfamily","fontsize","|","simpleupload","imagenone","imageleft","imageright","imagecenter","blockquote","cleardoc","formatmatch","indent","lineheight","paragraph","rowspacing","date",""]]},p='<template>\n<div class="'+c()+'">\n    <ui-loading s-if="loading" />\n    <div class="'+c("error")+'" s-if="error">{{error}}</div>\n    <div s-ref="ghost" style="{{mainStyle}}"></div>\n</div>\n</template>',h=i.defineComponent({template:p,components:{"ui-loading":d["default"]},computed:{mainStyle:function(){var e=this.data.get("loading"),t=c.mainStyle(this);return t.display=e?"none":"block",t},editorOptions:function(){var e=this.data.get("options");return u["default"].extend({},f,e)}},initData:function(){return{loading:!0,error:null,width:"100%",height:null,options:null}},dataTypes:{value:i.DataTypes.string,options:i.DataTypes.object,width:i.DataTypes.string,height:i.DataTypes.string},inited:function(){},attached:function(){var e=this;r.loadThirdParty(["ZeroClipboard","UE"],["zeroclipboard",r.js("ueditor/ueditor.all.min.js")]).then(function(t){var n=t[0],i=t[1];e.data.set("loading",!1),window.ZeroClipboard=n;var a=e.data.get("editorOptions"),r=e.data.get("value"),o=e.ref("ghost");if(o){var s=e.editor=new i.ui.Editor(a);s.render(o),r&&s.addListener("ready",function(){e.editor&&e.editor.setContent(r)}),s.addListener("contentchange",function(){if(e.editor){var t=e.editor.getContent();e.data.set("value",t),e.fire("change",{value:t})}})}else e.data.set("error",new Error("RichTextEditor初始化失败"))})},disposed:function(){if(this.editor)try{l["default"]("#edui_fixedlayer").remove(),l["default"]("#ueditor_textarea_editorValue").remove(),this.editor.destroy(),this.editor=null}catch(e){}}});module.exports=o.asInput(h)}),define("san-xui/x/components/Row",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:'<div class="x-row">\n        <div class="label" s-if="label">{{label}}</div>\n        <div class="content"><slot/></div>\n    </div>'})}),define("san-xui/x/components/ScrollIntoView",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:"<template><slot /></template>",attached:function(){for(var e=this.el;e.parentNode&&e.parentNode.scrollHeight===e.parentNode.offsetHeight;)e=e.parentNode;e&&e.parentNode&&(e.parentNode.scrollTop=this.el.offsetTop)}})}),define("san-xui/x/components/SearchBox",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./util","./Button","./TextBox","./Select","./MultiPicker","./Suggestion"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=t["default"](e),d=t["default"](a),c=t["default"](r),f=t["default"](o),p=t["default"](s),h=t["default"](l),v=i.create("ui-searchbox");module.exports=n.defineComponent({template:'<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <ui-select\n        s-if="!multi && datasource.length"\n        on-change="onKeywordTypeChanged($event)"\n        datasource="{{datasource}}"\n        layer-offset-top="{{1}}"\n        layer-offset-left="{{-1}}"\n        layer-width="{{layerWidth}}"\n        value="{=keywordType=}"\n        track-id="{{trackId}}:select"\n        track-name="{{trackName}}:下拉列表"\n        />\n    <ui-multipicker\n        s-if="multi && datasource.length"\n        on-change="onKeywordTypeChanged($event)"\n        datasource="{{datasource}}"\n        layer-width="{{layerWidth}}"\n        value="{=keywordType=}"\n        loader="{{loader}}"\n        skin="{{skin}}"\n        track-id="{{trackId}}:multipicker"\n        track-name="{{trackName}}:下拉列表"\n        />\n    <ui-suggestion s-if="keywordDatasource && keywordDatasource.length > 0"\n        datasource="{{keywordDatasource}}"\n        on-enter="onSearch"\n        on-focus="onFocus"\n        on-blur="onBlur"\n        placeholder="{{placeholder}}"\n        value="{=value=}"\n        disabled="{{keywordDisabled || disabled}}"\n        width="{{width}}"\n        autocomplete="off"\n         />\n    <ui-textbox\n        s-else\n        on-enter="onSearch"\n        on-focus="onFocus"\n        on-blur="onBlur"\n        placeholder="{{placeholder}}"\n        value="{=value=}"\n        disabled="{{keywordDisabled || disabled}}"\n        width="{{width}}"\n        track-id="{{trackId}}:textbox"\n        track-name="{{trackName}}:文本输入框"\n        />\n    <ui-button on-click="onSearch" icon="magnifier" disabled="{{disabled}}" s-if="searchBtn"\n        track-id="{{trackId}}:button"\n        track-name="{{trackName}}:按钮"\n        />\n</div>',components:{"ui-select":f["default"],"ui-textbox":c["default"],"ui-button":d["default"],"ui-multipicker":p["default"],"ui-suggestion":h["default"]},initData:function(){return{disabled:!1,active:!1,value:"",searchBtn:!0,placeholder:"",datasource:null,keywordType:null,width:null,layerWidth:null,skin:"",keywordDisabled:!1,keywordDatasource:null}},dataTypes:{value:n.DataTypes.string,active:n.DataTypes.bool,searchBtn:n.DataTypes.bool,placeholder:n.DataTypes.string,datasource:n.DataTypes.array,keywordType:n.DataTypes.any,width:n.DataTypes.number,layerWidth:n.DataTypes.number,multi:n.DataTypes.bool,loader:n.DataTypes.func,skin:n.DataTypes.string,keywordTypeChanged:n.DataTypes.func,keywordDisabled:n.DataTypes.bool,keywordDatasource:n.DataTypes.array},computed:{mainClass:function(){var e=v.mainClass(this);this.data.get("searchBtn")||e.push(v("nobtn"));return this.data.get("active")&&(e.push("state-active"),e.push(v("active")),e.push(v("x-active"))),e}},messages:{"input-comp-value-changed":function(e){}},attached:function(){var e=this.data.get("keywordType");this.__updatePlaceholder(e)},onKeywordTypeChanged:function(e){var t=e.value;this.__updatePlaceholder(t);var n=this.data.get("keywordTypeChanged");n&&n.call(this,t)},__updatePlaceholder:function(e){var t=this,n=this.data.get("datasource");n&&e&&u["default"].each(n,function(n){(u["default"].isString(e)&&n.value===e||u["default"].isArray(e)&&e.length>0&&n.value===e[0])&&t.data.set("placeholder",n.placeholder?n.placeholder:"请输入"+n.text+"进行搜索")})},onSearch:function(){this.fire("search")},onFocus:function(){this.data.set("active",!0)},onBlur:function(){this.data.set("active",!1)}})}),define("san-xui/x/components/Select",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./util","./asInput","./Layer","./Icon","./ScrollIntoView","./TextBox","./Tip","./LongList"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d){function c(e,t){if(!t)return e;var n=[];return f["default"].each(e,function(e){e.text&&-1!==e.text.toLowerCase().indexOf(t.toLowerCase())?n.push(e):e.name&&-1!==e.name.toLowerCase().indexOf(t.toLowerCase())&&n.push(e)}),n}var f=t["default"](e),p=t["default"](r),h=t["default"](o),v=t["default"](s),m=t["default"](l),g=t["default"](u),x=t["default"](d),y=i.create("ui-select"),b='<div on-click="toggleLayer($event)" class="{{mainClass}}" style="{{mainStyle}}"\n    data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <span class="'+y("text")+'" s-if="multi">{{multiLabel|raw}}</span>\n    <span class="'+y("text")+'" s-else>{{label|raw}}</span>\n    <span class="'+y("clear")+'" on-click="clearValue($event)"><ui-icon s-if="showClear" name="close" /></span>\n    <ui-layer open="{=active=}" follow-scroll="{{false}}" s-ref="layer"\n        offset-top="{{layerOffsetTop}}" offset-left="{{layerOffsetLeft}}"\n        track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n        <div class="'+y("container")+'">\n        <ul s-if="{{multi || filter}}" class="'+y("fixed")+'">\n            <ui-textbox s-if="filter"\n                value="{=keyword=}"\n                placeholder="{{filterPlaceholder}}"\n                width="{{realLayerWidth - 50}}"\n                track-id="{{trackId}}:filtertextbox" track-name="{{trackName}}:过滤文本输入框"\n                />\n            <li class="'+y("item","item-all")+'" s-if="{{multi && filteredDatasource.length}}">\n                <label s-if="{{!checkAllDisable}}">\n                    <input s-if="indeterminate" class="check-all" type="checkbox" on-change="onToggleAll" indeterminate="true" checked="{=checkedAll=}" />\n                    <input s-else class="check-all" type="checkbox" on-change="onToggleAll" checked="{=checkedAll=}" />\n                    全选\n                </label>\n                <slot name="tool" />\n            </li>\n        </ul>\n        <ui-ll s-if="multi" class="{{layerMainClass}}" l-style="{{layerStyle}}" datasource="{{groupedDatasource}}" size="{{30}}" lHeight="{{lHeight}}">\n            <ul class="'+y("group-list","x-group")+'">\n                <div s-if="{{item.isTitle && item.title !== \'-\'}}"\n                    class="'+y("group-title")+'" title="{{item.title}}">{{item.title}}</div>\n                <li s-elif="{{!item.isTitle}}" class="{{item | itemClass}}">\n                    <ui-tip s-if="item.tip" message="{{item.tip}}" position="{{tipPosition}}" in-component="{{true}}"\n                        track-id="{{trackId}}:tip" track-name="{{trackName}}:提示">\n                        <label>\n                            <input type="checkbox"\n                                value="{{item.value}}"\n                                class="'+y("selected-box")+'"\n                                disabled="{{item.disabled}}"\n                                on-change="onItemChange"\n                                checked="{=value=}" /><span style="{{textStyle}}">{{(item.text || item.name)|raw}}</span>\n                        </label>\n                    </ui-tip>\n                    <label s-else>\n                        <input type="checkbox"\n                            value="{{item.value}}"\n                            class="'+y("selected-box")+'"\n                            disabled="{{item.disabled}}"\n                            on-change="onItemChange"\n                            checked="{=value=}" /><span title="{{item.text || item.name}}" style="{{textStyle}}">{{(item.text || item.name)|raw}}</span>\n                    </label>\n                </li>\n            </ul>\n        </ui-ll>\n        <ui-ll s-else class="{{layerMainClass}}" l-style="{{layerStyle}}" datasource="{{groupedDatasource}}" size="{{30}}" lHeight="{{lHeight}}">\n            <ul class="'+y("group-list","x-group")+'">\n                <div s-if="{{item.isTitle && item.title !== \'-\'}}"\n                    class="'+y("group-title")+'" title="{{item.title}}">{{item.title}}</div>\n                <li s-elif="{{!item.isTitle}}" on-click="selectItem($event, item)"\n                    class="{{item | itemClass}}">\n                    <ui-tip s-if="item.tip" message="{{item.tip}}" position="{{tipPosition}}" in-component="{{true}}"\n                        track-id="{{trackId}}:tip" track-name="{{trackName}}:提示">\n                        <ui-siv s-if="item.value === value"><span>{{(item.text || item.name)|raw}}</span></ui-siv>\n                        <span s-else>{{item.text|raw}}</span>\n                    </ui-tip>\n                    <div s-else>\n                        <ui-siv s-if="item.value === value"><span title="{{item.text || item.name}}">{{(item.text || item.name)|raw}}</span></ui-siv>\n                        <span s-else>{{item.text|raw}}</span>\n                    </div>\n                </li>\n            </ul>\n        </ui-ll>\n        </div>\n    </ui-layer>\n</div>',w=n.defineComponent({template:b,components:{"ui-textbox":m["default"],"ui-layer":p["default"],"ui-siv":v["default"],"ui-tip":g["default"],"ui-ll":x["default"],"ui-icon":h["default"]},initData:function(){return{active:!1,multi:!1,layerWidth:null,autoLayerWidth:null,layerOffsetTop:2,layerOffsetLeft:0,filter:!1,filterPlaceholder:"",filterCallback:c,keyword:"",defaultLabel:"请选择",value:"",allowClear:!1,checkedAll:!1,tipPosition:"tc",checkAllDisable:!1}},dataTypes:{value:n.DataTypes.any,allowClear:n.DataTypes.bool,active:n.DataTypes.bool,datasource:n.DataTypes.array,defaultLabel:n.DataTypes.string,multi:n.DataTypes.bool,layerWidth:n.DataTypes.number,layerOffsetTop:n.DataTypes.number,layerOffsetLeft:n.DataTypes.number,filter:n.DataTypes.bool,filterPlaceholder:n.DataTypes.string,filterCallback:n.DataTypes.func,tipPosition:n.DataTypes.string,checkAllDisable:n.DataTypes.bool},computed:{multiLabel:function(){var e=this.data.get("datasource"),t=this.data.get("value");return t&&e&&t.length>0?t.length===e.length?"全部（"+t.length+"项）":"您已选了"+t.length+"项":this.data.get("defaultLabel")},label:function(){var e=this.data.get("selectedItem");return e?e.text:this.data.get("defaultLabel")},filteredDatasource:function(){var e=this.data.get("filter"),t=this.data.get("datasource");if(!e)return t;var n=this.data.get("keyword");return(this.data.get("filterCallback")||c)(t,n)},groupedDatasource:function(){var e=this.data.get("filteredDatasource"),t=f["default"].filter(e,function(e){return null==e.group}),n=f["default"].chain(e).filter(function(e){return null!=e.group}).groupBy("group").value(),i=[];f["default"].each(n,function(e,t){i.push({title:t,datasource:e})}),t.length&&i.unshift({title:"-",datasource:t});var a=[];return f["default"].each(i,function(e){a.push({title:e.title,isTitle:!0}),a.push.apply(a,e.datasource)}),a},lHeight:function(){var e=this.data.get("groupedDatasource"),t=f["default"].filter(e,function(e){return e.isTitle&&"-"!==e.title}).length;return function(e,n,i){return Math.min(e,n-1+t)*i+1+"px"}},selectedItem:function(){var e=this.data.get("value"),t=this.data.get("datasource");if(null!=e&&t)for(var n=0;n<t.length;n++)if(t[n]&&t[n].value===e)return t[n];return null},realLayerWidth:function(){var e=this.data.get("layerWidth"),t=this.data.get("autoLayerWidth");return e||t},layerStyle:function(){var e={},t=this.data.get("realLayerWidth");return null!=t&&(e.width=i.hasUnit(t)?t:t+"px"),e},textStyle:function(){var e={},t=this.data.get("realLayerWidth");return null!=t&&(e.width=t-60+"px"),e},mainClass:function(){var e=y.mainClass(this);return this.data.get("active")&&(e.push("state-active"),e.push(y("active"))),e},layerMainClass:function(){var e=[y("layer"),y("layer-x"),y("layer-s")];return this.data.get("class")&&e.push(f["default"].trim(this.data.get("class"))+"-layer"),e},mainStyle:function(){return y.mainStyle(this)},indeterminate:function(){var e=this.data.get("multi"),t=this.data.get("value"),n=this.data.get("filteredDatasource"),i=f["default"].filter(n,function(e){return!e.disabled});return e&&t&&t.length>0&&t.length<i.length},showClear:function(){var e=this.data.get("allowClear"),t=this.data.get("value"),n=this.data.get("multi");return!!e&&(n?!!t.length:!!t)}},filters:{itemClass:function(e){if(e){var t=this.data.get("value"),n=this.data.get("multi"),i=[y("item")];return e.value===t&&i.push(y("item-selected")),e.disabled&&i.push(y("item-disabled")),n&&i.push(y("item-multi")),e.tip,e.group&&i.push(y("group-item")),i}}},messages:{"input-comp-value-changed":function(e){}},inited:function(){var e=this,t=this.data.get(),n=t.multi,i=t.value;n&&!f["default"].isArray(i)&&this.data.set("value",[]),this.watch("selectedItem",function(){return e.nextTick(function(){return e.__setLayerWidth()})}),this.watch("value",function(t){e.updateCheckedAll(),e.fire("change",{value:t})})},clearValue:function(e){this.data.get("multi")?this.data.set("value",[]):this.data.set("value",""),e.stopPropagation()},selectItem:function(e,t){t.disabled||(this.data.set("value",t.value),this.data.set("active",!1),this.data.set("keyword",""))},onToggleAll:function(e){var t=this,n=e.target.checked;n?function(){var e=t.data.get("filteredDatasource"),n=[];f["default"].each(e,function(e){e.disabled||n.push(e.value)}),t.data.set("value",n)}():this.data.set("value",[]),this.nextTick(function(){var e=t.ref("layer").el.querySelectorAll(".ui-select-selected-box");f["default"].each(e,function(e){e.checked=n})})},onItemChange:function(e){var t=this,n=e.target.value;e.target.checked?(this.data.push("value",n),this.fire("checked",{value:n})):(this.data.remove("value",n),this.fire("unchecked",{value:n})),this.nextTick(function(){var e=t.ref("layer").el.querySelectorAll(".ui-select-selected-box");f["default"].each(e,function(e){e.checked=!!~f["default"].indexOf(t.data.get("value"),e.value)})})},updateCheckedAll:function(){var e=this.data.get("multi"),t=this.data.get("value"),n=this.data.get("filteredDatasource"),i=f["default"].filter(n,function(e){return!e.disabled}),a=e&&t.length===i.length;this.data.set("checkedAll",a)},toggleLayer:function(e){var t=this;if(!this.data.get("disabled")){var n=this.data.get("active");this.data.set("active",!n),!n&&this.data.set("keyword",""),this.nextTick(function(){return t.__setLayerWidth()})}},__setLayerWidth:function(){null==this.data.get("layerWidth")&&this.data.set("autoLayerWidth",this.el.clientWidth+2)},attached:function(){this.__setLayerWidth()}});module.exports=a.asInput(w)}),define("san-xui/x/components/SMSCodeBox",["exports","module","san","./util","./Button","babel-runtime/helpers/interop-require-default","./TextBox","./asInput"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=i["default"](a),l=t.create("ui-smscode"),u=e.defineComponent({template:'<div class="{{mainClass}}">\n    <ui-textbox type="number"\n        on-input="onInput"\n        placeholder="{{placeholder}}"\n        width="{{width}}"\n        value="{=value=}"\n        disabled="{{disabled}}" />\n    <ui-button on-click="onBtnClick"\n        width="{{60}}"\n        disabled="{{freezed || disabled}}">{{btnText}}</ui-button>\n</div>',components:{"ui-textbox":s["default"],"ui-button":o["default"]},initData:function(){return{freezed:!1,disabled:!1,freezeTime:60,btnText:"获取验证码",value:"",width:null,placeholder:"请输入验证码"}},dataTypes:{value:e.DataTypes.string,width:e.DataTypes.number,disabled:e.DataTypes.bool,freezeTime:e.DataTypes.number,btnText:e.DataTypes.string,placeholder:e.DataTypes.string},computed:{mainClass:function(){var e=l.mainClass(this);return this.data.get("freezed")&&(e.push("state-freezed"),e.push(l("freezed"))),e}},onInput:function(){this.fire("input")},onBtnClick:function(){var e=this;this.fire("click"),this.data.set("freezed",!0);var t=this.data.get("freezeTime");!function n(){t<=0?(e.data.set("freezed",!1),e.data.set("btnText","获取验证码")):(e.data.set("btnText","剩余 "+t--+" 秒"),setTimeout(n,1e3))}()}});module.exports=r.asInput(u)}),define("san-xui/x/components/Sticky",["exports","module","san","lodash","babel-runtime/helpers/interop-require-default","../esui/dom","../esui/page","./util"],function(exports,module,e,t,n,i,a,r){var o=n["default"](t),s=r.create("ui-sticky");module.exports=e.defineComponent({template:'<template>\n<div class="{{mainClass}}" style="{{mainStyle}}">\n    <div class="sticky" style="{{stickElementStyle}}">\n        <slot name="sticky"></slot>\n    </div>\n    <slot><slot>\n</div>\n</template>',initData:function(){return{active:!1,top:0,container:"body"}},dataTypes:{active:e.DataTypes.bool,top:e.DataTypes.number,container:e.DataTypes.string},computed:{mainClass:function(){var e=s.mainClass(this);return this.data.get("active")&&(e.push("state-active"),e.push(s("active")),e.push(s("x-active"))),e},mainStyle:function(){return s.mainStyle(this)}},inited:function(){var e=this,t=this.data.get("top");this.data.set("top",parseInt(t,10)),this.scrollHandler=o["default"].debounce(function(){return e.setPosition()},20)},setPosition:function(){var e=this.data.get("active"),t={position:"",width:"",top:"",left:""},n=this.data.get(),i=n.top,r=n.container,o=n.stickElementRect,s=n.stickyContainerRect,l=n.stickyContainer,u=a.getScrollTop(),d="body"===r?a.getHeight():l.offsetHeight;0===o.top&&"body"===r?t={position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px"}:u>o.top-i?(t={position:"fixed",width:o.width+"px",left:o.left+"px"},u+o.height+i>s.top+d?(e=!1,t.top=s.top+d-(u+o.height)+"px"):(e=!0,t.top=i+"px")):(e=!1,t={position:"",width:"",top:"",left:""}),this.data.set("stickElementStyle",t),this.data.set("active",e)},attached:function(){var e=this.data.get("container"),t=document.querySelector(".sticky"),n=document.querySelector(e),a=i.getOffset(t),r=i.getOffset(n);this.data.set("stickElementRect",a),this.data.set("stickyContainerRect",r),this.data.set("stickyContainer",n),window.addEventListener("scroll",this.scrollHandler,!0)},detached:function(){window.removeEventListener("scroll",this.scrollHandler,!0)}})}),define("san-xui/x/components/StopScroll",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:'<div on-wheel="onWheel" data-track-id="{{trackId}}" data-track-name="{{trackName}}"><slot/></div>',initData:function(){return{disabled:!1}},dataTypes:{disabled:e.DataTypes.bool},onWheel:function(e){if(!this.data.get("disabled")){var t=e.currentTarget;t&&(t.scrollTop+e.deltaY+t.clientHeight>=t.scrollHeight&&(e.preventDefault(),t.scrollTop=t.scrollHeight),t.scrollTop+e.deltaY<=0&&(e.preventDefault(),t.scrollTop=0))}}})}),define("san-xui/x/components/Suggestion",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./Layer","./TextBox","./util","./asInput"],function(exports,module,e,t,n,i,a,r,o){var s=t["default"](e),l=t["default"](i),u=t["default"](a),d=r.create("ui-suggestion"),c='<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <ui-textbox\n        value="{=value=}"\n        disabled="{{disabled}}"\n        autofocus="{{autofocus}}"\n        focusPosition="{{focusPosition}}"\n        type="{{type}}"\n        skin="{{skin}}"\n        placeholder="{{placeholder}}"\n        width="{{width}}"\n        height="{{height}}"\n        min="{{min}}"\n        max="{{max}}"\n        step="{{step}}"\n        on-focus="onFocus($event)"\n        on-click="onClick($event)"\n        on-input="onInput"\n        on-blur="onBlur($event)"\n        on-keyup="onKeyUp($event)"\n        on-keydown="onKeyDown($event)"\n        on-keypress="onKeyPress($event)"\n        autocomplete="{{autocomplete}}"\n        track-id="{{trackId}}:textbox"\n        track-name="{{trackName}}:文本输入框"\n        />\n    <ui-layer s-if="{{datasource}}" open="{=active=}" offset-top="{{layerOffsetTop}}" offset-left="{{layerOffsetLeft}}"\n        track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n        <div class="'+d("layer")+" "+d("layer-x")+" "+d("layer-suggestion-x")+'" style="{{layerStyle}}">\n            <ul>\n                <li class="'+d("item")+'"\n                    s-for="item in renderDatasource"\n                    on-click="selectValue(item)">\n                    <span>\n                        {{item.preHighlight}}<span class="highlight">{{item.highlight}}</span>{{item.posHighlight}}\n                    </span>\n                </li>\n            </ul>\n        </div>\n    </ui-layer>\n</div>',f=n.defineComponent({template:c,components:{"ui-textbox":u["default"],"ui-layer":l["default"]},filters:{itemHighlight:function(e){var t=this.data.get("value"),n=e.text||e.name;return n.indexOf(t)>=0&&t?n.replace(t,'<span class="highlight">'+t+"</span>"):n}},computed:{mainClass:function(){var e=this.data.get("hasArrow"),t=d.mainClass(this);return e&&t.push(d("arrow")),t},suggestionStyle:function(){return d.mainStyle(this)},layerStyle:function(){var e={},t=this.data.get("layerWidth");return null!=t&&(e.width=r.hasUnit(t)?t:t+"px"),e},renderDatasource:function(){var e=this.data.get("value"),t=this.data.get("datasource");return s["default"].map(t,function(t){var n=function(e){var t=arguments.length<=1||arguments[1]===undefined?"":arguments[1];if(e.indexOf(t)>=0&&t){var n=e.split(t);return{preHighlight:n[0],highlight:t,posHighlight:e.slice((n[0]+t).length)}}return{preHighlight:e,highlight:"",posHighlight:""}}(t.text||t.name,e);return{text:t.text||t.name,value:t.value,preHighlight:n.preHighlight,highlight:n.highlight,posHighlight:n.posHighlight}})}},initData:function(){return{active:!1,hasArrow:!1,layerWidth:222,layerOffsetTop:0,layerOffsetLeft:0,disabled:!1,autofocus:!1,focusPosition:"end",type:"text",skin:"",placeholder:"",width:null,height:null}},dataTypes:{active:n.DataTypes.bool,hasArrow:n.DataTypes.bool,layerWidth:n.DataTypes.number,layerOffsetTop:n.DataTypes.number,layerOffsetLeft:n.DataTypes.number,disabled:n.DataTypes.bool,autofocus:n.DataTypes.bool,focusPosition:n.DataTypes.string,type:n.DataTypes.string,value:n.DataTypes.string,skin:n.DataTypes.string,placeholder:n.DataTypes.string,width:n.DataTypes.number,height:n.DataTypes.number,min:n.DataTypes.number,max:n.DataTypes.number,step:n.DataTypes.number},attached:function(){},onInput:function(e){var t=e.value;this.data.set("value",t),this.fire("input",{value:t})},onFocus:function(e){this.showLayer(),this.fire("focus",e)},onClick:function(e){this.showLayer(),this.fire("click",e)},onBlur:function(e){this.fire("blur",e)},onKeyUp:function(e){this.fire("keyup",e)},onKeyDown:function(e){this.fire("keydown",e)},onKeyPress:function(e){13===(e.which||e.keyCode)&&this.fire("enter",e),this.fire("keypress",e)},selectValue:function(e){this.hideLayer(),this.data.set("value",e.value),this.fire("change",{value:e.value})},showLayer:function(){this.data.set("active",!0)},hideLayer:function(){var e=this;setTimeout(function(){e.data.set("active",!1)},200)}});module.exports=o.asInput(f)}),define("san-xui/x/components/Switch",["exports","module","san","./util","./asInput"],function(exports,module,e,t,n){var i=t.create("ui-togglebutton"),a='<div on-click="toggleSwitch" class="{{mainClass}}" style="{{style}}"\n    data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <span s-if="checked" class="'+i("part-on")+'">{{onText}}</span>\n    <span s-else class="'+i("part-off")+'">{{offText}}</span>\n</div>',r=e.defineComponent({template:a,initData:function(){return{checked:!0,onText:"ON",offText:"OFF",onBgColor:"#108cee",offBgColor:"#ea2e2e",textColor:"#fff"}},dataTypes:{checked:e.DataTypes.bool,disabled:e.DataTypes.bool,onText:e.DataTypes.string,offText:e.DataTypes.string,onBgColor:e.DataTypes.string,offBgColor:e.DataTypes.string,textColor:e.DataTypes.string},computed:{value:function(){return this.data.get("checked")},mainClass:function(){var e=i.mainClass(this);return this.data.get("checked")&&(e.push("state-checked"),e.push(i("checked"))),e},style:function(){var e=this.data.get("checked");return this.data.get("disabled")?{}:e?{"background-color":this.data.get("onBgColor"),"border-color":this.data.get("onBgColor"),color:this.data.get("textColor")}:{"background-color":this.data.get("offBgColor"),"border-color":this.data.get("offBgColor"),color:this.data.get("textColor")}}},inited:function(){var e=this;this.watch("value",function(t){return e.fire("change",{value:t})})},toggleSwitch:function(){if(!this.data.get("disabled")){var e=this.data.get("checked");this.data.set("checked",!e)}}});module.exports=n.asInput(r)}),define("san-xui/x/components/SyntaxHighlighter",["exports","module","san","./util","./helper"],function(exports,module,e,t,n){var i='<div class="'+t.create("ui-hljs")()+'">\n<pre><code class="{{lang}}">{{highlightedCode|raw}}</code></pre>\n</div>';module.exports=e.defineComponent({template:i,initData:function(){return{code:"",lang:"javascript"}},dataTypes:{code:e.DataTypes.string,lang:e.DataTypes.string},__updateHighlightedCode:function(e){var t=this.data.get("code"),n=this.data.get("lang");try{var i=e.highlight(n,t);this.data.set("highlightedCode",i.value)}catch(a){this.data.set("highlightedCode","")}},attached:function(){var e=this;n.loadThirdParty("hljs",["hljs/highlight",n.css("hljs/styles/default.min.css")]).then(function(t){e.watch("code",function(){return e.__updateHighlightedCode(t)}),e.watch("lang",function(){return e.__updateHighlightedCode(t)}),e.__updateHighlightedCode(t)})}})}),define("san-xui/x/components/Tab",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./util"],function(exports,module,e,t,n,i){var a=t["default"](e),r=i.create("ui-tab"),o='<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <ul class="'+r("navigator")+'">\n        <li\n            on-click="onTabClick(item, i)"\n            class="{{selectedIndex === i ? \''+r("item","item-active")+"' : item.hide ? '"+r("item","item-hide")+"' : '"+r("item")+'\'}}"\n            s-for="item, i in tabs"\n            >{{item.text | raw}}</li>\n    </ul>\n    <div class="'+r("content")+'">\n        <slot/>\n    </div>\n</div>';module.exports=n.defineComponent({template:o,initData:function(){return{selectedIndex:0,skin:"",tabs:[]}},dataTypes:{selectedIndex:n.DataTypes.number,skin:n.DataTypes.string},computed:{mainClass:function(){return r.mainClass(this)}},assertOK:function(){var e=this.slot();if(!e||e.length<=0)throw new Error("xui-tab-panel is missing")},attached:function(){var e=this;this.watch("selectedIndex",function(t){e.refreshTabs()}),this.refreshTabs()},updated:function(){},getTabPanels:function(){var e=this.slot()[0].children,t=a["default"].filter(e,function(e){return e.nodeType!==n.NodeType.TEXT});return t[0]&&t[0].aNode&&t[0].aNode.directives&&t[0].aNode.directives["for"]?t[0].children:t},refreshTabs:function(){this.assertOK();for(var e=this.getTabPanels(),t=[],i=this.data.get("selectedIndex"),a=0;a<e.length;a++){var r=e[a],o=r.data?r.data.get("title"):r.nodeType===n.NodeType.IF&&r.children.length?r.children[0].data.get("title"):null;o?t.push({text:o}):t.push({text:"-",hide:!0}),a!==i&&this.__setTabPanelStatus(r,!1)}this.data.set("tabs",t);var s=e[i];this.__setTabPanelStatus(s,!0)},__setTabPanelStatus:function(e,t){e&&(e.data?e.data.set("active",t):e.nodeType===n.NodeType.IF&&e.children.length&&e.children[0].data.set("active",t))},onTabClick:function(e,t){this.assertOK();var n=this.data.get("selectedIndex");if(n!==t){var i=this.getTabPanels(),a=i[n],r=i[t];this.__setTabPanelStatus(a,!1),this.__setTabPanelStatus(r,!0),this.data.set("selectedIndex",t);var o={selectedIndex:t};this.fire("change",{value:o,item:e})}}})}),define("san-xui/x/components/Table",["exports","module","./asTable"],function(exports,module,e){module.exports=e.asTable()}),define("san-xui/x/components/TableColumnToggle",["exports","module","san","./util","./Button","babel-runtime/helpers/interop-require-default","./Layer"],function(exports,module,e,t,n,i,a){var r=i["default"](n),o=i["default"](a),s=t.create("ui-table-column-toggle"),l=t.create("ui-select"),u='<div class="'+s()+'" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n<ui-button disabled="{{disabled}}" icon="sdk" on-click="toggleLayer"\n    track-id="{{trackId}}:button" track-name="{{trackName}}:按钮" />\n<ui-layer\n    follow-scroll="{{false}}"\n    open="{=active=}"\n    offset-left="{{layerOffsetLeft}}"\n    offset-top="{{layerOffsetTop}}"\n    align="{{layerAlign}}"\n    width="{{layerWidth}}"\n    track-id="{{trackId}}:layer"\n    track-name="{{trackName}}:浮层">\n    <ul class="'+l("layer")+" "+l("layer-x")+'" style="{{layerStyle}}">\n        <li class="{{item | itemClass}}"\n            on-click="onItemClick(item)"\n            s-for="item in datasource">\n            <label>\n                <input type="checkbox"\n                    value="{{item.value}}"\n                    class="'+l("selected-box")+'"\n                    disabled="{{item.disabled}}"\n                    checked="{=value=}" />\n                <span>{{item.text}}</span>\n            </label>\n        </li>\n    </ul>\n</ui-layer>\n</div>';module.exports=e.defineComponent({template:u,components:{"ui-button":r["default"],"ui-layer":o["default"]},initData:function(){return{active:!1,disabled:!1,layerAlign:"left",layerWidth:200,layerOffsetLeft:0,layerOffsetTop:0,value:[],datasource:[]}},computed:{layerStyle:function(){var e={},n=this.data.get("layerWidth");return null!=n&&(e.width=t.hasUnit(n)?n:n+"px"),e}},filters:{itemClass:function(e){var t=[l("item","item-multi")];return e.disabled&&t.push(l("item-disabled")),t}},toggleLayer:function(){if(!this.data.get("disabled")){var e=this.data.get("active");this.data.set("active",!e)}},onItemClick:function(e){var t=this;e.disabled||this.nextTick(function(){return t.fire("change")})}})}),define("san-xui/x/components/TableFilter",["exports","module","san","./util","./Layer","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=i["default"](n),r=t.create("ui-table"),o='\n<div class="'+r("filter-panel")+'" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <label on-click="onToggleFilterLayer" class="'+r("filter-head")+' iconfont icon-downarrow"></label>\n    <ui-layer class="{{klass}}" open="{=open=}" follow-scroll="{{false}}"\n        track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n        <div class="'+r("filter-select")+'">\n            <ul class="ui-select-layer ui-select-layer-x">\n                <li class="ui-select-item" on-click="onFilter(item)" title="{{item.text}}" s-for="item in options">{{item.text}}</li>\n            </ul>\n        </div>\n    </ui-layer>\n</div>\n';module.exports=e.defineComponent({template:o,components:{"ui-layer":a["default"]},initData:function(){return{open:!1,options:[],klass:[]}},onToggleFilterLayer:function(){var e=this.data.get("open");this.data.set("open",!e)},onFilter:function(e){this.data.set("open",!1),this.fire("change",e)}})}),define("san-xui/x/components/TabPanel",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-tab-panel");module.exports=e.defineComponent({role:"TabPanel",template:'<div class="{{mainClass}}">\n    <div s-if="active"><slot/></div>\n</div>',initData:function(){return{active:!1}},computed:{mainClass:function(){return[n(),n("x")]}}})}),define("san-xui/x/components/TextBox",["exports","module","san","./util","./asInput"],function(exports,module,e,t,n){var i=t.create("ui-textbox"),a='<div class="{{mainClass}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div s-if="addon && addonPosition === \'begin\'" class="'+i("addon")+'">{{addon}}</div>\n    <div class="'+i("input-area")+'">\n        <textarea s-if="multiline"\n            s-ref="inputEl"\n            on-input="onInput"\n            on-keyup="onKeyUp($event)"\n            on-keydown="onKeyDown($event)"\n            on-blur="onBlur($event)"\n            on-keypress="onKeyPress($event)"\n            value="{=value=}"\n            maxlength="{{limitLengthValidator ? undefined : limitLength}}"\n            disabled="{{disabled}}"\n            placeholder="{{placeholder}}"\n            style="{{textboxStyle}}"\n            autocomplete="{{autocomplete}}"></textarea>\n        <input s-else\n            s-ref="inputEl"\n            on-input="onInput"\n            on-keyup="onKeyUp($event)"\n            on-keydown="onKeyDown($event)"\n            on-keypress="onKeyPress($event)"\n            on-focus="onFocus($event)"\n            on-blur="onBlur($event)"\n            on-click="onClick($event)"\n            value="{=value=}"\n            maxlength="{{limitLengthValidator ? undefined : limitLength}}"\n            min="{{min}}",\n            max="{{max}}"\n            step="{{step}}"\n            type="{{type}}"\n            disabled="{{disabled}}"\n            placeholder="{{placeholder}}"\n            style="{{textboxStyle}}"\n            autocomplete="{{autocomplete}}" />\n        <span s-if="limitLength" class="'+i("limit")+'">{{limitedTextLength}}/{{limitLength}}</span>\n    </div>\n    <div s-if="addon && addonPosition === \'end\'" class="'+i("addon","addon-end")+'">{{addon}}</div>\n</div>',r=e.defineComponent({template:a,computed:{mainClass:function(){return i.mainClass(this)},textboxStyle:function(){return i.mainStyle(this)},limitedTextLength:function(){var e=this.data.get("limitLengthValidator"),t=this.data.get("value");return null==t?0:e?e(t.toString()).length:t.toString().length}},initData:function(){return{disabled:!1,autofocus:!1,focusPosition:"end",type:"text",multiline:!1,skin:"",placeholder:"",addon:"",addonPosition:"begin",width:null,height:null,autocomplete:"on",limitLength:null,limitLengthValidator:null}},dataTypes:{disabled:e.DataTypes.bool,autofocus:e.DataTypes.bool,focusPosition:e.DataTypes.string,type:e.DataTypes.string,value:e.DataTypes.string,multiline:e.DataTypes.bool,skin:e.DataTypes.string,placeholder:e.DataTypes.string,addon:e.DataTypes.string,addonPosition:e.DataTypes.string,width:e.DataTypes.number,height:e.DataTypes.number,min:e.DataTypes.number,max:e.DataTypes.number,step:e.DataTypes.number,autocomplete:e.DataTypes.string,limitLength:e.DataTypes.number,limitLengthValidator:e.DataTypes["function"]},attached:function(){var e=this,t=this.data.get(),n=t.autofocus,i=t.limitLengthValidator;n&&this.focus(),i&&this.watch("value",function(t){if(e.fixing)e.fixing=!1;else{var n=i(t.toString()).text;n!==t&&(e.fixing=!0,e.data.set("value",n))}})},focus:function(){var e=this.ref("inputEl"),t=this.data.get("focusPosition");if(e){if(document.activeElement===e)return;e.focus(),"number"==typeof e.selectionStart&&("end"===t?e.selectionStart=e.selectionEnd=this.data.get("value").length:"all"===t&&(e.selectionStart=0,e.selectionEnd=this.data.get("value").length))}},onInput:function(){var e=this.data.get("value");this.fire("input",{value:e})},onFocus:function(e){this.fire("focus",e)},onBlur:function(e){this.fire("blur",e)},onKeyUp:function(e){this.fire("keyup",e)},onKeyDown:function(e){this.fire("keydown",e)},onKeyPress:function(e){13===(e.which||e.keyCode)&&this.fire("enter",e),this.fire("keypress",e)},onClick:function(e){this.fire("click",e)}});module.exports=n.asInput(r)}),define("san-xui/x/components/Tip",["exports","module","san","../esui/dom","./util","./Layer","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i,a){var r=a["default"](i),o=n.create("ui-tip"),s=n.create("ui-tiplayer"),l='\n<template data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <div on-mouseenter="showLayer" on-mouseleave="hideLayer" s-if="inComponent">\n        <slot />\n        <ui-layer open="{=active=}" auto-position="{{false}}" s-ref="layer" follow-scroll="{{false}}"\n            track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n            <div class="{{tiplayerClass}}" s-ref="layer-body" style="{{layerStyle}}">\n                <div class="'+s("body-panel")+'" on-mouseenter="cancelTimer" on-mouseleave="hideLayer">\n                    <div class="'+s("body")+'" s-if="message" style="{{messageStyle}}">\n                        {{message | raw}}\n                    </div>\n                    <div class="'+s("body")+'" s-else>\n                        <slot name="message" />\n                    </div>\n                </div>\n                <div class="{{arrowClass}}" s-ref="tip-arrow"></div>\n            </div>\n        </ui-layer>\n    </div>\n    <div on-mouseover="showLayer" on-mouseout="hideLayer" class="{{mainClass}}" s-else>\n        <ui-layer open="{=active=}" auto-position="{{false}}" s-ref="layer" follow-scroll="{{false}}"\n            track-id="{{trackId}}:layer" track-name="{{trackName}}:浮层">\n            <div class="{{tiplayerClass}}" s-ref="layer-body" style="{{layerStyle}}">\n                <div class="'+s("body-panel")+'" on-mouseenter="cancelTimer" on-mouseleave="hideLayer">\n                    <div class="'+s("body")+'" s-if="message" style="{{messageStyle}}">\n                        {{message | raw}}\n                    </div>\n                    <div class="'+s("body")+'" s-else>\n                        <slot />\n                    </div>\n                </div>\n                <div class="{{arrowClass}}" s-ref="tip-arrow"></div>\n            </div>\n        </ui-layer>\n    </div>\n</template>';module.exports=e.defineComponent({template:l,components:{"ui-layer":r["default"]},computed:{style:function(){return{}},tiplayerClass:function(){var e=this.data.get("position"),t=this.data.get("layerClass"),n=[s(),s("x"),s(e)];return t&&n.push(t),n},arrowClass:function(){var e=this.data.get("position");return[s("arrow"),s("arrow-"+e)]},mainClass:function(){var e=[o(),o("x")],t=this.data.get("skin");return t&&(e.push("skin-"+t),e.push("skin-"+t+"-tip")),e},messageStyle:function(){var e={},t=this.data.get("width");return null!=t&&(e.width=n.hasUnit(t)?t:t+"px"),e}},initData:function(){return{message:null,position:"lt",active:!1,duration:500,inComponent:!1,skin:"",layerStyle:{width:"auto",height:"auto"}}},dataTypes:{message:e.DataTypes.string,position:e.DataTypes.string,active:e.DataTypes.bool,duration:e.DataTypes.number,inComponent:e.DataTypes.bool,skin:e.DataTypes.string},inited:function(){this.timer=null},attached:function(){},positionLayer:function(){var e=this.data.get("layerWidth");e&&this.data.set("layerStyle.width",e+"px");var i=this.data.get("layerHeight");i&&this.data.set("layerStyle.height",i+"px");var a=this.ref("layer"),r=this.ref("layer-body"),o=this.ref("tip-arrow"),s=this.data.get("position");if(r){var l=this.el.getBoundingClientRect(),u=o.getBoundingClientRect(),d=t.getOffset(this.el),c=r.offsetHeight,f=r.offsetWidth,p={"z-index":n.nextZindex()};"lt"===s?(p.top=d.top-(c-l.height)/2+"px",p.left=d.right+"px"):"bc"===s?(p.left=d.left-(f-l.width)/2+"px",p.top=d.top+l.height+u.height+"px"):"rt"===s?(p.top=d.top-(c-l.height)/2+"px",p.left=d.left-f+"px"):"tc"===s&&(p.left=d.left-(f-l.width)/2+"px",p.top=d.top-u.height-c+"px"),a.data.set("layerStyle",p)}},updated:function(){this.data.get("active")&&this.positionLayer()},showLayer:function(){var e=this;this.cancelTimer(),this.timer=setTimeout(function(){e.timer=null,e.data.set("active",!0)},this.data.get("duration"))},cancelTimer:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},hideLayer:function(){var e=this;this.cancelTimer();this.data.get("active")&&(this.timer=setTimeout(function(){e.timer=null,e.data.set("active",!1)},this.data.get("duration")))}})}),define("san-xui/x/components/Toast",["exports","module","jquery","babel-runtime/helpers/interop-require-default","san","./util"],function(exports,module,e,t,n,i){function a(e){return function(t){var n=arguments.length<=1||arguments[1]===undefined?5e3:arguments[1],a=new l({data:{message:t,level:e,duration:n}}),r=function(){var e=document.getElementById(s);return e||((e=document.createElement("DIV")).id=s,e.className=o("container"),document.body.appendChild(e)),e}();r.style.zIndex=i.nextZindex(),a.attach(r)}}var r=t["default"](e),o=i.create("ui-toast"),s=o("container")+"-"+(new Date).getTime(),l=n.defineComponent({template:'<template>\n    <div class="{{mainClass}}" style="{{style}}">\n        {{message | raw}}\n    </div>\n</template>',components:{},computed:{style:function(){return{}},mainClass:function(){var e=[o(),o("x")],t=this.data.get("level");return t&&e.push(o(t)),e}},initData:function(){return{message:null,duration:5e3,level:"success"}},dataTypes:{message:n.DataTypes.string,duration:n.DataTypes.number,level:n.DataTypes.string},attached:function(){var e=this;setTimeout(function(){r["default"](e.el).fadeOut({duration:1e3,easing:"swing",complete:function(){return e.dispose()}})},this.data.get("duration"))}});l.success=a("success"),l.info=a("info"),l.warning=a("warning"),l.error=a("error"),l.alert=a("warning"),l.normal=a("success"),module.exports=l}),define("san-xui/x/components/ToastLabel",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-toastlabel"),i='<div class="{{mainClass}}">\n    <span s-if="text" class="'+n("content")+'">{{text}}</span>\n    <div s-else class="'+n("content")+'"><slot/></div>\n</div>';module.exports=e.defineComponent({template:i,computed:{mainClass:function(){var e=this.data.get("level");return[n(),n("x"),n(e)]}},initData:function(){return{level:"alert"}},dataTypes:{level:e.DataTypes.string,text:e.DataTypes.string}})}),define("san-xui/x/components/Tree",["exports","module","san","lodash","babel-runtime/helpers/interop-require-default","./TreeNode","./util"],function(exports,module,e,t,n,i,a){function r(e,t){for(var n="datasource",i=e,a=function(e){var a=o["default"].findIndex(i.children,function(n){return n.value===t.parents[e]});i=i.children[a],n+=".children["+a+"]"},r=1;r<t.parents.length;r++)a(r);return n}var o=n["default"](t),s=n["default"](i),l=a.create("ui-tree");module.exports=e.defineComponent({template:'<div class="{{mainClass}}">\n    <ui-tree-node s-if="datasource.value"\n        value="{{datasource.value}}"\n        text="{{datasource.text}}"\n        disabled="{{datasource.disabled}}"\n        level="{{0}}"\n        children="{{datasource.children}}"\n        expand-all="{{expandAll}}"\n        expand-defaults="{{expandDefaults}}"\n        multi="{{multi}}"\n        selectAll="{{selectAll}}"\n        editType="{{editType}}"\n        deleteType="{{deleteType}}"\n        edit="{=edit=}"\n        tree-value="{{value}}"\n        active-value="{{activeValue}}"\n        high-lights="{{highLights}}" />\n</div>',components:{"ui-tree-node":s["default"]},computed:{mainClass:function(){var e=this.data.get("skin");return[l(),l("x"),l("skin-"+e)]}},initData:function(){return{skin:"arrow",expandAll:!1,multi:!1,value:[],activeValue:"",edit:!1,editType:"default",deleteType:"default",selectAll:!1,expandDefaults:[],highLights:[]}},messages:{expand:function(e){var t=e.value;this.fire("expand",{node:t})},collapse:function(e){var t=e.value;this.fire("collapse",{node:t})},select:function(e){var t=e.value;o["default"].includes(this.data.get("value"),t.value)||(this.data.push("value",t.value),this.fire("select",{node:t,value:this.data.get("value")}));this.data.get("selectAll")&&(this.selectAllChildren(t),this.updateParentSelect(t))},unselect:function(e){var t=e.value;this.data.remove("value",t.value),this.fire("unselect",{node:t,value:this.data.get("value")});this.data.get("selectAll")&&(this.unselectAllChildren(t),this.updateParentSelect(t))},click:function(e){var t=e.value;this.data.get("multi")||this.data.set("value",t.value),this.data.set("activeValue",t.value),this.fire("click",{node:t})},creating:function(e){var t=e.value;this.createNode(t)},"delete":function(e){var t=e.value;this.deleteNode(t),this.fire("delete",{node:t})},customDelete:function(e){var t=e.value;this.fire("delete",{node:t})},confirm:function(e){var t=e.value;this.resetNode(t);var n=t.value?"update":"create";this.fire(n,{node:t})},cancelEdit:function(e){var t=e.value;t.value||this.deleteNode(t)},customEdit:function(e){var t=e.value.type;if("create"===t){var n=e.value.parentNode;this.fire(t,{parentNode:n})}else{var i=e.value.node;this.fire(t,{node:i})}},updateParentsSelect:function(e){var t=e.value;this.updateParentSelect(t)},updateParentsExpand:function(e){var t=e.value;this.updateParentsExpand(t)}},dataTypes:{datasource:e.DataTypes.object,skin:e.DataTypes.string,expandAll:e.DataTypes.bool,multi:e.DataTypes.bool,value:e.DataTypes.any,edit:e.DataTypes.bool,editType:e.DataTypes.string,selectAll:e.DataTypes.bool,expandDefaults:e.DataTypes.array,highLights:e.DataTypes.array},deleteNode:function(e){var t=this.data.get("datasource");if(0===e.level)this.data.set("datasource",{});else{var n=r(t,e),i=this.data.get(""+n),a=o["default"].findIndex(i.children,function(t){return t.value===e.value});this.data.removeAt(n+".children",a)}},createNode:function(e){var t=r(this.data.get("datasource"),e),n=this.data.get(""+t);if(0!==e.level){t+=".children["+o["default"].findIndex(n.children,function(t){return t.value===e.value})+"]"}this.data.get(t+".children")||this.data.set(t+".children",[]),this.data.push(t+".children",{value:"",text:"",isUpdating:!0})},resetNode:function(e){var t=r(this.data.get("datasource"),e),n=this.data.get(""+t);if(0!==e.level){t+=".children["+o["default"].findIndex(n.children,function(t){return t.value===e.value})+"]"}if(this.data.get(""+t)&&(this.data.set(t+".isUpdating",!1),this.data.set(t+".text",e.text),!this.data.get(t+".value"))){var i=e.parents[e.parents.length-1]+"_child-"+n.children.length;this.data.set(t+".value",i)}},selectAllChildren:function(e){var t=this;o["default"].each(e.children,function(e){var n=t.data.get("value");o["default"].includes(n,e.value)||t.data.push("value",e.value),t.selectAllChildren(e)})},unselectAllChildren:function(e){var t=this;o["default"].each(e.children,function(e){t.data.remove("value",e.value),t.unselectAllChildren(e)})},updateParentSelect:function(e,t){var n=this.data.get("datasource"),i=this.data.get("value");e.parents&&(t=r(n,e));var a=this.data.get(""+t),s=!0;if(a.children){if(o["default"].each(a.children,function(e){o["default"].includes(i,e.value)||(s=!1)}),s&&!o["default"].includes(i,a.value)){this.data.push("value",a.value);(l=t.lastIndexOf("."))>0&&(t=t.substring(0,l),this.updateParentSelect(a,t))}if(!s&&o["default"].includes(i,a.value)){this.data.remove("value",a.value);var l;(l=t.lastIndexOf("."))>0&&(t=t.substring(0,l),this.updateParentSelect(a,t))}}},updateParentsExpand:function(e){var t=this,n=this.data.get("expandDefaults");o["default"].each(e.parents,function(e){o["default"].includes(n,e)||t.data.push("expandDefaults",e)})},setActiveValue:function(e){this.data.set("activeValue",e)}})}),define("san-xui/x/components/TreeNode",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","./TextBox","./CheckBox","./helper","./util"],function(exports,module,e,t,n,i,a,r,o){var s=t["default"](e),l=t["default"](i),u=t["default"](a),d=o.create("ui-tree"),c='\n<div class="'+d("content-wrapper")+'" on-click="onNodeClick($event)">\n    <span class="{{indicatorClass}}"></span>\n    <div s-if="multi && !isUpdating" class="'+d("item-content")+'" on-click="onCheckboxClick($event)">\n        <ui-checkbox\n            checked="{=isSelected=}"\n            title="{{text}}"\n            indeterminate="{{indeterminate}}"\n            on-change="onCheckboxChange($event)"\n            disabled="{{disabled}}"\n            />\n    </div>\n    <div s-if="!multi && !isUpdating" class="'+d("item-content")+'">{{text|raw}}</div>\n    <ui-textbox s-if="isUpdating"\n        class="'+d("edit-input")+'"\n        autofocus="{{true}}"\n        focus-position="all"\n        value="{{text}}"\n        width="{{100}}"\n        on-enter="onTextboxEnter"\n        on-click="onTextboxClick"\n        on-blur="onTextboxBlur" />\n    <div s-if="edit" class="'+d("edit-content")+'">\n        <a class="create" href="javascript:;" on-click="onCreate" title="添加"><i class="iconfont icon-icon-test"></i></a>\n        <a class="update" href="javascript:;" on-click="onUpdate" title="更新"><i class="iconfont icon-business-consult"></i></a>\n        <a class="delete" href="javascript:;" on-click="onDelete" title="删除"><i class="iconfont icon-close"></i></a>\n    </div>\n</div>\n<ul s-if="hasChildren" class="'+d("sub-root")+" "+d("sub-root-{{expandedFlag}}")+'">\n    <ui-tree-node s-for="node in children"\n        value="{{node.value}}"\n        text="{{node.text}}"\n        disabled="{{node.disabled}}"\n        level="{{level + 1}}"\n        children="{{node.children}}"\n        expand-all="{{expandAll}}"\n        expand-defaults="{{expandDefaults}}"\n        multi="{{multi}}"\n        selectAll="{{selectAll}}"\n        edit="{=edit=}"\n        editType="{{editType}}"\n        deleteType="{{deleteType}}"\n        isUpdating="{{node.isUpdating}}"\n        parents="{{newParents}}"\n        tree-value="{{treeValue}}"\n        active-value="{{activeValue}}"\n        high-lights="{{highLights}}" />\n</ul>',f='<template>\n<div s-if="isRoot" class="{{mainClass}}" data-value="{{value}}" data-level="{{level}}">'+c+'</div>\n<li s-else class="{{mainClass}}" data-value="{{value}}" data-level="{{level}}">'+c+"</li>\n</template>";module.exports=n.defineComponent({template:f,components:{"ui-tree-node":"self","ui-checkbox":u["default"],"ui-textbox":l["default"]},computed:{isRoot:function(){return 0===this.data.get("level")},currentNode:function(){var e={value:this.data.get("value"),text:this.data.get("text"),level:this.data.get("level"),parents:this.data.get("parents")};return this.data.get("hasChildren")&&(e.children=this.data.get("children")),e},hasChildren:function(){var e=this.data.get("children");return e&&e.length>0},isExpanded:function(){if(this.data.get("expandAll")||s["default"].includes(this.data.get("expandDefaults"),this.data.get("value")))return!0},expandedFlag:function(){return this.data.get("isExpanded")?"expanded":"collapsed"},mainClass:function(){var e=this.data.get("level"),t=this.data.get("expandedFlag"),n=[d("node"),d("node-level-"+e)];return this.data.get("isRoot")&&(n.push(d("root")),n.push(d("root-"+t))),this.data.get("activeValue")===this.data.get("value")&&n.push(d("node-active")),this.data.get("hasChildren")?n.push(d("node-"+t)):n.push(d("root-empty")),s["default"].includes(this.data.get("highLights"),this.data.get("value"))&&n.push(d("high-light")),n},indicatorClass:function(){var e=this.data.get("level"),t=this.data.get("expandedFlag"),n=[d("node-indicator"),d("node-indicator-level-"+e)];return this.data.get("hasChildren")?n.push(d("node-indicator-"+t)):n.push(d("node-indicator-empty")),n},isSelected:function(){return this.data.get("multi")&&s["default"].includes(this.data.get("treeValue"),this.data.get("value"))},indeterminate:function(){var e=this.data.get("treeValue"),t=this.data.get("currentNode");return this.data.get("multi")&&this.data.get("selectAll")&&o.treeIndeterminate(t,e)},newParents:function(){var e=s["default"].clone(this.data.get("parents"));return e.push(this.data.get("value")),e}},initData:function(){return{value:"",level:0,text:"",children:[],isExpanded:!1,parents:[],isUpdating:!1}},inited:function(){var e=this;(this.data.get("expandAll")||this.data.get("isRoot"))&&this.data.set("isExpanded",!0);var t=this.data.get(),n=t.multi,i=t.selectAll,a=t.treeValue,r=t.value,o=t.currentNode,l=t.expandDefaults;n&&i&&s["default"].includes(a,r)&&this.dispatch("updateParentsSelect",o),s["default"].includes(l,r)&&this.dispatch("updateParentsExpand",o),this.watch("expandDefaults",function(t){s["default"].includes(t,r)&&e.dispatch("updateParentsExpand",o)})},dataTypes:{value:n.DataTypes.string,level:n.DataTypes.number,text:n.DataTypes.string,children:n.DataTypes.array,isExpanded:n.DataTypes.bool,parents:n.DataTypes.array,isUpdating:n.DataTypes.bool},onNodeClick:function(e){var t=this.data.get("currentNode");if(this.data.get("hasChildren")){var n=this.data.get("isExpanded");this.data.set("isExpanded",!n),n?this.dispatch("collapse",t):this.dispatch("expand",t),this.dispatch("click",t)}else this.dispatch("click",t)},onCheckboxClick:function(e){e.stopPropagation()},onCheckboxChange:function(e){var t=this.data.get("currentNode");e.value?this.dispatch("select",t):this.dispatch("unselect",t)},onCreate:function(e){e.stopPropagation(),this.data.set("isExpanded",!0);var t=this.data.get("currentNode"),n=this.data.get("editType");"default"===n?(this.data.set("edit",!1),this.dispatch("creating",t)):"custom"===n&&this.dispatch("customEdit",{type:"create",parentNode:t})},onDelete:function(e){var t=this;e.stopPropagation();var n=this.data.get("currentNode"),i=this.data.get("deleteType");if("default"===i){var a="是否确认删除节点“"+this.data.get("text")+"“"+(this.data.get("hasChildren")?"及其所有的子孙节点":"")+"？";r.confirm({title:"提示",message:a,width:600}).then(function(){return t.dispatch("delete",n)})}else"custom"===i&&this.dispatch("customDelete",n)},onUpdate:function(e){e.stopPropagation();var t=this.data.get("editType");if("default"===t)this.data.set("isUpdating",!0),this.data.set("edit",!1);else if("custom"===t){var n=this.data.get("currentNode");this.dispatch("customEdit",{type:"update",node:n})}},onTextboxClick:function(e){e.stopPropagation()},onTextboxEnter:function(e){var t=e.target.value;if(""!==t){this.data.set("text",t);var n=this.data.get("currentNode");this.dispatch("confirm",n),this.data.set("isUpdating",!1),this.data.set("edit",!0)}},onTextboxBlur:function(e){var t=e.target.value,n=this.data.get("text");if(this.data.set("isUpdating",!1),this.data.set("edit",!0),t&&t!==n){this.data.set("text",t);var i=this.data.get("currentNode");this.dispatch("confirm",i)}else{i=this.data.get("currentNode");this.dispatch("cancelEdit",i)}}})}),define("san-xui/x/components/UserPicker",["exports","module","lodash","babel-runtime/helpers/interop-require-default","axios","san","./util","./asInput","./TextBox","./Loading","./Layer"],function(exports,module,e,t,n,i,a,r,o,s,l){function u(e){return d["default"].map(e.items,function(e){return{accountId:e.username||e.email.replace(/@.*/,""),username:e.name,displayName:e.displayName}})}var d=t["default"](e),c=t["default"](n),f=t["default"](o),p=t["default"](s),h=t["default"](l),v=a.create("ui-userpicker"),m='<div class="{{mainClass}}" style="{{mainStyle}}">\n<div s-if="preview" class="'+v("preview")+'">\n    <slot name="preview" var-users="value">\n        <div class="'+v("preview-item")+'" s-for="user in users">\n            {{user.username}}\n        </div>\n    </slot>\n</div>\n<div s-else on-click="onClick">\n<div class="'+v("preview")+'">\n    <div class="'+v("preview-item")+'" s-for="item, i in value">\n        {{item.username}}<i s-if="!disabled" class="iconfont icon-close" on-click="removeItem($event, i)"></i>\n    </div>\n    <ui-textbox\n        s-if="inputVisible"\n        s-ref="input"\n        value="{=keyword=}"\n        placeholder="{{inputPlaceholder}}"\n        width="{{userWidth}}"\n        on-input="onInput"\n        on-focus="onFoucs"\n        on-blur="onBlur"\n        on-enter="onEnter"\n        on-keyup="onKeyUp($event)"\n        on-keydown="onKeyDown($event)"\n    />\n</div>\n<ui-layer open="{=layerOpened=}" follow-scroll="{{false}}">\n    <div class="'+v("layer")+" "+v("layer-x")+'" style="{{layerStyle}}">\n        <div class="'+v("layer-main")+'">\n            <ui-loading s-if="loading" size="small" />\n            <ul s-elif="!items.length"><li>暂无数据</li></ul>\n            <ul s-else>\n                <li class="{{selectedIndex === i ? \''+v("layer-item","layer-actived-item")+"' : '"+v("layer-item")+'\'}}"\n                    on-click="addItem(item)"\n                    s-for="item, i in items">\n                    <slot name="layer-item" var-item="{{item}}">{{item.displayName}}</slot>\n                </li>\n            </ul>\n        </div>\n    </div>\n</ui-layer>\n</div>\n</div>\n',g=i.defineComponent({template:m,components:{"ui-loading":p["default"],"ui-layer":h["default"],"ui-textbox":f["default"]},messages:{"input-comp-value-changed":function(){}},computed:{mainClass:function(){var e=v.mainClass(this);this.data.get("active")&&(e.push("state-active"),e.push(v("active")),e.push(v("x-active")));return this.data.get("preview")&&e.push(v("x-preview")),e},mainStyle:function(){return v.mainStyle(this)},inputVisible:function(){if(this.data.get("disabled"))return!1;var e=this.data.get("max");return this.data.get("value.length")<e},realLayerWidth:function(){var e=this.data.get("layerWidth"),t=this.data.get("autoLayerWidth");return e||t},layerStyle:function(){var e={},t=this.data.get("realLayerWidth");return null!=t&&(e.width=a.hasUnit(t)?t:t+"px"),e},inputPlaceholder:function(){return this.data.get("value.length")<1?this.data.get("placeholder"):null}},initData:function(){return{active:!1,loading:!1,disabled:!1,preview:!1,keyword:"",keywordName:"keyword",placeholder:"",searchApi:"/api/product/center/uid/search",searchRequester:null,layerOpened:!1,layerWidth:null,autoLayerWidth:null,value:[],selectedIndex:0,max:Infinity,itemsTransformer:u,items:[]}},dataTypes:{active:i.DataTypes.bool,preview:i.DataTypes.bool,disabled:i.DataTypes.bool,max:i.DataTypes.number,loading:i.DataTypes.bool,keyword:i.DataTypes.string,keywordName:i.DataTypes.string,searchApi:i.DataTypes.string,searchRequester:i.DataTypes.func,layerOpened:i.DataTypes.bool,layerWidth:i.DataTypes.number,value:i.DataTypes.array,itemsTransformer:i.DataTypes.func,items:i.DataTypes.array,placeholder:i.DataTypes.string,width:i.DataTypes.number},inited:function(){var e=this;this.searchByKeyword=d["default"].debounce(function(){return e.doSearch.apply(e,arguments)},300);var t=this.data.get("value");t&&d["default"].isArray(t)||this.data.set("value",[]),this.watch("value",function(t){return e.fire("change",{value:t})})},attached:function(){this.__setLayerWidth()},onClick:function(){this.focusInput()},focusInput:function(){var e=this.ref("input");e&&e.focus()},doSearch:function(e){var t,n=this,i=this.data.get(),a=i.searchRequester,r=i.searchApi,o=i.keywordName;if("function"==typeof a)return a(e).then(function(t){n.data.get("keyword")===e&&(n.data.set("loading",!1),n.data.set("selectedIndex",0),n.data.set("items",t))})["catch"](function(t){n.data.get("keyword")===e&&(n.data.set("loading",!1),n.data.set("items",[]))});var s=(t={},t[o]=e,t);return c["default"].post(r,s).then(function(t){if(n.data.get("keyword")===e){var i=n.data.get("itemsTransformer");n.data.set("loading",!1),n.data.set("selectedIndex",0),"function"==typeof i?n.data.set("items",i(t)):n.data.set("items",t.items)}})["catch"](function(t){n.data.get("keyword")===e&&(n.data.set("loading",!1),n.data.set("items",[]))})},onInput:function(){var e=this;this.nextTick(function(){var t=e.data.get("keyword");t?(e.data.set("layerOpened",!0),e.data.set("loading",!0),e.searchByKeyword(t)):(e.data.set("layerOpened",!1),e.data.set("loading",!1))})},onFoucs:function(){this.data.set("active",!0)},onBlur:function(){this.data.set("active",!1)},onKeyDown:function(e){8!==(e.which||e.keyCode)||e.target.value?this.__shouldRemovePreviousItem=!1:this.__shouldRemovePreviousItem=!0},onKeyUp:function(e){var t=e.which||e.keyCode;if(8===t&&this.__shouldRemovePreviousItem){var n=this.data.get("value.length");n>0&&(this.data.removeAt("value",n-1),this.focusInput())}else 40===t?this.data.set("selectedIndex",this.getNextIndex()):38===t&&this.data.set("selectedIndex",this.getPrevIndex());this.__shouldRemovePreviousItem=!1},onEnter:function(){var e=this.data.get("selectedIndex"),t=this.data.get("items["+e+"]");t&&this.addItem(t)},getNextIndex:function(){var e=this.data.get("items.length"),t=this.data.get("selectedIndex");return e>0?t+1>=e?0:t+1:0},getPrevIndex:function(){var e=this.data.get("items.length"),t=this.data.get("selectedIndex");return e>0?t<=0?e-1:t-1:0},addItem:function(e){var t=this.data.get("value");d["default"].find(t,function(t){return t.accountId===e.accountId})||this.data.push("value",d["default"].pick(e,"accountId","username")),this.data.set("layerOpened",!1),this.data.set("keyword",""),this.focusInput()},removeItem:function(e,t){e.stopPropagation(),this.data.removeAt("value",t)},__setLayerWidth:function(){null==this.data.get("layerWidth")&&this.data.set("autoLayerWidth",this.el.clientWidth+2)}});module.exports=r.asInput(g)}),define("san-xui/x/components/util",["exports","lodash","babel-runtime/helpers/interop-require-default","moment","san"],function(exports,e,t,n,i){function a(e){return/%|px|auto/.test(e)}function r(e){return e instanceof i.Component}function o(){return d++}function s(e,t){var n=(arguments.length<=2||arguments[2]===undefined?{}:arguments[2]).childrenKeyName||"children",i=[],a=0,r=function(e){return t(e,a)};do{var o=l["default"].findIndex(e,r);if(-1===o)break;i.push(o),e=e[o][n]||[],a+=1}while(e.length);return i}exports.__esModule=!0,exports.hasUnit=a,exports.html=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce(function(t,n,i){return t+String(n)+e[i+1]},e[0])},exports.create=function(e){var t=e.replace(/^ui\-/,""),n=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.length?l["default"](n).map(function(t){return t?e+"-"+t:""}).compact().value().join(" "):e};return n.mainStyle=function(e){var t={},n=e.data.get("width"),i=e.data.get("height");return null!=n&&(t.width=a(n)?n:n+"px"),null!=i&&(t.height=a(i)?i:i+"px"),t},n.mainClass=function(e){var i=e.data.get("skin"),a=e.data.get("disabled"),r=[n(),n("x")];return i&&(r.push("skin-"+i),r.push("skin-"+i+"-"+t)),a&&(r.push("state-disabled"),r.push(n("disabled")),r.push(n("x-disabled"))),r},n},exports.isComponent=r,exports.nextZindex=o,exports.nexUuid=function(){return o()},exports.hasSlot=function(e,t){function n(e){for(var t=0;!a&&t<e.length;t++){var r=e[t];if(r.nodeType===i.NodeType.IF||r.nodeType===i.NodeType.FOR){n(r.children);break}return void(a=!0)}}for(var a=!1,r=e.slot(t),o=0;o<r.length&&!a;o++)n(r[o].children);return a},exports.buildMonths=function(e,t,n,i){var a=new Date(e,t,1),r=new Date(e,t+1,1),o=1-(a.getDay()+6)%7;a.setDate(o);var s=0,l=[],d=[];for(l.push(d);r-a>0||s%7!=0;){o>1&&s%7==0&&(d=[],l.push(d));var c=a.getMonth()!==t,f=u["default"](n).isSame(a,"day"),p=i&&(a<i.begin||a>i.end);d.push({year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),virtual:c,active:f,disabled:p}),a=new Date(e,t,++o),s++}return l},exports.buildPagerItems=function(e){var t=e.size,n=e.page,i=e.count,a=e.backCount,r=e.backText,o=e.forwardCount,s=e.forwardText,l=e.cx,u=[],d=Math.ceil(i/t),c={value:n-1,label:r,className:l(n>1?"item-extend":"item-extend-disabled"),disabled:n<=1};u.push(c),n>a+1&&(u.push({value:1,label:1}),n>a+2&&u.push({label:"…",disabled:!0}));for(var f=0,p=n-(f=n>a?a:n-1);p<n;p++)u.push({value:p,label:p});for(u.push({value:n,label:n,className:l("item-current"),disabled:!0}),f=d-n>o?o:d-n,p=n+1;p<n+f+1;p++)u.push({value:p,label:p});n<d-o&&(n<d-o-1&&u.push({label:"…",disabled:!0}),u.push({value:d,label:d}));var h={value:n+1,label:s,className:l(n<d?"item-extend":"item-extend-disabled"),disabled:n>=d};return u.push(h),u},exports.arrayTreeFilterIndex=s,exports.arrayTreeFilter=function(e,t){for(var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],i=n.childrenKeyName||"children",a=s(e,t,n),r=[],o=0;e.length&&o<a.length;o++){var l=e[a[o]];r.push(l),e=l[i]||[]}return r},exports.arrayTreeCompact=function(e,t){for(var n=[],i=[t],a=0;i.length;){var r=i.shift(),o=e[a++];if(!r)break;for(var s=[],l=0;l<r.length;l++){var u=r[l],d=u.value===o,c={text:u.text,disabled:u.disabled,active:d,error:u.error,loading:u.loading,expandable:u.expandable||u.children&&u.children.length>0,value:u.value};s.push(c),d&&i.push(u.children)}n.push(s)}return n},exports.focusTo=function(e){e.focus?e.focus():r(e)&&e.el&&e.el.scrollIntoView&&e.el.scrollIntoView({behavior:"smooth",block:"center"})},exports.treeIndeterminate=function(e,t){for(var n=!1,i=undefined,a=[e],r=[];a.length&&(i=a.shift());){if(l["default"].each(i.children,function(e){l["default"].includes(t,e.value)&&r.push(e)}),r.length>0&&i.children&&r.length<i.children.length){n=!0;break}l["default"].each(i.children,function(e){e.children&&a.push(e)})}return n};var l=t["default"](e),u=t["default"](n),d=365611}),define("san-xui/x/components/UUID",["exports","module"],function(exports,module){function e(){}e.generate=function(){var t=e._getRandomInt,n=e._hexAligner;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._getRandomInt=function(e){if(e<0||e>53)return NaN;var t=0|1073741824*Math.random();return e>30?t+1073741824*(0|Math.random()*(1<<e-30)):t>>>30-e},e._hexAligner=function(e,t){for(var n=e.toString(16),i=t-n.length,a="0";i>0;i>>>=1,a+=a)1&i&&(n=a+n);return n},e.FIELD_NAMES=["timeLow","timeMid","timeHiAndVersion","clockSeqHiAndReserved","clockSeqLow","node"],e.FIELD_SIZES=[32,16,16,8,8,48],e.genV4=function(){var t=e._getRandomInt;return(new e)._init(t(32),t(16),16384|t(12),128|t(6),t(8),t(48))},e.parse=function(t){var n=undefined;if(n=/^\s*(urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\})?\s*$/i.exec(t)){var i=n[1]||"",a=n[8]||"";if(i+a===""||"{"===i&&"}"===a||"urn:uuid:"===i.toLowerCase()&&""===a)return(new e)._init(parseInt(n[2],16),parseInt(n[3],16),parseInt(n[4],16),parseInt(n[5],16),parseInt(n[6],16),parseInt(n[7],16))}return null},e.prototype._init=function(){var t=e.FIELD_NAMES,n=e.FIELD_SIZES,i=e._binAligner,a=e._hexAligner;this.intFields=new Array(6),this.bitFields=new Array(6),this.hexFields=new Array(6);for(var r=0;r<6;r++){var o=parseInt(arguments[r]||0,10);this.intFields[r]=this.intFields[t[r]]=o,this.bitFields[r]=this.bitFields[t[r]]=i(o,n[r]),this.hexFields[r]=this.hexFields[t[r]]=a(o,n[r]>>>2)}return this.version=this.intFields.timeHiAndVersion>>>12&15,this.bitString=this.bitFields.join(""),this.hexNoDelim=this.hexFields.join(""),this.hexString=this.hexFields[0]+"-"+this.hexFields[1]+"-"+this.hexFields[2]+"-"+this.hexFields[3]+this.hexFields[4]+"-"+this.hexFields[5],this.urn="urn:uuid:"+this.hexString,this},e._binAligner=function(e,t){for(var n=e.toString(2),i=t-n.length,a="0";i>0;i>>>=1,a+=a)1&i&&(n=a+n);return n},e.prototype.toString=function(){return this.hexString},e.prototype.equals=function(t){if(!(t instanceof e))return!1;for(var n=0;n<6;n++)if(this.intFields[n]!==t.intFields[n])return!1;return!0},e.NIL=(new e)._init(0,0,0,0,0,0),e.genV1=function(){null==e._state&&e.resetState();var t=(new Date).getTime(),n=e._state;t!=n.timestamp?(t<n.timestamp&&n.sequence++,n.timestamp=t,n.tick=e._getRandomInt(4)):Math.random()<e._tsRatio&&n.tick<9984?n.tick+=1+e._getRandomInt(4):n.sequence++;var i=e._getTimeFieldValues(n.timestamp),a=i.low+n.tick,r=4095&i.hi|4096;n.sequence&=16383;var o=n.sequence>>>8|128,s=255&n.sequence;return(new e)._init(a,i.mid,r,o,s,n.node)},e.resetState=function(){e._state=new function(){var t=e._getRandomInt;this.timestamp=0,this.sequence=t(14),this.node=1099511627776*(1|t(8))+t(40),this.tick=t(4)}},e._tsRatio=.25,e._state=null,e._getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),n=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&n,hi:n>>>16,timestamp:t}},e.makeBackwardCompatible=function(){var t=e.generate;e.generate=function(n){return n&&1==n.version?e.genV1().hexString:t.call(e)},e.makeBackwardCompatible=function(){}},module.exports=e}),define("san-xui/x/components/ViewStep",["exports","module","san","./util"],function(exports,module,e,t){var n=t.create("ui-viewstep"),i='<div class="{{mainClass}}" style="{{mainStyle}}" data-track-id="{{trackId}}" data-track-name="{{trackName}}">\n    <ul>\n        <li class="{{i <= stepIndex ? \''+n("item-active")+'\' : \'\'}}"\n            s-for="item, i in steps" on-click="itemClick(i)"><i>{{i + 1}}</i><span>{{item.text}}</span></li>\n    </ul>\n</div>';module.exports=e.defineComponent({template:i,computed:{mainClass:function(){return n.mainClass(this)},mainStyle:function(){return n.mainStyle(this)}},initData:function(){return{stepIndex:0,steps:[]}},dataTypes:{stepIndex:e.DataTypes.number,steps:e.DataTypes.array},itemClick:function(e){e<=this.data.get("stepIndex")&&this.fire("click",{index:e})}})}),define("san-xui/x/components/Voice",["exports","module","san","./Button","babel-runtime/helpers/interop-require-default","./Recorder","./util","./asInput"],function(exports,module,e,t,n,i,a,r){var o=n["default"](t),s=n["default"](i),l=a.create("ui-voice"),u='<div class="{{mainClass}}">\n    <div class="'+l("error")+'" s-if="error">{{error}}</div>\n    <ui-button s-else icon="voice" on-click="startRecording">{{label}}</ui-button>\n</div>',d=e.defineComponent({template:u,components:{"ui-button":o["default"]},computed:{mainClass:function(){return l.mainClass(this)}},initData:function(){return{error:null,value:null,label:"开始",url:"https://sp3.baidu.com/6qUDsjip0QIZ8tyhnq/echo.fcgi"}},dataTypes:{error:e.DataTypes.object,value:e.DataTypes.object,label:e.DataTypes.string,url:e.DataTypes.string},inited:function(){var e=this;this.watch("value",function(t){return e.fire("change",{value:t})})},attached:function(){s["default"].support()?s["default"].addStyle():this.data.set("error","浏览器不支持这个功能")},startRecording:function(){var e=this,t=this.data.get("url");s["default"].init({url:t}).done(function(t){t.openUI(),t.onfinish(function(t){var n={text:t.content.item[0],corpus_no:t&&t.result?t.result.corpus_no:""};e.data.set("value",n)})}).fail(function(){return e.data.set("error","不能获得麦克风的权限")})}});module.exports=r.asInput(d)}),define("san-xui/x/components/WebUploader",["exports","module","lodash","babel-runtime/helpers/interop-require-default","jquery","san","saber-cookie","./util","./helper","./Button","./Loading"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=t["default"](e),d=t["default"](n),c=t["default"](a),f=t["default"](s),p=t["default"](l),h=r.create("ui-webuploader"),v={F_EXCEED_SIZE:"文件大小超出限制！",Q_EXCEED_SIZE_LIMIT:"队列文件总量大小超出限制！",Q_ZERO_SIZE_LIMIT:"不支持0字节的文件上传"},m='<div class="{{mainClass}}">\n    <div s-ref="ghost" id="{{ghostId}}" class="'+h("pick")+'"></div>\n    <ui-button icon="paddle-upload"\n        s-if="!autoStart"\n        on-click="startUpload"\n        disabled="{{startDisabled}}"\n        skin="primary" class="'+h("upload-btn")+'">开始上传</ui-button>\n    <ui-loading size="small" s-if="uploading" />\n    <div class="'+h("error")+'" s-if="error">{{error | raw}}</div>\n</div>';module.exports=i.defineComponent({template:m,components:{"ui-loading":p["default"],"ui-button":f["default"]},computed:{startDisabled:function(){var e=this.data.get("disabled"),t=this.data.get("finished");return!(!e&&!t)},mainClass:function(){return h.mainClass(this)}},initData:function(){return{label:"选择文件",url:null,sizeLimit:2097152,multiple:!1,autoStart:!0,finished:!0,uploading:!1,error:null,ghostId:"webuploader-ghost-"+r.nexUuid()}},dataTypes:{disabled:i.DataTypes.bool,label:i.DataTypes.string,url:i.DataTypes.string.isRequired,sizeLimit:i.DataTypes.number,multiple:i.DataTypes.bool,autoStart:i.DataTypes.bool,options:i.DataTypes.object},initializeUploader:function(e){var t=this,n=this.data.get("url");if(n){var i=this.data.get("label"),a=this.data.get("multiple"),r=this.data.get("options"),o=this.data.get("autoStart"),s=this.data.get("sizeLimit"),l={pick:{id:"#"+this.data.get("ghostId"),label:i,multiple:a},server:n,auto:o,fileSingleSizeLimit:s,swf:"https://bce.bdstatic.com/console/dep/05cfee93/webuploader/Uploader.swf",disableWidgets:"log",chunked:!1,threads:1,duplicate:!1,disableGlobalDnd:!0,sendAsBinary:!0},d=u["default"].extend(l,r),f=this.uploader=e.create(d);u["default"].each(["dndAccept","beforeFileQueued","fileQueued","fileDequeued","reset","startUpload","stopUpload","uploadFinished","uploadProgress","uploadSuccess","uploadComplete","ready","uploadBeforeSend"],function(e){return f.on(e,function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.fire("uploader-event",{eventType:e,args:i})})}),f.on("ready",function(){return t.disabledWatcher(t.data.get("disabled"))}),f.on("uploadStart",function(e){return t.data.set("error",null)}),f.on("uploadError",function(e,n){return t.data.set("error",new Error("上传失败"))}),f.on("filesQueued",function(e){return t.data.set("finished",!1)}),f.on("fileDequeued",function(){0===u["default"].filter(f.getFiles(),function(e){return"cancelled"!==e.getStatus()}).length&&t.data.set("finished",!0)}),f.on("startUpload",function(){return t.data.set("uploading",!0)}),f.on("uploadFinished",function(){t.data.set("finished",!0),t.data.set("uploading",!1),f.reset()}),f.on("uploadBeforeSend",function(e,t,n){n["File-Name"]=encodeURIComponent(e.file.name),n["X-Request-By"]="ERApplication",n["Content-Type"]=e.file.type;var i=c["default"].get("bce-user-info");i&&(n.csrftoken=i.replace(/"/g,""))}),f.on("uploadAccept",function(e,n,i,a){t.fire("accept",{object:e,ret:n,fn:i,xhr:a})}),f.on("error",function(e,n){var i=v[e]||e;"Q_TYPE_DENIED"===e?i="不支持 “"+n.name+"” 的文件类型：“"+n.ext+"”":"F_DUPLICATE"===e?i="文件 “"+n.name+"” 已存在":"Q_EXCEED_NUM_LIMIT"===e&&(i="队列文件数量超出限制！当前最多上传"+n+"个文件"),t.data.set("error",i),t.fire("error",{type:e,evt:n,errorMessage:i})})}else this.data.set("error",new Error("初始化失败，请设置 url 属性"))},inited:function(){var e=this;this.disabledWatcher=function(t){if(e.uploader){var n=e.ref("ghost");n&&n.lastChild&&(t?d["default"](n.lastChild).hide():d["default"](n.lastChild).show())}},this.watch("label",function(t){if(e.uploader){var n=e.ref("ghost");n&&n.firstChild&&d["default"](n.firstChild).html(t)}}),this.watch("disabled",this.disabledWatcher)},updated:function(){this.uploader&&"function"==typeof this.uploader.refresh&&this.uploader.refresh()},startUpload:function(){this.uploader&&this.uploader.upload()},attached:function(){var e=this;o.loadThirdParty("WebUploader",["webuploader",o.css("webuploader/webuploader.css")]).then(function(t){return e.initializeUploader(t)})},disposed:function(){if(this.uploader)try{this.uploader.destroy(),this.uploader=null}catch(e){}}})}),define("san-xui/x/components/YearMonthSelect",["exports","module","lodash","babel-runtime/helpers/interop-require-default","moment","san","./Select"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=t["default"](n),s=t["default"](a),l=function(e){return o["default"](e).utc().format("YYYY-MM-DDTHH:mm:ss")+"Z"},u=function(e){return o["default"](e).format("YYYY-MM-DD 23:59:59")};module.exports=i.defineComponent({template:'<template>\n    {{label}}\n    <xui-select\n        on-change="onYearChange($event)"\n        datasource="{{year.datasource}}"\n        value="{=year.value=}"\n    />\n    <xui-select\n        on-change="onMonthChange($event)"\n        datasource="{{month.datasource}}"\n        value="{=month.value=}"\n    />\n</template>>',components:{"xui-select":s["default"]},initData:function(){return{year:{datasource:[],value:""},month:{datasource:[],value:""}}},dataTypes:{range:i.DataTypes.object},onYearChange:function(e){var t=[],n=1,i=13,a=this.data.get("month.value");e.value===this.data.get("range.startYear")?n=this.data.get("range.startMonth"):e.value===this.data.get("range.endYear")&&(i=this.data.get("range.endMonth")+1);var s=!(a>=n&&a<=i);if(t=r["default"].range(n,i).map(function(e){return{text:e+"月",value:e}}),this.data.set("month",{value:s?n:a,datasource:t}),!s){var d=new Date(e.value,this.data.get("month").value-1),c=o["default"](d).endOf("month").toDate(),f=l(d),p=l(u(c));this.data.set("value",{startTime:f,endTime:p}),this.fire("change",{startTime:f,endTime:p})}},onMonthChange:function(e){var t=new Date(this.data.get("year").value,e.value-1),n=o["default"](t).endOf("month").toDate(),i=l(t),a=l(u(n));this.data.set("value",{startTime:i,endTime:a}),this.fire("change",{startTime:i,endTime:a})},initMonth:function(){for(var e=[],t=this.data.get("range.endMonth")||(new Date).getMonth()+1,n=this.data.get("range.endMonth")||12,i=1;i<=n;i++)e.push({text:i+"月",value:i});this.data.set("month",{value:t,datasource:e})},initYear:function(){for(var e=this.data.get("range.startYear")||2014,t=this.data.get("range.endYear")||(new Date).getFullYear(),n=[],i=e;i<=t;i++)n.push({text:i+"年",value:i});this.data.set("year",{value:t,datasource:n})},initValue:function(){var e=new Date(this.data.get("year").value,this.data.get("month").value-1),t=o["default"](e).endOf("month").toDate(),n=l(e),i=l(u(t));this.data.set("value",{startTime:n,endTime:i})},inited:function(){this.initYear(),this.initMonth(),this.initValue()}})}),define("san-xui/x/esui/dom",["exports"],function(exports){exports.__esModule=!0,exports.getOffset=function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0};var t=e.getBoundingClientRect(),n={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top},i=document.documentElement.clientTop||document.body.clientTop||0,a=document.documentElement.clientLeft||document.body.clientLeft||0,r=window.pageYOffset||document.documentElement.scrollTop,o=window.pageXOffset||document.documentElement.scrollLeft;return n.top=n.top+r-i,n.bottom=n.bottom+r-i,n.left=n.left+o-a,n.right=n.right+o-a,n}}),define("san-xui/x/esui/page",["exports"],function(exports){exports.__esModule=!0,exports.getWidth=function(){return Math.max(e?e.scrollWidth:0,t?t.scrollWidth:0,n?n.clientWidth:0,0)},exports.getHeight=function(){return Math.max(e?e.scrollHeight:0,t?t.scrollHeight:0,n?n.clientHeight:0,0)},exports.getViewWidth=function(){return n?n.clientWidth:0},exports.getViewHeight=function(){return n?n.clientHeight:0},exports.getScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},exports.getScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},exports.getClientTop=function(){return document.documentElement.clientTop||document.body.clientTop||0},exports.getClientLeft=function(){return document.documentElement.clientLeft||document.body.clientLeft||0};var e=document.documentElement,t=document.body,n="BackCompat"===document.compatMode?t:e}),define("san-xui/x/forms/asForm",["exports","babel-runtime/core-js/promise","babel-runtime/core-js/object/keys","lodash","babel-runtime/helpers/interop-require-default","moment","async-validator","san","../components/util","../components/helper","../components/Icon","./ExpressionEvaluator","./buildValidator"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c){function f(e,t,n){return'\n    <as-form-item\n        inline\n        name="'+e.name+'"\n        label="{{'+t+'.label}}"\n        help="{{'+t+'.help}}"\n        required="{{requiredOn.'+e.name+'}}"\n        error="{{formErrors.'+e.name+'}}"\n        preview="{{preview}}"\n        emptyLabel="{{'+t+'.emptyLabel}}"\n    >\n        '+n+'\n        <span\n            class="'+g("confirm-edit")+'"\n            s-if="{{!preview && confirmOn.'+e.name+" && !outerDisabledOn."+e.name+" && !confirmedOn."+e.name+'}}"\n            on-click="onConfirmToEdit(\''+e.name+'\')"\n        ><ui-icon name="edit" /> 编辑</span>\n    </as-form-item>\n    '}function p(e,t){h["default"].each(e,function(e){h["default"].isArray(e)?h["default"].each(e,function(e){return t(e)}):t(e)})}exports.__esModule=!0,exports.registerFormItem=function(e){var t=e.type,n=e.tagName,i=e.Component,a=e.builder;if(b[t])throw new Error(t+" already registered!");y[n||"ui-"+t]=i,b[t]=a},exports.asForm=function(n){var i=n.controls,a=h["default"].extend({"as-form-item":C,"ui-icon":m["default"]},y),r='<template>\n    <div class="{{mainClass}}">\n        <div class="'+g("title")+'" s-if="title">\n            <h4>{{title}}</h4>\n            <slot name="actions" s-if="editable">\n                <div class="'+g("title-actions")+'">\n                    <ui-button on-click="startEditing" s-if="!editing">编辑</ui-button>\n                    <ui-button disabled="{{submitting}}" on-click="submitEditing" skin="primary" s-if="editing">{{submitting ? \'保存中...\' : \'保存\'}}</ui-button>\n                    <ui-button disabled="{{submitting}}" on-click="cancelEditing" s-if="editing">取消修改</ui-button>\n                </div>\n            </slot>\n        </div>\n        <div class="'+x("x")+'">'+function(e){var t=[];return h["default"].each(e,function(e,n){if(h["default"].isArray(e))t.push('<div class="'+g("row")+'">'),h["default"].each(e,function(e,i){var a=b[e.type];if("function"!=typeof a)throw new Error("invalid control type = "+e.type);var r="schema["+n+"]["+i+"]";t.push('<div class="'+g("col","col-"+i)+'"\n                    s-if="{{!hiddenOn.'+e.name+" && visibleOn."+e.name+' !== false}}">'),t.push(f(e,r,a(e,r))),t.push("</div>")}),t.push("</div>");else{var i=b[e.type];if("function"!=typeof i)throw new Error("invalid control type = "+e.type);var a="schema["+n+"]";t.push('<div class="'+g("row")+'"\n                s-if="{{!hiddenOn.'+e.name+" && visibleOn."+e.name+' !== false}}">'),t.push(f(e,a,i(e,a))),t.push("</div>")}}),t.join("\n")}(i)+"</div>\n    </div>\n    </template>",s=o.defineComponent({template:r,components:a,computed:{mainClass:function(){var e=g.mainClass(this),t=this.data.get("itemSize"),n=this.data.get("preview");return e.push(g(String(t))),n&&e.push(g("preview")),e}},filters:{filename:function(e){if(!e)return"";var t=e.lastIndexOf("/");try{return decodeURIComponent(e.substr(t+1))}catch(n){return e.substr(t+1)}},datetime:function(e,t){return t||(t="YYYY-MM-DD"),v["default"](e).format(t)}},messages:{"form-element-changed":function(e){if(this.data.get("instantValidation")){var t=e.value;this.validateFormItem(t.name)}}},initData:function(){return{title:null,instantValidation:!0,preview:!1,editing:!1,submitting:!1,editable:!1,schema:i,formData:{},formErrors:null,visibleOn:{},hiddenOn:{},requiredOn:{},disabledOn:{},outerDisabledOn:{},confirmOn:{},confirmedOn:{}}},inited:function(){function e(e,t,n){var i=t[n];if(i){var a=[];h["default"].isString(i)?a.push(i):h["default"].isPlainObject(i)?a.push.apply(a,h["default"].keys(i)):h["default"].isArray(i)&&h["default"].each(i,function(e){return a.push.apply(a,h["default"].keys(e))});var r=t.name;h["default"].each(a,function(t){return function(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}(e,t,r)})}}var t=this,n={},i={},a={},r={},o={},s={},l={};p(this.data.get("schema"),function(u){u.name&&(function(t){if(n[t.name])throw new Error("Found duplicated form name: "+t.name);n[t.name]=t,l[t.name]=!!t.required,e(a,t,"visibleOn"),e(i,t,"hiddenOn"),e(r,t,"requiredOn"),e(o,t,"disabledOn"),e(s,t,"confirmOn")}(u),u.needConfirmToEdit&&t.data.set("disabledOn."+u.name,!0))}),this.itemsMap=n,this.visibleOn=a,this.hiddenOn=i,this.requiredOn=r,this.disabledOn=o,this.confirmOn=s;var u=this.__getTriggerKeys();h["default"].each(u,function(e){return t.watch("formData."+e,function(){return t.__refreshRelatedFields(e)})}),this.watch("submitting",function(e){e||(t.data.set("editing",!1),t.data.set("preview",!0))}),this.data.set("requiredOn",l),this.data.set("itemSize",h["default"].size(this.itemsMap))},attached:function(){var e=this,t=this.__getTriggerKeys();h["default"].each(t,function(t){return e.__refreshRelatedFields(t)})},__getTriggerKeys:function(){return h["default"].uniq([].concat(h["default"].keys(this.visibleOn),h["default"].keys(this.hiddenOn),h["default"].keys(this.requiredOn),h["default"].keys(this.confirmOn),h["default"].keys(this.disabledOn)))},__refreshRelatedFields:function(e){var t=this;this.nextTick(function(){var n={get:function(e){return t.data.get("formData."+e)}};t.visibleOn[e]&&h["default"].each(t.visibleOn[e],function(e){var i=t.itemsMap[e],a=d.evalExpr(i.visibleOn,n);t.data.set("visibleOn."+e,a),!a&&i.unsetValueOnInvisible&&t.data.set("formData."+e,undefined)}),t.hiddenOn[e]&&h["default"].each(t.hiddenOn[e],function(e){var i=t.itemsMap[e],a=d.evalExpr(i.hiddenOn,n);t.data.set("hiddenOn."+e,a),a&&i.unsetValueOnInvisible&&t.data.set("formData."+e,undefined)}),t.requiredOn[e]&&h["default"].each(t.requiredOn[e],function(e){var i=t.itemsMap[e],a=d.evalExpr(i.requiredOn,n);t.data.set("requiredOn."+e,a)}),t.disabledOn[e]&&h["default"].each(t.disabledOn[e],function(e){var i=t.itemsMap[e],a=d.evalExpr(i.disabledOn,n);i.needConfirmToEdit&&t.data.set("outerDisabledOn."+e,a),t.data.set("disabledOn."+e,a)}),t.confirmOn[e]&&h["default"].each(t.confirmOn[e],function(e){var i=t.itemsMap[e],a=d.evalExpr(i.confirmOn,n);t.data.set("confirmOn."+e,a),a?t.data.get("confirmedOn."+e)||t.data.set("disabledOn."+e,!0):t.data.set("disabledOn."+e,!1)})})},getBindInfo:function(e){var t=this.aNode.binds||this.binds;if(t&&"function"==typeof t.get)return t.get(e);for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e)return i}return null},getFormKey:function(){var e=this.data.get("formKey");if(null!=e)return e;var t=this.getBindInfo("formData");if(t&&t.x)return t.expr.raw;if(t)return t.raw;throw new Error("Please specify `form-key` prop")},startEditing:function(){this.dataSnapshot=h["default"].pick(this.data.get("formData"),s.$fields),this.data.set("editing",!0),this.data.set("preview",!1),this.data.set("formErrors",null)},cancelEditing:function(){var e=this;this.dataSnapshot&&(h["default"].each(s.$fields,function(t){null!=e.dataSnapshot[t]&&e.data.set("formData."+t,e.dataSnapshot[t])}),this.dataSnapshot=null),this.nextTick(function(){e.data.set("editing",!1),e.data.set("preview",!0),e.data.set("formErrors",null)})},submitEditing:function(){var e=this;this.validateForm().then(function(){var t=e.getFormKey(),n=e.getFormData();e.data.set("submitting",!0),e.dispatch("submit",{formKey:t,formData:n})})},buildFormItemValidator:function(e,t){var n=[],i=t.validator,a=t.validations,r=t.validationErrors;i&&n.push({validator:i}),a&&n.push.apply(n,c.buildValidator(a,r));var o=this.data.get("requiredOn."+e);if(o){var s=r&&r.required?r.required:(t.label||e)+"必填",l="string";t.requiredRuleType?l=t.requiredRuleType:"select"===t.type&&t.multi?l="array":"calendar"===t.type?l="date":"number"===t.type?l="number":"switch"===t.type&&(l="boolean"),n.push({type:l,required:o,message:s,whitespace:!0})}return n},buildFormValidator:function(e){var t=this,n={};if(e){var i=this.itemsMap[e],a=this.buildFormItemValidator(e,i);a.length&&(n[e]=a)}else h["default"].each(this.itemsMap,function(e,i){var a=t.buildFormItemValidator(i,e);a.length&&(n[i]=a)});return new w(n)},validateFormItem:function(t){var n=this;return this.data.get("preview")?e["default"].resolve():new e["default"](function(e,i){var a=n.getFormData();n.buildFormValidator(t).validate(a,function(a,r){var o="formErrors."+t;if(a){var s=h["default"].map(a,function(e){return e.message}).join("<br/>");n.data.set(o,s),i(a)}else n.data.set(o,null),e()})})},validateForm:function(){var n=this;if(this.data.get("preview"))return e["default"].resolve();var i=function(i){return new e["default"](function(a,r){var o=[],s=[],l=h["default"].flatten(n.data.get("schema")),u=i||{};h["default"].each(l,function(e){if(e.name){var t=n.ref("form-item-"+e.name);t&&"function"==typeof t.validate&&(o.push(t.validate()["catch"](function(e){return e})),s.push(e.name))}}),e["default"].all(o).then(function(e){h["default"].each(e,function(e,t){e&&(u[s[t]]=e)}),t["default"](u).length&&(n.data.set("formErrors",u),r(u)),a()})})};return new e["default"](function(e,t){var i=n.getFormData();n.buildFormValidator().validate(i,function(i,a){if(!i)return n.data.set("formErrors",null),void e();for(var r={},o=0;o<i.length;o++){var s=i[o],l=n.data.get("visibleOn."+s.field);n.data.get("hiddenOn."+s.field)||!1===l||(r[s.field]=s.message)}h["default"].isEmpty(r)&&(n.data.set("formErrors",null),e()),n.data.set("formErrors",r),t(r)})}).then(function(){return i()})["catch"](function(e){if(e instanceof Error)throw e;return i(e)})},getFormData:function(){var e=this,t=h["default"].pick(this.data.get("formData"),s.$fields);return h["default"].each(t,function(n,i){var a=e.itemsMap[i];null!=n&&("number"===a.type?t[i]=parseFloat(n,10):"text"===a.type&&(t[i]=String(n)))}),t},onConfirmToEdit:function(e){var t=this,n=this.itemsMap[e]&&this.itemsMap[e].label;l.confirm({message:"确认要修改"+n+"？"}).then(function(){t.data.set("confirmedOn."+e,!0),t.data.get("outerDisabledOn."+e)||t.data.set("disabledOn."+e,!1)})}}),u=[];return p(i,function(e){e.name&&u.push(e.name)}),s.$fields=u,s};var h=i["default"](n),v=i["default"](a),m=i["default"](u),g=s.create("as-form"),x=s.create("ui-form"),y={},b={},w=r["default"],C=o.defineComponent({template:'<div class="{{mainClass}}">\n        <div class="{{labelClass}}" s-if="emptyLabel" >&nbsp;</div>\n        <div class="{{labelClass}}" s-elif="label">{{label | raw}}：</div>\n        <div class="{{contentClass}}">\n            <slot />\n            <div class="{{errorClass}}" s-if="!preview && error">{{error | raw}}</div>\n            <div class="{{helpClass}}" s-if="!preview && help">{{help | raw}}</div>\n        </div>\n    </div>',messages:{"input-comp-value-changed":function(e){var t=e.value,n=this.data.get("name");this.dispatch("form-element-changed",{name:n,value:t.value})}},computed:{errorClass:function(){return[x("item-invalid-label")]},helpClass:function(){return[x("item-help")]},mainClass:function(){var e=[x("item")],t=this.data.get("name"),n=this.data.get("error");return this.data.get("inline")&&e.push(x("item-inline")),n&&e.push(x("item-invalid")),t&&e.push(x("item-"+t)),e},labelClass:function(){var e=[x("item-label")];return this.data.get("required")&&!this.data.get("emptyLabel")&&e.push("required-label"),e},contentClass:function(){return[x("item-content")]}},initData:function(){return{name:null,label:null,error:null,help:null,required:!1,preview:!1,inline:!0,emptyLabel:!1}}})}),define("san-xui/x/forms/buildValidator",["exports","lodash","babel-runtime/helpers/interop-require-default"],function(exports,e,t){function n(e,t,n){switch(e){case"isEmail":return{type:"email",message:n||"邮箱格式不正确"};case"isUrl":return{type:"url",message:n||"URL格式不正确"};case"isNumeric":return{type:"string",pattern:/^\d+(\.\d+)?$/,message:n||"请输入数字"};case"isInt":return{type:"string",pattern:/^\d+$/,message:n||"请输入整数"};case"isFloat":return{type:"string",pattern:/^\d+?\.\d+$/,message:n||"请输入浮点数"};case"isBool":return{type:"boolean",message:n};case"isJson":return function(e){return{type:"string",validator:function(t,n,i){try{JSON.parse(n),i()}catch(a){i(e||"JSON不合法")}}}}(n);case"isAlphanumeric":return{type:"string",pattern:/^[a-zA-Z0-9]+$/,message:n||"只能输入字母或者数字"};case"minLength":return{type:"string",min:parseInt(t,10),message:n||"最少输入"+t+"个字符"};case"maxLength":return{type:"string",max:parseInt(t,10),message:n||"最多输入"+t+"个字符"};case"minimum":return{type:"number",min:parseFloat(t,10),message:n||"最小值"+t};case"maximum":return{type:"number",max:parseFloat(t,10),message:n||"最大值"+t};case"decimal":var i=t.split(","),a=i[0],r=a===undefined?"12":a,o=i[1],s=o===undefined?"2":o;return r=parseInt(r,10),s=parseInt(s,10),r&&s&&r>s?{type:"string",pattern:RegExp("^\\d{1,"+(r-s)+"}(\\.\\d{0,"+s+"})?$"),message:n||"非负数，最大长度为"+r+"位，支持到小数点后"+s+"位"}:{type:"string",pattern:/^\d+?\.\d+$/,message:"请输入浮点数"};case"matchRegexp":return{type:"string",pattern:new RegExp(t),message:n};default:return null}}exports.__esModule=!0,exports.buildValidator=function(e,t){t||(t={});var a=[];return i["default"].each(e,function(e){var i=e,r=null,o=t[i];if(/^(matchRegexp|minLength|maxLength|maximum|minimum|decimal):/.test(e)){if(i=RegExp.$1,!(r=e.substr(i.length+1)))return;o=t[i]}var s=n(i,r,o);s&&a.push(s)}),a};var i=t["default"](e)}),define("san-xui/x/forms/builtins/ACEEditor",["exports","module","../../components/ACEEditor","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"aceeditor",tagName:"ui-form-aceeditor",Component:n["default"],builder:function(e,t){return'\n            <ui-form-aceeditor\n                s-if="!preview"\n                width="{{'+t+'.width}}"\n                height="{{'+t+'.height}}"\n                mode="{{'+t+'.mode}}"\n                theme="{{'+t+'.theme}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/BoxGroup",["exports","module","../../components/BoxGroup","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"boxgroup",tagName:"ui-form-boxgroup",Component:n["default"],builder:function(e,t){return'\n            <ui-form-boxgroup\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                box-type="{{'+t+'.boxType}}"\n                col-count="{{'+t+'.colCount}}"\n                datasource="{{'+t+'.datasource}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/Calendar",["exports","module","../../components/Calendar","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"calendar",tagName:"ui-form-calendar",Component:n["default"],builder:function(e,t){return'\n            <ui-form-calendar s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                close-on-change="{{'+t+'.closeOnChange}}"\n                range="{{'+t+'.range}}"\n                prev="{{'+t+'.prev}}"\n                next="{{'+t+'.next}}"\n                time="{{'+t+'.time}}"\n                value="{=formData.'+e.name+'=}" \n                format="{{'+t+'.format}}" />\n            <span s-else>{{formData.'+e.name+" | datetime("+e.format+")}}</span>"}}}),define("san-xui/x/forms/builtins/CheckBox",["exports","module","../../components/CheckBox","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"checkbox",tagName:"ui-form-checkbox",Component:n["default"],builder:function(e,t){return'\n            <ui-form-checkbox class="{{'+t+'.className}}"\n                disabled="{{preview || disabledOn.'+e.name+'}}"\n                title="{{'+t+'.title}}"\n                checked="{=formData.'+e.name+'=}"\n            />'}}}),define("san-xui/x/forms/builtins/CKEditor",["exports","module","../../components/CKEditor","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"ckeditor",tagName:"ui-form-ckeditor",Component:n["default"],builder:function(e,t){return'\n            <ui-form-ckeditor\n                s-if="!preview"\n                options="{{'+t+'.options}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/ComboForm",["exports","module","../ComboForm","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"combo",tagName:"ui-combo",Component:n["default"],builder:function(e,t){return'\n            <ui-combo\n                preview="{{preview}}"\n                preview-cols="{{'+t+'.previewCols}}"\n                s-ref="form-item-'+e.name+'"\n                validate-line="{{'+t+'.validateLine}}"\n                multiple="{{'+t+'.multiple}}"\n                controls="{{'+t+'.controls}}"\n                max="{{'+t+'.max}}"\n                min="{{'+t+'.min}}"\n                width="{{'+t+'.width}}"\n                defaultValue="{{'+t+'.defaultValue}}"\n                value="{=formData.'+e.name+'=}"\n                disabled="{{disabledOn.'+e.name+'}}"\n            >\n            '+e.slot+"\n            </ui-combo>"}}}),define("san-xui/x/forms/builtins/Dragger",["exports","module","../../components/Dragger","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"dragger",tagName:"ui-form-dragger",Component:n["default"],builder:function(e,t){return'\n            <ui-form-dragger\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                min="{{'+t+'.min}}"\n                max="{{'+t+'.max}}"\n                length="{{'+t+'.length}}"\n                unit="{{'+t+'.unit}}"\n                step="{{'+t+'.step}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/MultiPicker",["exports","module","../../components/MultiPicker","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"multipicker",tagName:"ui-form-multipicker",Component:n["default"],builder:function(e,t){return'\n            <ui-form-multipicker\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                datasource="{{'+t+'.datasource}}"\n                loader="{{'+t+'.loader}}"\n                layer-width="{{'+t+'.layerWidth}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/Number",["exports","module","../../components/TextBox","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"number",tagName:"ui-form-textbox",Component:n["default"],builder:function(e,t){return'\n            <ui-form-textbox\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                type="number"\n                width="{{'+t+'.width}}"\n                placeholder="{{'+t+'.placeholder}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/NumberTextline",["exports","module","../../components/NumberTextline","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e),i="ui-form-numbertextline";module.exports={type:"numbertextline",tagName:i,Component:n["default"],builder:function(e,t){return"\n            <"+i+'\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                min="{{'+t+'.min}}"\n                max="{{'+t+'.max}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/RadioSelect",["exports","module","../../components/RadioSelect","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"radioselect",tagName:"ui-form-radioselect",Component:n["default"],builder:function(e,t){return'\n            <ui-form-radioselect\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                datasource="{{'+t+'.datasource}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/RangeCalendar",["exports","module","../../components/RangeCalendar","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"rangecalendar",tagName:"ui-form-rangecalendar",Component:n["default"],builder:function(e,t){return'\n            <ui-form-rangecalendar\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                range="{{'+t+'.range}}"\n                shortcut="{{'+t+'.shortcut}}"\n                time="{{'+t+'.time}}"\n                value="{=formData.'+e.name+'=}"/>\n            <span s-else>\n                {{formData.'+e.name+".begin | datetime("+e.format+")}}\n                -\n                {{formData."+e.name+".end | datetime("+e.format+")}}\n            </span>"}}}),define("san-xui/x/forms/builtins/Region",["exports","module","../../components/Region","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"region",tagName:"ui-form-region",Component:n["default"],builder:function(e,t){return'\n            <ui-form-region\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                datasource="{{'+t+'.datasource}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/RichTextEditor",["exports","module","../../components/RichTextEditor","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e),i="ui-form-richtexteditor";module.exports={type:"richtexteditor",tagName:i,Component:n["default"],builder:function(e,t){return"\n            <"+i+'\n                s-if="!preview"\n                options="{{'+t+'.options}}"\n                width="{{'+t+'.width}}"\n                height="{{'+t+'.height}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/Select",["exports","module","../../components/Select","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"select",tagName:"ui-form-select",Component:n["default"],builder:function(e,t){return'\n            <ui-form-select\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                datasource="{{'+t+'.datasource}}"\n                width="{{'+t+'.width}}"\n                multi="{{'+t+'.multi}}"\n                filter="{{'+t+'.filter}}"\n                filter-placeholder="{{'+t+'.filterPlaceholder}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/StaticItem",["exports","module","../StaticItem","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"static",tagName:"ui-form-static",Component:n["default"],builder:function(e,t){return'\n            <ui-form-static class="{{'+t+'.className}}"\n                mapper="{{'+t+'.mapper}}"\n                datasource="{{'+t+'.datasource}}"\n                value="{{formData.'+e.name+'}}"\n            />'}}}),define("san-xui/x/forms/builtins/SubForm",["exports","module","../SubForm","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"sub-form",tagName:"ui-form-item-sub-form",Component:n["default"],builder:function(e,t){return'\n            <ui-form-item-sub-form\n                preview="{{preview}}"\n                title="{{'+t+'.form.title}}"\n                icon="{{'+t+'.icon}}"\n                button-label="{{'+t+'.buttonLabel}}"\n                button-width="{{'+t+'.buttonWidth}}"\n                width="{{'+t+'.width}}"\n                pick-name="{{'+t+'.pickName}}"\n                controls="{{'+t+'.form.controls}}"\n                formData="{=formData.'+e.name+'=}"\n            />'}}}),define("san-xui/x/forms/builtins/Switch",["exports","module","../../components/Switch","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"switch",tagName:"ui-form-switch",Component:n["default"],builder:function(e,t){return'\n            <ui-form-switch \n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                checked="{=formData.'+e.name+'=}"/>\n            <span s-else>{{formData.'+e.name+" === true ? 'ON' : 'OFF'}}</span>"}}}),define("san-xui/x/forms/builtins/Text",["exports","module","../../components/TextBox","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"text",tagName:"ui-form-textbox",Component:n["default"],builder:function(e,t){return'\n            <ui-form-textbox\n                s-if="!preview"\n                disabled="{{disabledOn.'+e.name+'}}"\n                type="{{'+t+'.inputType}}"\n                multiline="{{'+t+'.multiline}}"\n                width="{{'+t+'.width}}"\n                placeholder="{{'+t+'.placeholder}}"\n                value="{=formData.'+e.name+'=}"\n            />\n            <span s-else>{{formData.'+e.name+"}}</span>"}}}),define("san-xui/x/forms/builtins/Tip",["exports","module","../../components/Tip","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"tip",tagName:"ui-form-tip",Component:n["default"],builder:function(e,t){return'\n            <ui-form-tip\n                message="{{'+t+'.message}}"\n                position="{{'+t+'.position}}"\n                width="{{'+t+'.width}}"\n            />'}}}),define("san-xui/x/forms/builtins/Uploader",["exports","module","../Uploader","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"uploader",tagName:"ui-form-uploader",Component:n["default"],builder:function(e,t){return'\n            <ui-form-uploader s-if="!preview" value="{=formData.'+e.name+'=}" />\n            <a s-else href="{{formData.'+e.name+'}}" target="_blank">\n                {{formData.'+e.name+" | filename}}\n            </a>"}}}),define("san-xui/x/forms/builtins/UserPicker",["exports","module","../../components/UserPicker","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={type:"userpicker",tagName:"ui-form-userpicker",Component:n["default"],builder:function(e,t){return'\n            <ui-form-userpicker\n                preview="{{preview}}"\n                search-requester="{{'+t+'.searchRequester}}"\n                search-api="{{'+t+'.searchApi}}"\n                keyword-name="{{'+t+'.keywordName}}"\n                keyword="{{'+t+'.keyword}}"\n                placeholder="{{'+t+'.placeholder}}"\n                max="{{'+t+'.max}}"\n                width="{{'+t+'.width}}"\n                disabled="{{disabledOn.'+e.name+'}}"\n                layer-width="{{'+t+'.layerWidth}}"\n                auto-layer-width="{{'+t+'.autoLayerWidth}}"\n                value="{=formData.'+e.name+'=}"\n            />\n        '}}}),define("san-xui/x/forms/ComboForm",["exports","module","babel-runtime/core-js/promise","lodash","babel-runtime/helpers/interop-require-default","san","../components/util","../components/asInput","../components/Button","./asForm","./StaticItem"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=n["default"](t),d=n["default"](o),c=n["default"](l),f=a.create("ui-combo"),p='<div class="{{mainClass}}" style="{{mainStyle}}">\n    <template s-if="!preview && !disabled">\n        <div s-if="multiple">\n            <div class="'+f("item")+'" s-for="v, i in formData">\n                <ui-form form-data="{=v=}" s-ref="child-form-{{i}}" />\n                <ui-button s-if="minusBtnVisible" icon="minus" on-click="removeElement(i)" />\n            </div>\n            <ui-button s-if="btnVisible" icon="plus" on-click="addElement" />\n        </div>\n        <div class="'+f("item")+'" s-else>\n            <ui-form form-data="{=formData=}" />\n        </div>\n    </template>\n\n    <template s-else>\n        <slot name="preview">\n            <table width="100%" cellpadding="0" cellspacing="0">\n                <tbody>\n                    <template s-if="multiple">\n                        <tr s-for="item in value">\n                            <td s-for="col in previewCols">\n                                <ui-static\n                                    mapper="{{col.mapper}}"\n                                    datasource="{{col.datasource}}"\n                                    value="{{item[col.name]}}"/>\n                            </td>\n                        </tr>\n                    </template>\n\n                    <template s-else>\n                        <tr>\n                            <td s-for="col in previewCols">\n                                <ui-static\n                                    mapper="{{col.mapper}}"\n                                    datasource="{{col.datasource}}"\n                                    formData="{{formData[col.name]}}"/>\n                            </td>\n                        </tr>\n                    </template>\n                </tbody>\n            </table>\n        </slot>\n    </template>\n</div>',h=i.defineComponent({template:p,dataTypes:{preview:i.DataTypes.bool,previewCols:i.DataTypes.array,multiple:i.DataTypes.bool,inline:i.DataTypes.bool,controls:i.DataTypes.array,max:i.DataTypes.number,min:i.DataTypes.number,value:i.DataTypes.any},computed:{mainClass:function(){var e=f.mainClass(this);return this.data.get("inline")&&(e.push(f("inline")),e.push(f("x-inline"))),e},mainStyle:function(){return f.mainStyle(this)},btnVisible:function(){var e=this.data.get("formData"),t=this.data.get("max"),n=e&&e.length;return!n||n<t},minusBtnVisible:function(){var e=this.data.get("formData"),t=this.data.get("min"),n=e&&e.length;return!t||n>t}},initData:function(){return{preview:!1,min:0,max:Infinity,multiple:!1,inline:!0,value:null,previewCols:null,controls:[],defaultValue:{}}},inited:function(){var e=this,t=this.data.get(),n=t.controls,i=t.multiple,a=t.value,r=t.previewCols;i?u["default"].isArray(a)||this.data.set("value",[]):u["default"].isPlainObject(a)||this.data.set("value",{}),r||this.data.set("previewCols",u["default"].map(n,function(e){return u["default"].pick(e,["name","datasource"])}));var o=s.asForm({controls:n});this.components={"ui-button":d["default"],"ui-static":c["default"],"ui-form":o},this.data.set("formData",u["default"].cloneDeep(this.data.get("value"))),this.watch("formData",function(t){var n=u["default"].isArray(t)?u["default"].reject(t,u["default"].isEmpty):t;e.data.set("value",n),e.fire("change",{value:n})})},addElement:function(){this.data.push("formData",this.data.get("defaultValue"))},removeElement:function(e){this.data.removeAt("formData",e)},validate:function(){var t=this;if(!this.data.get("validateLine"))return e["default"].resolve();var n=this.data.get("formData"),i=[];return u["default"].each(n,function(e,n){var a=t.ref("child-form-"+n);a&&i.push(a.validateForm()["catch"](function(e){return e}))}),e["default"].all(i).then(function(t){return u["default"].filter(t,function(e){return e}).length?e["default"].reject("部分项目未填写"):e["default"].resolve()})}});module.exports=r.asInput(h)}),define("san-xui/x/forms/createForm",["exports","./asForm","./builtins/Number","babel-runtime/helpers/interop-require-default","./builtins/Text","./builtins/Select","./builtins/Calendar","./builtins/Uploader","./builtins/Switch","./builtins/BoxGroup","./builtins/RangeCalendar","./builtins/NumberTextline","./builtins/Dragger","./builtins/RadioSelect","./builtins/Tip","./builtins/MultiPicker","./builtins/Region","./builtins/UserPicker","./builtins/ACEEditor","./builtins/CKEditor","./builtins/RichTextEditor","./builtins/ComboForm","./builtins/StaticItem","./builtins/CheckBox","./builtins/SubForm"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c,f,p,h,v,m,g,x,y,b,w,C,T){exports.__esModule=!0,exports.createForm=function(t){return e.asForm(t)};var k=n["default"](t),_=n["default"](i),S=n["default"](a),I=n["default"](r),D=n["default"](o),E=n["default"](s),P=n["default"](l),A=n["default"](u),M=n["default"](d),O=n["default"](c),N=n["default"](f),L=n["default"](p),R=n["default"](h),B=n["default"](v),$=n["default"](m),q=n["default"](g),F=n["default"](x),j=n["default"](y),H=n["default"](b),V=n["default"](w),z=n["default"](C),U=n["default"](T);e.registerFormItem(H["default"]),e.registerFormItem(k["default"]),e.registerFormItem(_["default"]),e.registerFormItem(S["default"]),e.registerFormItem(I["default"]),e.registerFormItem(D["default"]),e.registerFormItem(E["default"]),e.registerFormItem(P["default"]),e.registerFormItem(M["default"]),e.registerFormItem(O["default"]),e.registerFormItem(N["default"]),e.registerFormItem(L["default"]),e.registerFormItem(R["default"]),e.registerFormItem(B["default"]),e.registerFormItem($["default"]),e.registerFormItem(A["default"]),e.registerFormItem(q["default"]),e.registerFormItem(F["default"]),e.registerFormItem(j["default"]),e.registerFormItem(V["default"]),e.registerFormItem(z["default"]),e.registerFormItem(U["default"])}),define("san-xui/x/forms/ExpressionEvaluator",["exports","lodash","babel-runtime/helpers/interop-require-default"],function(exports,e,t){function n(e,t,n){switch(e){case"$contains":return a["default"].includes(n,t);case"$in":return-1!==a["default"].indexOf(t,n);case"$nin":return-1===a["default"].indexOf(t,n);case"$eq":return t===n;case"$ne":return t!==n;case"$gt":return n>t;case"$lt":return n<t;case"$gte":return n>=t;case"$lte":return n<=t;default:return!1}}function i(e,t){if(!e)return!0;if(a["default"].isString(e))return!!t.get(e);if(a["default"].isArray(e)){for(var r=0,o=undefined;o=e[r];r++)if(i(o,t))return!0;return!1}var s=a["default"].keys(e);for(r=0;r<s.length;r++){var l=s[r],u=t.get(l),d=e[l];if(a["default"].isPlainObject(d))for(var c=a["default"].keys(d),f=0;f<c.length;f++){var p=c[f];if(!n(p,d[p],u))return!1}else{if(!n("$eq",d,u))return!1}}return!0}exports.__esModule=!0,exports.evalExpr=i;var a=t["default"](e)}),define("san-xui/x/forms/Form",["exports","module","babel-runtime/core-js/promise","san","lodash","babel-runtime/helpers/interop-require-default","async-validator","../components/util"],function(exports,module,e,t,n,i,a,r){var o=i["default"](n),s=r.create("ui-form"),l=a["default"];module.exports=t.defineComponent({roleType:"Form",template:'<form class="{{mainClass}}"><slot/></form>',dataTypes:{rules:t.DataTypes.object,descriptor:t.DataTypes.object,errors:t.DataTypes.object,formData:t.DataTypes.object,formItems:t.DataTypes.array},computed:{mainClass:function(){return s.mainClass(this)}},messages:{"form-element-changed":function(e){var t=e.target,n=e.value;this.onFormElementChanged(t,n)},"form-item-attached":function(e){var t=e.target;this.data.push("formItems",t)},"form-item-detached":function(e){var t=e.target,n=this.data.get("errors"),i=t.data.get("name");null==n||1===o["default"].keys(n).length&&n[i]?this.data.set("errors",null):(n[i]=null,this.data.set("errors",n)),this.data.remove("formItems",t)}},initData:function(){return{errors:null,labelWidth:null,formData:{},formItems:[]}},onFormElementChanged:function(e,t){var n=this.data.get("rules");if(n){var i=e.data.get("name");n.rules[i]&&(this.data.set("formData."+i,t.value),this.validateFormItem(i))}},buildFormValidator:function(e){var t={},n=this.data.get("descriptor");if(n){o["default"].each(e,function(e){var i=e.data.get("name");i!==undefined&&n[i]&&(t[i]=n[i])});var i=new l(t);this.data.set("rules",i)}},getFormData:function(){var e=this.data.get("formItems"),t=[];return o["default"].each(e,function(e){var n=e.data.get("name");n!==undefined&&t.push(n)}),o["default"].pick(this.data.get("formData"),t)},validateFormItem:function(t){var n=this;return new e["default"](function(e,i){var a=n.data.get("formData");if(a){n.data.get("rules").validate(a,function(a,r){a||(a=[]);for(var o=!1,s=0;s<a.length;s++){var l=a[s];if(l.field===t){o=!0,n.data.set("errors."+t,l.message),i(t,l.message);break}}o||(n.data.set("errors."+t,null),e());var u=!1,d=n.data.get("errors");for(var c in d)if(d[c]){u=!0;break}u||n.data.set("errors",null)})}else i()})},validateForm:function(){var t=this;return new e["default"](function(e,n){var i=t.data.get("formData");if(i){t.data.get("rules").validate(i,function(i,a){if(!i)return t.data.set("errors",null),void e();for(var r={},o=0;o<i.length;o++){var s=i[o];r[s.field]=s.message}t.data.set("errors",r),t.focusToFirstControl(r),n(r)})}else n()})},inited:function(){var e=this;this.watch("errors",function(t){e.data.get("formItems").forEach(function(e){var n=e.data&&e.data.get("name");n&&e.data.set("error",t?t[n]:null)})})},attached:function(){var e=this;this.buildFormValidator(this.data.get("formItems")),this.watch("formItems",function(t){e.buildFormValidator(t)})},focusToFirstControl:function(e){var t=this.data.get("formItems");if(e)for(var n in t){if((i=t[n]).data.get("name")in e)return void r.focusTo(i)}else if(t.length){var i=t[0];r.focusTo(i)}}})}),define("san-xui/x/forms/FormDialog",["exports","module","san","../components/Button","babel-runtime/helpers/interop-require-default","../components/StopScroll","../components/Dialog"],function(exports,module,e,t,n,i,a){var r=n["default"](t),o=n["default"](i),s=n["default"](a);module.exports=e.defineComponent({template:'<template>\n    <ui-dialog open title="{{title}}" width="{{width}}" on-close="onCloseDialog">\n        <ui-ss disabled="{{ssDisabled}}" class="ui-form-dialog-ss" style="{{ssStyle}}">\n            <x-form\n                s-ref="form"\n                preview="{{preview}}"\n                editable="{{editable}}"\n                form-data="{{formData}}"\n                form-errors="{{formErrors}}"\n            />\n        </ui-ss>\n        <div slot="foot">\n            <ui-button on-click="onConfirmDialog" skin="primary">{{confirmLabel}}</ui-button>\n            <ui-button s-if="canSave" on-click="onSaveDialog" skin="primary">{{saveLabel}}</ui-button>\n            <ui-button s-if="!confirm" on-click="onCloseDialog">{{cancelLabel}}</ui-button>\n        </div>\n    </ui-dialog>\n</template>',initData:function(){return{title:"Dialog Title",confirmLabel:"确认",saveLabel:"保存",cancelLabel:"取消",width:800,confirm:!1,canSave:!1,preview:!1,editable:!0,withSave:!1,openOnValidate:!1}},dataTypes:{width:e.DataTypes.number,height:e.DataTypes.number,title:e.DataTypes.string,preview:e.DataTypes.bool,editable:e.DataTypes.bool,confirm:e.DataTypes.bool,canSave:e.DataTypes.bool,withSave:e.DataTypes.bool,openOnValidate:e.DataTypes.bool,formComp:e.DataTypes.func.isRequired,formData:e.DataTypes.object.isRequired,formErrors:e.DataTypes.object},computed:{ssDisabled:function(){return!this.data.get("height")},ssStyle:function(){var e={};if(this.data.get("ssDisabled"))return e;var t=this.data.get("height");return e["max-height"]=t+"px",e.overflow="hidden",e["overflow-y"]="scroll",e}},inited:function(){var e=this.data.get("formComp");this.components={"ui-dialog":s["default"],"ui-button":r["default"],"ui-ss":o["default"],"x-form":e}},onSaveDialog:function(){var e=this.ref("form");e&&this.fire("save",e.getFormData())},onConfirmDialog:function(){var e=this;if(this.data.get("confirm"))this.fire("close");else{var t=this.ref("form");if(this.data.get("withSave")&&t)this.fire("ok",t.getFormData());else{this.data.get("editable")&&t&&t.validateForm().then(function(){var n=t.getFormData();e.fire("ok",n)})}}},onCloseDialog:function(){this.fire("close")},attached:function(){if(this.data.get("openOnValidate")){this.ref("form").validateForm()}}})}),define("san-xui/x/forms/FormItem",["exports","module","san","../components/util"],function(exports,module,e,t){var n=t.create("ui-form-item"),i='<div class="{{mainClass}}">\n    <div class="{{labelClass}}" style="{{labelStyle}}" s-if="label"><slot name="label">{{label}}</slot></div>\n    <div class="'+n("content")+'">\n        <slot/>\n        <slot name="error"><label class="'+n("invalid-label")+'" s-if="error">{{error | raw}}</label></slot>\n        <slot name="help"><div class="'+n("help")+'" s-if="help">{{help | raw}}</div></slot>\n    </div>\n</div>';module.exports=e.defineComponent({role:"FormItem",template:i,computed:{isRequired:function(){var e=this.data.get("require"),t=this.data.get("required");return e||t},labelClass:function(){var e=[n("label")];return this.data.get("isRequired")&&e.push("require-label required-label"),e},labelStyle:function(){var e={},n=this.data.get("labelWidth");return null!=n&&(e.width=t.hasUnit(n)?n:n+"px"),e},mainClass:function(){var e=[n()],t=this.data.get("name"),i=this.data.get("error"),a=this.data.get("inline");return t&&e.push(n(t)),i&&e.push(n("invalid")),a&&e.push(n("inline")),e}},messages:{"input-comp-value-changed":function(e){var t=e.value,n=this.data.get("name");this.dispatch("form-element-changed",{name:n,value:t.value})}},initData:function(){return{labelWidth:null}},attached:function(){var e=this,n=this.data.get("name");if(n){if(null==this.data.get("labelWidth")){var i=this._getFormComponent();if(i){var a=i.data.get("labelWidth");null!=a&&this.data.set("labelWidth",a)}}var r=this.slot(),o=r.length?r[0].children[0]:null;!t.isComponent(o)&&/input|select|textarea/.test(o.tagName)&&o._onEl(function(e){switch(e){case"select":return"change";default:return"input"}}(o.tagName),function(){e.dispatch("form-element-changed",{name:n,value:o.el.value})}),this.dispatch("form-item-attached")}},_getFormComponent:function(){if(this._formComponent)return this._formComponent;for(var e=this.parentComponent;e;){if("Form"===e.constructor.prototype.roleType)return this._formComponent=e,this._formComponent;e=e.parentComponent}return null},detached:function(){this.dispatch("form-item-detached")}})}),define("san-xui/x/forms/StaticItem",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","../components/util"],function(exports,module,e,t,n,i){var a=t["default"](e),r=i.create("ui-static");module.exports=n.defineComponent({template:'<div class="{{mainClass}}">{{label | raw}}</div>',computed:{mainClass:function(){var e=r.mainClass(this),t=this.data.get("value"),n=this.data.get("mapper");if(a["default"].isFunction(n)){var i=n(t);i&&i.klass&&e.push(i.klass)}return e},label:function(){var e=this.data.get("value"),t=this.data.get("mapper");if(a["default"].isFunction(t)){var n=t(e);return n&&n.text?n.text:n}return e}},dataTypes:{value:n.DataTypes.any,datasource:n.DataTypes.array,mapper:n.DataTypes.func},inited:function(){var e=this,t=this.data.get("mapper");a["default"].isFunction(t)||this.data.set("mapper",function(t){var n=e.data.get("datasource");if(a["default"].isArray(n))for(var i=0,r=undefined;r=n[i];i++)if(r.value===t)return r;return t})}})}),define("san-xui/x/forms/SubForm",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","../components/Button","./asForm","./FormDialog"],function(exports,module,e,t,n,i,a,r){var o=t["default"](e),s=t["default"](i),l=t["default"](r);module.exports=n.defineComponent({template:'\n<div>\n    <ui-button\n        icon="{{icon}}"\n        label="{{buttonLabel}}"\n        width="{{buttonWidth}}"\n        on-click="showFormDialog"\n        />\n        \n    <ui-form-dialog\n        s-if="viewFormDialog"\n        title="{{title}}"\n        preview="{{preview}}"\n        on-ok="merge"\n        on-close="closeFormDialog"\n        form-comp="{{FormComp}}"\n        form-data="{{subFormData}}"\n     />\n</div>',components:{"ui-button":s["default"],"ui-form-dialog":l["default"]},initData:function(){return{preview:!1,icon:"sdk",buttonLabel:"设置子表单",buttonWidth:null,width:null,formData:null,formSchema:{},title:"设置子表单",controls:[],pickName:"",viewFormDialog:!1,FormComp:null,subFormData:null}},dataTypes:{preview:n.DataTypes.bool,icon:n.DataTypes.string,buttonLabel:n.DataTypes.string,buttonWidth:n.DataTypes.number,width:n.DataTypes.number,title:n.DataTypes.number,formData:n.DataTypes.object,controls:n.DataTypes.array,pickName:n.DataTypes.string},computed:{subFormData:function(){var e=this.data.get("pickName"),t=this.data.get("formData"),n=t;return e&&(n={},n[e]=t),n}},inited:function(){var e=this.data.get("controls");this.data.set("FormComp",a.asForm({controls:e}))},showFormDialog:function(){this.data.set("viewFormDialog",!0)},closeFormDialog:function(){this.data.set("viewFormDialog",!1)},merge:function(e){var t=this.data.get("pickName");this.data.set("formData",t?o["default"].get(e,t):e),this.closeFormDialog()}})}),define("san-xui/x/forms/Uploader",["exports","module","san","../components/BosUploader","babel-runtime/helpers/interop-require-default","../components/Button","../components/asInput","../components/UUID"],function(exports,module,e,t,n,i,a,r){var o=n["default"](t),s=n["default"](i),l=n["default"](r),u=e.defineComponent({template:'<template>\n    <xui-bosuploader\n        auto-start\n        multiple="{{multiple}}"\n        disabled="{{disabled}}"\n        files="{{files}}"\n        with-speed-info="{{false}}"\n        key-cb="{{keyCb}}"\n        bos-endpoint="{{bosEndpoint}}"\n        uptoken-url="{{uptokenUrl}}"\n        on-complete="onComplete"\n    >\n        <div slot="preview">\n            <div s-for="f, index in files">\n                <a s-if="f.url" href="{{f.url}}" target="_blank">{{f.name}}</a>\n                <span s-else>{{f.name}} ({{f.progress}})</span>\n                <xui-button s-if="f.url && canDelete && !disabled" on-click="deleteFile(index)" class="icon-btn" icon="trash" />\n            </div>\n        </div>\n    </xui-bosuploader>\n</template>',components:{"xui-bosuploader":o["default"],"xui-button":s["default"]},dataTypes:{value:e.DataTypes.string,files:e.DataTypes.array,keyCb:e.DataTypes.func,uptoken:e.DataTypes.string,bosEndpoint:e.DataTypes.string.isRequired,multiple:e.DataTypes.bool,disabled:e.DataTypes.bool,canDelete:e.DataTypes.bool},initData:function(){return{value:null,multiple:!1,disabled:!1,canDelete:!1,files:[],bosEndpoint:"https://bce-bos-uploader.bj.bcebos.com",uptokenUrl:"https://cloud.baidu.com/api/authorization",keyCb:function(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var a=t.getDate();a<10&&(a="0"+a);return n+"/"+i+"/"+a+"/"+l["default"].generate()+"/"+e.name}}},inited:function(){var e=this.data.get("value");if(e){var t=e.lastIndexOf("/"),n=e.substr(t+1);try{n=decodeURIComponent(n)}catch(i){}this.data.set("files",[{name:n,url:e}])}},onComplete:function(e){var t=e.files;if(t&&t.length){var n=t[0].url;this.data.set("value",n),this.fire("change",{value:n}),this.fire("complete",t)}},deleteFile:function(e){this.data.removeAt("files",e),this.fire("delete",e)}});module.exports=a.asInput(u)}),define("san-xui/x/showcase",["exports","babel-runtime/core-js/promise","jquery","babel-runtime/helpers/interop-require-default","lodash","san","./components/Icon","./Aside","./AppExplorer","./demos/config"],function(exports,e,t,n,i,a,r,o,s,l){exports.__esModule=!0,exports.start=function(){(new v).attach(document.getElementById("root"))};var u=n["default"](t),d=n["default"](i),c=n["default"](r),f=n["default"](o),p=n["default"](s);"function"==typeof e["default"].onReject&&"function"==typeof d["default"].noop&&e["default"].onReject(d["default"].noop);var h="undefined"==typeof GIT_VERSION?"":" ("+GIT_VERSION+")",v=a.defineComponent({template:'<div class="showcase">\n    <h1><ui-icon name="collapse" on-click="native:onToggleAside($event)" /><a href="https://github.com/ecomfe/san-xui" target="_blank">{{title}}</a></h1>\n    <main>\n        <ui-aside\n            class="{{aside.expand ? \'aside-expand\' : \'\'}}"\n            on-item-selected="onItemSelected($event)"\n            selected-item-text="{{selectedItemText}}"\n            blocks="{{blocks}}" />\n        <ui-explorer\n            title="{{explorer.title}}"\n            loading="{{explorer.loading}}"\n            error="{{explorer.error}}"\n            comp="{{explorer.comp}}"\n            code="{{explorer.code}}"\n        />\n    </main>\n</div>',components:{"ui-icon":c["default"],"ui-aside":f["default"],"ui-explorer":p["default"]},initData:function(){return{blocks:l.blocks,title:"San UI Library"+h,aside:{expand:!1},explorer:{title:"",loading:!1,error:null,comp:null}}},disposeComponent:function(){var e=this.data.get("explorer.comp");e&&e.dispose()},inited:function(){var e=this,t=function(){if(/^#comp=/.test(location.hash)){var t=location.hash.replace(/^#comp=/,"");e.data.set("selectedItemText",t)}};u["default"](window).on("hashchange",t),u["default"](document).on("click",function(){e.data.set("aside.expand",!1)}),t()},disposed:function(){u["default"](window).off("hashchange")},onToggleAside:function(e){e.stopPropagation();var t=this.data.get("aside.expand");this.data.set("aside.expand",!t)},onItemSelected:function(e){var t=this,n="san-xui/x/demos/",i="san-xui/x/demos/";"object"==typeof G_PREFIX&&(null!=G_PREFIX.demosModule&&(n=G_PREFIX.demosModule),null!=G_PREFIX.demosCode&&(i=G_PREFIX.demosCode));var a="string"==typeof G_SOURCE_EXT?G_SOURCE_EXT:".js",r=e.moduleId||""+n+e.text,o=""+i+e.text;this.data.set("explorer.title",e.text),this.data.set("explorer.loading",!0),this.data.set("aside.expand",!1);var s=window.require.toUrl(o).replace(/\?.*/,"")+a+"?raw";fetch(s).then(function(e){return e.text()}).then(function(e){return t.data.set("explorer.code",e)}),window.require([r],function(n){"function"==typeof n["default"]&&(n=n["default"]),_hmt.push(["_trackEvent","page","view",e.text]),_hmt.push(["_trackPageview",location.pathname+location.search+"#comp="+e.text]),t.disposeComponent(),t.data.set("explorer.loading",!1),t.data.set("explorer.comp",new n),location.hash="comp="+e.text})}})}),define("san-xui/x/SwitchLan",["exports","module","san","./components/Button","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n){var i=n["default"](t);module.exports=e.defineComponent({template:'<div class="switch-lan">\n        <xui-button icon="saml" skin="primary" size="small"  lable="{{label}}" on-click="onClick">{{label | i18n}}</xui-button>\n</div>',components:{"xui-button":i["default"]},computed:{label:function(){return"en"===this.data.get("lan")?"切换至中文":"切换至英文"}},attached:function(){var e="en-us"===(/locale=([a-zA-Z\-]+)/g.exec(location.search)||[])[1]?"en":"zh";this.data.set("lan",e)},onClick:function(){var e="en"===this.data.get("lan")?"locale=zh-cn":"locale=en-us";if(location.search){var t=/locale=([a-zA-Z\-]+)/g.exec(location.search);location.search=t?location.search.replace(t[0],e):location.search+"&"+e}else location.search=e}})}),define("inf-monitor/browserDetect",["exports","module","lodash"],function(exports,module){var e=require("lodash"),t=function(){var t=function(){};t.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],t.types=["browser","os","device"],t.regexes={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(OPR)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(Edge)/(\\d+)\\.(\\d+)",family_replacement:"Edge"},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.4|Windows NT 10\\.0)",os_replacement:"Windows 10"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]}||function(){var n={};return e.map(t.parsers,function(e){n[e]=[]}),n}(),t.families=function(){var n={};return e.map(t.types,function(e){n[e]=[]}),n}();var n=Array.prototype,i=(Object.prototype,Function.prototype,n.forEach),a=(n.indexOf,function(e,t){for(var n={},i=0;i<t.length&&!(n=t[i](e));i++);return n}),r=function(t,n,a){if(null!=t)if(i&&t.forEach===i)t.forEach(n,a);else if(t.length===+t.length)for(var r=0,o=t.length;r<o;r++)n.call(a,t[r],r,t);else for(var s in t)e.has(t,s)&&n.call(a,t[s],s,t)},o=function(e){return!(!e||void 0===e||null==e)},s=function(e){var t="";return e=e||{},o(e)&&o(e.major)&&(t+=e.major,o(e.minor)&&(t+="."+e.minor,o(e.patch)&&(t+="."+e.patch))),t},l=function(e){var t=s(e=e||{});return t&&(t=" "+t),e&&o(e.family)?e.family+t:""};return t.parse=function(n){var i=function(n){return e.map(t.regexes[n+"_parsers"],function(e){var t=new RegExp(e.regex),i=e[("browser"===n?"family":n)+"_replacement"],a=e.major_version_replacement;return function(n){var r=n.match(t);if(!r)return null;var o={};return o.family=(i?i.replace("$1",r[1]):r[1])||"other",o.major=parseInt(a||r[2])||null,o.minor=r[3]?parseInt(r[3]):null,o.patch=r[4]?parseInt(r[4]):null,o.tablet=e.tablet,o.man=e.manufacturer||null,o}})},u=i("browser"),d=i("os"),c=i("device"),f=new function(){};f.source=n,f.browser=a(n,u),o(f.browser)?(f.browser.name=l(f.browser),f.browser.version=s(f.browser)):f.browser={},f.os=a(n,d),o(f.os)?(f.os.name=l(f.os),f.os.version=s(f.os)):f.os={},f.device=a(n,c),o(f.device)?(f.device.name=l(f.device),f.device.version=s(f.device)):f.device={tablet:!1,family:"Other"};var p={};e.map(t.regexes.mobile_browser_families,function(e){p[e]=!0}),e.map(t.regexes.mobile_os_families,function(e){p[e]=!0});return"Spider"===f.browser.family?f.device.type="Spider":f.browser.tablet||f.os.tablet||f.device.tablet?f.device.type="Tablet":p.hasOwnProperty(f.browser.family)?f.device.type="Mobile":f.device.type="Desktop",f.device.manufacturer=f.browser.man||f.os.man||f.device.man||null,function(e,t){r(e,function(e){r(t,function(t){delete e[t]})})}([f.browser,f.os,f.device],["tablet","man"]),f},t}().parse(window.navigator.userAgent);module.exports=t}),define("inf-monitor/config",["exports","module"],function(exports,module){module.exports={KEY:{STORAGE:"__INF_MONITOR_DATA_TOSEND__"},limit:{queue:20,timeout:60},actionStatus:!1}}),define("inf-monitor/decorator",["exports","./logger","babel-runtime/helpers/interop-require-default","promise"],function(exports,e,t,n){exports.__esModule=!0;var i=t["default"](e),a=t["default"](n),r=function(e){return e};exports.logBefore=function(e){var t=arguments.length<=1||arguments[1]===undefined?r:arguments[1];return function(n,a,r){var o=r.value;r.value=function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return i["default"].log(e,t.call(this,{arguments:a},this)),o.apply(this,a)}}};exports.logAfter=function(e){var t=arguments.length<=1||arguments[1]===undefined?r:arguments[1];return function(n,r,o){var s=o.value;o.value=function(){for(var n=this,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];var u=s.apply(this,o);return a["default"].resolve(u).then(function(a){return i["default"].log(e,t.call(n,{arguments:o},n))}),u}}}}),define("inf-monitor/hook",["exports","module","promise","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={canSend:!1,send:function(){return n["default"].resolve()}}}),define("inf-monitor/logger",["exports","module","moment","babel-runtime/helpers/interop-require-default","saber-cookie","./config","./Queue","./util","fc-storage/localStorage"],function(exports,module,e,t,n,i,a,r,o){var s=t["default"](e),l=t["default"](n),u=t["default"](i),d=t["default"](a),c=t["default"](r),f=t["default"](o),p="nil",h=null,v="BCE_MONITOR_TRACK_SESSION_ID";module.exports={log:function(e,t){var n={};"object"==typeof e?(n.data=e,n.target=e.target):(n.data=t,n.data.target=e,n.target=e),delete n.data.target,function(e){e.logId=c["default"].guid(),e.lastLogId=p,e.sessionId=function(){var e=l["default"].get(v);return null===e&&(e=c["default"].uid()),l["default"].set(v,e,{domain:".bce.baidu.com",path:"/",expires:18e5}),e}(),e.page_view_id=sessionStorage.getItem("BCE_MONITOR_PAGE_SESSION"),e.campaign_track=l["default"].get("CAMPAIGN_TRACK"),p=e.logId;var t=u["default"].KEY.STORAGE.replace(/.*__/,""),n=(f["default"].get(t)||{}).dateDiff,i=s["default"](new Date).utc().format("YYYY-MM-DD HH:mm:ss");e.actionTime=s["default"](i).add(n,"second").format("YYYY-MM-DD HH:mm:ss");var a=e.data.content;"string"==typeof a&&-1!==a.search(/\s/)&&(e.data.content=a.replace(/\s*/g,"")),h||(h=new d["default"]({data:f["default"].getItem(u["default"].KEY.STORAGE),limit:u["default"].limit.queue}),f["default"].setItem(u["default"].KEY.STORAGE,[]),h.on("full",function(){h.dump()})),h.add(e)}(n)},cache:function(){h&&h.cache()}}}),define("inf-monitor/main",["exports","module"],function(exports,module){module.exports={version:"0.0.1"}}),define("inf-monitor",["inf-monitor/main"],function(e){return e}),define("inf-monitor/performance",["exports","module"],function(exports,module){var e=undefined;module.exports=e}),define("inf-monitor/Queue",["exports","module","babel-runtime/helpers/class-call-check","babel-runtime/helpers/inherits","underscore","babel-runtime/helpers/interop-require-default","mini-event/EventTarget","fc-storage/localStorage","./browserDetect","./config","./hook"],function(exports,module,e,t,n,i,a,r,o,s,l){function u(e,t,n){d["default"].isObject(t)&&!d["default"].isArray(t)?d["default"].each(t,function(t,i){u(e,t,[n,i].join("_"))}):e[n]=t}var d=i["default"](n),c=i["default"](a),f=i["default"](r),p=i["default"](o),h=i["default"](s),v=i["default"](l),m=function(){function t(n,i){e["default"](this,t),this.genTimer=function(){return setTimeout(n,i)},this._handle=null}return t.prototype.refresh=function(){this.cancel(),this._handle=this.genTimer()},t.prototype.cancel=function(){null!==this._handle&&clearTimeout(this._handle)},t}(),g=function(n){function i(){var t=this,a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];e["default"](this,i),n.call(this),this._data=a.data||[],this.limit=a.limit,this._data.length>0&&(d["default"].map(this._data,function(e){return e.isFromCache=1,e}),this.dump()),this._timer=new m(function(){return t.dump()},1e3*h["default"].limit.timeout)}return t["default"](i,n),i.prototype.add=function(e){this._data.push(e),this._timer.refresh(),this._data.length>=this.limit&&(this.fire("full"),this._timer.cancel())},i.prototype.clear=function(){this._data.length=0},i.prototype.toJSON=function(){return JSON.stringify(this._data)},i.prototype.merge=function(){var e=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];this._data=this._data.concat(e),this._data.length>=this.limit&&this.fire("full")},i.prototype.cache=function(){var e=[].concat(this._data);return f["default"].setItem(h["default"].KEY.STORAGE,e),this.clear(),e},i.prototype.dump=function(){var e=this;if(v["default"].send&&v["default"].canSend){var t=function(){var t=d["default"].extend({context:{browser:p["default"].browser.name,os:p["default"].os.name,device:p["default"].device.type}},v["default"].getCommonData?v["default"].getCommonData():{}),n=d["default"].map(e._data,function(e){var n=d["default"].chain(e).extend(t).value();return n.context.url=n.data.url||window.location.href,delete n.data.url,function(e){return d["default"].each(e,function(t,n){d["default"].isObject(t)&&!d["default"].isArray(t)&&(u(e,t,n),delete e[n])}),e}(n)});return e.clear(),{v:v["default"].send(n)}}();if("object"==typeof t)return t.v}},i}(c["default"]);module.exports=g}),define("inf-monitor/sentinel/decorator",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","er/events","babel-runtime/helpers/interop-require-default","bat-ria/mvc/FormAction","./index"],function(exports,e,t,n,i,a,r){exports.__esModule=!0;var o=i["default"](n),s=i["default"](a),l=i["default"](r);o["default"].on("leaveaction",function(e){var t=e.action,n=e.to;if(t&&t.$sentinel){t.$sentinel.setRedirectTo("#"+n.url.toString());var i=n.args,a=i.orderId,r=i.orderType;if(a&&r)return void t.$sentinel.done({orderId:a,orderType:r});t.$sentinel.done()}}),o["default"].on("enteraction",function(e){var t=e.action,n=e.referrer,i=e.args;t&&t.$sentinel&&(i.bce_track_id&&t.$sentinel.setTrackId(i.bce_track_id),n&&t.$sentinel.setReferer("#"+n.toString()))});exports.OrderTracker=function(){var n=arguments.length<=0||arguments[0]===undefined?"":arguments[0];return function(i,a,r){return function(e,t){return e===t||e.prototype instanceof t}(i,s["default"])?function(i){function a(){t["default"](this,a);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];i.call.apply(i,[this].concat(r)),this.$sentinel=new l["default"]({type:"OrderTracker",alias:n})}return e["default"](a,i),a}(i):(console.warn("Decorator `OrderTracker` only support FormAction"),i)}};exports.fixESlintError=null}),define("inf-monitor/sentinel/index",["exports","module","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","../util"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i),o=function(){function t(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];e["default"](this,t);var i=n.alias,a=i===undefined?"":i,o=n.type,s=o===undefined?"":o;this._uuid=r["default"].uid(),this._type=s||"SENTINEL_TRACKER",this._alias=a,this._to="",this._trackId="",this._referer="",this._done=!1,this._milestone=[],this._timestamp=Date.now();var l=location.href.indexOf("#");this._hashRoute=-1===l?"":location.href.slice(l)}return t.prototype.track=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length>0&&this._milestone.push([Date.now()-this._timestamp].concat(t))},t.prototype.setTrackId=function(e){this._trackId=e},t.prototype.setReferer=function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0];this._referer=e},t.prototype.setRedirectTo=function(e){this._to=e},t.prototype.setCurrentHashRoute=function(){var e=arguments.length<=0||arguments[0]===undefined?"":arguments[0];this._hashRoute=e},t.prototype.done=function(){if(!this._done){this._done=!0;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._dumpToServer([{category:"SENTINEL",type:this._type,alias:this._alias,to:this._to,route:this._hashRoute,referer:this._referer,trackId:this._trackId,clues:JSON.stringify(t),milestone:JSON.stringify(this._milestone),timestamp:this._timestamp,duration:Date.now()-this._timestamp}])}},t.prototype._dumpToServer=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];a["default"].ajax({method:"POST",url:"/api/log/csi",dataType:"json",headers:{"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"},data:JSON.stringify(e)})},t}();module.exports=o}),define("inf-monitor/util",["exports","module"],function(exports,module){function e(e){e=e||0;for(var t=[],n=0;n<e;n++)t.push("0123456789abcdef".charAt(Math.floor(16*Math.random())));return t.join("")}var t={};t.guid=function(){var t=(new Date).valueOf().toString();return["4b534c46",e(4),"4"+e(3),e(4),t.substring(0,12)].join("-")},t.uid=function(){return[(new Date).valueOf().toString(),e(4)].join("")},module.exports=t}),define("inf-ria/app/brpc",["exports","module","../helper","babel-runtime/helpers/interop-require-default","./InterAppCommunication"],function(exports,module,e,t,n){var i=t["default"](e),a=t["default"](n);module.exports=new a["default"](i["default"]["default"])}),define("inf-ria/app/helper",["exports","promise","babel-runtime/helpers/interop-require-default","er/controller"],function(exports,e,t,n){exports.__esModule=!0,exports.waitActionDialog=function(e,t){if(!t){if(!a["default"].currentAction)return i["default"].reject(new Error("Not found initialized er.Action"));t=a["default"].currentAction.view}return t?new i["default"](function(n,i){return t.waitActionDialogExt(e).then(function(e){if("actionloadfail"!==e.type&&"actionloadabort"!==e.type){var t=e.target,a=t.getAction(),r=function(e){e.preventDefault();var i=null;"aftersubmit"===e.type?(i=a.model.get("iacReturnValue"),t.dispose()):"aftercancel"===e.type&&t.dispose(),n(i)};a.on("aftersubmit",r),a.on("aftercancel",r)}else i(e)})}):i["default"].reject(new Error("Not found er.View instance."))};var i=t["default"](e),a=t["default"](n)}),define("inf-ria/app/iac",["exports","module","babel-runtime/helpers/class-call-check","er/Deferred","babel-runtime/helpers/interop-require-default","er/controller"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i),o=function(){function t(){e["default"](this,t),this._services={},this._fixedModule={}}return t.prototype.registerService=function(e,t){null==this._services[e]&&(this._services[e]=t)},t.prototype.invokeService=function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this._getModuleName(e);this._fixRequireConfig(o);var s=[o+"/iac/startup","inf-ria/css!"+o+"/../biz.css"],l=null;return a["default"].require(s).then(function(){if("function"==typeof(l=arguments[0]).activate)return l.activate()}).then(function(){var n=t._services[e];if(null==n)throw new Error("No such service "+e);return n.apply(null,i)})},t.prototype.waitActionDialog=function(e){if(!r["default"].currentAction)return a["default"].rejected(new Error("Not found initialized er.Action"));var t=new a["default"],n=r["default"].currentAction.view;return e.actionOptions.iacService=!0,n.waitActionDialog(e).then(function(e){var n=e.target,i=n.getAction(),a=function(e){if(e.preventDefault(),"aftersubmit"===e.type){var a=i.model.get("iacReturnValue");t.resolve(a),n.dispose()}else"aftercancel"===e.type&&n.dispose()};i.on("aftersubmit",a),i.on("aftercancel",a)}).fail(t.resolver.reject),t.promise},t.prototype._fixRequireConfig=function(e){var t;if(!this._fixedModule[e]&&"spec"!==e&&!/\-test$/.test(e)){var n="/"+e+"/"+require.toUrl("").replace(/\/\?.*/,"")+"/"+e;window.require.config({paths:(t={},t[e]=n,t)}),this._fixedModule[e]=!0}},t.prototype._getModuleName=function(e){var t=/^([\-\w]+):\/\//.exec(e);return t?t[1]:null},t}();module.exports=new o}),define("inf-ria/app/InterAppCommunication",["exports","module","babel-runtime/helpers/class-call-check"],function(exports,module,e){var t=function(){function t(n){e["default"](this,t),this._services={},this._xhelper=n}return t.prototype.registerService=function(e,t){null==this._services[e]&&(this._services[e]=t)},t.prototype.invokeService=function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=/^([\-\w]+):\/\//.exec(e);if(!r)throw new Error("Invalid service name");var module=r[1].toLowerCase();return this._xhelper.loadAppInBackground(module).then(function(){var n=t._services[e];if(null==n||"function"!=typeof n)throw new Error("No such service "+e);return n.apply(undefined,i)})},t}();module.exports=t}),define("inf-ria/css",["exports","module"],function(exports,module){module.exports={load:function(e,t,n){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t.toUrl(e));var a=document.getElementsByTagName("head")[0]||document.body;a.appendChild(i),a=null,i=null,n(!0)}}}),define("inf-ria/decorators",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","babel-runtime/core-js/symbol","underscore","babel-runtime/helpers/interop-require-default"],function(exports,e,t,n,i,a){function r(e,t){return function(n){return function(i,a,r){var o;i[t]||(i[t]=[]),i[t].push((o={},o[e]=n,o.key=a,o))}}}exports.__esModule=!0;var o=a["default"](i),s=n["default"]("decoratorActionEvents");exports.DECORATOR_ACTION_EVENTS=s;var l=n["default"]("decoratorUIEvents");exports.DECORATOR_UI_EVENTS=l;var u=n["default"]("decoratorUIProps");exports.DECORATOR_UI_PROPS=u;var d=n["default"]("decoratorUIModels");exports.DECORATOR_UI_MODELS=d;var c=n["default"]("decoratorViewEvents");exports.DECORATOR_VIEW_EVENTS=c;var f=n["default"]("decoratorUISanProps");exports.DECORATOR_UI_SAN_PROPS=f;exports.accessor=function(e){if("string"!=typeof e||!e)throw new Error("Name of accessor must be provided");return function(t){var i=n["default"](e),a=e.charAt(0).toUpperCase()+e.slice(1);t.prototype["get"+a]=function(){return this[i]},t.prototype["set"+a]=function(e){this[i]=e}}};exports.template=function(e){return function(t,n,i){return t.prototype.template=e,t}};exports.action=function(e,t){return function(n,i,a){return n.prototype.modelType=e,n.prototype.viewType=t,n}};exports.actionInjected=function(){return function(n,i,a){return function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.initialize=function(){var e=this;n.prototype.initialize.call(this),this.on("beforerender",function(t){return e.injectViewEvents()}),this.injectEvents()},i.prototype.injectEvents=function(){var e=this;this[s]&&o["default"].each(this[s],function(t){"function"==typeof e[t.key]&&e.on(t.event,function(n){return e[t.key](n)})})},i.prototype.injectViewEvents=function(){var e=this;this[c]&&o["default"].each(this[c],function(t){"function"==typeof e[t.key]&&e.view.on(t.event,function(n){return e[t.key](n)})})},i.prototype.initBehavior=function(){var e=this;n.prototype.initBehavior.call(this),this.model.on("change",function(t){return o["default"].each(t.changes,function(t){return e.fire(t.name+":changed",t)})})},i}(n)}};exports.modelInjected=function(){return function(n,i,a){return function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.initialize=function(){n.prototype.initialize.call(this),this.injectDatasource()},i.prototype.injectDatasource=function(){var e=this;this[d]&&(this.datasource=o["default"].object(o["default"].map(o["default"].filter(this[d],function(t){return!!e[t.key]}),function(t){return[t.modelKey,function(){return e[t.key](e)}]})))},i}(n)}};exports.viewInjected=function(){return function(n,i,a){return function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.initialize=function(){n.prototype.initialize.call(this),this.injectEvents(),this.injectProperties()},i.prototype.injectEvents=function(){var e=this;this[l]&&(this.uiEvents=o["default"].object(o["default"].map(o["default"].filter(this[l],function(t){return!!e[t.key]}),function(t){return[t.event,function(n){return e[t.key](n)}]})))},i.prototype.injectProperties=function(){var e=this;this[u]&&(this.uiProperties=o["default"].object(o["default"].map(o["default"].filter(this[u],function(t){return!!e[t.key]}),function(t){return[t.prop,e[t.key]()]})))},i.prototype.enterDocument=function(){var e=this;n.prototype.enterDocument.call(this),o["default"].each(this[f],function(t){return e[t.key]()})},i}(n)}};var p=r("modelKey",d);exports.uiModel=p;var h=r("prop",u);exports.uiProp=h;var v=r("event",l);exports.uiOn=v;var m=r("sanProp",f);exports.sanProp=m;var g=r("event",c);exports.viewOn=g;var x=r("event",s);exports.when=x}),define("inf-ria/echarts",["exports","module","echarts/chart/pie","echarts/chart/bar","echarts/chart/line","echarts/chart/lines","echarts/chart/map","echarts/chart/scatter","echarts/component/legendScroll","echarts/component/legend","echarts/component/dataZoom","echarts/component/tooltip","echarts/component/title","echarts/component/grid","echarts/component/toolbox","echarts/component/markPoint","echarts/component/markLine","echarts","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d,c,f,p,h,v,m){var g=m["default"](v),x=/^3\./.test(g["default"].version);g["default"].IS_V3=x,g["default"].infGetColor=function(e,t){var n=arguments.length<=2||arguments[2]===undefined?"#000":arguments[2];if(x)try{return e.getModel().getComponent("legend").ecModel._colorNameMap[t]||n}catch(i){return n}return e.component.legend.getColor(t)},module.exports=g["default"]}),define("inf-ria/EnumX",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","er/Enum"],function(exports,module,e,t,n,i,a){var r=i["default"](n),o=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.fromValue=function(e){return n.prototype.fromValue.call(this,e)||{}},i.prototype.fromAlias=function(e){return n.prototype.fromAlias.call(this,e)||{}},i.prototype.fromText=function(e){return n.prototype.fromText.call(this,e)||{}},i.prototype.toArray=function(){for(var e=[],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length>0)for(var a=0,o=n.length;a<o;a++){var s=n[a];"string"==typeof s?e.push(r["default"].clone(this.fromAlias(s))):e.push(s)}else for(var a in this.valueIndex)this.valueIndex.hasOwnProperty(a)&&this.valueIndex[a]&&e.push(r["default"].clone(this.valueIndex[a]));return e},i}(i["default"](a)["default"]);module.exports=o}),define("inf-ria/helper",["exports","er/events","babel-runtime/helpers/interop-require-default","./XHelper"],function(exports,e,t,n){function i(module){return"/"!==module&&module?module:"home"}function a(e){if(null==e&&"undefined"!=typeof G_APP_NAME)return G_APP_NAME;var t=e||location.pathname,n=t.indexOf("/",1),i=-1===n?t.substr(1):t.substring(1,n);return(i=i.replace(/index\.html/,"").replace(/\//g,"").replace(/^x\-/,""))||"home"}exports.__esModule=!0,exports.getAppName=a;var r=t["default"](e),o=new(t["default"](n)["default"])(a());o.setLoader(window.require);exports.getSearch=function(){return o.getSearch()};exports.buildUrl=function(module,e){var t=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=arguments.length<=3||arguments[3]===undefined?location.search:arguments[3];return module=i(module),o.buildUrl(module,e,t,n)};exports.redirectToModule=function(module,e){var t=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=arguments.length<=3||arguments[3]===undefined?location.search:arguments[3];return module=i(module),o.loadApp(module,e,t,n)};exports.startAction=function(module){var e=i(module);return o.loadApp(e).then(function(){return r["default"].fire("actionstart")})};exports.loadAppInBackground=function(e){return o.loadAppInBackground(e)},exports["default"]=o}),define("inf-ria/js",["exports","module"],function(exports,module){module.exports={load:function(e,t,n){function i(){var e=a.readyState;(void 0===e||/^(loaded|complete)$/.test(e))&&(a.onload=a.onreadystatechange=null,a=null,n(!0))}var a=document.createElement("script");a.src=t.toUrl(e),a.async=!0,a.readyState?a.onreadystatechange=i:a.onload=i;var r=document.getElementsByTagName("head")[0]||document.body;r.appendChild(a),r=null}}}),define("inf-ria/main",["require"],function(require){return{version:"0.0.0"}}),define("inf-ria",["inf-ria/main"],function(e){return e}),define("inf-ria/mvc/ActionFactory",["exports","module","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","promise"],function(exports,module,e,t,n,i){var a=n["default"](t),r=n["default"](i),o=function(){function t(n){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];e["default"](this,t),this._iocContainer=null,this.actionComponent=n,this.noSchema=i.noSchema||!1}return t.prototype.createRuntimeAction=function(e){var t=this.getIocContainer();if(null==t)throw new Error("IocContainer is undefined, please call setIocContainer() first.");return new r["default"](a["default"].bind(t.getComponent,t,this.actionComponent)).thenBind(this.buildAction,this,e)},t.prototype.getIocContainer=function(){return this._iocContainer},t.prototype.setIocContainer=function(e){this._iocContainer=e},t.prototype.buildAction=function(e,t){return t},t}();module.exports=o}),define("inf-ria/mvc/BaseAction",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseAction","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n);var r=i;return i=a.actionInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/mvc/BaseModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseModel","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n);var r=i;return i=a.modelInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/mvc/BaseView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseView","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n);var r=i;return i=a.viewInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/mvc/FormAction",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/FormAction","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n);var r=i;return i=a.actionInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/mvc/FormModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/FormModel","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n);var r=i;return i=a.modelInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/mvc/FormView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/FormView","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n);var r=i;return i=a.viewInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/mvc/ioc",["require","bat-ria/extension/underscore","underscore","uioc"],function(require){require("bat-ria/extension/underscore").activate();var e=require("underscore"),t=new(require("uioc"));return t.addComponent({}),t.registerComponents=function(module,n,i){n.module=module,n.entityName=e.camelize(module);var a={},r=function(t){var n={},module=t.module,i=t.remoteModule,a=t.entityName;return e.each(t.actions,function(e){var r=e.name,o=r.charAt(0).toLowerCase()+r.slice(1);e.needValidator;var s=(i||module)+"/"+r,l=o+"Model",u=s+"Model";n[l]={module:u,properties:{},auto:!0};var d=o+"View",c=s+"View";n[d]={module:c,properties:{},auto:!0};var f={model:{$ref:l},view:{$ref:d},group:e.group||t.group};n[o]={module:s,args:[a],properties:f,auto:!0}}),n}(n);e.extend(a,r,i),t.addComponent(a)},t.addComponentsByEntityName=function(){},t}),define("inf-ria/mvc/ListAction",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-decorated-class","babel-runtime/helpers/class-call-check","bat-ria/mvc/ListAction","babel-runtime/helpers/interop-require-default","inf-i18n","../decorators"],function(exports,module,e,t,n,i,a,r,o){var s=a["default"](i),l=a["default"](r),u=function(i){function a(){n["default"](this,r),i.apply(this,arguments)}e["default"](a,i),a.prototype.retrieveListPage=function(){var e=this,t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return this.model.retrieveListPage(t).then(function(t){e.view.viewContext?(e.view.updatePageData(t),e.fire("listDataLoaded")):e.fire("listDataAborted")}).fail(function(t){return e.fire("listDataFailed",t)})},a.prototype.asyncListPage=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=this.view.get("table");return t&&t.addState("loading"),this.retrieveListPage(e).ensure(function(){return t&&t.removeState("loading")})},t["default"](a,[{key:"_beforemodelload",decorators:[o.when("beforemodelload")],value:function(e){this._listRequester=this.model.listRequester,this.model.listRequester=this.model.retrieveDefaultListPage}},{key:"_modelloaded",decorators:[o.when("modelloaded")],value:function(e){this.model.listRequester=this._listRequester}},{key:"_beforerender",decorators:[o.when("beforerender")],value:function(e){var t=this.view.getUIProperties().table;this._noDataHtml=t.noDataHtml,t.noDataHtml=['<p class="list-loading">','<span class="loading"></span>',l["default"]("列表加载中，请稍候..."),"</p>"].join("\n")}},{key:"_rendered",decorators:[o.when("rendered")],value:function(e){this.view.getUIProperties().table.noDataHtml=this.view.replaceValue?this.view.replaceValue(this._noDataHtml):this._noDataHtml}},{key:"_entercomplete",decorators:[o.when("entercomplete")],value:function(e){this.retrieveListPage()}}]);var r=a;return a=o.actionInjected()(a)||a}(s["default"]);module.exports=u}),define("inf-ria/mvc/ListModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","bat-ria/mvc/ListModel","er/Deferred","../decorators"],function(exports,module,e,t,n,i,a,r,o){var s=i["default"](n),l=i["default"](a),u=i["default"](r),d=function(n){function i(){t["default"](this,a),n.apply(this,arguments)}e["default"](i,n),i.prototype.retrieveDefaultListPage=function(){var e={order:"desc",orderBy:"id",pageNo:1,pageSize:30,totalCount:0,result:[]};return s["default"].extend(e,this.getDefaultArgs()),u["default"].resolved(s["default"].omit(e,s["default"].keys(this.dump())))},i.prototype.retrieveListPage=function(){var e=this,t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=s["default"].extend(this.getQuery(),t);return this.listRequester(n,{"X-silence":!0}).then(function(e){var t=e;return t.tableData=t.result,delete t.result,t}).then(function(t){return e.fill(t),t})};var a=i;return i=o.modelInjected()(i)||i}(l["default"]);module.exports=d}),define("inf-ria/mvc/ListView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/ListView","babel-runtime/helpers/interop-require-default","../decorators"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,r),n.apply(this,arguments)}e["default"](i,n),i.prototype.updatePageData=function(e,t){var n=this.get("table");n&&n.setProperties({selectedIndex:n.selectedIndex||[],datasource:e.tableData,noDataHtml:t||this.getUIProperties().table.noDataHtml});var i=this.get("pager");i&&i.setProperties({count:e.totalCount,page:e.pageNo})};var r=i;return i=a.viewInjected()(i)||i}(i["default"](n)["default"]);module.exports=r}),define("inf-ria/sidebar/Sidebar",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","underscore","etpl","er/events","er/locator","er/URL","mini-event/EventTarget","inf-monitor/logger","./util"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d,c){var f=i["default"](n),p=i["default"](a),h=i["default"](r),v=i["default"](o),m=i["default"](s),g=i["default"](l),x=i["default"](u),y=i["default"](d),b=i["default"](c),w={sidebarQueue:[],newSidebarMod:{},isVisible:!0,isNewSidebarMod:!1},C={L1:{BOX:h["default"].compile('<ul class="sidebar topmenu">${content|raw}</ul>'),ITEM:h["default"].compile('<li class="${clazz} ${service}" service="${service}">${title|raw}</li>')},L2:{BOX:h["default"].compile('<ul class="sidebar submenu" sidetype="${service}">${content|raw}</ul>'),ITEM:h["default"].compile('<li class="${clazz} ${service}" ${path|raw} ${action|raw}>${title|raw}</li>')},L3:{BOX:h["default"].compile('<ul class="leafmenu">${content|raw}</ul>'),ITEM:h["default"].compile('<li sidetype="${path}">${title|raw}</li>')}},T=['<span class="normal-title">${title|raw}</span>','<span class="short-title">${shortTitle|raw}</span>'].join(""),k=['<a href="${url}" ${action|raw} target="${target}" ','data-anchors=${anchors} data-url="${url}" data-track-id="sidebar_menu" data-track-name="侧边栏导航">',"${iconHtml|raw}",T,"</a>"].join(""),_=function(n){function i(e){t["default"](this,i),n.call(this,e);p["default"].extend(this,{wrapperId:"new-sidebar",collapsedClass:"sidebar-collpased",menuActiveClass:"submenu-open",itemActiveClass:"sidebar-current",foldActiveClass:"menu-list-opened",hideActions:[]},e),this._depth=0,this._activeItem=null,this._erEventsHandler=null,this._status="initializing",this.initialize(),w.sidebarQueue.push(this)}return e["default"](i,n),i.switchTo=function(e){return!0},i.prototype.initialize=function(){if(this.isAvailableConfig(this.config)){var e=f["default"]("#"+this.wrapperId);if(this._prefix=b["default"].getCurrentProduct(),this.register(this._prefix),this.wrapperClass=this.wrapperClass||this._prefix+"-sidebar-box",!e.size()){e=f["default"](f["default"].parseHTML('<div id="'+this.wrapperId+'" class="'+this.wrapperClass+' new-sidebar-box" />'));var t=f["default"]("#main");if(!t.size())throw Error("Unexcept error with relative container");e.insertBefore(t)}this.wrapper=e,!w.isVisible||!w.isNewSidebarMod&&this.isNewSidebarMod()?this.hide():this.handleVisibileStatus(),this.prepare(this.config),this._depth>0&&(this.initStructure(),this.initEvents())}},i.prototype.prepare=function(e){!p["default"].isArray(e)&&(e=[e]),this.upgradeConfig(e),p["default"].isNumber(this.depth)&&(this._depth=this.depth)},i.prototype.upgradeConfig=function(e){var t=this,n=arguments.length<=1||arguments[1]===undefined?0:arguments[1];p["default"].each(e,function(e,i){t._depth=Math.max(n+1,t._depth||0),e.navs&&t.upgradeConfig(e.navs,n+1,t._depth)})},i.prototype.initStructure=function(){var e=this;this.innerWrapper=f["default"](f["default"].parseHTML('<div class="sidebar-wrap sidebar-wrap-l'+this._depth+'" />')),this.extraHtml&&(this.extraNode=f["default"](this.extraHtml),this.wrapper.append(this.extraNode));var t=2;3===this._depth&&(t=1);var n=this.buildNavList(this.config,t);p["default"].each(n,function(t,n){p["default"].each(t,function(t){var i=f["default"](f["default"].parseHTML(t));if(n<3)e.innerWrapper.append(i);else{var a=i.children(":first").attr("sidetype"),r=/(.*)\//.exec(a);r=r?r[1]:"";e.innerWrapper.find('[sidetype="'+r+'"],[service="'+r+'"]').append(i)}})}),this.allLinks=this.innerWrapper.find("li > a"),this.childLinks=this.innerWrapper.find(".submenu a"),this.headLinks=this.innerWrapper.find('.menu-header[action-type="back"]')},i.prototype.initEvents=function(){var e=this;this.bindErEvents(),this.innerWrapper.on("click",'[action-type="back"]',function(t){e.toggleSubMenu(!1),m["default"].redirect(t.currentTarget.getAttribute("action-url").replace("#",""));try{y["default"].log({target:"Sidebar",action:"back",value:f["default"](t.target).hasClass("menu-header")?f["default"](t.target).text():f["default"](t.target).parent().text(),url:window.location.href.replace(/\?[^#]*/,"")})}catch(n){}}),this.innerWrapper.on("click",'[action-type="fold"]',function(t){e.fire("fold",{context:e}),f["default"](t.currentTarget).parent().toggleClass(e.foldActiveClass);try{y["default"].log({target:"Sidebar",action:f["default"](t.currentTarget).parent().hasClass(e.foldActiveClass)?"fold_open":"fold_close",url:window.location.href.replace(/\?[^#]*/,"")})}catch(n){}}),this.innerWrapper.on("click","a",function(e){return i.switchTo(e)})},i.prototype.bindErEvents=function(){var e=this;v["default"].on("enteractioncomplete",this._erEventsHandler=function(t){if(!t.isChildAction){var n=t.url.getPath(),i=t.url.getQuery(),a=t.url.toString();w.isNewSidebarMod=e.isNewSidebarMod(),w.isNewSidebarMod?"initializing"===e._status&&(e.clearWrapper(),e.wrapper.append(e.innerWrapper),e._status="ready"):e.clearSidebar(),e.fire("actionchanged",{actionEvent:t,context:e});var r=!1;if(t.action&&t.action.model)if(t.action.page){var o=t.action.page;o.children[0]&&(r=o.children[0].data.get("__hideSidebar"))}else r=t.action.model.get("__hideSidebar");w.isVisible=e.handleVisibileStatus(n,r),e.setActiveItem(n,a),e.rebuildChildUrl(i),e.fire("changecomplete",{actionEvent:t,context:e})}})},i.prototype.rebuildChildUrl=function(e){var t=/^(#.*?)(~)(.*?\[[^\]]+].*)/;p["default"].each(this.childLinks,function(n){var i=n.getAttribute("data-url"),a=t.exec(i);if(a){var r=a[3],o=b["default"].urlReformer(r,e);i=i.replace(/~.*$/,o?"~"+o:""),n.setAttribute("href",i)}}),p["default"].each(this.headLinks,function(n){var i=n.getAttribute("action-data"),a=t.exec(i);if(a){var r=a[3],o=b["default"].urlReformer(r,e);i=i.replace(/~.*$/,o?"~"+o:""),n.setAttribute("action-url",i)}})},i.prototype.toggleSubMenu=function(e){e&&this._depth>2?this.innerWrapper.addClass(this.menuActiveClass):this.innerWrapper.removeClass(this.menuActiveClass)},i.prototype.handleVisibileStatus=function(e,t){if(p["default"].isBoolean(t))return t?this.hide():this.show(),!t;var n=this.hideActions||[],i=!1;e=e?"#"+e:b["default"].getPath();for(var a=0,r=n.length;a<r;a++){var o=n[a];if(p["default"].isString(o)&&o===e){i=!0;break}if(p["default"].isRegExp(o)&&o.test(e)){i=!0;break}}return i?this.hide():this.show(),!i},i.prototype.buildNavList=function(e,t,n,i,a){t===undefined&&(t=1),n===undefined&&(n="");var r=this;i===undefined&&(i=[]),t=Math.min(t,3);var o=C["L"+t].BOX,s=C["L"+t].ITEM,l=[],u=0,d=t,c=!0;p["default"].each(e,function(e,f){if(p["default"].isArray(e)){if(!(r._depth>2))throw Error("Less than level 3 with array-like config");return r.buildNavList(e,t,n+"-"+u,i),void u++}var v="",m=n?[n,e.service].join("/"):e.service,g=e.icon?'<i class="iconfont '+e.icon+'"></i>':"";if(g&&p["default"].extend(e,{iconHtml:g}),b["default"].isAvailableURI(e.url)&&a&&b["default"].isAvailableURI(a.url)&&(c=!1,o=C["L"+(t=2)].BOX,s=C["L"+t].ITEM),e.service&&b["default"].isAvailableURI(e.url)?(e.anchors=r.getAnchors(e),e.target=r.getLinkTarget(e),v=h["default"].compile(k)(e)):e.url&&!b["default"].isAvailableURI(e.url)?(v=h["default"].compile(k)(p["default"].extend(e,{action:' action-type="fold" '})),c=!0,o=C["L"+(t=2)].BOX,s=C["L"+t].ITEM):v=h["default"].compile(T)(e),1===t){var x="menu-header";e.service&&(x="menu-item",e.icon&&(x+=" menu-item-common")),l.push(s({service:e.service,title:v,clazz:x}))}else if(2===t){x="menu-header";e.service&&(x="menu-item",e.icon&&(x+=" menu-item-common"),e.navs&&e.navs.length&&(x+=" menu-list",e.opened&&(x+=" "+r.foldActiveClass)));var y=e.url&&!e.service?' action-type="back" action-data="'+e.url+'" action-url="'+e.url+'"':"",w=e.service?'sidetype="'+m+'"':"";l.push(s({service:e.service,title:v,clazz:x,action:y,path:w}))}else 3===t&&l.push(s({title:v,path:e.service?m:""}));e.navs&&r.buildNavList(e.navs,t+1,m,i,e),c&&(o=C["L"+(t=d)].BOX,s=C["L"+t].ITEM)});var f=l.length>0?o({service:n||"",content:l.join("")}):"";return i[t]=i[t]||[],i[t].push(f),i},i.prototype.getAnchors=function(e){var t=[e.url,g["default"].parse(e.url).getPath()],n=e.anchors||[];return p["default"].uniq([].concat(n,t))},i.prototype.getCurrentLink=function(e,t){var n=this,i=this.getLinksFromPath(e,t);return p["default"].isEmpty(i)&&this.reverseWalkPath(e,function(t){var a=!0;return!t&&p["default"].isEmpty(i)?a=!1:t!==e&&(a=!(i=n.innerWrapper.find('[href*="#'+t+'"]')).length),a}),p["default"].last(i)},i.prototype.getLinksFromPath=function(e,t){for(var n=[],i=[],a=0,r=this.allLinks.length;a<r;a++){var o=this.allLinks[a],s=o.getAttribute("data-anchors"),l=new RegExp("^#"+t+"$|^#"+t+",|,#"+t+"$|,#"+t+","),u=new RegExp("^#"+e+"$|^#"+e+",|,#"+e+"$|,#"+e+",");if(l.test(s)){n.push(o);break}u.test(s)&&i.push(o)}return n.length?n:i},i.prototype.setActiveItem=function(e,t){var n=this.getCurrentLink(e,t);if(n){var i=n.parentNode;this._activeItem&&this.toggleActiveItem(this._activeItem,!1),this.toggleActiveItem(i,!0),this._activeItem=i}},i.prototype.toggleActiveItem=function(e,t){var n=this;e=f["default"](e);var i=t?"addClass":"removeClass",a=e.attr("sidetype");if(a)this.walkPath(a,function(e,t){var a=n.innerWrapper.find('[sidetype="'+e+'"]');a[i](a.hasClass("menu-list")?n.foldActiveClass:n.itemActiveClass)});else{e.attr("service")&&e[i](this.itemActiveClass)}t&&this.toggleSubMenu(e.parents(".submenu").size())},i.prototype.collapse=function(){this.wrapper.addClass(this.collapsedClass),this.fire("collapse",{context:this})},i.prototype.spread=function(){this.wrapper.removeClass(this.collapsedClass),this.fire("spread",{context:this})},i.prototype.show=function(){this.wrapper.removeClass("state-hidden"),this.fire("show",{context:this})},i.prototype.hide=function(){this.wrapper.addClass("state-hidden"),this.fire("hide",{context:this})},i.prototype.getLinkTarget=function(e){var t=/^#\/.*?$/.test(e.url);return e.target||(t?"_self":"_blank")},i.prototype.isAvailableConfig=function(e){var t=!1;if(e){var n=p["default"].isArray(e)?e[0]:e;t=p["default"].has(n,"title")}return t},i.prototype.register=function(e){p["default"].isString(e)&&(e=e.toUpperCase(),w.newSidebarMod[e]=!0)},i.prototype.unRegister=function(e){p["default"].isString(e)&&(e=e.toUpperCase(),w.newSidebarMod[e]=!1)},i.prototype.isNewSidebarMod=function(e){return e=e||b["default"].getCurrentProduct(),e=e.toUpperCase(),!!w.newSidebarMod[e]},i.prototype.clearWrapper=function(){var e=this;p["default"].each(w.sidebarQueue,function(t){t!==e&&t.dispose(!0)}),this.wrapper.attr("class",this.wrapperClass+" new-sidebar-box"),this.wrapper.html(""),w.sidebarQueue=[this]},i.prototype.clearSidebar=function(){p["default"].each(w.sidebarQueue,function(e){return e.dispose()}),w.sidebarQueue=[]},i.prototype.walkPath=function(e,t){var n=this,i=e.split("/"),a="";p["default"].each(i,function(e,i){a=(a=a+"/"+e).replace(/^\//,""),p["default"].isFunction(t)&&t.call(n,a,i)})},i.prototype.reverseWalkPath=function(e,t){for(var n=e.split("/");n.length;){var i=n.join("/");if(p["default"].isFunction(t)&&!t.call(this,i))break;n.pop()}},i.prototype.unbindErEvents=function(){v["default"].un("enteractioncomplete",this._erEventsHandler)},i.prototype.dispose=function(e){this.unbindErEvents(),this.innerWrapper.off("click"),e?this.innerWrapper.remove():this.wrapper.remove(),this.fire("dispose",{context:this})},i}(x["default"]);module.exports=_}),define("inf-ria/sidebar/util",["exports","module","underscore","babel-runtime/helpers/interop-require-default","er/URL"],function(exports,module,e,t,n){var i=t["default"](e),a=t["default"](n);module.exports={mergeNodeLists:function(e,t){var n=Array.prototype.slice;return n.call(e).concat(n.call(t))},updateObject:function(e,t){var n={};return i["default"].each(e,function(e,i){return n[i]=t[i]||e}),n},urlReformer:function(e,t){var n=/\[(.*?)\]+/g,r=/^\[(.*?)\]$/,o=e,s=undefined,l={};if(o)if(s=o.match(n)){var u=o.replace(n,"&"),d=a["default"].parseQuery(u);i["default"].each(s,function(e){var n=r.exec(e)[1];if(n){var i=n.split(":"),a=i[0],o=i[1];l[a]=t[a]||t[o],l[a]||delete l[a]}}),l=i["default"].extend(d,l)}else l=this.updateObject(a["default"].parseQuery(o),t);else l=t;return a["default"].serialize(l)},getCurrentProduct:function(){return window.location.pathname.replace(/^\/|\/$/g,"")},isAvailableURI:function(e){return e&&!/^javascript\:.*?$/.test(e)},getPath:function(){var e=location.href.indexOf("#"),t=-1===e?"":location.href.slice(e);return(t=a["default"].parse(t)).getPath()}}}),define("inf-ria/tpl",["exports","module","bat-ria/tpl","babel-runtime/helpers/interop-require-default","./ui/pkg"],function(exports,module,e,t,n){var i=t["default"](e);t["default"](n)["default"].init(),module.exports=i["default"]}),define("inf-ria/tpl/templates.tpl",[],function(){return'\x3c!-- target: TPL_inf_ria_page_breadcrumb --\x3e\n<div class="page-breadcrumb-wrapper">\n    \x3c!-- block: back_wrapper --\x3e\n        <div class="back-wrapper">\n            <a href="\x3c!-- block: back_link --\x3e\x3c!-- /block --\x3e"\n                data-track-id="\x3c!-- block: track_id --\x3e\x3c!-- /block --\x3e"\n                data-track-name="\x3c!-- block: track_name --\x3e\x3c!-- /block --\x3e">\n                <i class="iconfont icon-downarrow"></i>\n                \x3c!-- block: back_text --\x3e${i18n.返回实例列表}\x3c!-- /block --\x3e\n            </a>\n        </div>\n    \x3c!-- /block --\x3e\n    \x3c!-- block: text_wrapper --\x3e\n        <div class="text-wrapper">\n            \x3c!-- block: text_content_wrapper --\x3e${i18n.创建实例}\x3c!-- /block --\x3e\n        </div>\n    \x3c!-- /block --\x3e\n    \x3c!-- block: create_step --\x3e\x3c!-- /block --\x3e\n</div>\n'}),define("inf-ria/ui/ACEEditor",["exports","module","babel-runtime/helpers/class-call-check","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","underscore","babel-runtime/helpers/interop-require-default","esui","esui/painters","esui/InputControl"],function(exports,module,e,t,n,i,a,r,o,s){var l=a["default"](i),u=a["default"](r),d=a["default"](o),c=a["default"](s),f="function"==typeof window.require?window.require.toUrl("ace-builds/ace.js").replace(/\?.*/,""):"https://bce.bdstatic.com/ace-builds/src-min-noconflict/ace.js",p=function(){function t(){e["default"](this,t),this._theme=null,this._mode=null,this._readOnly=null,this._value=null}return t.prototype.setTheme=function(e){this._theme=e},t.prototype.getSession=function(){var e=this;return{setMode:function(t){e._mode=t}}},t.prototype.getValue=function(){return null},t.prototype.setValue=function(e){this._value=e},t.prototype.setReadOnly=function(e){this._readOnly=e},t.prototype.destroy=function(){},t.prototype.restoreState=function(e){null!=this._theme&&e.setTheme(this._theme),null!=this._mode&&e.getSession().setMode(this._mode),null!=this._readOnly&&e.setReadOnly(this._readOnly),null!=this._value&&e.setValue(this._value,1)},t}(),h=function(i){function a(t){e["default"](this,a),i.call(this,t),this.editor=new p}return t["default"](a,i),a.prototype.initOptions=function(e){var t=l["default"].extend({rawValue:this.main.innerText},e);this.setProperties(t)},a.prototype.initStructure=function(){var e=this;window.require(["inf-ria/js!"+f],function(){var t=window.ace.edit(e.main);t.on("change",function(t){return e.fire("change")}),e.editor.restoreState(t),e.editor=t,e.fire("loaded")})},a.prototype.getRawValue=function(){if(this.editor)return this.editor.getValue()},a.prototype.dispose=function(){this.editor&&this.editor.destroy(),i.prototype.dispose.call(this)},a.prototype.setReadOnly=function(e){i.prototype.setReadOnly.call(this,e),this.editor&&this.editor.setReadOnly(e)},n["default"](a,[{key:"type",get:function(){return"ACEEditor"}},{key:"repaint",get:function(){return d["default"].createRepaint(c["default"].prototype.repaint,{name:"rawValue",paint:function(e,t){if(e.editor)try{e.editor.setValue(t,1)}catch(n){}}})}}]),a}(c["default"]);module.exports=h,u["default"].register(h)}),define("inf-ria/ui/BcmChart",["require","inf-i18n","underscore","esui/lib","esui/Control","esui/painters","../echarts","../utils/mtools","esui/main"],function(require){function e(e){a.apply(this,arguments)}var t=require("inf-i18n"),n=require("underscore"),i=require("esui/lib"),a=require("esui/Control"),r=require("esui/painters"),o=require("../echarts"),s=require("../utils/mtools");return e.prototype={constructor:e,apiType:"metricName",type:"BcmChart",loaded:!1,initOptions:function(e){var i={lazy:!0,unit:"",noData:t("暂无数据"),statistics:"average"};n.extend(i,e),this.setProperties(i)},resetTop:function(){if(this.conf){var e=i.page.getScrollTop(),t=i.page.getViewHeight(),n=i.getOffset(this.main);n.top<e+t&&n.bottom>e&&(this.loaded=!0,this.renderView())}},renderConf:function(e){this.conf=e,this.loaded=!1,this.lazy?this.resetTop():this.renderView()},changeConf:function(e){var t=n.extend(this.conf,e);this.renderConf(t)},refresh:function(){var e=s.getUTCTimeRange(this.time,+this.period);this.conf.startTime=e.startTime,this.conf.endTime=e.endTime,this.renderConf(this.conf)},renderView:function(){var e=this,t=this.conf;t&&"function"==typeof e.requester&&e.requester(t,{"X-silence":!0}).then(function(t){e.renderData(t)})},renderData:function(e){var t=this.conf;this.chartview&&(this.chartview.dispose(),this.chartview=null);var n=this.helper.getPart("chart");if(s.isMonitorTrendEmpty(e.series,t.statistics))n.innerHTML='<div class="'+this.helper.getPartClassName("no-data")+'">'+this.noData+"</div>";else{n.innerHTML='<div style="height: '+this.height+'px;"></div>',s.adjustSeriesData(e,t.statistics);var i=s.getChartOptions(e,this.metricConfig,{type:"line"},{period:t.periodInSecond});this.chartview=o.init(n.firstChild),this.chartview.setOption(i,!0)}},initStructure:function(){var e=[];e.push('<div class="'+this.helper.getPartClassName("box")+'">'),e.push('<h1 id="'+this.helper.getId("title")+'"></h1>'),e.push('<div id="'+this.helper.getId("chart")+'" class="'+this.helper.getPartClassName("chart")+'"></div>'),e.push("</div>"),this.main.innerHTML=e.join("")},initEvents:function(){var e=this;if(this.lazy){var t=n.bind(function(){this.loaded||this.resetTop()},this);this.topReset=n.throttle(t,100),i.on(window,"scroll",this.topReset)}this.onresize=function(){e.chartview&&e.chartview.resize()},i.on(window,"resize",this.onresize)},dispose:function(){this.helper.isInStage("DISPOSED")||(this.helper.beforeDispose(),this.lazy&&(i.un(window,"scroll",this.topReset),this.topReset=null),i.un(window,"resize",this.onresize),this.chartview&&this.chartview.dispose(),this.helper.dispose(),this.helper.afterDispose())},repaint:r.createRepaint(a.prototype.repaint,{name:"width",paint:function(e,t){e.main.style.width=t+"px"}},{name:"height",paint:function(e,t){e.helper.getPart("chart").style.height=t+"px"}},{name:"title",paint:function(e,t){e.helper.getPart("title").innerHTML=t}},{name:["apiType","scope","dimensions","metrics","statistics","period","time","unit","connectNulls"],paint:function(e,t,i,a,r,o,l,u,d,c){var f={};o=o||"average";var p=s.getUTCTimeRange(u,+l);f.scope=i;var h=s.parseMetrics(r);e.metricConfig={unit:d,statistics:o,metrics:h,connectNulls:c},f.statistics=o,f.periodInSecond=+l,f.startTime=p.startTime,f.endTime=p.endTime,"metricName"===t?(f.dimensions=a,f.metricNames=n.pluck(h,"value")):(n.isArray(a)?f.dimensions=a:f.dimensions=s.parseDimensions(a),f.metricName=h[0].value),e.renderConf(f)}})},i.inherits(e,a),require("esui/main").register(e),e}),define("inf-ria/ui/BucketFolders",["require","underscore","jquery","esui/lib"],function(require){function e(e){if(t.isUndefined(e)||t.isUndefined(e.element)||t.isNull(e.element))return!1;this.element=e.element,this.type=e.type||"folder",this.urlPrefix=null!=e.urlPrefix?e.urlPrefix:"bos://",this.panelId="BUCKETFOLDERS_"+this.element.id,this.locations=e.locations||null,this.inputElement=n(this.element.main),this.parentElement=this.inputElement.parent(),this.init(),this.marker="",this.bucketName="",this.prefix=[],this.isLoading=!1,this.isEnd=!1}var t=require("underscore"),n=require("jquery"),i=require("esui/lib"),a=['<li class="bucketfolders-li bucketfolders-bucket">','<a href="javascript:void(0)" bucket-name="${name}"','name="bucket_item">${name}</a>',"</li>"].join(""),r=['<li class="bucketfolders-li bucketfolders-back">','<a href="javascript:void(0)" name="back"',">../</a></li>"].join(""),o=['<li class="bucketfolders-li bucketfolders-folder">','<a href="javascript:void(0)" folder-name="${name}" ','name="folder_item"',">${name}</a></li>"].join(""),s=['<li class="bucketfolders-li bucketfolders-file">','<a href="javascript:void(0)" file-name="${name}" ','name="file_item"',">${name}</a></li>"].join(""),l=['<li class="bucketfolders-li bucketfolders-more">','<a href="javascript:void(0)" ','name="more"',">加载更多</a></li>"].join("");return e.prototype.init=function(){function e(){return!0!==o.isLoading&&(""!==o.bucketName&&(!0!==o.isEnd&&void o.loadFolders(o.getPrefix(),!1)))}var t=this.parentElement,a=t.find("#"+this.panelId),r=this.inputElement;0===a.length&&(t.append(i.format('<ul id="${id}" class="bucketfolders-panel"></ul>',{id:this.panelId})),a=t.find("#"+this.panelId)),this.panelElement=a,t.css("position","relative");var o=this;r.bind("click",function(e){if("INPUT"===e.target.tagName)return!1;a.is(":visible")||o.isLoading||(n("ul.bucketfolders-panel").length>0&&n("ul.bucketfolders-panel").hide(),o.loadBuckets(function(){a.css({left:r.offset().left-t.offset().left,top:r.offset().top-t.offset().top+r.outerHeight(),width:r.innerWidth()}),r.addClass("bucketfolder-select-active"),a.show()}))}),n("body").bind("click",function(e){var t=e.target;a.is(":visible")&&(!n(t).hasClass("bucketfolders-li")&&!n(t).parent().hasClass("bucketfolders-li")||n(t).hasClass("bucketfolder-select"))&&(r.removeClass("bucketfolder-select-active"),a.hide())}),a.delegate('a[name="bucket_item"]',"click",function(e){o.bucketName=n(this).attr("bucket-name"),o.loadFolders("",!0)}),a.delegate('a[name="folder_item"]',"click",function(e){var t=n(this).attr("folder-name");o.setPrefix(t),o.loadFolders(o.getPrefix(),!0)}),a.delegate('a[name="file_item"]',"click",function(e){if(!n(this).hasClass("file-selected")){var t=o.element.getValue(),i=a.find("a.file-selected");i.length>0&&(t=t.substring(0,t.lastIndexOf("/")+1)),i.removeClass("file-selected");var r=n(this).attr("file-name");n(this).addClass("file-selected"),o.element.setValue(t+r),a.hide()}}),a.delegate('a[name="back"]',"click",function(e){0===o.prefix.length?o.loadBuckets():(o.prefix.pop(),o.loadFolders(o.getPrefix(),!0))}),a.bind("scroll",function(){n(this).scrollTop()+n(this).innerHeight()>=this.scrollHeight&&e()}),a.delegate('a[name="more"]',"click",function(t){e()})},e.prototype.loadBuckets=function(e){var n=this.panelElement;if(n.empty(),this.bucketName="",this.prefix=[],this.marker="",this.isLoading=!1,this.isEnd=!1,!this.bucketList)return!1;this.isLoading=!0;var r=this,o={all:!0};this.locations&&(o={locations:this.locations}),this.bucketList(o).then(function(r){for(var o=0;o<r.result.length;o++)n.append(i.format(a,{name:t.escape(r.result[o].name)}));e&&e()}).ensure(function(){r.isLoading=!1})},e.prototype.loadFolders=function(e,n){var a=this.element;n?(this.panelElement.empty(),this.panelElement.append(i.format(r,{bucketName:this.bucketName})),a.setValue(this.urlPrefix+this.bucketName+"/"+e),a.fire("change",{value:a.getRawValue()}),this.isEnd=!1,this.isLoading=!1,this.marker=""):this.panelElement.find("li.bucketfolders-more").remove();var u=this;if("folder"===this.type){if(!this.folderList)return!1;this.isLoading=!0,this.folderList({bucketName:this.bucketName,marker:this.marker,prefix:e}).then(function(n){if(u.marker=n.marker,n.folders&&n.folders.length>0){for(var a=0;a<n.folders.length;a++)u.panelElement.append(i.format(o,{name:t.escape(n.folders[a].substring(e.length))}));u.panelElement.append(i.format(l))}else u.isEnd=!0}).ensure(function(){u.isLoading=!1})}else{if(!this.objectList)return!1;this.isLoading=!0,this.objectList({bucketName:this.bucketName,marker:this.marker,prefix:e}).then(function(n){if(u.marker=n.marker,n.objects&&n.objects.length>0){for(var a=0;a<n.objects.length;a++){var r=n.objects[a].name.substring(e.length);t.indexOf(r,"/")>=0?u.panelElement.append(i.format(o,{name:r})):u.panelElement.append(i.format(s,{name:t.escape(r)}))}u.panelElement.append(i.format(l))}else u.isEnd=!0}).ensure(function(){u.isLoading=!1})}},e.prototype.getPrefix=function(){var e=this.prefix;return e.length>0?e[e.length-1]:""},e.prototype.setPrefix=function(e){var t=this.prefix;t.push(t.length>0?t[t.length-1]+e:e)},e.prototype.bucketList=null,e.prototype.folderList=null,e.prototype.objectList=null,e.prototype.destroy=function(){this.inputElement.unbind("click"),n("body").unbind("click"),this.panelElement.remove()},e}),define("inf-ria/ui/BucketSelect",["require","esui/TextBox","inf-i18n","underscore","esui/lib","esui/InputControl","esui/Layer","er/Deferred","esui/painters","esui"],function(require){function e(){u.apply(this,arguments)}function t(e){var t=s.event.getTarget(e),n=this.layer.getElement();if(t=function(e,t){for(;e&&e!==t&&!s.hasAttribute(e,"data-type");)e=e.parentNode;return e}(t,n)){var i=t.getAttribute("data-type");"back"!==i&&"folder"!==i&&"bucket"!==i||(this.set("_marker",""),this.set("_end",!1));var a=t.getAttribute("data-value"),r="";if(!a)return this.layer.hide(),!1;var l=this.getChild("input");if("bucket"===i&&this.set("_bucket",a+"/"),"folder"===i&&(this.set("_file",""),this.layer.setPrefix(a),r=this.layer.getPrefix()),"file"===i&&!s.hasClass(t,"selected")){r=this.layer.getPrefix(),o.each(s.getChildren(n),function(e,t){s.hasClass("selected")&&s.removeClass(e,"selected")}),s.addClass(t,"selected");var u=this.getValue().replace(RegExp("/"+this.get("_file")+"$"),"");return l.setValue(u+(/\/$/.test(u)?"":"/")+a),this.set("_file",a),this.layer.hide(),this.fire("click",{selectType:i,fileItem:o.find(this.get("fileDatasource"),function(e){return e.name===r+a})}),!1}if("file"===i&&s.hasClass(t,"selected"))return!1;if("back"===i)if(this.get("_file"))this.set("_file",""),r=this.layer.getPrefix();else{if(0===this.get("_prefix").length)return l.setValue(this.urlPrefix),this.set("_bucket",""),this.layer.render(n),this.fire("click",{selectType:i}),!1;this.get("_prefix").pop(),r=this.layer.getPrefix()}if("more"===i&&(r=this.layer.getPrefix()+this.get("_file")),"create"===i)return this.fire("create"),this.layer.hide(),!1;l.setValue(this.urlPrefix+this.get("_bucket").replace(/\//g,"")+"/"+r),this.fire("click",this)}}function n(e){var t=s.event.getTarget(e);/\/$/.test(this.get("_bucket"))&&t.scrollTop+t.clientHeight>=t.scrollHeight&&(this.get("_end")||this.fire("click",this))}function i(t){l.apply(this,arguments),this.layer=new e(this)}function a(e,t){var n={_bucket:"",_prefix:[],_file:"",urlPrefix:t},i=(e=(e=e||"").replace(/\s/g,"")).split("://");i.length>1&&(n.urlPrefix=i[0]+"://");var a=function(e,t){var n=e||"";return n=n.replace(t,"")}(e,t).split("/");if(a.length>0){n._bucket=a[0],a.length>1&&(n._bucket+="/");for(var r=1;r<a.length-1;r++){for(var o="",s=1;s<=r;s++)o+=a[s]+"/";n._prefix.push(o)}a.length>1&&a[a.length-1]&&(n._file=a[a.length-1])}return n}require("esui/TextBox");var r=require("inf-i18n"),o=require("underscore"),s=require("esui/lib"),l=require("esui/InputControl"),u=require("esui/Layer"),d=require("er/Deferred"),c=['<li class="ui-bucket-select-item ${type}" ','data-type="${type}" data-value="${name}" title="${name}">${name}</li>'].join(""),f=['<input autocomplete="off" data-ui-type="TextBox" data-ui-id="${inputId}" ','data-ui-child-name="input" ','data-ui-value="${value}" ','data-ui-width="${width}" data-ui-height="${height}" ','data-ui-placeholder="${placeholder}" ',"/>"].join("");return e.prototype.nodeName="ol",e.prototype.render=function(e){var t=s.format(c,{name:r("+新建bucket"),type:"create"});e.innerHTML="<ol></ol>"+t,this.control.fire("render",this.control)},e.prototype.renderBucket=function(e){var t="",n=this.getElement(),i=s.dom.first(n);o.each(e,function(e,n){t+=s.format(c,{name:o.escape(e.name),type:"bucket"})}),i.innerHTML=t},e.prototype.getPrefix=function(){var e=this.control.get("_prefix");return e.length>0?e[e.length-1]:""},e.prototype.setPrefix=function(e){var t=this.control.get("_prefix");t.push(t.length>0?t[t.length-1]+e:e)},e.prototype.setLayerContent=function(e,t,n){var i=s.dom.first(e);if(""===o.trim(this.control.get("_marker"))){var a=s.format(c,{name:"../",type:"back"});i.innerHTML=a+t}else{var l=s.dom.last(i);s.removeNode(l),i.innerHTML=i.innerHTML+t}if(!1!==n&&t){var u=s.format(c,{name:r("加载更多"),type:"more"});(i=s.dom.first(e)).innerHTML=i.innerHTML+u}},e.prototype.renderFolder=function(e){var t="",n=this.getElement(),i=this.getPrefix();e.folders&&e.folders.length>0?o.each(e.folders,function(e,n){t+=s.format(c,{name:o.escape(e.substring(i.length)),type:"folder"})}):this.control.set("_end",!0),this.setLayerContent(n,t,e.isTruncated),this.control.set("_marker",e.marker)},e.prototype.renderFile=function(e){var t="",n=this.getElement(),i=this.getPrefix();if(e.objects&&e.objects.length>0){var a="";o.each(e.objects,function(e,n){a=!i||/\/$/.test(i)?e.name.substring(i.length):e.name,t+=s.format(c,{name:o.escape(a),type:o.indexOf(a,"/")>-1?"folder":"file"})}),this.control.set("fileDatasource",e.objects)}else this.control.set("_end",!0);this.setLayerContent(n,t),this.control.set("_marker",e.marker)},e.prototype.dock={strictWidth:!0},e.prototype.initBehavior=function(e){this.control.helper.addDOMEvent(e,"click",t);var i=s.dom.first(e);this.control.helper.addDOMEvent(i,"scroll",n)},s.inherits(e,u),i.prototype.initOptions=function(e){var t={height:28,placeholder:e.placeholder||"",viewtype:e.viewtype||"folder",urlPrefix:o.isNull(e.urlPrefix)&&o.isUndefined(e.urlPrefix)?e.urlPrefix:"bos://"};e.width&&(e.width=parseFloat(e.width)-32);var n={_marker:"",_bucket:"",_prefix:[],_end:!1,_loading:!1,_file:""},i={};e.value&&(i=a(e.value,t.urlPrefix)),o.extend(n,t,e,i),this.setProperties(n)},i.prototype.initStructure=function(){if(s.isInput(this.main)){var e=this.helper.replaceMain();s.removeAttribute(this.main,"tabindex"),this.inputId=e.id||this.helper.getId("input"),this.main.id&&(this.main.id=this.helper.getId())}else this.inputId=this.helper.getId("input");this.main.innerHTML=s.format(f,{inputId:this.get("inputId"),width:this.get("width"),height:this.get("height"),placeholder:this.get("placeholder"),value:this.get("rawValue")}),this.initChildren(this.main)},i.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",o.bind(this.layer.toggle,this.layer));var e=this.getChild("input");e.on("input",o.bind(function(){this.fire("input")},this)),e.on("blur",o.bind(function(){this.fire("blur")},this)),e.on("focus",o.bind(function(){this.fire("focus")},this))},i.prototype.getValue=function(){var e=this.getChild("input"),t="";return e&&(t=e.getValue()),t},i.prototype.getRawValue=function(){var e=this.getChild("input"),t="";return e&&(t=e.getRawValue()),s.trim(t)},i.prototype.getBucketName=function(){return this.get("_bucket").replace("/","")},i.prototype.getPrefix=function(){return this.layer.getPrefix()},i.prototype.getMarker=function(){return this.get("_marker")},i.prototype.setValue=function(e){this.getChild("input").setValue(e),this.setProperties({value:e})},i.prototype.repaint=require("esui/painters").createRepaint(l.prototype.repaint,{name:"rawValue",paint:function(e,t){var n=a(t||"",e.get("urlPrefix")),i=!1;n.urlPrefix!==e.get("urlPrefix")&&e.set("urlPrefix",n.urlPrefix),n._bucket!==e.get("_bucket")&&(i=!0,e.set("_bucket",n._bucket)),n._prefix.join("")!==e.get("_prefix").join("")&&(i=!0,e.set("_prefix",n._prefix)),n._file!==e.get("_file")&&"file"===e.get("viewtype")&&(i=!0,e.set("_file",n._file)),i&&(e.set("_marker",""),e.fire("render")),e.getChild("input").setValue(t)}},{name:"_loading",paint:function(e,t){var n=s.getChildren(e.layer.getElement())[0];t?s.addClass(n,"ui-bucketselect-layer-loading"):s.removeClass(n,"ui-bucketselect-layer-loading")}},{name:"disabled",paint:function(e,t){t&&e.layer.hide();s.g(e.getChild("input").inputId).disabled=t}}),i.prototype.getBucketList=function(){return d.resolved([])},i.prototype.getFolderList=function(){return d.resolved([])},i.prototype.getObjectList=function(){return d.resolved([])},i.prototype.createBucket=function(){return d.resolved([])},i.prototype.getBucketLocations=function(){return d.resolved([])},i.prototype.dispose=function(){if(!this.helper.isInStage("DISPOSED")){var e=this.getChild("input");e&&e.dispose(),this.layer&&(this.layer.dispose(),this.layer=null),l.prototype.dispose.apply(this,arguments)}},i.prototype.getFocusTarget=function(){var e=this.getChild("input");if(e)return e.getFocusTarget()},i.prototype.type="BucketSelect",s.inherits(i,l),require("esui").register(i),i}),define("inf-ria/ui/BuyBucket",["require","esui/lib","esui/Control","inf-i18n","underscore","etpl","esui/painters","esui"],function(require){function e(e){i.call(this,e)}function t(e){var t=e.getBoundingClientRect(),n=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:t.top-n,bottom:t.bottom-n,left:t.left-i,right:t.right-i}}var n=require("esui/lib"),i=require("esui/Control"),a=require("inf-i18n"),r=require("underscore"),o=require("etpl");e.prototype.type="BuyBucket";var s=['<div class="${prefix}-title">',"<span>"+a("所选配置")+"</span>",'<button type="button" data-ui="childName:resetBtn;type:Button;skin:stringfy;"','\x3c!-- if:${resetBtn} && ${resetBtn.trackId} --\x3e data-track-id="${resetBtn.trackId}"\x3c!-- /if --\x3e','\x3c!-- if:${resetBtn} && ${resetBtn.trackName} --\x3e data-track-name="${resetBtn.trackName}"\x3c!-- /if --\x3e',">${resetText}</button>","</div>",'<div class="${prefix}-body">',"</div>",'<div class="${prefix}-bottom ${prefix}-previous-${needPreBtn}">',"\x3c!-- if: ${needPreBtn} --\x3e",'<button type="button" data-ui="childName:preBtn;type:Button;">'+a("上一步")+"</button>","\x3c!-- /if --\x3e",'<button type="button" data-ui="childName:confirmBtn;type:Button"','\x3c!-- if:${confirmBtn.trackId} --\x3e data-track-id="${confirmBtn.trackId}"\x3c!-- /if --\x3e','\x3c!-- if:${confirmBtn.trackName} --\x3e data-track-name="${confirmBtn.trackName}"\x3c!-- /if --\x3e','\x3c!-- if:${confirmBtn.group} --\x3e data-ui-group="${confirmBtn.group}"\x3c!-- /if --\x3e','\x3c!-- if:${confirmBtn.auth} --\x3e data-auth="${confirmBtn.auth}" data-authtype="${confirmBtn.authtype}"\x3c!-- /if --\x3e',' class="${confirmBtn.skin}">${confirmBtn.text}</button>',"</div>",'<div class="${prefix}-tip">',"\x3c!-- if: ${tip} --\x3e","<div>${tip}</div>","\x3c!-- /if --\x3e","</div>"],l=['<div class="${prefix}-body-item\x3c!-- if: ${hidden} --\x3e ${prefix}-hidden\x3c!-- /if --\x3e">','<label class="${prefix}-body-title">',"${title}","</label>",'<div class="${prefix}-body-content">${content | raw}</div>',"</div>"],u=['<div class="${prefix}-product-link">','<span><span class="color-999">'+a("按需付费")+"</span>"+a("产品在开通后按照实际产生的账单从账户余额扣款")+"</span>",'<a href="${productLink}">'+a("定价和收费说明")+"&gt;&gt;</a>","</div>"];return e.prototype.initStructure=function(){var e=o.compile(s.join("")),t=o.compile(u.join("")),n=this.get("confirmBtn"),i=this.get("productLink"),r=this.get("needPreBtn"),l=this.get("resetText")||a("清空配置"),d=this.get("tip"),c=this.get("resetBtn"),f=e({prefix:this.helper.getPrimaryClassName(),needPreBtn:r,confirmBtn:n,resetText:l,resetBtn:c,tip:d});i&&(f+=t({prefix:this.helper.getPrimaryClassName(),productLink:i})),this.main.innerHTML=f,this.initChildren(this.main)},e.prototype.initOptions=function(e){var t={fields:[],offsetTop:0,disabled:!1,confirmBtn:{text:a("立即购买"),skin:"confirm-button"},resetBtn:null,productLink:null,needPreBtn:!1,tip:""};r.extend(t,e),r.extend(t.confirmBtn,e.confirmBtnExtra),this.setProperties(t)},e.prototype.setTip=function(e){var t=this.main.getElementsByClassName(this.helper.getPartClassName("tip"))[0];t.innerHTML=e?"<div>"+e+"</div>":""},e.prototype.setRawValue=function(e){var t=this.main.getElementsByClassName(this.helper.getPartClassName("body"))[0],n=o.compile(l.join("")),i=this.get("fields"),a=this,s=r.reduce(i,function(t,i){var o="-";return o=r.isFunction(i.content)?i.content.call(a,e,i)||o:r.isString(i.content)&&e.hasOwnProperty(i.content)?e[i.content]||o:i.content||o,/￥[\d.]+\/分钟/.test(o)&&(o=o.replace(/￥([\d.]+)\/分钟/,function(e,t){try{var n=(60*t*24).toFixed(2),i=(30*n).toFixed(2);return e+'<span class="postpay-range-price">（预计￥'+n+"/天  ￥"+i+"/月）</span>"}catch(a){return e}})),t.push(n({title:i.title,content:o,hidden:i.hidden,prefix:a.helper.getPrimaryClassName()})),t},[]);t.innerHTML=s.join("")},e.prototype.setValue=e.prototype.setRawValue,e.prototype.adjustScroll=function(){var e=t(this.main),n=this.get("offsetTop"),i=parseInt(this.get("fixedTop"),10)||70;if(t(document.body).top<=-this.main.top+i){var a=document.documentElement.clientWidth;"fixed"!==this.main.style.position&&(this.main.style.top=i+"px",this.main.style.right=a-e.right+"px",this.main.style.position="fixed")}else"fixed"===this.main.style.position&&(this.main.style.top=n+"px",this.main.style.right="",this.main.style.position="")},e.prototype.dispose=function(){n.un(window,"scroll",this.scrollHandler),i.prototype.dispose.apply(this,arguments)},e.prototype.initEvents=function(){this.scrollHandler=r.bind(this.adjustScroll,this),n.on(window,"scroll",this.scrollHandler),this.getChild("resetBtn").on("click",r.bind(this.fire,this,"reset")),this.getChild("confirmBtn").on("click",r.bind(this.fire,this,"confirm")),this.get("needPreBtn")&&this.getChild("preBtn").on("click",r.bind(this.fire,this,"previous"))},e.prototype.disableConfirm=function(){this.getChild("confirmBtn").addState("disabled")},e.prototype.enableConfirm=function(){this.getChild("confirmBtn").removeState("disabled")},e.prototype.repaint=require("esui/painters").createRepaint(i.prototype.repaint,{name:"value",paint:function(e,t){t&&e.setRawValue(t)}},{name:"disabled",paint:function(e,t){var n=e.getChild("preBtn");t?(n&&n.addState("disabled"),e.getChild("confirmBtn").addState("disabled")):(n&&n.removeState("disabled"),e.getChild("confirmBtn").removeState("disabled"))}},{name:"offsetTop",paint:function(e,n){n>0&&(e.main.style.top=n+"px"),e.main.top=t(e.main).top-t(document.body).top}},{name:"tip",paint:function(e,t){e.setTip(t)}}),n.inherits(e,i),require("esui").register(e),e}),define("inf-ria/ui/Clipboard",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","esui","babel-runtime/helpers/interop-require-default","esui/Control","clipboard/Clipboard"],function(exports,module,e,t,n,i,a,r,o){var s=a["default"](i),l=a["default"](r),u=a["default"](o),d=function(i){function a(e){n["default"](this,a),i.call(this,e),this.client=null}return e["default"](a,i),a.prototype.initStructure=function(){var e=this;this.client||(this.client=new u["default"](this.main,{action:function(){return"copy"},text:function(){return e.clipboardText}}),this.client.on("beforecopy",function(){return e.fire("beforecopy")}),this.client.on("success",function(){return e.fire("aftercopy")}),this.client.on("error",function(){return e.fire("error")}))},t["default"](a,[{key:"type",get:function(){return"Clipboard"}}]),a}(l["default"]);module.exports=d,s["default"].register(d)}),define("inf-ria/ui/ConfigPanel",["require","underscore","esui/lib","esui/painters","esui/Control","esui/controlHelper","esui"],function(require){function e(e){o.apply(this,arguments)}function t(e){for(var t=[],n=0;n<e.datasource.length;++n){for(var i=e.datasource[n],r=[a.format(u,{title:i.name})],o=0;o<i.children.length;++o)r.push(a.format(d,{extra:e.parentIndex===n&&e.currentIndex===o?p:"",parentIndex:n,index:o,name:i.children[o].name}));t.push(a.format(l,{extra:e.parentIndex===n?f:"",content:r.join("")}))}return e.defaultText&&t.push(a.format(c,{extra:e.parentIndex<0?f:"",defaultText:e.defaultText})),t.join("")}function n(e){var t=e.target||e.srcElement;if("a"===t.nodeName.toLowerCase()){var n=parseInt(a.getAttribute(t,"data-index"),10),i=parseInt(a.getAttribute(t,"data-parent"),10);this.setProperties({currentIndex:n,parentIndex:i}),this.fire("change",{item:this.datasource[i].children[n]})}}var i=require("underscore"),a=require("esui/lib"),r=require("esui/painters"),o=require("esui/Control"),s=require("esui/controlHelper");e.prototype.type="ConfigPanel";var l='<div class="config1 ${extra}">${content}</div>',u='<div class="config-title">${title}</div>',d='<a class="config2 ${extra}" data-index="${index}" data-parent="${parentIndex}">${name}</a>',c='<div class="config1 config-title config1-custom ${extra}">${defaultText}</div>',f="config1-selected",p="config2-selected";return e.prototype.initStructure=function(){this.main.innerHTML=t(this),this.initChildren(this.main)},e.prototype.initOptions=function(e){var t={currentIndex:-1,parentIndex:-1};i.extend(t,e),this.setProperties(t)},e.prototype.initEvents=function(){s.addDOMEvent(this,this.main,"click",n)},e.prototype.repaint=r.createRepaint(o.prototype.repaint,{name:["datasource","currentIndex","parentIndex"],paint:function(e){e.main.innerHTML=t(e)}}),a.inherits(e,o),require("esui").register(e),e}),define("inf-ria/ui/Dragger",["require","underscore","esui/lib","esui/painters","esui/InputControl","esui/controlHelper","esui/TextBox","esui"],function(require){function e(e){f.apply(this,arguments)}function t(e){var t=Math.floor(e/this.step);if(0!==e%this.step&&(e=t*this.step),this.step<1&&this.step>0){var n=this.step.toString().split(".")[1].length;e=Math.round(e*Math.pow(10,n))/Math.pow(10,n)}return e}function n(e,n){var i=e.target||e.srcElement||{nodeName:"div"},o=d.dom.first(this.main),s=d.dom.next(o),l=d.dom.first(s),u="number"==typeof n;u&&this.isVertical&&d.addClass(i,v.BAR_VERTI),o.style["-moz-transition"]=T,o.style["-webkit-transition"]=T,o.style.transition=T,l.style["-moz-transition"]=T,l.style["-webkit-transition"]=T,l.style.transition=T;var c=null;if("li"===i.nodeName.toLowerCase())c=i.title,this.isVertical?(o.style.bottom=i.style.bottom,l.style.height=i.style.bottom):(o.style.left=i.style.left,l.style.width=i.style.left);else if(i.className===v.BAR_RIGHT||i.className===v.BAR_RIGHT+"-text")c=this.max,o.style.left=this.length+"px",l.style.width=this.length+"px";else if(i.className===v.BAR_LEFT)c=this.min,o.style.left="0",l.style.width="0";else if(i.className===v.BAR_BOTTOM)c=this.min,o.style.bottom="0",s.firstChild.style.height="0";else if(i.className===v.BAR_TOP)c=this.max,o.style.bottom=this.length+"px",l.style.height=this.length+"px";else if("ui-dragger-bar-middle"===i.className)c=Math.floor((this.min+this.max)/2),o.style.left=this.length/2+"px",l.style.width=this.length/2+"px";else if(this.isVertical){var f=e.offsetY||e.layerY,h=d.hasClass(i,v.BAR_VERTI)?this.length-f:parseInt(l.style.height,10)-f,m=((c=u?n:h/this.length*(this.max-this.min)+this.min)-this.min)/(this.max-this.min)*this.length;o.style.bottom=m+"px",l.style.height=m+"px"}else{var g=e.offsetX||e.layerX,x=((c=u?n:g/this.length*(this.max-this.min)+this.min)-this.min)/(this.max-this.min)*this.length;o.style.left=x+"px",l.style.width=x+"px"}o.innerHTML=c,o.title=c,c=t.call(this,c),this.changeValue(c,{causedByEvent:!u});o=d.dom.first(this.main),s=d.dom.next(o),l=d.dom.first(s);p.removeDOMEvent(this,document,"mousemove",a),p.removeDOMEvent(this,document,"mouseup",r),delete this.tempState;var y=(c-this.min)/(this.max-this.min)*this.length;this.isVertical?(o.style.bottom=y+"px",l.style.height=y+"px"):(o.style.left=y+"px",l.style.width=y+"px"),this.changeValue(c,{causedByEvent:!0}),this.showTip(c)}function i(e){var t=e.target||e.srcElement,n=d.dom.first(this.main),i=d.dom.next(n),a=d.dom.first(i);if("div"===t.nodeName.toLowerCase())if(t.className===v.BAR_RIGHT||t.className===v.BAR_TOP)i.title=this.max;else if(t.className===v.BAR_LEFT||t.className===v.BAR_BOTTOM)i.title=this.min;else if(this.isVertical){var r=e.offsetY||e.layerY,o=d.hasClass(t,v.BAR_VERTI)?this.length-r:parseInt(a.style.height,10)-r;i.title=""+Math.round(o/this.length*(this.max-this.min)+this.min)}else{var s=e.offsetX||e.layerX;i.title=""+Math.round(s/this.length*(this.max-this.min)+this.min)}}function a(e){var n=d.dom.first(this.main),i=d.dom.next(n),a=d.dom.first(i);n.style["-moz-transition"]=k,n.style["-webkit-transition"]=k,n.style.transition=k,a.style["-moz-transition"]=k,a.style["-webkit-transition"]=k,a.style.transition=k;var r=null,o=null;if(this.isVertical){o=this.tempState.y-e.clientY;var s=this.tempState.bottom+o;s<0?s=0:s>this.length&&(s=this.length),n.style.bottom=s+"px",a.style.height=s+"px",r=s/this.length*(this.max-this.min)+this.min}else{o=e.clientX-this.tempState.x;var l=this.tempState.left+o;l<0?l=0:l>this.length&&(l=this.length),n.style.left=l+"px",a.style.width=l+"px",r=l/this.length*(this.max-this.min)+this.min}r=t.call(this,r),n.innerHTML=r,n.title=r,this.getChild("input").setValue(r),this.showTip(r)}function r(e){var n=d.dom.first(this.main),i=d.dom.next(n),o=d.dom.first(i);p.removeDOMEvent(this,document,"mousemove",a),p.removeDOMEvent(this,document,"mouseup",r),delete this.tempState;var s=t.call(this,+n.innerHTML),l=(s-this.min)/(this.max-this.min)*this.length;this.isVertical?(n.style.bottom=l+"px",o.style.height=l+"px"):(n.style.left=l+"px",o.style.width=l+"px"),this.changeValue(s,{causedByEvent:!0})}function o(e){var t=d.dom.first(this.main);this.tempState={x:e.clientX,y:e.clientY,left:parseFloat(t.style.left),bottom:parseFloat(t.style.bottom)},p.addDOMEvent(this,document,"mousemove",a),p.addDOMEvent(this,document,"mouseup",r),e.preventDefault()}function s(){var e=this.getChild("input"),t=e.getValue(),n="("+this.unit+")";if(new RegExp("^[0-9]*.{0,1}[0-9]+"+n+"{0,1}$").test(t)){var i=parseFloat(t,10);(i<this.min||i>this.max)&&(i=this.currentValue),this.setValue(i)}else"0"===t?this.setValue(0):e.setValue(this.currentValue+this.unit)}function l(){this.fire(this.opMode)}var u=require("underscore"),d=require("esui/lib"),c=require("esui/painters"),f=require("esui/InputControl"),p=require("esui/controlHelper");require("esui/TextBox"),e.prototype.type="Dragger";var h="ui-dragger",v={BAR:h+"-bar",CONTROL_BAR:h+"-control-bar",PANEL:h+"-panel",VALUE_INPUT:h+"-value-input",RULING:h+"-ruling",RULING_NUM:h+"-ruling-num",HORI:"-horizontal",VERTI:"-vertical",SEL:"-selected"};v.MAIN_HORI=h+v.HORI,v.MAIN_VERTI=h+v.VERTI,v.BAR_HORI=v.BAR+v.HORI,v.BAR_VERTI=v.BAR+v.VERTI,v.BAR_SEL=v.BAR+v.SEL,v.BAR_LEFT=v.BAR+"-left",v.BAR_RIGHT=v.BAR+"-right",v.BAR_TOP=v.BAR+"-top",v.BAR_BOTTOM=v.BAR+"-bottom",v.BAR_SEL_HORI=v.BAR_SEL+v.HORI,v.BAR_SEL_VERTI=v.BAR_SEL+v.VERTI,v.CONTROL_BAR_HORI=v.CONTROL_BAR+v.HORI,v.CONTROL_BAR_VERTI=v.CONTROL_BAR+v.VERTI,v.PANEL_HORI=v.PANEL+v.HORI,v.RULING_HORI=v.RULING+v.HORI,v.RULING_VERTI=v.RULING+v.VERTI,v.RULING_NUM_HORI=v.RULING_NUM+v.HORI,v.RULING_NUM_VERTI=v.RULING_NUM+v.VERTI;var m='<div class="ui-dragger-bar-middle" style="${middleStyle}">${middle}</div>',g=['<div class="'+v.BAR+' ${barDire}" style="width:${w};height:${h}">','<div class="'+v.BAR_SEL+' ${barSelDire}"></div>','<div class="${barLeftDire}">${min}</div>',"${middleContent}",'<div class="${barRightDire}"><span class="${barRightDire}-text">${max}</span></div>',"${ruling}","</div>"].join(""),x=['<div title="${content}" class="'+v.CONTROL_BAR+' ${ctrlBarDire}"',' style="${css}:0;text-indent:-1000em">${content}</div>'].join(""),y=['<div class="'+v.RULING+'-box">','<div class="'+v.RULING+' ${rulingDire}"></div>',"</div>"].join(""),b=['<input type="text" class="${extraClass}" data-ui-id="${inputId}" ','data-ui-child-name="input" ','data-ui-type="TextBox" data-ui-width="60" ','data-ui-placeholder="${placeholder}"  />'].join(""),w='<div class="ui-dragger-icon ui-dragger-icon-${op}"></div>',C='${ctrlBar}${bar}${inputValue}<div class="ui-dragger-bar-tip"></div>${icon}';e.prototype.initStructure=function(){this.main.innerHTML=function(e){var t=e.isVertical?"_VERTI":"_HORI",n=d.format(y,{rulingDire:v["RULING"+t]}),i=d.format(x,{content:e.min,ctrlBarDire:v["CONTROL_BAR"+t],css:e.isVertical?"bottom":"left"}),a="",r=parseInt(e.showStep,10);if(e.showMiddle)if(r&&!isNaN(r)&&r>0)for(var o=e.length/((e.max-e.min)/r),s=e.min+r,l=1;s<e.max;)a+=d.format(m,{middle:s,middleStyle:e.isVertical?"bottom:"+l*o+"px":"left:"+(l*o-5)+"px"}),s+=r,l++;else a=d.format(m,{middle:Math.floor((e.min+e.max)/2)+e.unit,middleStyle:(e.isVertical?"top: "+(e.length/2-10):"left: "+(e.length/2-8))+"px;"});else a="";var u=d.format(g,{barDire:v["BAR"+t],barSelDire:v["BAR_SEL"+t],w:e.isVertical?"":e.length+"px",h:e.isVertical?e.length+"px":"",barLeftDire:v["BAR_"+(e.isVertical?"BOTTOM":"LEFT")],barRightDire:v["BAR_"+(e.isVertical?"TOP":"RIGHT")],ruling:n,min:e.min+e.unit,max:e.max+e.unit,middleContent:a}),c=d.format(b,{inputId:e.helper.getId("input"),placeholder:e.min+e.unit,extraClass:h+"-"+e.id});return d.format(C,{ctrlBar:i,bar:u,inputValue:c,icon:e.opMode?d.format(w,{op:e.opMode}):""})}(this),d.addClass(this.main,v[(this.isVertical,"_VERTI")]),this.main.style[this.isVertical?"height":"width"]=this.length+"px",this.initChildren(this.main)},e.prototype.initOptions=function(e){var t={min:0,max:4,unit:"",opMode:"",isVertical:0,step:1,showMiddle:!0};u.extend(t,e),t.min=parseInt(t.min,10),t.max=parseInt(t.max,10),t.currentValue=t.currentValue||t.min,this.setProperties(t)};var T="all 0.2s ease-out",k="all 0s ease-out";return e.prototype.changeValue=function(e,t){var n=this.currentValue;e!==n?(this.currentValue=e,this.getChild("input").setValue(e+this.unit),this.fire("change",{old:n,now:e,causedByEvent:t&&t.causedByEvent})):this.getChild("input").setValue(e+this.unit)},e.prototype.showTip=function(e){var t=d.dom.first(this.main),n=d.dom.next(t),i=d.dom.next(n),a=d.dom.next(i);if(e>0){a.innerHTML=e+this.unit;var r=t.style.left;a.style.left=parseInt(r,10)-90+"px",a.style.display="inline-block"}else a.style.display="none"},e.prototype.initEvents=function(){var e=d.dom.first(this.main),t=d.dom.next(e);p.addDOMEvent(this,t,"click",n),p.addDOMEvent(this,t,"mouseover",i),p.addDOMEvent(this,t,"mousemove",i),p.addDOMEvent(this,e,"mousedown",o),this.getChild("input").on("blur",s,this),this.getChild("input").on("keypress",function(e){if(13===e.keyCode)return e.stopPropagation(),e.preventDefault(),s.call(this),!1},this);var a=d.dom.next(d.dom.next(d.dom.next(t)));a&&p.addDOMEvent(this,a,"click",l),this.on("maxValueChanged",function(){(function(){var e=d.dom.first(this.main),t=d.dom.next(e),n=d.dom.first(t),i=d.dom.next(n),a=d.dom.next(i),r=d.dom.next(a);a.innerHTML=Math.floor((this.min+this.max)/2)+this.unit,r.innerHTML=this.max+this.unit}).call(this)}),this.on("minValueChanged",function(){(function(){var e=d.dom.first(this.main),t=d.dom.next(e),n=d.dom.first(t),i=d.dom.next(n),a=d.dom.next(i);i.innerHTML=this.min+this.unit,a.innerHTML=Math.floor((this.min+this.max)/2)+this.unit}).call(this)})},e.prototype.setValue=function(e){"number"==typeof e&&e>=this.min&&e<=this.max?n.call(this,{},e):this.getChild("input").setValue(this.currentValue)},e.prototype.getValue=function(){return this.currentValue},e.prototype.getRawValue=e.prototype.getValue,e.prototype.getRawValueProperty=e.prototype.getValue,e.prototype.setProperties=function(e){var t=f.prototype.setProperties.apply(this,arguments);t.hasOwnProperty("min")&&this.fire("minValueChanged"),t.hasOwnProperty("max")&&this.fire("maxValueChanged")},e.prototype.repaint=c.createRepaint(f.prototype.repaint,{name:["rawValue"],paint:function(e,t){"number"!=typeof t||isNaN(t)||e.setValue(t)}}),d.inherits(e,f),require("esui").register(e),e}),define("inf-ria/ui/echarts/EChart",["require","lodash","esui/lib","esui/Control","esui/painters","../../echarts","./options","esui/main"],function(require){function e(e){i.apply(this,arguments),this.echartsInstance=r.init(this.main)}var t=require("lodash"),n=require("esui/lib"),i=require("esui/Control"),a=require("esui/painters"),r=require("../../echarts"),o=require("./options");return e.prototype.type="EChart",e.prototype.repaint=a.createRepaint(i.prototype.repaint,{name:"option",paint:function(e,i){if(i&&i.series&&0!==i.series.length){var a=i.series[0].type||e.chartType||"pie",r=o[a+"ChartOption"]||{},s=!1;if(t.each(i.series,function(e){e.type&&e.type!==a&&(s=!0)}),!s){var l=n.clone(r);i=t.merge(l,i||{},!0)}e.echartsInstance.setOption(i,!0)}}}),e.prototype.setOption=function(e){this.setProperties({option:e})},n.inherits(e,i),require("esui/main").register(e),e}),define("inf-ria/ui/echarts/options",["require"],function(require){return{pieChartOption:{legend:{orient:"horizontal",x:"center",y:"top",itemGap:15,padding:[15,70,15,8],data:[]},calculable:!1,series:[{type:"pie",center:["50%","50%"],radius:["30%","50%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,formatter:"{b}{c}",position:"center",textStyle:{fontSize:"20",fontWeight:"400",color:"#333"}}}},data:[]}]},lineChartOption:{tooltip:{trigger:"axis"},lineStyle:{width:1},xAxis:[{boundaryGap:!1,data:[],axisLine:{lineStyle:{color:"#333",width:1}},splitLine:!1}],yAxis:[{axisLine:{lineStyle:{color:"#333",width:1}},boundaryGap:[.4,0],scale:!0}],series:[{showAllSymbol:!0,name:"",type:"line",data:[]}]},barChartOption:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[],padding:[0,0,0,200],textStyle:{fontFamily:"Microsoft YaHei",color:"#000"}},xAxis:[{nameTextStyle:{color:"#000",fontFamily:"Microsoft YaHei"},axisLine:{lineStyle:{color:"#333",width:1}},axisTick:{show:!1}}],yAxis:[{nameTextStyle:{color:"#000",fontFamily:"Microsoft YaHei"},axisLine:{lineStyle:{color:"#333",width:1}}}],series:[]}}}),define("inf-ria/ui/EllipsisLabel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","esui/TipLayer","esui","esui/Control"],function(exports,module,e,t,n,i,a,r,o,s){var l=a["default"](i),u=a["default"](o),d=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.initOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.setProperties(l["default"].defaults(e,{width:"100%",line:2}))},a.prototype.initStructure=function(){var e=getComputedStyle(this.main),t=e.lineHeight;if(e.webkitLineClamp)return this.main.style.webkitLineClamp=parseInt(this.line,10),void(this.main.style.width=l["default"].isNumber(this.width)?this.width+"px":this.width);var n=parseInt(t,10),i=parseInt(this.line,10);this.main.style.overflow="hidden",this.main.style.height=n*i+"px",this.main.style.width=l["default"].isNumber(this.width)?this.width+"px":this.width;var a=this.main.innerText.slice();this.main.innerText="";for(var r=1;r<=a.length;r+=10)if(this.main.innerText=a.slice(0,r),this.checkOverflow(this.main)){for(var o=r;o>=0;o--)if(this.main.innerText=a.slice(0,o),!this.checkOverflow(this.main)){this.main.innerText=a.slice(0,o-3)+"...";break}break}},a.prototype.checkOverflow=function(e){var t=e.style.overflow;t&&"visible"!==t||(e.style.overflow="hidden");var n=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight;return e.style.overflow=t,n},t["default"](a,[{key:"type",get:function(){return"EllipsisLabel"}}]),a}(a["default"](s)["default"]);module.exports=d,u["default"].register(d)}),define("inf-ria/ui/extension/AceTool",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","esui/main","esui/Extension","../ACEEditor"],function(exports,module,e,t,n,i,a,r,o,s){var l=a["default"](i),u=a["default"](r),d=a["default"](o),c=a["default"](s),f=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.activate=function(){var e=this.target;e instanceof c["default"]&&e.on("loaded",function(){var t=window.ace;if(t){var n=e.helper.getPrimaryClassName();l["default"](e.main).before('\n                <div class="'+n+'-title">\n                    <div class="'+n+'-action">\n                        <div class="'+n+'-btn-group">\n                            <span \n                                class="'+n+'-full-screen iconfont icon-full-screen animated"\n                                title="Toggle Fullscreen: Ctrl+F">\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                ');var i=t.require("ace/lib/dom"),a=undefined,r=undefined,o=function(e){a||(r=window.pageYOffset),(a=i.toggleCssClass(document.body,"full-screen"))||window.scrollTo(0,r),e.resize(),e.focus()};e.editor.commands.addCommand({name:"Toggle Fullscreen",bindKey:{win:"Ctrl-F",mac:"Ctrl-F"},exec:o}),l["default"]("."+n+"-full-screen").on("click",function(){o(e.editor)})}})},a.prototype.inactivate=function(){var e=this.target;if(e instanceof c["default"]){var t=e.helper.getPrimaryClassName();l["default"](t+"-title").remove(),e.un("loaded"),i.prototype.inactivate.call(this)}},t["default"](a,[{key:"type",get:function(){return"AceTool"}}]),a}(d["default"]);module.exports=f,u["default"].registerExtension(f)}),define("inf-ria/ui/extension/AutoValidate",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","esui/main","esui/Extension","esui/InputControl"],function(exports,module,e,t,n,i,a,r,o,s){var l=a["default"](i),u=a["default"](r),d=a["default"](o),c=a["default"](s),f=["TextBox"],p=["Select","CheckBox"],h=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.activate=function(){var e=this,t=this.target;if(t instanceof c["default"]){if(t.renderOptions&&t.renderOptions.parent){var n=l["default"].find(t.renderOptions.parent.extensions,function(e){return e instanceof a});n&&!1!==n.prevent&&(this.prevent=!0)}if(this.prevent)return i.prototype.activate.call(this);l["default"].isString(this.events)?l["default"].each(this.events.split(","),function(t){"input"===t?e.bindLazyValidate(t):e.bindValidate(t)}):l["default"].indexOf(f,t.type)>-1?this.bindLazyValidate("input"):l["default"].indexOf(p,t.type)>-1&&this.bindValidate("change"),i.prototype.activate.call(this)}},a.prototype.bindValidate=function(e){var t=this;this.target.on(e,function(){return t.target.validate()})},a.prototype.bindLazyValidate=function(e){var t=this;this.target.on(e,l["default"].debounce(function(){return t.target&&t.target.validate()},100))},a.prototype.inactivate=function(){this.target instanceof c["default"]&&i.prototype.inactivate.call(this)},t["default"](a,[{key:"type",get:function(){return"AutoValidate"}}]),a}(d["default"]);module.exports=h,u["default"].registerExtension(h),u["default"].attachExtension("AutoValidate",{prevent:!1})}),define("inf-ria/ui/extension/BcmChartShowBigView",["require","esui/Extension","esui/lib","esui/main","jquery","underscore","../BcmChart","../../utils/mtools"],function(require){function e(){i.apply(this,arguments)}function t(){var e=this.metricConfig,t=document.createElement("div");document.body.appendChild(t),"dimensions"!==this.apiType||s.isArray(this.dimensions)||(this.dimensions=u.parseDimensions(this.dimensions));var n={needFoot:!1,draggable:!0,closeOnHide:!0,autoClose:!0,main:t,viewContext:this.viewContext,title:this.title,width:800,url:this.bigViewLocation||"/common/bcm/monitorChart",actionOptions:{scope:this.scope,dimensions:this.dimensions,statistics:this.statistics,timeRange:this.time,periodInSecond:this.period,metric:s.clone(e),apiType:this.apiType}};this.region&&(n.actionOptions.region=this.region);var i=require("esui/main").create("ActionDialog",n);i.render(),i.show(),i.on("actionloaded",function(){i.resize()})}function n(){"show"===this.showbigable&&(o("#"+this.helper.getId("title")).append('<div id="'+this.helper.getId("showbig")+'" class="'+this.helper.getPartClassName("showbig")+'"></div>'),this.helper.addDOMEvent("showbig","click",t,this))}var i=require("esui/Extension"),a=require("esui/lib"),r=require("esui/main"),o=require("jquery"),s=require("underscore"),l=require("../BcmChart"),u=require("../../utils/mtools");return e.prototype.type="BcmChartShowBigView",e.prototype.activate=function(){var e=this.target;e instanceof l&&(e.on("afterrender",n,e),i.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){this.target instanceof l&&i.prototype.inactivate.apply(this,arguments)},a.inherits(e,i),r.registerExtension(e),e}),define("inf-ria/ui/extension/BucketSelectEx",["require","esui/Extension","esui/lib","esui/main","../BucketSelect","inf-i18n","underscore","er/Deferred","ef/ActionDialog"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/Extension"),n=require("esui/lib"),i=require("esui/main"),a=require("../BucketSelect"),r=require("inf-i18n"),o=require("underscore"),s=require("er/Deferred");return require("ef/ActionDialog"),e.prototype.type="BucketSelectEx",e.prototype.activate=function(){var e=this.target;if(!(e instanceof a))return!1;e.on("render",function(t){if("function"!=typeof e.getBucketList||e.get("_loading"))return!1;if(e.get("_bucket")&&/\/$/.test(e.get("_bucket")))return e.fire("click"),!1;var n={all:!0},i=e.get("locations");i&&(n={locations:i}),o.extend(n,{keyword:this.get("_bucket")}),e.set("_loading",!0),e.getBucketList(n,{"X-silence":!0}).then(function(t){e.layer.renderBucket(t.result),e.fire("getBucketListOk",{data:t})}).ensure(function(){e.set("_loading",!1)})}),e.on("click",function(t){if(t.selectType)return!1;if(""===e.get("_bucket")||e.get("_loading"))return!1;var n={bucketName:e.get("_bucket").replace(/\//g,""),marker:e.get("_marker"),prefix:e.layer.getPrefix()},i=e.get("filters");if(i&&o.isObject(i)&&o.extend(n,i),"folder"===e.viewtype){if("function"!=typeof e.getFolderList)return!1;e.set("_loading",!0),e.getFolderList(n,{"X-silence":!0}).then(function(t){e.layer.renderFolder(t)}).ensure(function(){e.set("_loading",!1)})}else{if("function"!=typeof e.getObjectList)return!1;e.set("_loading",!0),e.getObjectList(n,{"X-silence":!0}).then(function(t){e.layer.renderFile(t)}).ensure(function(){e.set("_loading",!1)})}}),e.on("input",o.debounce(function(t){var n=t.target.getValue();t.target.setValue(n),e.addState("inputing")},500)),e.on("blur",function(){e.removeState("inputing")}),e.on("create",function(t){(function(e){e=e||{};var t=document.createElement("div");document.body.appendChild(t);var n={width:600,needFoot:!1,draggable:!0,closeOnHide:!0,autoClose:!0,main:t,viewContext:this.viewContext};e=o.defaults({},e,n);var a=i.create("ActionDialog",e);a.render(),a.show(),t.style.visibility="hidden",t.style.opacity="0";var r=new s;return a.on("actionloaded",r.resolver.resolve),a.on("actionloadfail",r.resolver.reject),a.on("actionloadabort",r.resolver.reject),a.on("actionloaded",function(){a.resize(),a.main.style.visibility="visible",a.main.style.opacity="1"}),r.promise}).call(this,{url:"/common/bos/bucket/create/v2",title:r("新建Bucket"),width:800,skin:"bos-create-bucket",needFoot:!0,actionOptions:{createBucket:this.get("createBucket"),getBucketLocations:this.get("getBucketLocations")}}).then(function(t){var n=t.target,i=n.getFoot().getChild("btnOk"),a=n.getFoot().getChild("btnCancel"),r=n.getAction();r.model.set("parentDialog",n),r.model.set("bucketSelect",e);var o=r.view.get("form");i.on("click",function(){o&&o.validateAndSubmit()}),a.on("click",function(){n.dispose()})})}),t.prototype.activate.apply(this,arguments)},e.prototype.inactivate=function(){if(!(this.target instanceof a))return!1;t.prototype.inactivate.apply(this,arguments)},n.inherits(e,t),i.registerExtension(e),e}),define("inf-ria/ui/extension/Kafka",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","underscore","esui/main","esui/painters","esui/Extension","esui/Select"],function(exports,module,e,t,n,i,a,r,o,s,l,u){var d=a["default"](i),c=a["default"](r),f=a["default"](o),p=a["default"](s),h=a["default"](l),v=a["default"](u),m=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.loadData=function(e){var t=this.target,n=e?{"x-silent":!0}:{"X-silence":!0};return!e&&t.set("showTip","loading"),t.getKafkaList({},n).then(function(e){var n=c["default"].map(e.topics,function(e){return{name:e.replace(/^[^_]+__(\S+)$/g,function(e,t){return t}),value:e}});t.set("datasource",n),!n.length&&t.required?t.set("showTip","create"):t.set("showTip","hidden"),t.fire("loadOk",{data:n})},function(n){e||t.set("showTip","loadError"),t.fire("loadError")})},a.prototype.isVisible=function(){if(this.target){var e=this.target;return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length||"hidden"!==getComputedStyle(e).visibility)}},a.prototype.create=function(){this.target.fire("create")},a.prototype.startAutoRefresh=function(){var e=this;this.autoRefreshTimmer=setInterval(function(){e.loadData(!0)},3e3)},a.prototype.stopAutoRefresh=function(){clearInterval(this.autoRefreshTimmer)},a.prototype.activate=function(){var e=this,t=this.target;if(t instanceof v["default"]&&"function"==typeof t.getKafkaList){var n=t.helper.getPrimaryClassName("kafka"),i=n+"-wrap",a=n+"-tip",r=n+"-create",o=n+"-loading",s=n+"-load-error";t.$wrap=d["default"](t.main).after('\n                <div class="'+a+'">\n                    <div class="'+r+'">\n                        请至少\n                        <a id="'+t.helper.getId("createBtn")+'"\n                            href="javascript:void(0)">创建</a>\n                        一个主题\n                    </div>\n                    <div class="'+o+'">\n                        正在加载，请稍后\n                    </div>\n                    <div class="'+s+'">\n                        加载错误，请\n                        <a id="'+t.helper.getId("errorTip")+'"\n                            href="javascript:void(0)">重试</a>\n                    </div>\n                </div>\n                ').nextAll().addBack().wrapAll('<div class="'+i+'"></div>').parent("."+i),t.repaint=p["default"].createRepaint(t.repaint,{name:["showTip"],paint:function(e,t){e.$wrap.find("."+a+">div").hide(),"create"===t?e.$wrap.find("."+r).show():"loading"===t?e.$wrap.find("."+o).show():"loadError"===t&&e.$wrap.find("."+s).show()}},{name:"autoRefresh",paint:function(t,n){n&&!e.autoRefreshTimmer&&e.startAutoRefresh(),!n&&e.autoRefreshTimmer&&e.stopAutoRefresh()}}),t.on("init",function(){e.loadData()}),t.helper.addDOMEvent("errorTip","click",function(){e.loadData()}),t.helper.addDOMEvent("createBtn","click",function(){e.create()}),t.loadData=c["default"].bind(this.loadData,this)}},a.prototype.inactivate=function(){var e=this.target;if(e instanceof v["default"]){e.un("init"),e.helper.removeDOMEvent("errorTip","click"),e.helper.removeDOMEvent("createBtn","click");var t=e.helper.getPrimaryClassName("kafka")+"-tip";e.$wrap.find("."+t).remove(),d["default"](e.main).unwrap(),e.set("showTip",!1),e.set("autoRefresh",!1),delete e.loadData,delete e.showTip,delete e.autoRefresh,i.prototype.inactivate.call(this)}},t["default"](a,[{key:"type",get:function(){return"Kafka"}}]),a}(h["default"]);module.exports=m,f["default"].registerExtension(m)}),define("inf-ria/ui/extension/PopoverEx",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","jquery","esui/Extension","esui/main","esui/Select","esui/TipLayer"],function(exports,module,e,t,n,i,a,r,o,s,l,u){var d=a["default"](i),c=a["default"](r),f=a["default"](o),p=a["default"](s),h=a["default"](l),v=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.activate=function(){this.target.on("afterrender",this.init,this),i.prototype.activate.call(this)},a.prototype.initOptions=function(){var e=this.target;this.isDisableShow=!!d["default"].isUndefined(e.isDisableShow)||e.isDisableShow,this.triggerEventDom=e.main,this.timer=null,e instanceof h["default"]&&(this.triggerEventDom=e.layer.getElement())},a.prototype.initEvents=function(){var e=this,t=this.target,n=t.trigger,i=t.datasource;this.handler={mouseover:d["default"].bind(this.renderPopoverLayer,this),mouseout:d["default"].bind(this.hide,this)},i?(c["default"](this.triggerEventDom).on(n||"mouseover","li",this.handler.mouseover),c["default"](this.triggerEventDom).on(n||"mouseout","li",this.handler.mouseout)):(c["default"](this.triggerEventDom).on("mouseover",this.handler.mouseover),c["default"](this.triggerEventDom).on("mouseout",this.handler.mouseout)),c["default"](this.popoverLayer.main).on("mouseover",function(){e.timer&&(clearTimeout(e.timer),e.timer=null)}),c["default"](this.popoverLayer.main).on("mouseout",function(){e.timer=setTimeout(function(){return e.hide()},150)})},a.prototype.init=function(){this.initOptions(),this.createPopoverLayer(),this.initEvents()},a.prototype.createPopoverLayer=function(){var e=this.target,t=document.createElement("div");document.body.appendChild(t),this.popoverLayer=p["default"].create("TipLayer",{main:t,arrow:!0,skin:"popover",width:e.layerWidth||200,viewContext:e.viewContext,content:e.popover||e.innerHTML}),this.popoverLayer.render()},a.prototype.renderPopoverLayer=function(e){var t=e.currentTarget,n=this.target,i=n.datasource,a=n.popover,r=n.disabled;if(i&&i.length){var o=+t.getAttribute("data-index")||+t.parentElement.getAttribute("data-index");a=i[o].popover,r=i[o].disable||i[o].disabled}!a||this.isDisableShow&&!r||(this.updatePopoverContent(a),this.show(t))},a.prototype.show=function(e){var t=this.target.placement,n={right:"left",top:"top"};if(d["default"].isString(t))try{n=JSON.parse(t)}catch(i){}else d["default"].isObject(t)&&(n=t);this.timer&&(clearTimeout(this.timer),this.timer=null),this.popoverLayer.show(e,n)},a.prototype.hide=function(){var e=this;this.timer=setTimeout(function(){return e.popoverLayer.hide()},150)},a.prototype.updatePopoverContent=function(e){this.popoverLayer.setContent(e)},a.prototype.inactivate=function(){var e=this.target;e.popoverLayer&&e.popoverLayer.dispose(),e.un("afterrender",this.init,this),c["default"](this.triggerEventDom).off(e.trigger||"mouseover","li",this.handler.mouseover),c["default"](this.triggerEventDom).off(e.trigger||"mouseover","li",this.handler.mouseout),c["default"](this.triggerEventDom).off(e.trigger||"mouseover",this.handler.mouseover),c["default"](this.triggerEventDom).off(e.trigger||"mouseover",this.handler.mouseout),i.prototype.inactivate.call(this)},t["default"](a,[{key:"type",get:function(){return"PopoverEx"}}]),a}(f["default"]);module.exports=v,p["default"].registerExtension(v)}),define("inf-ria/ui/extension/TableChild",["require","esui/Extension","esui/lib","esui/main","esui/Table","esui","underscore","mini-event"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/Extension"),n=require("esui/lib"),i=require("esui/main"),a=require("esui/Table"),r=(require("esui"),require("underscore"));return e.prototype.type="TableChild",e.prototype.activate=function(){function e(e){var t=require("mini-event").fromEvent(e,{preserveData:!0,syncState:!0});t.originControl=e.target,t.originType=e.type,n.fire("@childEvent",t)}var n=this.target;n instanceof a&&(console&&console.warn&&console.warn("`TableChild`即将废弃，请使用`TableEx`支持现有功能."),n.on("bodyChange",function(){r.each(n.bodyPanel.children,function(t){t.on("*",e,this)})}),t.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){this.target instanceof a&&t.prototype.inactivate.apply(this,arguments)},n.inherits(e,t),i.registerExtension(e),e}),define("inf-ria/ui/extension/TableCustomFields",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","jquery","fc-storage/localStorage","fc-storage/cookie","esui/Extension","esui","esui/Table","./TableCustomFieldsInterface"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d){var c=i["default"](n),f=i["default"](a),p=i["default"](r),h=i["default"](o),v=i["default"](s),m=i["default"](l),g=i["default"](u),x=function(n){function i(){t["default"](this,i);for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];n.call(this,a)}return e["default"](i,n),i.prototype.activate=function(){var e=this,t=this.target;if(t instanceof g["default"]&&t.extTableCustomFields instanceof Object){var i=(location.hash||"").split("~")[0],a=t.extTableCustomFields||{},r=t.fields;this.allFields=c["default"].map(r,function(e){return e.field});var o=t.extTableCustomFields.defaults||this.allFields,s=t.id,l=h["default"].getItem("bce-login-display-name")||"-1",u=[i,l,s].join("-");t.extTableCustomFields.maxFields>0&&(u=[i,l,s,"2017-1-18"].join("-"));var d=p["default"].getItem(u);d||(d=o),c["default"].isArray(o)&&o.length||(o=c["default"].map(r,function(e){return e.field}));var v=c["default"].object(d,c["default"].range(d.length));t.fields=c["default"].filter(r,function(e){return c["default"].indexOf(d,e.field)>-1}).sort(function(e,t){return v[e.field]-v[t.field]}),this.currentFields=c["default"].map(t.fields,function(e){return e.field});var x=f["default"](a.container),y=m["default"].create("TableCustomFieldsInterface",{id:t.id+"-interface",childName:"interface",main:x[0],datasource:c["default"].map(r,function(e){return{text:e.title,value:e.field}}),chosen:d,defaults:o,locked:t.extTableCustomFields.locked,maxFields:t.extTableCustomFields.maxFields||r.length+1});y.render();var b=c["default"].clone(d);y.on("save",function(n){p["default"].setItem(u,n.data);var i=c["default"].object(n.data,c["default"].range(n.data.length));t.setProperties({fields:c["default"].filter(r,function(e){return c["default"].indexOf(n.data,e.field)>-1}).sort(function(e,t){return i[e.field]-i[t.field]})}),t.fire("ext-fieldchanged",{newData:n.data,oldData:b}),e.currentFields=c["default"].map(t.fields,function(e){return e.field})}),t.addChild(y);for(var w=arguments.length,C=Array(w),T=0;T<w;T++)C[T]=arguments[T];return n.prototype.activate.call(this,C)}},i.prototype.inactivate=function(){if(this.target instanceof g["default"]){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.prototype.inactivate.call(this,t)}},i}(v["default"]);x.prototype.type="TableCustomFields",m["default"].registerExtension(x),module.exports=x}),define("inf-ria/ui/extension/TableCustomFieldsInterface",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-i18n","babel-runtime/helpers/interop-require-default","underscore","esui/Control","esui/painters","esui/lib","etpl","esui"],function(exports,module,e,t,n,i,a,r,o,s,l,u){var d=i["default"](n),c=i["default"](a),f=i["default"](r),p=i["default"](o),h=i["default"](s),v=i["default"](l),m=i["default"](u),g=function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4&&e}(),x='<div class="${classNames.container}"><button data-ui="type:Button;id:table-custom-field-entry;childName:entry" title="'+d["default"]("自定义列设置")+'"><i class="iconfont icon-setting"></i></button><div id="${ids.layer}" class="${classNames.layer}"><div class="arrow"><i></i></div><div class="title"><h1>'+d["default"]("自定义列")+'</h1><ul class="quick-operations"><li><a href="#" data-command="defaults">'+d["default"]("默认")+'</a></li><li><a href="#" data-command="all" class="${classNames.allState}">'+d["default"]("全选")+'</a></li></ul></div><div id="${ids.content}" class="content" dropzone="move"></div><div id="${ids.waiting}" class="waiting"></div><div class="footer"><button type="button" data-ui="id:${ids.main}-btn-ok;childName:btnOk;type:Button;skin:primary;">'+d["default"]("确定")+'</button><button type="button"data-ui="id:${ids.main}-btn-cancel;childName:btnCancel;type:Button;">'+d["default"]("取消")+"</button></div></div></div>",y="<h2>"+d["default"]("已添加")+'<span class="description">'+d["default"]("（拖拽调整顺序，点击×删除）")+'</span>\x3c!-- if: ${data.length} >= ${maxFields} --\x3e<span class="max-fields-description">最多${maxFields}列</span>\x3c!-- /if --\x3e</h2>\x3c!-- if: ${data.length} > 0 --\x3e<ol>\x3c!-- for: ${data} as ${item}  --\x3e<'+(g&&g<=9?'a href="javascript:void 0;"':"li")+' data-value="${item.value}" draggable="true" class="item">${item.text}<i href="javascript:void 0;" data-command="close" title="'+d["default"]("删除")+'" class="close">×</i></'+(g&&g<=9?"a":"li")+'>\x3c!-- /for --\x3e</ol><br clear="both"/>\x3c!-- /if --\x3e',b="<h2>"+d["default"]("待添加")+'<span class="description">'+d["default"]("（拖拽至上面的区域中进行添加）")+"</span></h2>\x3c!-- if: ${data.length} > 0 --\x3e<ul>\x3c!-- for: ${data} as ${item}  --\x3e<"+(g&&g<=9?'a href="javascript:void 0;"':"li")+' data-value="${item.value}" draggable="true" class="item\x3c!-- if: ${isOverMaxFields}--\x3e over-fields\x3c!-- /if --\x3e">${item.text}</'+(g&&g<=9?"a":"li")+'>\x3c!-- /for --\x3e</ul><br clear="both"/>\x3c!-- /if --\x3e',w={container:v["default"].compile(x),content:v["default"].compile(y),waiting:v["default"].compile(b)},C=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.prepareFields=function(){var e=this,t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.datasource=t.datasource||this.datasource||[],this.all=c["default"].map(this.datasource,function(e){return e.value}),this.origChosen=this.origChosen||this.chosen,this.chosen=t.chosen||this.chosen||[],this.defaults=t.defaults||this.defaults||[],this.waiting=c["default"].filter(this.all,function(t){return-1===c["default"].indexOf(e.chosen,t)}),this.datasourceMapper={},c["default"].each(this.datasource,function(t){e.datasourceMapper[t.value]=t}),this.chosen=c["default"].filter(this.chosen,function(t){return e.datasourceMapper[t]}),this.waitingFields=c["default"].map(this.waiting,function(t){return e.datasourceMapper[t]}),this.chosenFields=c["default"].map(this.chosen,function(t){return e.datasourceMapper[t]})},i.prototype.initStructure=function(){this.main&&(this.main.innerHTML=w.container({ids:{main:this.id,layer:this.helper.getId("layer"),content:this.helper.getId("content"),waiting:this.helper.getId("waiting")},classNames:{container:this.helper.getPartClasses("container"),layer:this.helper.getPartClasses("layer"),allState:this.maxFields<this.datasource.length?"state-hidden":""}}),this.helper.initChildren())},i.prototype.initEvents=function(){var e=this;this.getChild("entry").on("click",this.show,this),this.getChild("btnOk").on("click",function(){e.fire("save",{data:e.chosen}),e.origChosen=e.chosen,e.hide()}),this.getChild("btnCancel").on("click",function(){e.setProperties({chosen:e.origChosen}),e.fire("cancel"),e.hide()}),this.helper.addDOMEvent(this.main,"click",function(e){var t=e.target,n=t&&t.getAttribute("data-command");if(n){var i=null;switch(n){case"defaults":this.setProperties({chosen:c["default"].clone(this.defaults)}),this.fire("quickset",{command:"defaults"});break;case"all":var a=this.locked&&this.locked.tail?this.chosen.length-this.locked.tail.length:this.chosen.length;i=[].concat(this.chosen.slice(0,a),this.waiting,this.chosen.slice(a)),this.setProperties({chosen:i}),this.fire("quickset",{command:"all"});break;case"close":var r=t.parentNode.getAttribute("data-value");i=c["default"].without(this.chosen,r),this.setProperties({chosen:i})}}e.preventDefault(),e.stopPropagation()})},i.prototype.processDragEvents=function(){var e=this,t=e.getPart("content"),n=e.getPart("waiting"),i=null,a=c["default"].chain([c["default"].toArray(n.querySelectorAll(".item")),c["default"].toArray(t.querySelectorAll(".item"))]).flatten().filter(function(t){var n=t.getAttribute("data-value"),i=c["default"].indexOf(e.locked.head,n)>-1,a=c["default"].indexOf(e.locked.tail,n)>-1;return!i&&!a||(t.removeAttribute("draggable"),t.setAttribute("data-locked",!0),t.setAttribute("data-locked-position",i?"head":"tail"),t.className="item locked",!1)}).value();c["default"].each(a,function(n){n.draggable=!0,n.onselectstart=function(){return!1},n.ondragstart=function(n){var i=h["default"].getAttribute(n.target,"data-value");return e.chosen.length>=e.maxFields&&c["default"].contains(e.waiting,i)?(n.dataTransfer.effectAllowed="none",!1):(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("Text",n.target.getAttribute("data-value")),n.target.className="item dragging",t.className=t.className?t.className+" ondragging-container":"ondragging-container",!0)},n.ondragend=function(n){if(n.preventDefault(),!i)return!1;var a=n.target.getAttribute("data-value");i.setAttribute("data-value",a),n.target.parentNode.removeChild(n.target),t.className=t.className.replace(/\sdragging/g,"");var r=t.querySelectorAll(".item"),o=c["default"].chain(r).toArray().map(function(e){return e.getAttribute("data-value")}).value();return e.setProperties({chosen:o}),!0}}),t.ondragover=function(e){e.preventDefault();var n=e.target.getAttribute("data-value");if(e.target.getAttribute("data-locked-position")||!n||"dragging"===e.target.className)return!1;var a=t.querySelector("ol"),r=e.offsetX<=e.target.offsetWidth/2;return a.removeChild(i),r&&e.target.previousSibling!==i?a.insertBefore(i,e.target):e.target.nextSibling!==i&&a.insertBefore(i,e.target.nextSibling),!1},t.ondragenter=function(e){var n=t.querySelector("ol");if(n&&e.target&&1===e.target.nodeType&&"dragging"!==e.target.className){if(!n.querySelector(".occupying")){(i=document.createElement(g&&g<=9?"a":"li")).className="item occupying";var a=n.querySelector("[data-locked-position=tail]");n.insertBefore(i,a)}var r=e.target.getAttribute("data-value"),o=e.target.getAttribute("data-locked-position");if("head"===o||!r)return!1;if("tail"===o)e.target.previousSibling!==i&&(n.removeChild(i),n.insertBefore(i,e.target));else if(e.target.getAttribute("data-value")){var s=e.offsetX<=e.target.offsetWidth/2;n.removeChild(i),s&&e.target.previousSibling!==i?n.insertBefore(i,e.target):e.target.nextSibling!==i&&n.insertBefore(i,e.target.nextSibling)}}return!0},t.ondrop=function(e){return e.preventDefault(),e.stopPropagation(),!1}},i.prototype.getPart=function(e){var t=this.helper.getId(e);return document.getElementById(t)},i.prototype.renderPart=function(e,t){var n=this.getPart(e),i=w[e];n&&i&&(n.innerHTML=i(t))},i.prototype.show=function(){this.getPart("layer").style.display="block",this.clickPageToHide&&h["default"].un(document.body,"click",this.clickPageToHide),this.clickPageToHide=c["default"].bind(this.hide,this),h["default"].on(document.body,"click",this.clickPageToHide)},i.prototype.hide=function(){this.getPart("layer").style.display="none",this.clickPageToHide&&h["default"].un(document.body,"click",this.clickPageToHide)},i}(f["default"]);C.prototype.type="TableCustomFieldsInterface",C.prototype.repaint=p["default"].createRepaint(f["default"].prototype.repaint,{name:["datasource","chosen"],paint:function(e){e.prepareFields.call(e),e.renderPart("content",{data:e.chosenFields,maxFields:e.maxFields}),e.renderPart("waiting",{data:e.waitingFields,isOverMaxFields:e.chosen.length>=e.maxFields}),e.processDragEvents.call(e)}}),m["default"].register(C),module.exports=C}),define("inf-ria/ui/extension/TableEx",["require","esui/Extension","esui/lib","esui/main","esui/Table","underscore"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/Extension"),n=require("esui/lib"),i=require("esui/main"),a=require("esui/Table"),r=require("underscore");return e.prototype.type="TableEx",e.prototype.activate=function(){var e=this.target;if(e instanceof a){var o=e.columnRenderIndexes;"number"==typeof o&&(o=[o]),e.on("bodyChange",function(t){t.content&&"content"===t.content.name&&function(t){var a=[];r.each(e.datasource,function(t,s){var l=e.select?1:0,u=e.extTableEx||[];if(u&&u.length){var d=[];r.each(e.fields,function(e,t){r.indexOf(u,e.field)>-1&&d.push(t+l)}),o=d}r.each(o,function(t){var o=function(t,a){var o=n.g(e.getBodyCellId(t,a));if(null==o)return[];for(var s=o.getElementsByTagName("*"),l=[],u=0;u<s.length;u++){var d=s[u];1===d.nodeType&&d.getAttribute(i.getConfig("instanceAttr"))&&l.push(i.getControlByDOM(d))}return r.each(l,function(i){var a=i.get("xEventType");if(a){a=n.splitTokenList(a);var o=i.get("xEventName")||"";r.each(a,function(n){var a=n;o&&(n=o+"@"+n),i.on(a,function(i){var r,o=i.target.get("xFieldName"),s=i.target.get("type");o&&(r="CheckBox"===s?i.target.checked:i.target.getValue(),e.datasource[t][o]=r),"true"===i.target.get("xEventBubble")&&e.fire(n,{bubble:!0,originalTarget:i.target,originalEventType:a})})})}}),l}(s,t);a.push.apply(a,o)})}),e.itemRenderers=a}()}),t.prototype.activate.apply(this,arguments)}},e.prototype.inactivate=function(){var e=this.target;if(e instanceof a){for(var n=e.itemRenderers.length-1;n>-1;n--)e.itemRenderers[n].dispose();t.prototype.inactivate.apply(this,arguments)}},n.inherits(e,t),i.registerExtension(e),e}),define("inf-ria/ui/extension/TableFilter",["require","esui/Extension","esui/lib","esui/main","esui/Table","underscore","etpl"],function(require){function e(){u.apply(this,arguments)}function t(e,t){var i=n(e).querySelectorAll("."+e.helper.getPrimaryClassName("filter-panel"));return t?p.find(i,function(e){return d.getAttribute(e,"data-index")-t==0}):i}function n(e){return d.g(e.getId("head"))}function i(e){e.currentTarget.querySelector("."+this.helper.getPrimaryClassName("filter-select")).style.visibility="visible"}function a(e){e.target.querySelector("."+this.helper.getPrimaryClassName("filter-select")).style.visibility=""}function r(e,n){var i=t(e,n.fieldIndex);a.call(e,{target:i}),function(e,t,n){var i=n.querySelectorAll("."+e.helper.getPrimaryClassName("filter-select")+" li");p.each(i,function(e){d.getAttribute(e,"data-value")===t.value?d.addClass(e,"active"):d.removeClass(e,"active")})}(e,n,i),e.fire("filter",n)}function o(e){var n=t(this,e).querySelector("li.active");return n&&{name:d.getText(n),value:d.getAttribute(n,"data-value"),fieldIndex:d.getAttribute(n,"data-index"),style:n.className}}function s(e){var t=o.call(this,e);return t&&t.value}function l(e,t){if(s.call(this,e)!==t){var n=p.find(this.fields[e].filter.datasource,function(e){return e.value===t});n&&(p.extend(n,{fieldIndex:e}),r(this,n))}}var u=require("esui/Extension"),d=require("esui/lib"),c=require("esui/main"),f=require("esui/Table"),p=require("underscore"),h=require("etpl");e.prototype.type="TableFilter";var v=['<div class="${prefix}-filter-panel" data-index="${fieldIndex}">','<label class="${prefix}-filter-head iconfont icon-downarrow">',"</label>",'<div class="${prefix}-filter-select">',"<ul>","\x3c!-- for: ${datasource} as ${item} --\x3e",'<li class="${item.style}" data-index="${fieldIndex}" data-value="${item.value}">',"${item.name}","</li>","\x3c!-- /for --\x3e","</ul>","</div>","</div>"];return e.prototype.render=function(){var e=this.target;e.rawField=p.deepClone(e.fields),e.fields=p.map(e.rawField,function(t,i){if(t.filter){p.each(t.filter.datasource,function(e){e.name=e.name||e.text,e.value===t.filter.value&&(e.style+=" active")}),t.filterSelect=h.compile(v.join(""))({prefix:e.helper.getPrimaryClassName(),datasource:t.filter.datasource||[],fieldIndex:i}),t.minWidth=t.minWidth||200;var a=n(e).querySelectorAll("th"),r=e.select?1:0;p.each(a,function(e){d.getAttribute(e,"data-index")-i===r&&(d.addClass(e,"hcell-filter"),e.children[0].innerHTML=t.title+t.filterSelect)})}return t}),function(e){var r=this.target;p.each(t(r),function(e){d.on(e,"click",p.bind(i,r)),d.on(e,"mouseleave",p.bind(a,r))});var o=n(r).querySelectorAll("li");p.each(o,function(e){d.on(e,"click",function(e){var t=d.getAttribute(e.target,"data-value"),n=d.getAttribute(e.target,"data-index");l.call(r,n,t),e.stopPropagation()})})}.call(this),e.helper.addPartClasses("filter"),e.getFilterRawValue=o,e.getFilterValue=s,e.setFilterValue=l},e.prototype.activate=function(){var e=this.target;e instanceof f&&(e.on("bodyChange",p.bind(this.render,this)),u.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){this.target instanceof f&&u.prototype.inactivate.apply(this,arguments)},d.inherits(e,u),c.registerExtension(e),e}),define("inf-ria/ui/extension/TableOperator",["require","esui/Extension","esui/lib","esui/main","esui/Table","esui","underscore"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/Extension"),n=require("esui/lib"),i=require("esui/main"),a=require("esui/Table"),r=require("esui"),o=require("underscore");return e.prototype.type="TableOperator",e.prototype.activate=function(){var e=this.target;e instanceof a&&(e.on("bodyChange",function(t){e.selectControls=[],o.each(e.datasource,function(t,i){var a=n.g(e.getBodyCellId(i,e.operatorColumnIndex)),s=r.init(a);e.selectControls.push.apply(e.selectControls,s),o.each(s,function(n){n.on("click",function(n){e.fire("operatorClick",{action:n.target.action,rowIndex:i,data:t})})})})}),e.on("afterrowupdate",function(t){var i=t.index,a=t.data,s=n.g(e.getBodyCellId(i,e.operatorColumnIndex)),l=r.init(s);e.selectControls.push.apply(e.selectControls,l),o.each(l,function(t){t.on("click",function(t){e.fire("operatorClick",{action:t.target.action,rowIndex:i,data:a})})})}),t.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){var e=this.target;if(e instanceof a){for(var n=0;n<e.selectControls.length;n++)e.selectControls[n].dispose();t.prototype.inactivate.apply(this,arguments)}},n.inherits(e,t),i.registerExtension(e),e}),define("inf-ria/ui/extension/TableRadio",["require","esui/Extension","esui/lib","esui/main","esui/Table","jquery","underscore"],function(require){function e(){a.apply(this,arguments)}function t(){for(var e=this.getSelectedItems(),t=[],n=0;n<e.length;n++)t.push(e[n].name);for(n=0;n<this.datasource.length;n++){var i=l(this.getRow(n));u.indexOf(t,this.datasource[n].name)>=0&&(i.find('input[type="radio"]').eq(1).prop("checked",!0),this.datasource[n].authType="readWrite")}}function n(){for(var e=this.getSelectedItems(),t=[],n=0;n<e.length;n++)t.push(e[n].name);for(n=0;n<this.datasource.length;n++){var i=l(this.getRow(n));u.indexOf(t,this.datasource[n].name)>=0&&(i.find('input[type="radio"]').eq(0).prop("checked",!0),this.datasource[n].authType="readOnly")}}function i(e){for(var t=0;t<this.datasource.length;t++)for(var n=this.datasource[t].accountPrivileges,i=0;i<n.length;i++)if(n[i].accountName===e){l(this.getRow(t)).find('input[value="'+n[i].authType+'"]').prop("checked",!0),this.setRowSelected(t,!0)}}var a=require("esui/Extension"),r=require("esui/lib"),o=require("esui/main"),s=require("esui/Table"),l=require("jquery"),u=require("underscore");return e.prototype.type="TableRadio",e.prototype.activate=function(){var e=this.target;e instanceof s&&(e.setAllRead=n,e.setAllWrite=t,e.setCurrentAccountPrivileges=i,e.on("bodyChange",function(t){l(e.main).on("click",'input[type="radio"]',function(t){for(var n=l(t.target).attr("name"),i=0;i<e.datasource.length;i++)e.datasource[i].name==n&&e.setRowSelected(i,!0)})}),e.on("select",function(t){for(var n=e.getSelectedItems(),i=[],a=0;a<n.length;a++)i.push(n[a].name);u.each(e.datasource,function(t,n){var a=l(e.getRow(n));u.indexOf(i,t.name)<0?(a.find('input[type="radio"]').prop("checked",!1),delete t.authType):(a.find('input[type="radio"]').eq(0).prop("checked")||a.find('input[type="radio"]').eq(1).prop("checked")||a.find('input[type="radio"]').eq(0).prop("checked",!0),a.find('input[type="radio"]').eq(0).prop("checked")?t.authType="readOnly":t.authType="readWrite")})}),a.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){this.target instanceof s&&a.prototype.inactivate.apply(this,arguments)},r.inherits(e,a),o.registerExtension(e),e}),define("inf-ria/ui/extension/TableSelect",["require","esui/Extension","esui/lib","esui/main","esui/Table","esui","underscore"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/Extension"),n=require("esui/lib"),i=require("esui/main"),a=require("esui/Table"),r=require("esui"),o=require("underscore");return e.prototype.type="TableSelect",e.prototype.activate=function(){var e=this.target;e instanceof a&&(e.on("bodyChange",function(t){e.selectControls=[],o.each(e.datasource,function(t,i){!function(t){var a=n.g(e.getBodyCellId(i,e.selectColumnIndex)),o=r.init(a)[0];e.selectControls.push(o),o.on("change",function(n){e.fire("selectChange",{field:e.datasource[t],selectedItem:n.target.datasource[n.target.selectedIndex]})})}(i)})}),t.prototype.activate.apply(this,arguments))},e.prototype.inactivate=function(){var e=this.target;if(e instanceof a){for(var n=0;n<e.selectControls.length;n++)e.selectControls[n].dispose();t.prototype.inactivate.apply(this,arguments)}},n.inherits(e,t),i.registerExtension(e),e}),define("inf-ria/ui/extension/TextBoxSelect",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","babel-runtime/helpers/create-class","esui/Extension","babel-runtime/helpers/interop-require-default","esui/TextBox","esui/main","esui/Layer","esui/lib","underscore"],function(exports,module,e,t,n,i,a,r,o,s,l,u){var d=a["default"](i),c=a["default"](r),f=a["default"](o),p=a["default"](s),h=a["default"](l),v=a["default"](u),m=function(n){function i(e){t["default"](this,i),n.call(this,e),this.nodeName="ol",this.dock={strictWidth:!0}}return e["default"](i,n),i.prototype.render=function(e){if(this.control.datasource){for(var t="",n=this.control.getValue(),i=0,a=0;a<this.control.datasource.length;a++){var r=this.control.datasource[a];if(r.name.indexOf(n)>=0){var o=n?r.name.replace(n,'<span class="highlight">'+n+"</span>"):r.name;t+='<li data-index="'+i+'" data-name="'+r.name+'" class="ui-textbox-item"><span',r.title&&(t+=' title="'+v["default"].escape(r.title)+'" '),t+=">"+o+"</span></li>",i++}}e.innerHTML=t}},i.prototype.initBehavior=function(e){this.control.helper.addDOMEvent(e,"click",this.selectValue)},i.prototype.selectValue=function(e){for(var t=h["default"].event.getTarget(e),n=this.layer.getElement();t&&t!==n&&!h["default"].hasAttribute(t,"data-name");)t=t.parentNode;t&&t.getAttribute("data-name")&&(this.setValue(t.getAttribute("data-name")),this.validate(),this.layer.hide(),this.fire("select"))},i}(p["default"]),g=function(i){function a(){t["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.activate=function(){var e=this.target;e instanceof c["default"]&&(e.layer=new m(e),this.initEvents(),i.prototype.activate.call(this))},a.prototype.initEvents=function(){var e=this;this.target.on("input",function(t){e.target.layer.repaint(),e.target.layer.show()}),this.target.on("focus",function(t){e.target.layer.repaint(),e.target.layer.show()})},a.prototype.inactivate=function(){var e=this.target;e instanceof c["default"]&&(e.layer&&e.layer.dispose(),i.prototype.inactivate.call(this))},n["default"](a,[{key:"type",get:function(){return"TextBoxSelect"}}]),a}(d["default"]);module.exports=g,f["default"].registerExtension(g),f["default"].attachExtension("TextBox")}),define("inf-ria/ui/extension/TipUsage",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","esui/main","esui/Extension","esui/Tip"],function(exports,module,e,t,n,i,a,r,o,s){var l=a["default"](i),u=a["default"](r),d=a["default"](o),c=a["default"](s),f=new Date(2015,12,31).getTime(),p=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.matchType=function(){return!((new Date).getTime()>f)&&this.target instanceof c["default"]},a.prototype.sendMessage=function(e){var t=[{type:"TIP_USAGE",page:location.href,text:e}];l["default"].ajax({method:"POST",url:"/api/log/csi",dataType:"json",headers:{"Content-Type":"application/json; charset=UTF-8","X-Request-By":"ERApplication"},data:JSON.stringify(t),success:function(e){},error:function(e,t,n){}})},a.prototype.activate=function(){var e=this;if(this.matchType()){var t=this.target;t.on("afterrender",function(){var n=t.getChild("layer");n&&n.on("show",function(){e.sendMessage(n.get("content"))})}),i.prototype.activate.call(this)}},a.prototype.inactivate=function(){this.matchType()&&i.prototype.inactivate.call(this)},t["default"](a,[{key:"type",get:function(){return"TipUsage"}}]),a}(d["default"]);module.exports=p,u["default"].registerExtension(p),u["default"].attachExtension(p.name,{})}),define("inf-ria/ui/extension/ToggleHolder",["require","esui/lib","esui/main","esui/Extension"],function(require){function e(){i.apply(this,arguments)}var t=require("esui/lib"),n=require("esui/main"),i=require("esui/Extension");return e.prototype.type="ToggleHolder",e.prototype.activate=function(){var e=this.target;e.toggle=function(){e.fire("toggle").isDefaultPrevented()||e.set("checked",!this.checked)},i.prototype.activate.apply(this,arguments)},t.inherits(e,i),n.registerExtension(e),e}),define("inf-ria/ui/FilePreview",["require","esui/Control","esui/lib","esui/painters","inf-i18n","underscore","esui"],function(require){function e(e){t.call(this,e),this.uploader}var t=require("esui/Control"),n=require("esui/lib"),i=require("esui/painters"),a=require("inf-i18n"),r=require("underscore");return n.inherits(e,t),e.prototype.childTemplate=['<figure class="${childClass}" id="${childId}" title="${title}">',"<p>",'<img src="${image}" class="${imageClass}" id="${imageId}">','<span><i data-item-id="${itemId}" class="${deleteIconClass}" title="',a("删除")+'">'+a("删除")+"</i></span>","</p>","${name}","</figure>"].join(""),e.prototype.addItem=function(e){var t=document.createElement("div"),i=/^WU_FILE/.test(e.id||"");t.innerHTML=n.format(this.childTemplate,{childClass:this.helper.getPartClassName("child"),deleteIconClass:this.helper.getPartClassName("delete-icon"),itemId:e.id,childId:this.helper.getId(e.id),imageId:this.helper.getId(e.id+"-image"),imageClass:e.thumbnail?i?"":this.helper.getPartClassName("img-file"):i?this.helper.getPartClassName("loading-file"):this.helper.getPartClassName("default-file"),title:e.name,name:function(){var t=e.name;return e.url&&(t='<a target="_blank" href="'+e.url+'">'+e.name+"</a>"),"<figcaption>"+t+"</figcaption>"},image:e.thumbnail||(i?require.toUrl("inf-ria/ui/img/loading.gif"):require.toUrl("inf-ria/ui/img/defaultfile.png"))}),this.main.appendChild(t.firstChild)},e.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",r.bind(this._removeItem,this))},e.prototype.initOptions=function(e){var t={};r.extend(t,{datasource:[]},e),this.setProperties(t)},e.prototype._removeItem=function(e){var t=e.target;if(n.hasClass(t,this.helper.getPartClassName("delete-icon"))){var i=t.getAttribute("data-item-id");this.fire("delete",{id:i}),n.removeNode(this.helper.getId(i))}},e.prototype.attachTo=function(e){this.uploader=e.getNative(),e.on("fileQueued",this._onFileQueued,this),e.on("uploadProgress",this._onUploadProgress,this),e.on("uploadAccept",this._onUploadAccept,this)},e.prototype._onFileQueued=function(e){var t=e.originalEvent;this.addItem(t.file)},e.prototype._onUploadProgress=function(e){},e.prototype._onUploadAccept=function(e){var t,n=e.originalEvent,i=n.object,a=n.ret,r=this.helper.getPartClassName("img-file"),o=this.helper.getPartClassName("default-file"),s=this.helper.getPartClassName("error-file");if(a&&a.success&&a.result){if(t=this.helper.getPart(i.file.id+"-image"),this.uploader.makeThumb(i.file,function(e,n){t.src=n||require.toUrl("inf-ria/ui/img/defaultfile.png"),t.setAttribute("data-url",a.result||""),t.className=n?r:o}),a.result.fileUrl){var l=this.helper.getPart(i.file.id).querySelector("figcaption");l.innerHTML='<a target="_blank" href="'+a.result.fileUrl+'">'+l.innerHTML+"</a>"}}else a.message&&a.message.redirect?window.location.href=a.message.redirect:(t=this.helper.getPart(i.file.id+"-image"))&&(t.src=require.toUrl("inf-ria/ui/img/error.png"),t.className=s)},e.prototype._refreshPreviewItems=function(){var e=this;e.main.innerHTML="",r.each(this.datasource,function(t){e.addItem(t)})},e.prototype.type="FilePreview",e.prototype.repaint=i.createRepaint(t.prototype.repaint,{name:"datasource",paint:function(e,t){e._refreshPreviewItems()}}),require("esui").register(e),e}),define("inf-ria/ui/FlexPanel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","esui","esui/lib","esui/Panel"],function(exports,module,e,t,n,i,a,r,o,s){var l=a["default"](i),u=a["default"](r),d=a["default"](o),c=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.initOptions=function(e){e.fixedPixel=parseInt(e.fixedPixel||0,10),e.fixedClass=e.fixedClass||this.helper.getPartClasses("fixed"),i.prototype.initOptions.call(this,e)},a.prototype.initEvents=function(){this.scrollHandler=l["default"].bind(this.scrollEvent,this),this.on("afterrender",this.prepare,this),d["default"].on(window,"scroll",this.scrollHandler),i.prototype.initEvents.call(this)},a.prototype.prepare=function(){this.top=this.top?parseInt(this.top,10):d["default"].getOffset(this.main).top-this.fixedPixel},a.prototype.scrollEvent=function(){d["default"].page.getScrollTop()>this.top?this.triggerFixed():this.cancelFixed()},a.prototype.triggerFixed=function(){d["default"].addClasses(this.main,this.fixedClass),this.main.style.top=this.fixedPixel+"px"},a.prototype.cancelFixed=function(){d["default"].removeClasses(this.main,this.fixedClass),this.main.style.top=""},a.prototype.dispose=function(){i.prototype.dispose.call(this),d["default"].un(window,"scroll",this.scrollHandler)},t["default"](a,[{key:"type",get:function(){return"FlexPanel"}}]),a}(a["default"](s)["default"]);u["default"].register(c),module.exports=c}),define("inf-ria/ui/GuideTip",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","esui","esui/lib","esui/controlHelper","esui/Control"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=a["default"](i),d=a["default"](r),c=a["default"](o),f=a["default"](s),p=a["default"](l),h=['<span id="${textId}">${tipText}</span>','<i class="${closeClass}" id="${closeId}"></i>','<i class="${arrowClass}" id="${arrowId}"></i>'].join(""),v=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.getStorageKey=function(){return this.get("id")||"guidetip-default"},a.prototype.closeHandler=function(e){this.fire("close"),this.hide()},a.prototype.autoPosition=function(){var e=c["default"].g(this.helper.getId("layer"));if(e){c["default"].removeAttribute(e,"style");var t=c["default"].getOffset(e),n=c["default"].g(this.helper.getId("arrow"));c["default"].removeAttribute(n,"style");var i=c["default"].getOffset(this.main);if(this.layerPosition&&"right"===this.layerPosition)e.style.left=i.left+i.width+16+"px",t=c["default"].getOffset(e),e.style.top=i.top+(i.height-t.height-20)/2+"px";else{e.style.left=i.left+(i.width-t.width)/2+"px",t=c["default"].getOffset(e),this.layerPosition&&"bottom"===this.layerPosition?e.style.top=i.top+i.height+16+"px":e.style.top=i.top-t.height-18+"px";var a=this.get("layerArrowLeft");n.style.left=(a?+a:i.left-t.left+(i.width-17)/2)+"px"}this.layerWidth&&(e.style.width=this.layerWidth+"px")}},a.prototype.show=function(){c["default"].addClass(this.main,this.helper.getPartClasses("show"));var e=c["default"].g(this.helper.getId("layer"));c["default"].addClass(e,this.helper.getPartClasses("layer-show"))},a.prototype.hide=function(){c["default"].removeClass(this.main,this.helper.getPartClasses("show"));var e=c["default"].g(this.helper.getId("layer"));c["default"].removeClass(e,this.helper.getPartClasses("layer-show"))},a.prototype.initEvents=function(){var e=c["default"].g(this.helper.getId("close"));this.helper.addDOMEvent(e,"click",u["default"].bind(this.closeHandler,this)),this.resizeHandler=u["default"].debounce(u["default"].bind(this.autoPosition,this),50),c["default"].on(window,"resize",this.resizeHandler),c["default"].on(window,"scroll",this.resizeHandler)},a.prototype.initStructure=function(){var e=document.createElement("span");c["default"].addClass(e,this.helper.getPartClasses("layer")),this.layerSkin&&c["default"].addClass(e,this.helper.getPartClasses("skin-"+this.layerSkin)),e.id=this.helper.getId("layer");var t="arrow"+(this.layerPosition?"-"+this.layerPosition:""),n=c["default"].format(h,{tipText:this.get("tipText"),closeClass:this.helper.getPartClasses("close"),closeId:this.helper.getId("close"),arrowClass:this.helper.getPartClasses(t),arrowId:this.helper.getId("arrow"),textId:this.helper.getId("text")});e.innerHTML=n,document.body.appendChild(e)},a.prototype.dispose=function(){c["default"].un(window,"resize",this.resizeHandler),c["default"].un(window,"scroll",this.resizeHandler),c["default"].removeNode(this.helper.getId("layer")),i.prototype.dispose.call(this)},t["default"](a,[{key:"type",get:function(){return"GuideTip"}},{key:"repaint",get:function(){return f["default"].createRepaint(p["default"].prototype.repaint,{name:"tipText",paint:function(e,t){var n=t||"";if(""===u["default"].trim(n))e.hide();else{c["default"].g(e.helper.getId("text")).innerHTML=u["default"].escape(n),setTimeout(u["default"].bind(e.autoPosition,e),0)}}},{name:"isShow",paint:function(e,t){(u["default"].isNull(t)||u["default"].isUndefined(t))&&(t=!0),"false"===t&&(t=!1),t?e.show():e.hide()}})}}]),a}(p["default"]);module.exports=v,d["default"].register(v)}),define("inf-ria/ui/ImageLightBox",["require","esui/Control","esui/lib","inf-i18n","underscore","jquery","esui"],function(require){function e(e){t.call(this,e)}var t=require("esui/Control"),n=require("esui/lib"),i=require("inf-i18n"),a=require("underscore"),r=require("jquery");return n.inherits(e,t),e.prototype.initOptions=function(e){var t={url:"",origin:""};a.extend(t,e),this.setProperties(t)},e.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",this.showLightBox),this.helper.addDOMEvent(window,"resize",this.resize)},e.prototype.buildButtonHtml=function(){return this.get("showOrigin")?['<div class="image-lightbox-action-wrap">','<a class="image-lightbox-action-original" href="javascript:void 0;">',i("查看原始图片")+"</a>",'<a class="image-lightbox-action-compressed disabled" href="javascript:void 0;">',i("查看压缩后的图片")+"</a>","<h2>"+i("您现在查看的是 ")+"<span>"+i("压缩后的图片")+"</span></h2>","<p>"+i("点击图片可查看大图。")+"</p>","</div>"].join(""):""},e.prototype.showLightBox=function(e){var t=this.get("url"),n=this.get("origin"),a=this;if(!t&&(t=n),t){t===n&&(n=null),this.set("showOrigin",!!n);var o=r('<div class="image-lightbox-mask"></div>'),s=r(['<div class="image-lightbox-frame">','<div class="image-lightbox-close"></div>','<div class="image-lightbox-content"></div>',this.buildButtonHtml(),"</div>"].join("")),l=r("body");if(o.appendTo(l),s.appendTo(l),o.click(this.hideLightBox),setTimeout(function(){o.addClass("in"),s.addClass("in"),a.resize()},20),this.renderImage(!1,s),s.find(".image-lightbox-close").click(this.hideLightBox),this.get("showOrigin")){(new Image).src=n,s.find(".image-lightbox-action-compressed").click(function(){r(this).is("disabled")||(a.renderImage(!1,s),r(this).addClass("disabled").siblings().removeClass("disabled"),s.find("h2 span").text(i("压缩后的图片")))}),s.find(".image-lightbox-action-original").click(function(){r(this).is("disabled")||(a.renderImage(!0,s),r(this).addClass("disabled").siblings().removeClass("disabled"),s.find("h2 span").text(i("原始图片")))})}}},e.prototype.renderImage=function(e,t){var n=this;this.active=!0;var a=new Image;a.src=this.get(e?"origin":"url"),t.removeClass("image-lightbox-loaded image-lightbox-error").addClass("image-lightbox-loading");var o=t.find(".image-lightbox-content");o.html('<p><i class="image-lightbox-icon"></i>'+i("加载中……")+"</p>"),this.initPosition(),a.onload=function(){if(n.active){t.removeClass("image-lightbox-loading image-lightbox-error").addClass("image-lightbox-loaded"),o.empty();var e=r('<img class="image-lightbox-pic" data-width="'+a.width+'" data-height="'+a.height+'" src="'+a.src+'" />');e.appendTo(o),e.off("click.imagebox").on("click.imagebox",function(){window.open(a.src,"_blank")}),n.resize()}},a.onerror=function(){t.removeClass("image-lightbox-loading image-lightbox-loaded").addClass("image-lightbox-error"),o.html('<p><i class="image-lightbox-icon"></i>'+i("图片加载失败")+"</p>"),n.initPosition()}},e.prototype.hideLightBox=function(e){this.active=!1;var t=r(".image-lightbox-mask"),n=r(".image-lightbox-frame").addClass("out");setTimeout(function(){t.addClass("out")},100),setTimeout(function(){t.remove(),n.remove()},500)},e.prototype.resize=function(){var e=r(".image-lightbox-frame"),t=e.find(".image-lightbox-content"),n=e.find(".image-lightbox-pic");if(n.length){var i,a,o=r(window).width(),s=r(window).height(),l=+n.attr("data-width"),u=+n.attr("data-height");l/u>o/s?a=(i=Math.min(.8*o,l))/l*u:i=(a=Math.min(.8*s,u))/u*l,t.css({width:Math.max(i,430)+"px",height:a+"px"}),n.css("max-width",i+"px"),e.css({"margin-left":Math.min(-i/2-25,-215)+"px","margin-top":Math.min(-a/2-30,-100)+"px"})}},e.prototype.initPosition=function(){var e=r(".image-lightbox-frame");e.find(".image-lightbox-content").css({width:"430px",height:"140px"}),e.css({"margin-left":"-215px","margin-top":"-100px"})},e.prototype.type="ImageLightBox",require("esui").register(e),e}),define("inf-ria/ui/InlineEdit",["require","esui/Button","esui/TextBox","inf-i18n","esui/lib","esui/Control","esui/Layer","esui/validator/Validity","esui/validator/ValidityState","underscore","esui"],function(require){function e(){r.apply(this,arguments)}function t(t){a.call(this,t),this.layer=new e(this),this.inputId="input"+u,this.validityId="validity"+u,u++}require("esui/Button"),require("esui/TextBox");var n=require("inf-i18n"),i=require("esui/lib"),a=require("esui/Control"),r=require("esui/Layer"),o=require("esui/validator/Validity"),s=require("esui/validator/ValidityState"),l=require("underscore"),u=35172,d=['<div class="${optClass}">','<div><input data-ui="type:TextBox;id:${inputId};validityLabel:${validityId};childName:input;width:145"/></div>','<div data-ui="childName:ok;type:Button;skin:ok">${okText}</div>','<div data-ui="childName:cancel;type:Button;skin:cancel">',"${cancelText}","</div>","</div>",'<div class="${errorClass}">','<label data-ui="type:Validity;id:${validityId}"></label>',"</div>"].join(""),c=n("确定"),f=n("取消");return i.inherits(e,r),e.prototype.render=function(e){var t=this.control.helper;e.innerHTML=i.format(d,{okText:c,cancelText:f,inputId:this.control.inputId,validityId:this.control.validityId,optClass:t.getPartClassName("editor-opt"),errorClass:t.getPartClassName("editor-error")})},i.inherits(t,a),t.prototype.type="InlineEdit",t.prototype.initStructure=function(){this.main.innerHTML=i.format('<i class="${editorClass}" id="${iconId}">'+n("编辑")+"</i>",{editorClass:this.helper.getPartClassName("editor"),iconId:this.helper.getId("icon")})},t.prototype.initEvents=function(){i.on(this.helper.getPart("icon"),"click",l.bind(this.showLayer,this))},t.prototype.initChildrenEvents=function(){this.getChild("cancel").on("click",l.bind(this.layer.hide,this.layer)),this.getChild("ok").on("click",this.ok,this),this.getChild("input").on("enter",this.ok,this)},t.prototype.ok=function(){var e=this.getChild("input");if(e.validate()){var t={value:e.getValue()};(t=this.fire("saveedit",t)).isDefaultPrevented()||this.layer.hide()}},t.prototype.showLayer=function(){if(this.layer.getElement(!1))this.layer.show();else{this.layer.show();var e={};e[this.inputId]=l.extend({},this.childInputProperties);var t={properties:e};this.initChildren(this.layer.getElement(),t),this.initChildrenEvents()}this.getChild("input").setValue(this.value);var n=new o;n.addState("InlineEditCustomRule",new s(!0)),this.getChild("input").showValidity(n)},t.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),a.prototype.dispose.apply(this,arguments))},require("esui").register(t),t}),define("inf-ria/ui/JSONEditor",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","esui","esui/painters","esui/InputControl","json-editor"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=a["default"](i),d=a["default"](r),c=a["default"](o),f=a["default"](s),p=a["default"](l),h={keep_oneof_values:!1,object_layout:"grid",disable_edit_json:!0,disable_properties:!0,disable_array_reorder:!0,disable_collapse:!0,disable_array_delete_last_row:!0,compact:!1},v=function(i){function a(e){n["default"](this,a),i.call(this,e),this._editor=null}return e["default"](a,i),a.prototype.initOptions=function(e){var t=e;this.setProperties(t)},a.prototype.initStructure=function(){var e=u["default"].extend({schema:this.schema},h);this._editor=new p["default"](this.main,e)},a.prototype.initEvents=function(){var e=this;this._editor.on("change",function(){return e.fire("change")})},a.prototype.getEditor=function(){return this._editor},a.prototype.getRawValue=function(){return this._editor.getValue()},a.prototype.disable=function(){i.prototype.disable.call(this);var e=this.getEditor();e&&e.disable()},a.prototype.enable=function(){i.prototype.enable.call(this);var e=this.getEditor();e&&e.enable()},a.prototype.dispose=function(){this._editor&&this._editor.destroy(),i.prototype.dispose.call(this)},t["default"](a,[{key:"type",get:function(){return"JSONEditor"}},{key:"repaint",get:function(){return c["default"].createRepaint(f["default"].prototype.repaint,{name:"rawValue",paint:function(e,t){if(e._editor)try{e._editor.setValue(t)}catch(n){}}},{name:"schema",paint:function(e,t){e._editor&&e._editor.destroy();var n=u["default"].extend({schema:t,startval:e.rawValue},h);e._editor=new p["default"](e.main,n),e._editor.on("change",function(){return e.fire("change")})}})}}]),a}(f["default"]);module.exports=v,d["default"].register(v)}),define("inf-ria/ui/LongMultiSelect",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","esui","esui/Control","san-xui","inf-ui/sanx"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=a["default"](i),d=a["default"](r),c=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.initStructure=function(){var e=this,t=new(l.defineComponent({template:'<span><ui-select\n                datasource="{{datasource}}"\n                filter="{{filter}}"\n                multi="{{multi}}"\n                value="{=value=}"\n                filter-placeholder="{{filterPlaceholder}}"\n                filter-callback="{{filterCallback}}"\n                check-all-disable="{{checkAllDisable}}"\n                width="{{width}}"\n                layer-width="{{layerWidth}}"\n                on-change="change">\n                    <div s-if="remember" slot="tool" class="{{klass}}">\n                        <label>\n                            <input\n                            type="checkbox"\n                            on-change="onToggleRemember" \n                            checked="{=rememberChecked=}" />\n                            {{\'记住选择\' | i18n}}\n                        </label>\n                    </div>\n                \n                </span>',change:function(){var t=this;this.nextTick(function(){e.fire("blur"),t.data.get("rememberChecked")&&e.fire("remember",{value:t.data.get("value")})})},initData:function(){return{klass:["float-right"]}},attached:function(){var e=this.data.get("datasource"),t=this.data.get("value"),n=u["default"].find(this.children[0].children,function(e){return"ui-layer"===e.tagName});n&&(n.watch("open",function(i){i&&function(){var i=null;!function a(){i?e.length===t.length&&(i.checked=!0):(i=n.el.querySelector(".check-all"),setTimeout(a,50))}()}()}),this.data.get("checkAllDisable")&&this.data.remove("klass","float-right"))},onToggleRemember:function(){var t=this;this.nextTick(function(){if(t.data.get("rememberChecked")){var n=t.data.get("value");e.fire("remember",{value:n})}else e.fire("cancelremember")})},components:{"ui-select":s.Select}}))({data:{datasource:this.datasource,filter:this.withFilter,multi:!0,width:this.width,value:this.values,remember:this.remember,rememberChecked:this.rememberChecked,filterPlaceholder:this.searchText,filterCallback:this.filterFunc,checkAllDisable:this.checkAllDisable,layerWidth:this.layerWidth}});this.sanMultiSelect=t,t.attach(this.main)},a.prototype.getValue=function(){return this.sanMultiSelect.data.get("value").join(",")},a.prototype.getSelectLength=function(){return this.sanMultiSelect.data.get("value").length},a.prototype.setValue=function(e){return this.sanMultiSelect.data.set("value",e),this},a.prototype.setDatasource=function(e){return this.sanMultiSelect.data.set("datasource",e),this},a.prototype.getDatasource=function(){return this.sanMultiSelect.data.get("datasource")},t["default"](a,[{key:"type",get:function(){return"LongMultiSelect"}}]),a}(a["default"](o)["default"]);module.exports=c,d["default"].register(c)}),define("inf-ria/ui/MultiColumnBox",["require","underscore","esui/lib","esui/InputControl","esui/controlHelper","esui/BoxGroup","esui"],function(require){function e(e){r.apply(this,arguments)}function t(e){var t=e.width;return/^[0-9]+$/.test(t)&&(t+="px"),a.format(s,{width:t,thead:function(e){for(var t=[],n=0;n<e.column;++n){n>0&&t.push(a.format(u,{extraClass:c,title:""}));for(var i=0;i<e.fields.length;++i){var r=e.fields[i].width;t.push(a.format(u,{extraClass:"",title:e.fields[i].title,width:r?"width:"+r:""}))}}return["<tr>",t.join(""),"</tr>"].join("")}(e),tbody:function(e){var t=e.datasource.length,n=e.column,r=t%n;r>0&&(t=t+n-r);for(var o=[],s=0;s<t;++s){s%n==0?o.push("<tr>"):o.push(a.format(u,{extraClass:c,content:""}));for(var p=e.datasource[s],h=0;h<e.fields.length;++h){var v;p&&(v=i.isFunction(e.fields[h].content)&&e.fields[h].content.call(null,p)||p[e.fields[h].content]),!v&&(v="");var m=null;if(p&&e.fields[h].select){var g=i.contains(e.initValue,v);if(m=a.format(l,{selectType:e.selectType,name:e.id+"Name",index:s,content:v,isChecked:g?"checked":""}),g){var x="radio"===e.selectType?0:s;e.currentValue[x]=v}}var y=e.fields[h].width;o.push(a.format(d,{extraClass:s+n>=t?f:"",title:v&&v.replace(/<[^>]+>/g,""),content:m||v,width:y?"width:"+y:""}))}s%n==n-1&&o.push("</tr>")}return o.join("")}(e)})}function n(e){var t=e.target||e.srcElement;if("input"===t.nodeName.toLowerCase()){var n=parseInt(a.getAttribute(t,"data-index"),10),i="radio"===this.selectType?0:n;this.currentValue[i]=t.checked?t.value:"",this.fire("change",{value:this.getValue(),item:this.datasource[n]})}}var i=require("underscore"),a=require("esui/lib"),r=require("esui/InputControl"),o=require("esui/controlHelper");require("esui/BoxGroup"),e.prototype.type="MultiColumnBox";var s=['<table cellpadding="0" cellspacing="0" style="width:${width}">',"<thead>${thead}</thead>","<tbody>${tbody}</tbody>","</table>"].join(""),l=["<label>",'<input type="${selectType}" name="${name}" value="${content}" ',' ${isChecked} data-index="${index}" />${content}',"</label>"].join(""),u='<th title="${title}" class="${extraClass}" style="${width}">${title}</th>',d='<td title="${title}" class="${extraClass}" style="${width}">${content}</td>',c="empty",f="last";return e.prototype.initStructure=function(){this.main.innerHTML=t(this),this.initChildren(this.main)},e.prototype.initOptions=function(e){var t={selectType:"radio",column:1,initValue:[],currentValue:[]};i.extend(t,e),"string"==typeof t.initValue&&(t.initValue=t.initValue.split(",")),this.setProperties(t)},e.prototype.initEvents=function(){o.addDOMEvent(this,this.main,"click",n)},e.prototype.getValue=function(){for(var e=[],t=0;t<this.currentValue.length;++t){var n=this.currentValue[t];n&&e.push(n)}return e.join()},e.prototype.getRawValue=e.prototype.getValue,a.inherits(e,r),require("esui").register(e),e}),define("inf-ria/ui/MultiSelect",["require","underscore","inf-i18n","esui/lib","esui/InputControl","esui/painters","esui/Layer","../util","esui"],function(require){function e(e){return o.trim(l.getChildren(l.dom.first(e))[0].value)}function t(t,n,i){var a="";if(n.withFilter&&(a=e(i)),!a)return!0;var r=t.getAttribute("data-value")||"";return n.filterFunc&&n.filterFunc instanceof Function?n.filterFunc(r,a):r.indexOf(a)>-1}function n(n){for(var i=l.event.getTarget(n),a=this.layer.getElement();i&&i!==a&&!l.hasAttribute(i,"data-index");)i=i.parentNode;if(i&&!this.helper.isPart(i,"item-disabled")){var r=parseInt(i.getAttribute("data-index"),10),s=this.selectedIndices,u=this.filterNumber||0,d=l.dom.last(a),c=this;if(o.contains(s,r))s=o.without(s,r);else{if(this.maxSelect&&this.selectedIndices.length>=this.maxSelect&&-1!==r)return void this.fire("exceed");if(-1===r)this.selectAll&&!this.hasAllSelected?o.each(l.getChildren(d),function(e){var n=parseInt(e.getAttribute("data-index"),10);n>=0&&t(e,c,a)&&s.push(n)}):this.selectAll&&(s=[]);else if(-2===r){s=[];var f=0;if(!e(a)&&"input"!==n.type)return;o.each(l.getChildren(d),function(e){t(e,c,a)?(e.style.display="block",f++):e.style.display="none"}),u=f}else-3===r?i.checked||this.fire("cancelremember"):isNaN(r)||s.push(r)}s=o.uniq(s),this.set("selectedIndices",s),this.set("filterNumber",u);var p=l.g(this.helper.getId("remember"));p&&p.checked&&this.fire("remember",{selectedItems:this.getSelectedItems()})}}function i(){c.apply(this,arguments)}function a(e){u.apply(this,arguments),this.layer=new i(this)}function r(){this.fire("layerrendered",{layer:this.layer})}var o=require("underscore"),s=require("inf-i18n"),l=require("esui/lib"),u=require("esui/InputControl"),d=require("esui/painters"),c=require("esui/Layer"),f=require("../util"),p=['<p class="${classes}">','<input type="text" placeholder="${defaultText}" data-index="-2" /></p>'].join(""),h=['<p data-index="-3" class="${classes}">','<input type="checkbox"${checked} id="${id}"',' class="${selectedBoxClass}" data-index="-3" />'+s("记住选择")+"</p>"].join(""),v=['<p data-index="-1" class="${classes}">','<input type="checkbox" class="${selectedBoxClass}" data-index="-1" />'+s("全选/全不选")+"</p>"].join(""),m=['<p data-index="-1" class="${classes}">',"<span>${defaultText}</span></p>"].join(""),g=['<li data-index="${index}" class="${classes}" data-value="${text}" style="width:${width}px">','<input type="checkbox" class="${selectedBoxClass}" data-index="${index}" />','<span title="${text}">${text}</span></li>'].join("");return l.inherits(i,c),i.prototype.nodeName="div",i.prototype.autoHide=!1,i.prototype.render=function(e){for(var t=this.control,n=t.helper.getPartClasses("item"),i=t.helper.getPartClasses("selected-box"),a=this.getHeadHtml(i)+"<ol>",r=t.datasource,s=0;s<r.length;s++){var u=r[s];u.disabled&&n.push.apply(n,t.helper.getPartClasses("item-disabled"));var d={index:s,text:o.escape(u.name||u.text),classes:n.join(" "),selectedBoxClass:i,width:t.layerWidth-20};a+=l.format(g,d)}e.innerHTML=a+"</ol>"},i.prototype.getHeadHtml=function(e){var t=this.control,n="";return t.withFilter&&(n+=l.format(p,{classes:t.helper.getPartClasses("head-filter"),defaultText:t.searchText||s("模糊搜索")})),t.selectAll||t.emptyText?(t.selectAll?n+=l.format(v,{classes:t.helper.getPartClasses("head"),selectedBoxClass:e}):n+=l.format(m,{classes:t.helper.getPartClasses("head"),defaultText:t.emptyText||s("请选择")}),t.remember&&(n+=l.format(h,{classes:t.helper.getPartClasses(t.withFilter?"remember-filter":"remember"),selectedBoxClass:e,checked:t.rememberChecked?' checked="checked"':"",id:t.helper.getId("remember")})),n):n},i.prototype.initBehavior=function(e){if(this.control.helper.addDOMEvent(e,"click",n),this.control.withFilter){var t=l.dom.first(e);this.control.helper.addDOMEvent(l.getChildren(t)[0],"input",o.debounce(n,50))}"blur"===this.control.changeType&&this.on("hide",function(){this.control.fire("blur")})},i.prototype.syncState=function(e){var t=this.control,n=t.helper.getPartClasses("item-selectedOption"),i=l.getChildren(e),a=t.datasource.length,r=t.filterNumber>0?t.filterNumber:a;if(t.hasAllSelected=t.selectedIndices.length>=r,t.selectAll||t.emptyText){var s=t.withFilter?i[1]:i[0],u=l.getChildren(s)[0];u&&t.selectAll&&(u.checked=t.hasAllSelected)}for(var d=l.getChildren(l.dom.last(e)),c=d.length-1;c>=0;c--){var f=d[c],p=l.getChildren(f)&&l.getChildren(f)[0];p&&(p.checked=o.contains(t.selectedIndices,c)),o.contains(t.selectedIndices,c)?l.addClasses(f,n):l.removeClasses(f,n)}},i.prototype.dock={strictWidth:!0},a.prototype.type="MultiSelect",a.prototype.initOptions=function(e){var t={};o.extend(t,{datasource:[],selectAll:!1},e),"string"==typeof t.selectedIndex&&(t.selectedIndex=+t.selectedIndex),this.setProperties(t)},a.prototype.displayTemplate="${text}",a.prototype.getDisplayHTML=function(e){if(!e)return o.escape(this.emptyText||"");var t={text:o.escape(e.name||e.text),value:o.escape(e.value)};return l.format(this.displayTemplate,t)},a.prototype.initStructure=function(){"select"===this.main.nodeName.toLowerCase()&&this.helper.replaceMain(),this.main.tabIndex=0,this.main.innerHTML=this.helper.getPartHTML("text","span")},a.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",o.bind(this.layer.toggle,this.layer)),this.layer.on("rendered",o.bind(r,this))},a.prototype.getRawValue=function(){var e=[],t=this;return o.each(t.selectedIndices,function(n){n>=0&&e.push(t.datasource[n].value)}),e},a.prototype.repaint=d.createRepaint(u.prototype.repaint,d.style("width"),d.style("height"),{name:"datasource",paint:function(e){e.layer.repaint()}},{name:["selectedIndices","emptyText","datasource"],paint:function(e){for(var t=e.helper.getPart("text"),n=[],i=e.selectedIndices.length-1;i>=0;i--){var a=e.selectedIndices[i],r=e.datasource[a];r&&(o.contains(e.selectedIndices,a)?n.unshift(o.escape(r.name)):n=o.without(n,r.value))}var l="";l=n.length?e.holderType&&"amount"===e.holderType?f.sprintf(s("您已经选择%s项"),n.length):n.join(","):e.emptyText||s("请选择"),t.innerHTML=l;var u=e.layer.getElement(!1);u&&e.layer.syncState(u)}},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}}),a.prototype.updateDatasource=function(e){e||(e=this.datasource),this.datasource=e;var t={name:"datasource"};this.repaint([t],{datasource:t})},a.prototype.setProperties=function(e){null==e.datasource&&(e.datasource=this.datasource),null==e.value&&null==e.rawValue&&null==e.selectedIndices&&e.datasource===this.datasource&&(e.selectedIndices=this.selectedIndices),e.datasource&&e.datasource[0]&&!e.datasource[0].value&&e.datasource instanceof Array&&(this.selectAll||this.emptyText||(this.emptyText=e.datasource[0].name||e.datasource[0].text),e.datasource.shift()),e.hasOwnProperty("emptyText")||(e.emptyText=this.emptyText),function(e){if(null==e.selectedIndices&&null==e.rawValue&&null==e.value&&(e.selectedIndices=[]),null!=e.rawValue?(e.value=null,e.selectedIndices=null):null!=e.value&&(e.selectedIndices=null),null==e.selectedIndices&&(null!=e.value||null!=e.rawValue)){e.selectedIndices=[];var t=e.rawValue||e.value;if(t){o.isArray(t)||(t=t.split(","));var n=o.map(t,function(t,n){for(var i=0;i<e.datasource.length;i++)if(e.datasource[i].value===t)return i});e.selectedIndices=n}delete e.value,delete e.rawValue}for(var i=e.selectedIndices.length-1;i>=0;i--){var a=e.selectedIndices[i];if(a<0||a>=e.datasource.length){if(e.emptyText)e.selectedIndices=[];else{e.selectedIndices=[];for(var r=0;r<e.datasource.length;r++)if(!e.datasource[r].disabled){e.selectedIndices.push(r);break}}break}}}(e);var t=u.prototype.setProperties.apply(this,arguments);return t.hasOwnProperty("selectedIndices")&&this.fire("change"),t},a.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),u.prototype.dispose.apply(this,arguments))},a.prototype.getSelectedItems=function(){for(var e=[],t=this.get("selectedIndices").length-1;t>=0;t--){var n=this.get("selectedIndices")[t],i=this.get("datasource")[n];e.push(i)}return e},l.inherits(a,u),require("esui").register(a),a}),define("inf-ria/ui/MutilInputsGroup",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","babel-runtime/helpers/extends","lodash","babel-runtime/helpers/interop-require-default","jquery","esui","esui/lib","esui/Helper","esui/InputControl","esui/TextBox","esui/Select"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d,c,f){var p=r["default"](a),h=r["default"](o),v=r["default"](s),m=r["default"](l),g=(r["default"](u),r["default"](d)),x=(r["default"](c),r["default"](f),function(a){function r(e){n["default"](this,r),a.call(this,e),this.prefix=this.helper.getPrimaryClassName(),this.inputItemNum=0}return e["default"](r,a),r.prototype.initOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t=e.value,n={maxNum:5,minNum:1,inputType:"TextBox",inputProps:{},addBtnProps:{skin:"stringfy-create",content:"新增"},unique:!0,datasource:[],datarequest:p["default"].noop,values:t&&t.split&&t.split(",")||[]};this.setProperties(h["default"].extend(!0,n,e))},r.prototype.getGuid=function(){return m["default"].getGUID("esuiMig")},r.prototype.strip=function(){return(arguments.length<=0||arguments[0]===undefined?"":arguments[0]).replace(/\s+/g," ").replace(/^\s+/,"")},r.prototype.asyncValue=function(e,t,n){switch(e){case"remove":this.values.splice(t,1);break;case"update":this.values[t]=n}this.value=this.values.join(",")},r.prototype.getJqDomByClassName=function(e){return h["default"](this.main).find("."+this.prefix+"-"+e)},r.prototype.stringfyExtensions=function(e){var t="";return p["default"].isArray(e)&&e.length&&p["default"].each(e,function(e){var n=[],i="data-ui-extension-"+e.type;for(var a in e)e.hasOwnProperty(a)&&n.push(i+"-"+a.toLowerCase()+'="'+e[a]+'"');t+=n.join(" ")}),t},r.prototype.getInputItemHTML=function(){var e=arguments.length<=0||arguments[0]===undefined?this.getGuid():arguments[0],t=this.prefix,n="",i=undefined,a=this.stringfyExtensions(this.inputProps.extensions);return"TextBox"===this.inputType&&(i="input,change",n+="<input data-guid='"+e+"' data-ui=\"type:TextBox;id:input"+e+";childName:input"+e+';" autocomplete="off" '+a+" />"),"Select"===this.inputType&&(i="change",n+="<div data-guid='"+e+"' data-ui=\"type:Select;id:input"+e+";childName:input"+index+';" '+a+"></div>"),this.strip('\n        <div class="'+t+'-item" data-type="item" data-guid="'+e+'" data-async-event="'+i+'">\n            '+n+'\n            <span data-type="close" data-guid="'+e+'" data-ui="type:Button;id:btn'+e+";childName:btn"+e+';skin:stringfy-close;"></span>\n        </div>')},r.prototype.addInputItem=function(){var e,t=this;if(!(this.inputItemNum>=this.maxNum)){var n=this.inputItemNum,a=this.getGuid(),r=this.getInputItemHTML(a),o=h["default"](r).insertBefore(this.getJqDomByClassName("opreate-box")),s=o.data("asyncEvent");this.initChildren(o[0],{properties:(e={},e["input"+a]=i["default"]({},p["default"].omit(this.inputProps,"extensions"),{value:this.values[n]}),e)}),p["default"].each(s.split(","),function(e){t.getChild("input"+a).on(e,function(e){t.asyncValue("update",n,e.target.getValue())})}),++this.inputItemNum,this.fire("itemNumChange")}},r.prototype.removeInputItem=function(e){if(!(this.inputItemNum<=this.minNum)){p["default"].isUndefined(e)&&(e=h["default"](this.getJqDomByClassName("item").get(this.inputItemNum-1)).data("guid"));var t=h["default"](this.main).find("."+this.prefix+'-item[data-guid="'+e+'"]'),n=t.index();console.log(n),t.remove(),this.removeChild(this.getChild("input"+e)),this.removeChild(this.getChild("btn"+e)),--this.inputItemNum,this.fire("itemNumChange",{remove:!0,guid:e,index:n})}},r.prototype.initStructure=function(){var e,t=this.prefix,n=this.getGuid(),i=this.strip('\n        <div class="'+t+'-opreate-box">\n            <span data-guid="'+n+'" data-type="add" data-ui="type:Button;id:addBtn'+n+';childName:addBtn;"></span>\n        </div>'),a=h["default"](i).appendTo(this.main);this.initChildren(a[0],{properties:(e={},e["addBtn"+n]=this.addBtnProps,e)}),this.addInputItem()},r.prototype.initEvents=function(){var e=this;this.helper.addDOMEvent(this.main,"click",function(t){var n=h["default"](t.target);switch(n.data("type")){case"close":var i=n.data("guid");e.removeInputItem(i);break;case"add":e.addInputItem()}}),this.on("itemNumChange",function(t){var n=e.getChild("addBtn"),i=e.inputItemNum===e.maxNum;i&&!n.isDisabled()?n.disable():!i&&n.isDisabled()&&n.enable();var a=e.minNum;h["default"](e.main).find('[data-type="close"]').each(function(t,n){var i=h["default"](n).data("guid");e.getChild("btn"+i)[t<a?"hide":"show"]()}),t.remove&&e.asyncValue("remove",t.index)})},r.prototype.getRawValue=function(){var e=[];return p["default"].each(this.children,function(t){"input"===t.getCategory()&&e.push(t.getRawValue())}),e.join(",")},t["default"](r,[{key:"type",get:function(){return"MutilInputGroup"}}]),r}(g["default"]));module.exports=x,v["default"].register(x)}),define("inf-ria/ui/NumberTextline",["require","underscore","esui/lib","esui/InputControl","esui/Control","esui/TextBox","esui/Button","inf-ria/ui/extension/PopoverEx","esui/painters","esui"],function(require){function e(e){o.apply(this,arguments)}function t(){var e=+this.getChild("input").getValue();e>this.max&&(e=this.max),/^([1-9][0-9]*|0)$/.test(e)&&e>=this.min?this.setValue(e):this.setValue(this.currentValue)}function n(){this.setValue(this.currentValue-1)}function i(){this.setValue(this.currentValue+1)}var a=require("underscore"),r=require("esui/lib"),o=require("esui/InputControl"),s=require("esui/Control");require("esui/TextBox"),require("esui/Button"),require("inf-ria/ui/extension/PopoverEx"),e.prototype.type="NumberTextline";var l=['<div type="button" data-ui-id="${btnId}" class="extraClass" ','data-ui-child-name="${btnName}" data-ui-type="Button"','data-ui-extension-popover-type="PopoverEx" data-ui-popover="${popover}" data-ui-placement=\'{"center": "top"}\'>',"${content}</div>"].join(""),u=['<input data-ui-type="TextBox" data-ui-id="${inputId}" ','data-ui-child-name="input" maxlength="${maxlength}" ','data-ui-width="${width}" data-ui-value="${value}" />'].join("");return e.prototype.initStructure=function(){this.main.innerHTML=function(e){var t={btnId:e.helper.getId("minus"),btnName:"minus",content:"-",popover:a.isUndefined(e.minpopover)?"":e.minpopover},n={btnId:e.helper.getId("plus"),btnName:"plus",content:"+",popover:a.isUndefined(e.maxpopover)?"":e.maxpopover};return[r.format(l,t),r.format(u,{inputId:e.helper.getId("input"),maxlength:e.maxlength,width:e.width,value:e.currentValue}),r.format(l,n)].join("")}(this),this.initChildren(this.main),this.currentValue<=this.min&&this.getChild("minus").setDisabled(!0),this.currentValue>=this.max&&this.getChild("plus").setDisabled(!0)},e.prototype.initOptions=function(e){var t={currentValue:1,min:1,maxlength:3};e.min&&!isNaN(parseInt(e.min,10))&&(e.min=parseInt(e.min,10)),e.max&&!isNaN(parseInt(e.max,10))&&(e.max=parseInt(e.max,10)),a.extend(t,e),e.value&&!isNaN(parseInt(e.value,10))&&(t.currentValue=parseInt(e.value,10)),"number"!=typeof t.max&&(t.max=Math.pow(10,t.maxlength)-1),t.currentValue<t.min&&(t.currentValue=t.min),t.max&&t.currentValue>t.max&&(t.currentValue=t.max),this.setProperties(t)},e.prototype.initEvents=function(){this.getChild("input").on("input",t,this),this.getChild("minus").on("click",n,this),this.getChild("plus").on("click",i,this)},e.prototype.setValue=function(e){this.getChild("input").setValue(e);var t=this.currentValue;t!==e&&(this.currentValue=e,this.getChild("minus").setDisabled(this.disabled||e<=this.min),this.getChild("plus").setDisabled(this.disabled||e>=this.max),this.fire("change",{old:t,now:e}))},e.prototype.getValue=function(){return this.currentValue},e.prototype.getRawValue=e.prototype.getValue,e.prototype.repaint=require("esui/painters").createRepaint(s.prototype.repaint,{name:"disabled",paint:function(e,t){t=!!t,e.getChild("minus").setDisabled(t),e.getChild("plus").setDisabled(t),e.getChild("input").setDisabled(t)}},{name:"max",paint:function(e,t){var n=e.getValue();e.setValue(a.min([n,t])),e.getChild("plus").setDisabled(e.disabled||t-n<=0)}},{name:"min",paint:function(e,t){var n=e.getValue();e.setValue(a.max([n,t])),e.getChild("minus").setDisabled(e.disabled||t-n>=0)}}),r.inherits(e,o),require("esui").register(e),e}),define("inf-ria/ui/pkg",["require","esui/validator/MaxByteLengthRule","esui/validator/MinByteLengthRule","./validator/MaxFileCountRule","./validator/MaxFileSizeRule","./validator/MinFileSizeRule","./validator/UniqueFileRule","./validator/MultiPatternRule","./validator/BusinessLicenseNumberRule","./validator/NationalIdNumberRule","./validator/CustomRule","./extension/TipUsage","./extension/AutoValidate","./extension/TableCustomFieldsInterface","./extension/AceTool","./extension/Kafka","bat-ria/tpl"],function(require){var exports={};return require("esui/validator/MaxByteLengthRule"),require("esui/validator/MinByteLengthRule"),require("./validator/MaxFileCountRule"),require("./validator/MaxFileSizeRule"),require("./validator/MinFileSizeRule"),require("./validator/UniqueFileRule"),require("./validator/MultiPatternRule"),require("./validator/BusinessLicenseNumberRule"),require("./validator/NationalIdNumberRule"),require("./validator/CustomRule"),require("./extension/TipUsage"),require("./extension/AutoValidate"),require("./extension/TableCustomFieldsInterface"),require("./extension/AceTool"),require("./extension/Kafka"),exports.init=function(){var e=require("bat-ria/tpl");e.registerControl("inf-ria/ui/ConfigPanel"),e.registerControl("inf-ria/ui/RadioSelect"),e.registerControl("inf-ria/ui/Dragger"),e.registerControl("inf-ria/ui/NumberTextline"),e.registerControl("inf-ria/ui/MultiColumnBox"),e.registerControl("inf-ria/ui/MultiSelect"),e.registerControl("inf-ria/ui/SelectEx"),e.registerControl("inf-ria/ui/ToggleButton"),e.registerControl("inf-ria/ui/SMSCodeBox"),e.registerControl("inf-ria/ui/ViewStep"),e.registerControl("inf-ria/ui/ViewProgress"),e.registerControl("inf-ria/ui/InlineEdit"),e.registerControl("inf-ria/ui/Clipboard"),e.registerControl("inf-ria/ui/RichTextEditor"),e.registerControl("inf-ria/ui/WebUploader"),e.registerControl("inf-ria/ui/FilePreview"),e.registerControl("inf-ria/ui/ToastLabel"),e.registerControl("inf-ria/ui/StarRating"),e.registerControl("inf-ria/ui/BuyBucket"),e.registerControl("inf-ria/ui/echarts/EChart"),e.registerControl("inf-ria/ui/BcmChart"),e.registerControl("inf-ria/ui/BucketSelect"),e.registerControl("inf-ria/ui/ImageLightBox"),e.registerControl("inf-ria/ui/FlexPanel"),e.registerControl("inf-ria/ui/ACEEditor"),e.registerControl("inf-ria/ui/GuideTip"),e.registerControl("inf-ria/ui/JSONEditor"),e.registerControl("inf-ria/ui/Popover"),e.registerControl("inf-ria/ui/EllipsisLabel"),e.registerControl("inf-ria/ui/LongMultiSelect"),e.registerControl("inf-ria/ui/MutilInputsGroup"),e.registerControl("inf-ria/ui/SelectAction"),e.registerExtension("inf-ria/ui/extension/TableFilter"),e.registerExtension("inf-ria/ui/extension/TableEx"),e.registerExtension("inf-ria/ui/extension/TableChild"),e.registerExtension("inf-ria/ui/extension/TableCustomFields"),e.registerExtension("inf-ria/ui/extension/TableOperator"),e.registerExtension("inf-ria/ui/extension/TableRadio"),e.registerExtension("inf-ria/ui/extension/TableSelect"),e.registerExtension("inf-ria/ui/extension/ToggleHolder"),e.registerExtension("inf-ria/ui/extension/TipUsage"),e.registerExtension("inf-ria/ui/extension/AutoValidate"),e.registerExtension("inf-ria/ui/extension/BcmChartShowBigView"),e.registerExtension("inf-ria/ui/extension/BucketSelectEx"),e.registerExtension("inf-ria/ui/extension/TextBoxSelect"),e.registerExtension("inf-ria/ui/extension/PopoverEx"),e.registerExtension("inf-ria/ui/extension/AceTool"),e.registerExtension("inf-ria/ui/extension/Kafka")},exports}),define("inf-ria/ui/Popover",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","esui/TipLayer","esui","esui/lib","esui/Control","esui/controlHelper"],function(exports,module,e,t,n,i,a,r,o,s,l,u){var d=a["default"](i),c=a["default"](o),f=a["default"](s),p=a["default"](l),h=a["default"](u),v=function(i){function a(){n["default"](this,a),i.apply(this,arguments)}return e["default"](a,i),a.prototype.initOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],t={attach:this.main.previousElementSibling||this.main.parentNode,content:this.main.innerHTML};this.setProperties(d["default"].defaults(e,t))},a.prototype.initStructure=function(){var e=document.createElement("div");document.body.appendChild(e),this._tipLayer=c["default"].create("TipLayer",{main:e,arrow:!0,skin:"popover",viewContext:this.viewContext,renderOptions:this.renderOptions}),this._tipLayer.render(),this.main.innerHTML=null,this.main.style.display="none";var t={},n=this.attach,i=this.placement,a=this.trigger,r=this.disableClickAutoHide;if(d["default"].isString(i))try{t=JSON.parse(i)}catch(o){}else d["default"].isObject(i)&&(t=i);this._tipLayer.attachTo({positionOpt:t,showMode:a,disableClickAutoHide:r,targetDOM:f["default"].g(n)})},a.prototype.dispose=function(){this._tipLayer.dispose(),i.prototype.dispose.call(this)},t["default"](a,[{key:"type",get:function(){return"Popover"}},{key:"repaint",get:function(){return h["default"].createRepaint(p["default"].prototype.repaint,{name:"content",paint:function(e,t){e._tipLayer.setContent(t)}})}}]),a}(p["default"]);module.exports=v,c["default"].register(v)}),define("inf-ria/ui/RadioSelect",["require","underscore","esui/lib","esui/painters","esui/InputControl","esui/controlHelper","esui"],function(require){function e(e){o.apply(this,arguments)}function t(e){for(var t=[],n=0;n<e.datasource.length;n++){var i=e.datasource[n],r=e.selectedIndex===n,o=n>=e.startShow&&n<e.startShow+e.showNum;i.hoverContent?t.push(a.format(p,{baseClass:l,selectedClass:r?d:"",disabledClass:e.disable||i.disable?c:"",itemClass:i.itemClass||"ui-radio-index"+n,index:n,name:e.unit?i+e.unit:i.name||i.text,display:o?"block":"none",baseItemHoverClass:u,itemHoverClass:u+"index"+n,content:i.hoverContent})):t.push(a.format(f,{baseClass:l,selectedClass:r?d:"",disabledClass:e.disable||i.disable?c:"",itemClass:i.itemClass||"ui-radio-index"+n,index:n,name:e.unit?i+e.unit:i.name||i.text,display:o?"block":"none"}))}return"<ul>"+t.join("")+"</ul>"}function n(e){var t=e.target||e.srcElement,n=parseInt(a.getAttribute(t,"data-index"),10);isNaN(n)||this.datasource[n].disable||n!==this.selectedIndex&&this.setSelectedIndex(n)}var i=require("underscore"),a=require("esui/lib"),r=require("esui/painters"),o=require("esui/InputControl"),s=require("esui/controlHelper");e.prototype.type="RadioSelect";var l="ui-radio-block",u="ui-radio-item-hover",d="ui-radio-selected",c="ui-radio-disabled",f='<li class="${baseClass} ${selectedClass} ${disabledClass} ${itemClass}"data-index="${index}" style="display:${display}">${name}</li>',p='<li class="${baseClass} ${selectedClass} ${disabledClass} ${itemClass}"data-index="${index}" style="display:${display}"><div class="${baseItemHoverClass} ${itemHoverClass}">${content}</div><div class="arrow-down" ><i></i></div>${name}</li>';return e.prototype.initStructure=function(){this.main.innerHTML="<ul>"+t(this)+"</ul>",this.initChildren(this.main)},e.prototype.initOptions=function(e){var t={selectedIndex:0,startShow:0,disable:0};if(i.extend(t,e),"undefined"==typeof t.showNum&&(t.showNum=t.datasource.length),null!=t.value)for(var n=0;n<t.datasource.length;n++){if(t.datasource[n].value===t.value){t.selectedIndex=n;break}}this.setProperties(t)},e.prototype.getItem=function(e){return this.datasource[e||this.selectedIndex]},e.prototype.getValue=function(){var e=this.getItem();return e?this.unit?e:e.value:null},e.prototype.getRawValue=e.prototype.getValue,e.prototype.setSelectedIndex=function(e,t){this.setProperties({selectedIndex:e}),this.fire("change",i.extend({index:e,item:this.getItem()},t))},e.prototype.setValue=function(e,t){var n=-1;i.find(this.datasource,function(t,i){if(t.value===e)return n=i,!0}),n>-1&&(this.setSelectedIndex(n,t),o.prototype.setValue.apply(this,arguments))},e.prototype.initEvents=function(){this.disable||s.addDOMEvent(this,this.main,"click",n)},e.prototype.setStartShow=function(e){e=e<0?0:e;var t=this.selectedIndex;if(t<e)t=e;else{if(!(t>=e+this.showNum))return this.setProperties({startShow:e}),!1;t=e+this.showNum-1}return this.setProperties({selectedIndex:t,startShow:e}),this.fire("change",{index:t,item:this.getItem()}),!0},e.prototype.repaint=r.createRepaint(o.prototype.repaint,{name:["startShow","selectedIndex","showNum"],paint:function(e){e.main.innerHTML=t(e)}},{name:"datasource",paint:function(e,n){n||(n=e.datasource||[]);if(!(!e.rawValue||i.find(n,function(t){return t.value===e.rawValue}))){e.selectedIndex=e.startShow||0;var a=i.isObject(n[e.selectedIndex])?n[e.selectedIndex].value:n[e.selectedIndex];e.setValue(a)}e.main.innerHTML=t(e)}}),e.prototype.updateDatasource=function(e){e||(e=this.datasource),this.datasource=e,this.repaint()},a.inherits(e,o),require("esui").register(e),e}),define("inf-ria/ui/RichTextEditor",["require","underscore","esui/InputControl","esui/lib","zeroclipboard","inf-ria/js!ueditor/ueditor.all.min.js","esui"],function(require){function e(e){n.call(this,e),this.editorOptions,this.editorContent,this.editor=null}var t=require("underscore"),n=require("esui/InputControl"),i=require("esui/lib");window.ZeroClipboard=require("zeroclipboard"),require("inf-ria/js!ueditor/ueditor.all.min.js");var a={UEDITOR_HOME_URL:require.toUrl("ueditor/").replace(/\?.*/,""),autoFloatEnabled:!1,iframeUrlMap:{link:require.toUrl("ueditor/dialogs/link/link.html")},toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","customstyle","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","emotion","scrawl","insertvideo","music","attachment","map","gmap","insertframe","insertcode","webapp","pagebreak","template","background","|","horizontal","date","time","spechars","snapscreen","wordimage","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","help","drafts"]]};return i.inherits(e,n),e.prototype.initOptions=function(e){e=t.extend({editorContent:this.main.innerHTML},e),this.setProperties(e)},e.prototype.initStructure=function(){var e=t.extend(a,this.editorOptions);this.main.innerHTML="",this.editor=new UE.ui.Editor(e),this.editor.render(this.main)},e.prototype.initEvents=function(){var e=this.editor,n=t.trim(this.editorContent);e.addListener("ready",function(){e.setContent(n)}),e.addListener("simpleuploadbtnready",function(e,t){var n=this.options.labelMap.simpleupload||this.getLang("labelMap.simpleupload")||"",a=i.dom.first(t),r=a&&a.contentWindow.document.getElementsByTagName("input")[0];n&&r&&(r.title=n)})},e.prototype.getRawValue=function(){return this.editor.getContent()},e.prototype.setRawValue=function(e){this.editor.setContent(e)},e.prototype.getContentLength=function(e,t){return this.editor.getContentLength(e,t)},e.prototype.getEditorInstance=function(){return this.editor},e.prototype.type="RichTextEditor",e.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.editor&&this.editor.destroy(),n.prototype.dispose.call(this))},require("esui").register(e),e}),define("inf-ria/ui/SearchField",["require","esui/Button","esui/TextBox","esui/lib","esui/painters","esui/Control","esui"],function(require){function e(e){i.apply(this,arguments)}require("esui/Button"),require("esui/TextBox");var t=require("esui/lib"),n=require("esui/painters"),i=require("esui/Control");return t.inherits(e,i),e.prototype.type="SearchField",e.prototype.initStructure=function(){this.main.innerHTML=function(e){return t.format('<input data-ui-id="${inputId}" data-ui-child-name="input" data-ui-type="TextBox" type="text" /><button data-ui-id="${btnId}" data-ui-child-name="btn" data-ui-type="Button"></button>',{labelId:e.helper.getId("label"),inputId:e.helper.getId("input"),btnId:e.helper.getId("btn")})}(this),this.initChildren(this.main)},e.prototype.repaint=n.createRepaint(i.prototype.repaint,{name:["label","placeholder","btnText"],paint:function(e,t,n,i){e.getChild("btn").setProperties({content:i});e.getChild("input").setProperties({placeholder:n})}}),require("esui").register(e),e}),define("inf-ria/ui/SelectAction",["require","underscore","esui/lib","esui/InputControl","esui/Layer","esui/Helper","esui/painters","esui"],function(require){function e(){o.apply(this,arguments),this.helper=new s(this.control)}function t(){r.apply(this,arguments),this.layer=new e(this)}function n(){this.fire("layerrendered",{layer:this.layer})}var i=require("underscore"),a=require("esui/lib"),r=require("esui/InputControl"),o=require("esui/Layer"),s=require("esui/Helper"),l=require("esui/painters");return a.inherits(e,o),e.prototype.nodeName="div",e.prototype.create=function(){return o.prototype.create.call(this)},e.prototype.render=function(e){var t='<div data-ui-type="ActionPanel" data-ui-url="'+this.control.get("url")+'"></div>';e.innerHTML=t},e.prototype.initBehavior=function(e){this.on("rendered",function(){this.helper.initChildren(e),this.control.get("children")[0].setProperties({actionOptions:{control:this.control,datasource:this.control.get("datasource")||[]}})})},e.prototype.dock={strictWidth:!0},t.prototype.type="SelectAction",t.prototype.displayTemplate="${text}",t.prototype.getDisplayHTML=function(e){if(!e)return i.escape(this.emptyText||"");var t={text:i.escape(e.name||e.text||e),value:i.escape(e.value||e)};return a.format(this.displayTemplate,t)},t.prototype.initStructure=function(){this.main.innerHTML=this.helper.getPartHTML("text","span")},t.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",i.bind(this.layer.toggle,this.layer)),this.layer.on("rendered",i.bind(n,this)),this.on("selected",i.bind(this.layer.hide,this.layer))},t.prototype.getRawValue=function(){return this.selectedItem?this.selectedItem.value||null:null},t.prototype.repaint=l.createRepaint(r.prototype.repaint,l.style("width"),l.style("height"),{name:["emptyText","selectedItem"],paint:function(e){var t=e.helper.getPart("text"),n=e.selectedItem||e.emptyText||"";t&&(t.innerHTML=e.getDisplayHTML(n))}},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&e.layer.hide()}}),t.prototype.dispose=function(){if(!this.helper.isInStage("DISPOSED")){for(var e=0;e<this.get("children").length;e++)this.get("children")[e].dispose();this.layer&&(this.layer.dispose(),this.layer=null),r.prototype.dispose.apply(this,arguments)}},a.inherits(t,r),require("esui").register(t),t}),define("inf-ria/ui/SelectEx",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","babel-runtime/helpers/create-class","underscore","babel-runtime/helpers/interop-require-default","esui","esui/lib","esui/InputControl","esui/Layer","esui/painters"],function(exports,module,e,t,n,i,a,r,o,s,l,u){function d(e){for(var t=x["default"].event.getTarget(e),n=this.layer.getElement();t&&t!==n&&!x["default"].hasAttribute(t,"data-index");)t=t.parentNode;if(t&&!this.helper.isPart(t,"item-disabled")&&t.getAttribute("data-index")){var i=t.getAttribute("data-index"),a=v(this,i),r=a.currentItem&&a.currentItem.children,o=!(r&&r.length);if(this.renderList(i),"click"===e.type){if(o||this.parentSelectable){this.fire("beforechange",{index:i}).isDefaultPrevented()||(i=this.hasChildList?i:+i,this.set("selectedIndex",i))}o&&(this.layer.setScrollTopArr(i),this.layer.hide())}}}function c(e){if(null==e.selectedIndex&&null==e.rawValue&&null==e.value&&(e.selectedIndex=-1),null!=e.rawValue?(e.value=null,e.selectedIndex=null):null!=e.value&&(e.selectedIndex=null),null==e.selectedIndex&&(null!=e.value||null!=e.rawValue)){e.selectedIndex=-1;for(var t=e.rawValue||e.value,n=0;n<e.datasource.length;n++){var i=n;if(e.hasChildList&&(i=function(e,t,n){var i=n.split(t),a=null,r=[];return m["default"].each(i,function(t){(a=m["default"].find(e,function(e,n){return e.value===t&&r.push(n),e.value===t}))&&(e=a.children||[])}),{indices:r}}(e.datasource,e.joinStr,t).indices.join(".")),e.hasChildList||e.datasource[n].value==t){e.selectedIndex=i;break}}delete e.value,delete e.rawValue}if(e.selectedIndex<0||e.selectedIndex>=e.datasource.length)if(e.emptyText)e.selectedIndex=-1;else{e.selectedIndex=-1;for(n=0;n<e.datasource.length;n++)if(!e.datasource[n].disabled){e.selectedIndex=n;break}}}function f(){for(var e=this.selectedIndex,t=v(this,e),n=(e+"").split("."),i=0;i<t.layerNumber;i++){var a=n.slice(0,i+1).join(".");this.renderList(a)}h(this),this.layer.toggle()}function p(){this.fire("layerrendered",{layer:this.layer})}function h(e){var t=v(e);e.helper.getPart("text").innerHTML=t.innerHTML;var n=e.layer.getElement(!1);n&&e.layer.syncState(n)}function v(e,t){var n=((t||e.selectedIndex)+"").split("."),i=e.datasource,a="",r=null,o="",s=[];return m["default"].each(n,function(t,n){if(t=parseInt(t,10),r=-1===t?null:i[t]){i=r.children||[];var l=r.value;n>0&&(a+=e.joinStr,o+=e.joinStr),a+=e.getDisplayHTML(r),e.hasChildList?o+=l:o=l,s.push(r)}}),{currentItem:r,selectItems:s,currentValue:o,innerHTML:a||e.emptyText||"",layerNumber:n.length}}var m=a["default"](i),g=a["default"](r),x=a["default"](o),y=a["default"](s),b=a["default"](l),w=a["default"](u),C=function(n){function i(e){t["default"](this,i),n.call(this,e),this.nodeName="div",this.dock={strictWidth:!0}}return e["default"](i,n),i.prototype.setScrollTopArr=function(e){for(var t=this.getElement(),n=((e||this.control.selectedIndex)+"").split("."),i=[],a=0;a<n.length;a++)i.push(x["default"].getChildren(t)[a].scrollTop);this.scrollTopArr=i},i.prototype.constructList=function(e,t,n){var i="";t=t?t+".":"";var a=this.control.helper.getPartClasses("item");if(n&&(a=a.concat(n)),e)for(var r=0;r<e.length;r++){var o=a.slice(),s=e[r];s.disabled&&o.push(this.control.helper.getPartClassName("item-disabled")),!s||s.children&&s.children.length||o.push(this.control.helper.getPartClassName("item-end")),i+='<li data-index="'+t+r+'" class="'+o.join(" ")+'">\n                                '+this.control.getItemHTML(s)+"\n                            </li>"}return i},i.prototype.clearChildList=function(e){for(var t=this.getElement(),n=x["default"].getChildren(t),i=this.control.helper.getPartClasses("hidden"),a=e;a<n.length;a++){var r=n[a];r.innerHTML="",x["default"].addClasses(r,i)}},i.prototype.renderChildList=function(e,t,n){for(var i=this.getElement(),a=this.scrollTopArr,r=(t+"").split("."),o=0,s=0,l=x["default"].dom.first(x["default"].dom.first(i)).clientHeight,u=0;u<r.length;u++)o+=parseInt(r[u],10),s+=x["default"].getChildren(i)[u].scrollTop||!l&&a&&a[u]||0;var d=this.constructList(e,t,this.control.helper.getPartClasses("child-item")),c=x["default"].getChildren(i)[n],f=(l||30)*o-s+"px",p=this.control.helper.getPartClasses("hidden");if(c)c.style.top=f,d&&(c.innerHTML=d,x["default"].removeClasses(c,p));else{var h=m["default"].union(this.control.helper.getPartClasses("list"),this.control.helper.getPartClasses("child-list"));d||h.push(p),i.innerHTML+='<ul class="'+h.join(" ")+'" style="left:'+n+"00%; top:"+f+'">\n                                    '+d+"\n                                </ul>"}},i.prototype.render=function(e){var t=this.control.helper.getPartClassName("list"),n=this.constructList(this.control.datasource);e.innerHTML='<ol class="'+t+'">'+n+"</ol>"},i.prototype.initBehavior=function(e){"click"!==this.control.eventType&&this.control.helper.addDOMEvent(e,"mouseover",d),this.control.helper.addDOMEvent(e,"click",d)},i.prototype.syncState=function(e){var t=this.control.helper.getPartClasses("item-selected"),n=x["default"].getChildren(e),i=(this.control.selectedIndex+"").split(".");m["default"].each(i,function(e,i){for(var a=n[i]?x["default"].getChildren(n[i]):[],r=a.length-1;r>=0;r--){var o=a[r];r===+e?x["default"].addClasses(o,t):x["default"].removeClasses(o,t)}})},i}(b["default"]),T=function(i){function a(e){t["default"](this,a),i.call(this,e),this.itemTemplate='<span title="${title}">${text}</span>',this.displayTemplate="${text}",this.layer=new C(this)}return e["default"](a,i),n["default"](a,[{key:"type",get:function(){return"SelectEx"}}]),a.prototype.renderList=function(e){var t=v(this,e),n=t.currentItem&&t.currentItem.children;this.layer.clearChildList(t.layerNumber),n&&n.length&&this.layer.renderChildList(n,e,t.layerNumber)},a.prototype.initOptions=function(e){var t={datasource:[],hasChildList:!1,joinStr:"/",eventType:"click",parentSelectable:!1},n={};if(e.hasChildList&&(t.eventType="hover"),m["default"].extend(n,t,e),"select"===this.main.nodeName.toLowerCase()){n.datasource=[];for(var i=this.main.getElementsByTagName("option"),a=0,r=i.length;a<r;a++){var o=i[a],s={name:o.name||o.text,value:o.value,title:o.title||"",children:o.children};o.disabled&&(s.disabled=!0),n.datasource.push(s),o.selected&&null==n.selectedIndex&&null==n.value&&null==n.rawValue&&(n.selectedIndex=o.value?a:0)}this.helper.extractOptionsFromInput(this.main,n)}if("string"==typeof n.selectedIndex){var l=n.hasChildList?n.selectedIndex:+n.selectedIndex;n.selectedIndex=l}this.setProperties(n)},a.prototype.getItemHTML=function(e){var t={text:m["default"].escape(e.name||e.text),value:m["default"].escape(e.value),title:m["default"].escape(e.title||"")};return x["default"].format(this.itemTemplate,t)},a.prototype.getDisplayHTML=function(e){if(!e)return m["default"].escape(this.emptyText||"");var t={text:m["default"].escape(e.name||e.text),value:m["default"].escape(e.value)};return x["default"].format(this.displayTemplate,t)},a.prototype.initStructure=function(){"select"===this.main.nodeName.toLowerCase()&&this.helper.replaceMain(),this.main.tabIndex=0,this.main.innerHTML=this.helper.getPartHTML("text","span")},a.prototype.initEvents=function(){this.helper.addDOMEvent(this.main,"click",m["default"].bind(f,this)),this.layer.on("rendered",m["default"].bind(p,this))},a.prototype.getRawValue=function(){if(this.selectedIndex<0)return null;var e=v(this);return e.currentValue?e.currentValue:null},a.prototype.updateDatasource=function(e){e||(e=this.datasource),this.datasource=e,this.selectedIndex=e.length>0?0:-1;var t={name:"datasource"},n={name:"selectedIndex"};this.repaint([t,n],{datasource:t,selectedIndex:n}),this.fire("change")},a.prototype.setProperties=function(e){null==e.datasource&&(e.datasource=this.datasource),null==e.value&&null==e.rawValue&&null==e.selectedIndex&&e.datasource===this.datasource&&(e.selectedIndex=this.selectedIndex),e.hasOwnProperty("emptyText")||(e.emptyText=this.emptyText),c(e);var t=i.prototype.setProperties.call(this,e);return t.hasOwnProperty("selectedIndex")&&this.fire("change"),t},a.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.layer&&(this.layer.dispose(),this.layer=null),i.prototype.dispose.call(this))},a.prototype.getSelectedItem=function(){var e=this.get("datasource")[this.get("selectedIndex")];return this.hasChildList&&(e=v(this).selectItems),e},n["default"](a,[{key:"repaint",get:function(){return w["default"].createRepaint(i.prototype.repaint,w["default"].style("width"),w["default"].style("height"),{name:"datasource",paint:function(e){e.layer.repaint()}},{name:["selectedIndex","emptyText","datasource"],paint:h},{name:["disabled","hidden","readOnly"],paint:function(e,t,n,i){(t||n||i)&&(e.layer.setScrollTopArr(),e.layer.hide())}})}}]),a}(y["default"]);module.exports=T,g["default"].register(T)}),define("inf-ria/ui/SMSCodeBox",["require","esui/Button","esui/TextBox","esui/lib","esui/painters","esui/InputControl","inf-i18n","underscore","esui"],function(require){function e(e){a.call(this,e)}function t(e){this.fire("action"),e.preventDefault()}require("esui/Button"),require("esui/TextBox");var n=require("esui/lib"),i=require("esui/painters"),a=require("esui/InputControl"),r=require("inf-i18n"),o=require("underscore");return e.prototype.type="SMSCodeBox",e.defaultProperties={cooldown:60,btnText:r("发送验证码")},e.prototype.initStructure=function(){this.main.innerHTML='<input data-ui-child-name="input" data-ui-type="TextBox" type="text" /><button data-ui-child-name="btn" data-ui-type="Button"></button>',this.initChildren(this.main)},e.prototype.initOptions=function(t){var n={};o.extend(n,e.defaultProperties),o.extend(n,t),this.setProperties(n)},e.prototype.startCountdown=function(){function e(){t.setContent(n+"("+i+")"),--i>=0?setTimeout(e,1e3):(t.setDisabled(!1),t.setContent(n))}var t=this.getChild("btn");t.setDisabled(!0);var n=this.get("btnText"),i=this.get("cooldown");!isNaN(i)&&i>0&&e()},e.prototype.initEvents=function(){this.getChild("btn").on("click",t,this)},e.prototype.repaint=i.createRepaint(a.prototype.repaint,{name:["placeholder","btnText","inputWidth"],paint:function(e,t,n,i){e.getChild("btn").setProperties({content:n});e.getChild("input").setProperties({placeholder:t,width:i})}},{name:["disabled"],paint:function(e,t){e.getChild("input").setDisabled(t),e.getChild("btn").setDisabled(t)}},{name:"rawValue",paint:function(e,t){e.getChild("input").setRawValue(t)}}),e.prototype.showValidity=function(e){var t=this.getChild("input");this.validity&&t.removeState("validity-"+this.validity.getValidState()),t.addState("validity-"+e.getValidState()),a.prototype.showValidity.call(this,e)},e.prototype.getRawValue=function(){return this.getChild("input").getRawValue()},e.prototype.getValue=e.prototype.getRawValue,e.prototype.getRawValueProperty=e.prototype.getRawValue,n.inherits(e,a),require("esui").register(e),e}),define("inf-ria/ui/StarRating",["require","underscore","esui/lib","esui/painters","esui/InputControl","esui/controlHelper","esui"],function(require){function e(e){l.apply(this,arguments)}function t(e){for(var t=[],n=e.readonly?f:"",i=parseInt(e.score,0),a=1;a<=e.number;a++)t.push(o.format(p,{defaultClass:d,activeClass:a<=i?c:"",readonlyClass:n,score:a}));return'<ul data-score="'+e.score+'">'+t.join("")+"</ul>"}function n(e){var t=e.target||e.srcElement;if(o.hasClass(t,d)){var n=parseInt(o.getAttribute(t,"data-score"),0);this.setValue(n)}}function i(e){var t=e.target||e.srcElement;if(o.hasClass(t,d)){var n=parseInt(o.getAttribute(t,"data-score"),0);this.originScore<n&&!o.hasClass(t,c)&&this.setProperties({score:n})}else this.originScore!==this.score&&this.setProperties({score:this.originScore})}function a(e){var t=e.target||e.srcElement;if(o.hasClass(t,d)){var n=parseInt(o.getAttribute(t,"data-score"),0);if(this.originScore<n&&o.hasClass(t,c)){o.removeClass(t,c);for(var i=o.dom.next(t);i;)o.hasClass(i,c)&&o.removeClass(t,c),i=o.dom.next(i)}}else this.setProperties({score:this.originScore})}var r=require("underscore"),o=require("esui/lib"),s=require("esui/painters"),l=require("esui/InputControl"),u=require("esui/controlHelper");e.prototype.type="StarRating";var d="ui-starrating-default",c="ui-starrating-active",f="ui-starrating-readonly",p='<li class="${defaultClass} ${activeClass} ${readonlyClass}"data-score="${score}"></li>';return e.prototype.initStructure=function(){this.main.innerHTML=t(this),this.initChildren(this.main)},e.prototype.initOptions=function(e){var t={score:0,readonly:!1,number:5};t.originScore=parseInt(e.score,0)||0,r.extend(t,e),this.setProperties(t)},e.prototype.getValue=function(){return parseInt(this.originScore,0)},e.prototype.getRawValue=e.prototype.getValue,e.prototype.setValue=function(e){this.setProperties({score:e,originScore:e}),this.fire("change",{score:e})},e.prototype.initEvents=function(){this.readonly||(u.addDOMEvent(this,this.main,"click",n),u.addDOMEvent(this,this.main,"mouseover",i),u.addDOMEvent(this,this.main,"mouseout",a))},e.prototype.repaint=s.createRepaint(l.prototype.repaint,{name:["score"],paint:function(e){e.main.innerHTML=t(e)}}),o.inherits(e,l),require("esui").register(e),e}),define("inf-ria/ui/ToastLabel",["require","underscore","esui/lib","esui/Control","esui/controlHelper","esui/painters","esui/main"],function(require){function e(e){i.apply(this,arguments)}var t=require("underscore"),n=require("esui/lib"),i=require("esui/Control"),a=require("esui/controlHelper");e.prototype.type="ToastLabel",e.prototype.createMain=function(e){var t=null;return t=e.tagName?document.createElement(e.tagName):i.prototype.createMain.call(this),this.createChild(t),t},e.prototype.createChild=function(e){this.main&&(e=this.main),e.innerHTML='<span class="'+a.getPartClasses(this,"content").join(" ")+'"></span>'},e.prototype.initOptions=function(e){var n={messageType:"normal"};t.extend(n,e),n.tagName=this.main.nodeName.toLowerCase(),null==e.content&&(n.content=this.main.innerHTML),t.extend(this,n)};var r=require("esui/painters");return e.prototype.repaint=r.createRepaint(i.prototype.repaint,{name:"messageType",paint:function(e,t){e.helper.addPartClasses(e.messageType)}},{name:"childNode",paint:function(e){e.createChild()}},r.html("content",function(e){return e.main.firstChild})),e.prototype.setContent=function(e){this.setProperties({content:e})},e.prototype.getContent=function(){return this.content},n.inherits(e,i),require("esui/main").register(e),e}),define("inf-ria/ui/ToggleButton",["require","esui/lib","esui/InputControl","esui/painters","esui"],function(require){function e(e){i.apply(this,arguments)}function t(e,t){return'<span id="'+e.helper.getId(t)+'" class="'+e.helper.getPartClassName("part-"+t)+'"></span>'}var n=require("esui/lib"),i=require("esui/InputControl");e.prototype.type="ToggleButton",e.prototype.getCategory=function(){return"check"},e.prototype.createMain=function(){return document.createElement("div")},e.prototype.initOptions=function(e){var t={onText:"ON",offText:"OFF",checked:!1};if(n.extend(t,e),t.title||(t.title=this.main.title),n.isInput(this.main))this.helper.extractOptionsFromInput(this.main,t);else{var a=n.getChildren(this.main);a.length>1&&(e.onText||(t.onText=n.getText(a[0])),e.offText||(t.offText=n.getText(a[1])))}i.prototype.initOptions.call(this,t)},e.prototype.initStructure=function(){this.main.innerHTML=t(this,"on")+t(this,"off"),this.helper.addDOMEvent(this.main,"click",n.bind(this.toggle,this))};var a=require("esui/painters");return e.prototype.repaint=a.createRepaint(i.prototype.repaint,a.text("onText","on"),a.text("offText","off"),a.attribute("title"),a.style("width"),a.style("height"),a.state("checked")),e.prototype.setProperties=function(){this.hasOwnProperty("checked")&&(this.checked=!!this.checked);i.prototype.setProperties.apply(this,arguments).hasOwnProperty("checked")&&this.fire("change")},e.prototype.isChecked=function(){return this.checked},e.prototype.getValue=e.prototype.isChecked,e.prototype.getRawValue=e.prototype.isChecked,e.prototype.setRawValue=function(e){this.set("checked",!!e)},e.prototype.toggle=function(){this.set("checked",!this.checked)},n.inherits(e,i),require("esui").register(e),e}),define("inf-ria/ui/validator/BusinessLicenseNumberRule",["require","esui/validator/Rule","esui/validator/ValidityState","esui/lib","inf-i18n","esui"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("esui/lib"),a=require("inf-i18n");return i.inherits(e,t),e.prototype.type="businessLicenseNumber",e.prototype.errorMessage=a("工商营业执照号码格式有误"),e.prototype.check=function(e,t){var i=new n(!0,""),a=new n(!1,this.getErrorMessage(t));if(!e)return i;if(!/^\d{15}$/.test(e))return a;for(var r=e.split(""),o=10,s=0,l=0;l<15;l++)0===(o=(s=o%11+ +r[l])%10*2)&&(o=20);return s%10!=1?a:i},require("esui").registerRule(e,401),e}),define("inf-ria/ui/validator/CustomRule",["require","esui/validator/Rule","esui/validator/ValidityState","inf-i18n","esui/lib","esui/main"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("inf-i18n");return e.prototype.type="custom",e.prototype.errorMessage="${title} "+i("格式不符合要求"),e.prototype.check=function(e,t){var i=this.getLimitCondition(t);return new n(i.call(t,e),this.getErrorMessage(t))},require("esui/lib").inherits(e,t),require("esui/main").registerRule(e,200),e}),define("inf-ria/ui/validator/MaxFileCountRule",["require","esui/validator/Rule","esui/validator/ValidityState","esui/lib","inf-i18n","../../util","esui"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("esui/lib"),a=require("inf-i18n"),r=require("../../util");return i.inherits(e,t),e.prototype.type="maxFileCount",e.prototype.errorMessage=r.sprintf(a("附件不能超过%s个"),"${maxFileCount}"),e.prototype.check=function(e,t){return new n(t.getUploadedFileCount()<this.getLimitCondition(t),this.getErrorMessage(t))},e.prototype.getErrorMessage=function(e){var t=e.get(this.type+"ErrorMessage")||this.errorMessage,n=this.getLimitCondition(e);return i.format(t,{maxFileCount:n})},e.prototype.getLimitCondition=function(e){return parseInt(e.get("maxFileCount"),10)},require("esui").registerRule(e,401),e}),define("inf-ria/ui/validator/MaxFileSizeRule",["require","esui/validator/Rule","esui/validator/ValidityState","esui/lib","inf-i18n","../../util","esui"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("esui/lib"),a=require("inf-i18n"),r=require("../../util");return i.inherits(e,t),e.prototype.type="maxFileSize",e.prototype.errorMessage=r.sprintf(a("附件不能大于%s个字节，当前大小为%s个字节"),"${maxFileSize}","${size}"),e.prototype.check=function(e,t){var i=t.getBeforeQueuedFile();return new n(i.size<=this.getLimitCondition(t),this.getErrorMessage(t))},e.prototype.getErrorMessage=function(e){var t=e.get(this.type+"ErrorMessage")||this.errorMessage,n=this.getLimitCondition(e),a=e.getBeforeQueuedFile();return i.format(t,{size:a.size,maxFileSize:n})},e.prototype.getLimitCondition=function(e){return parseInt(e.get("maxFileSize"),10)},require("esui").registerRule(e,401),e}),define("inf-ria/ui/validator/MinFileSizeRule",["require","esui/validator/Rule","esui/validator/ValidityState","esui/lib","inf-i18n","../../util","esui"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("esui/lib"),a=require("inf-i18n"),r=require("../../util");return i.inherits(e,t),e.prototype.type="minFileSize",e.prototype.errorMessage=r.sprintf(a("附件不能小于%s个字节，当前大小为%s个字节"),"${minFileSize}","${size}"),e.prototype.check=function(e,t){var i=t.getBeforeQueuedFile();return new n(i.size>=this.getLimitCondition(t),this.getErrorMessage(t))},e.prototype.getErrorMessage=function(e){var t=e.get(this.type+"ErrorMessage")||this.errorMessage,n=this.getLimitCondition(e),a=e.getBeforeQueuedFile();return i.format(t,{size:a.size,minFileSize:n})},e.prototype.getLimitCondition=function(e){return parseInt(e.get("minFileSize"),10)},require("esui").registerRule(e,401),e}),define("inf-ria/ui/validator/MultiPatternRule",["require","esui/lib","esui/validator/Rule","esui/validator/ValidityState","inf-i18n","underscore","../../util","esui"],function(require){function e(){n.apply(this,arguments)}var t=require("esui/lib"),n=require("esui/validator/Rule"),i=require("esui/validator/ValidityState"),a=require("inf-i18n"),r=require("underscore"),o=require("../../util");return e.prototype.type="multiPattern",e.prototype.errorMessage=o.sprintf(a("%s格式不符合要求"),"${value}"),e.prototype.check=function(e,t){for(var n=new RegExp(this.getLimitCondition(t)),a=t.get("separator")||/[;\s]+/g,o=e.split(a),s=0;s<o.length;s++){var l=r.trim(o[s]);if(l){var u=n.test(l);if(!u)return new i(u,this.getErrorMessage(t,l))}}return new i(!0,"")},e.prototype.getErrorMessage=function(e,n){var i=e.get(this.type+"ErrorMessage")||this.errorMessage;return t.format(i,{value:n})},t.inherits(e,n),require("esui").registerRule(e,2e3),e}),define("inf-ria/ui/validator/NationalIdNumberRule",["require","esui/validator/Rule","esui/validator/ValidityState","esui/lib","inf-i18n","esui"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("esui/lib"),a=require("inf-i18n"),r={11:a("北京"),12:a("天津"),13:a("河北"),14:a("山西"),15:a("内蒙古"),21:a("辽宁"),22:a("吉林"),23:a("黑龙江"),31:a("上海"),32:a("江苏"),33:a("浙江"),34:a("安徽"),35:a("福建"),36:a("江西"),37:a("山东"),41:a("河南"),42:a("湖北"),43:a("湖南"),44:a("广东"),45:a("广西"),46:a("海南"),50:a("重庆"),51:a("四川"),52:a("贵州"),53:a("云南"),54:a("西藏"),61:a("陕西"),62:a("甘肃"),63:a("青海"),64:a("宁夏"),65:a("新疆"),71:a("台湾"),81:a("香港"),82:a("澳门"),91:a("国外")};return i.inherits(e,t),e.prototype.type="nationalIdNumber",e.prototype.errorMessage=a("身份证号码格式有误"),e.prototype.check=function(e,t){var i=new n(!0,""),a=new n(!1,this.getErrorMessage(t));if("disable"===this.getLimitCondition(t))return i;if(!e)return i;e=e.toLowerCase();if(!/^\d{17}[\dx]$/.test(e))return a;var o=e.split(""),s=o[0]+o[1];if(!r[s])return a;for(var l=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],u=0,d=0;d<17;d++)u+=+o[d]*l[d];return o[17]!==["1","0","x","9","8","7","6","5","4","3","2"][u%11]?a:i},require("esui").registerRule(e,401),e}),define("inf-ria/ui/validator/UniqueFileRule",["require","esui/validator/Rule","esui/validator/ValidityState","esui/lib","inf-i18n","underscore","../../util","esui"],function(require){function e(){t.apply(this,arguments)}var t=require("esui/validator/Rule"),n=require("esui/validator/ValidityState"),i=require("esui/lib"),a=require("inf-i18n"),r=require("underscore"),o=require("../../util");return i.inherits(e,t),e.prototype.type="uniqueFile",e.prototype.errorMessage=o.sprintf(a("文件“%s”已存在"),"${name}"),e.prototype.check=function(e,t){var i=t.getBeforeQueuedFile(),a=!1,o=t.uploader.getFiles();return r.each(o,function(e){e.__hash===i.__hash&&(a=!0)}),new n(!a,this.getErrorMessage(t))},e.prototype.getErrorMessage=function(e){var t=e.get(this.type+"ErrorMessage")||this.errorMessage,n=e.getBeforeQueuedFile();return i.format(t,n)},require("esui").registerRule(e,401),e}),define("inf-ria/ui/ViewProgress",["require","esui/lib","esui/Control","underscore","esui/painters","esui"],function(require){function e(e){n.call(this,e)}var t=require("esui/lib"),n=require("esui/Control"),i=require("underscore");return e.prototype.type="ViewProgress",e.prototype.initStructure=function(){},e.prototype.initOptions=function(e){var t={percent:0,width:"auto"};i.extend(t,e),"string"==typeof t.percent&&(t.percent=100*+t.percent),"string"==typeof t.width&&(t.width=+t.width),this.setProperties(t)},e.prototype.repaint=require("esui/painters").createRepaint(n.prototype.repaint,{name:"percent",paint:function(e){e.main.style.width=e.width+"px";var t=['<div class="inner" style="width: '+e.percent+'%"></div>'];t.push('<div class="percent">'+e.percent+"%</div>"),e.main.innerHTML=t.join(""),e.setProperties({currentStep:e.currentStep})}}),t.inherits(e,n),require("esui").register(e),e}),define("inf-ria/ui/ViewStep",["require","esui/lib","esui/Control","underscore","esui/painters","esui"],function(require){function e(e){n.call(this,e)}var t=require("esui/lib"),n=require("esui/Control"),i=require("underscore");return e.prototype.type="ViewStep",e.prototype.initStructure=function(){},e.prototype.initOptions=function(e){var n={steps:[],currentStep:1};i.extend(n,e);var a=t.getChildren(this.main);if(a.length){var r=[];i.each(t.getChildren(a[0]),function(e){r.push({bindFor:e.getAttribute("bind-for"),text:t.getText(e)})}),n.steps.length||(n.steps=i.map(r,function(e){return i.isString(e)?{bindFor:null,text:e}:e}))}"string"==typeof n.currentStep&&(n.currentStep=+n.currentStep),this.setProperties(n)},e.prototype.repaint=require("esui/painters").createRepaint(n.prototype.repaint,{name:"steps",paint:function(e){var t=["<ul>"];i.each(e.steps,function(n,a){if(a+1===e.steps.length){var r=e.helper.getPartClassName("last-item");t.push('<li bind-for="'+n.bindFor+'" class="'+r+'"><i>'+(a+1)+"</i><span>"+i.escape(n.text)+"</span></li>")}else t.push('<li bind-for="'+n.bindFor+'"><i>'+(a+1)+"</i><span>"+i.escape(n.text)+"</span></li>")}),t.push("</ul>"),e.main.innerHTML=t.join(""),e.setProperties({currentStep:e.currentStep})}},{name:"currentStep",paint:function(e,n){i.each(t.getChildren(e.main.firstChild),function(i,a){var r=document.getElementById(i.getAttribute("bind-for")||"");a+1<=n?e.helper.addPartClasses("item-active",i):e.helper.removePartClasses("item-active",i),r&&(a+1===n?t.removeClass(r,"state-hidden"):t.addClass(r,"state-hidden"))})}}),t.inherits(e,n),require("esui").register(e),e}),define("inf-ria/ui/WebUploader",["require","underscore","inf-i18n","webuploader","esui/InputControl","esui/lib","../util","esui/painters","esui"],function(require){function e(e){a.call(this,e),this.uploaderOptions,this.uploader}var t=require("underscore"),n=require("inf-i18n"),i=require("webuploader"),a=require("esui/InputControl"),r=require("esui/lib"),o=require("../util"),s={swf:require.toUrl("webuploader/Uploader.swf"),disableWidgets:"log"},l={F_EXCEED_SIZE:n("文件大小超出限制！"),Q_EXCEED_NUM_LIMIT:n("队列文件数量超出限制！"),Q_EXCEED_SIZE_LIMIT:n("队列文件总量大小超出限制！"),Q_ZERO_SIZE_LIMIT:n("不支持0字节的文件上传"),Q_TYPE_DENIED:o.sprintf(n("不支持 “%s” 的文件类型：“%s”"),"${name}","${ext}"),F_DUPLICATE:o.sprintf(n("文件 “%s” 已存在"),"${name}")};return r.inherits(e,a),e.prototype.initOptions=function(e){var i={uploaderOptions:{},label:r.getText(this.main)||n("上传"),useCommonHeader:!0};t.extend(i,e),this.setProperties(i)},e.prototype.initStructure=function(){var e=this.helper.getId("pick"),n=this.helper.getPartClassName("pick");this.main.innerHTML=r.format('<div id="${pickId}" class="${pickClass}"></div>',{pickId:e,pickClass:n});var a={id:this.helper.getPart("pick"),label:this.label};this.uploaderOptions.pick=t.extend({},this.uploaderOptions.pick,a);var o=t.extend({},s,this.uploaderOptions);this.uploader=i.create(o)},e.prototype.initEvents=function(){var e=this.uploader;t.each({dndAccept:["items"],beforeFileQueued:["file"],fileQueued:["file"],filesQueued:["files"],fileDequeued:["file"],reset:[],startUpload:[],stopUpload:[],uploadFinished:[],uploadStart:["file"],uploadBeforeSend:["object","data","headers"],uploadAccept:["object","ret","fn","xhr"],uploadProgress:["file","percentage"],uploadError:["file","reason"],uploadSuccess:["file","response"],uploadComplete:["file"],error:["type"]},function(t,n){e.on(n,this.proxyEvent(t,n))},this),this.on("error",function(e){var t=e.originalEvent,n=t.type,i=l[n]||n;t.file&&(i=r.format(i,t.file)),e.target.showValidationMessage("invalid",i)}),this.on("uploadBeforeSend",function(e){var t=e.originalEvent,n=t.object,i=t.headers;this.useCommonHeader&&(i["File-Name"]=encodeURIComponent(n.file.name),i["X-Request-By"]="ERApplication",i["Content-Type"]=n.file.type)}),this.on("beforeFileQueued",function(e){e.target.validate()||e.preventDefault()}),this.skipUploadAccept||this.on("uploadAccept",function(e){var t=e.originalEvent,n=t.object,i=t.ret;if(!(i&&i.success&&i.result)){var a=n.file;a&&a.setStatus&&a.setStatus("error","server error"),e.preventDefault()}})},e.prototype.disable=function(){a.prototype.disable.call(this),this.uploader.disable(),t.each(this.main.getElementsByTagName("input"),function(e){r.hasClass(e,"webuploader-element-invisible")&&(e.disabled=!0)})},e.prototype.enable=function(){a.prototype.enable.call(this),this.uploader.enable(),t.each(this.main.getElementsByTagName("input"),function(e){r.hasClass(e,"webuploader-element-invisible")&&(e.disabled=!1)})},e.prototype.proxyEvent=function(e,n){return t.bind(function(){if("beforeFileQueued"===n)this._beforeQueuedFile=arguments[0];else if("error"===n)switch(arguments[0]){case"Q_TYPE_DENIED":case"F_DUPLICATE":e=["type","file"];break;case"Q_EXCEED_NUM_LIMIT":case"Q_EXCEED_SIZE_LIMIT":case"F_EXCEED_SIZE":e=["type","max","file"]}if(this.fire(n,{originalEvent:t.object(e,arguments)}).isDefaultPrevented())return!1},this)},e.prototype.getBeforeQueuedFile=function(){return this._beforeQueuedFile},e.prototype.getNative=function(){return this.uploader},e.prototype.repaint=require("esui/painters").createRepaint(a.prototype.repaint,{name:["hint","hintType"],paint:function(e,n,i){var a=e.helper.getPart("hint");if(e.removeState("hint-prefix"),e.removeState("hint-suffix"),!n&&a&&r.removeNode(a),n){a||((a=document.createElement("label")).id=e.helper.getId("hint"),e.helper.addPartClasses("hint",a),r.setAttribute(a,"for",e.helper.getId("pick"))),a.innerHTML=t.escape(n);r["prefix"===(i="prefix"===i?"prefix":"suffix")?"insertBefore":"insertAfter"](a,e.helper.getPart("pick")),e.addState("hint-"+i)}}}),e.prototype.dispose=function(){this.helper.isInStage("DISPOSED")||(this.uploader&&this.uploader.destroy(),a.prototype.dispose.call(this))},e.prototype.type="WebUploader",require("esui").register(e),e}),define("inf-ria/util",["exports","module"],function(exports,module){module.exports={sprintf:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.replace(/%s/g,function(){return n.shift()})}}}),define("inf-ria/utils/formatter",["exports","module","inf-i18n","babel-runtime/helpers/interop-require-default","underscore"],function(exports,module,e,t,n){var i=t["default"](e),a=t["default"](n),r=["B","KB","MB","GB","TB","PB","EB","ZB","YB","BB"],o=["","k","m","g","t","p","e","z","y","b"];module.exports={isByteUnit:function(e){return-1!==a["default"].indexOf(r,e)},percent:function(e){return e+"%"},bytes:function(e,t,n,i){t===undefined&&(t=2),n===undefined&&(n=1024);for(var o=i?a["default"].indexOf(r,i):0,s=r.length-1;e>=n&&o<s;)e/=n,o++;return e.toFixed(t)+r[o]},bits:function(e){for(var t=arguments.length<=1||arguments[1]===undefined?2:arguments[1],n=arguments.length<=2||arguments[2]===undefined?1024:arguments[2],i=0,a=o.length-1;e>=n&&i<a;)e/=n,i++;return e.toFixed(t)+o[i]},number:function(e){var t=arguments.length<=1||arguments[1]===undefined?1:arguments[1];return e<1e4?e:e<1e6?(e/1e4).toFixed(e%1e4==0?t:Math.max(1,t))+i["default"]("万"):e<1e7?(e/1e6).toFixed(e%1e6==0?t:Math.max(1,t))+i["default"]("百万"):(e/1e7).toFixed(e%1e7==0?t:Math.max(1,t))+i["default"]("千万")}}}),define("inf-ria/utils/mtools",["require","moment","underscore","inf-i18n","jquery","echarts","./formatter"],function(require){function e(e){return e.__esModule&&e["default"]?e["default"]:e}function t(e,t){return t=t||"MM-DD HH:mm",r(e).format(t)}function n(e,t){return t=t||"YYYY-MM-DDTHH:mm:ss",r(e).utc().format(t)+"Z"}function i(e,t,n){e=String(e),n=n||"";var i=e.replace("/[^\0-ÿ]/g","**").length;return t<0||i<=t?e:(t-=2,(e=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"))+n)}function a(e,t){o.each(t,function(t,n){o.isArray(t)?a(e[n]=e[n]||[],t):o.isObject(t)?a(e[n]=e[n]||{},t):e[n]=t})}var r=require("moment"),o=require("underscore"),s=e(require("inf-i18n")),l=require("jquery"),u=require("echarts"),d=e(require("./formatter")),c={color:["#4aaaff","#f2605d","#01B09B","#E74684","#6EC50F","#FE863D","#A45BFF","#F6D622","#0AC1D7","#B569D4"],calculable:!1,animation:!1,grid:{x:65,x2:35,y:50,y2:/^3\./.test(u.version)?60:50}},f={average:s("平均值"),maximum:s("最大值"),minimum:s("最小值"),sum:s("和值"),sampleCount:s("样本数")};return{utc2local:t,local2utc:n,getUTCTimeRange:function(e,t){var i=e.match(/(\d+)(\w+)/),a=i[1],o=i[2],s=r(),l=n(s),u="";return u=1===arguments.length?n(s.add("m",1).subtract(o,a),"YYYY-MM-DDTHH:mm:00"):n(r(t<3600?s.add("m",1).subtract(o,a).format("YYYY-MM-DDTHH:mm:00"):t<86400?s.add("h",1).subtract(o,a).format("YYYY-MM-DDTHH:00:00"):s.add("d",1).subtract(o,a).format("YYYY-MM-DDT00:00:00"))),{endTime:l,startTime:u}},getChartOptions:function(e,n,r,u){var p=[],h=n.unit,v=0,m=[],g={},x={},y=[],b=n.connectNulls||!1;"line"===(r=r||{type:"line"}).type?x={type:"line",smooth:!0,symbol:"none",symbolSize:2,showAllSymbol:!0,itemStyle:{borderWidth:1,normal:{lineStyle:{width:1}}}}:"bar"===r.type&&(x={type:"bar"}),x=o.extend(x,r.chart||{});var w,C,T=5,k=function(e){var t=[];return e.length>0&&t.push(e[0].name+" ("+f[n.statistics]+")"),o.each(e,function(e){var n=i(e.seriesName,22,"…");t.push(n+"："+e.value)}),t.join("<br/>")};if(0===e.category.length)p.push(t()),p.push(t());else{var _="MM-DD HH:mm";u&&u.period&&(u.period>=86400&&(_="MM-DD"),u.period<1&&(_="MM-DD HH:mm:ss.SSS")),o.each(e.category,function(e){p.push(t(e,_))})}0===n.nullPointMode?o.each(e.series,function(e){var t=[];if(o.each(e.data,function(e){void 0===e&&(e=0),t.push(e)}),0===t.length)for(var n=0,i=p.length;n<i;n++)t[n]=0;g[e.name]=t}):o.each(e.series,function(e){var t=[],n="";if(o.each(e.data,function(e){void 0===e&&(e="-"),"-"===n&&"-"!==e?t.push({value:e,symbol:"emptyCircle"}):(t.push(e),"-"!==e&&t.length>1&&(t[t.length-2]=n)),n=e}),0===t.length)for(var i=0,a=p.length;i<a;i++)t[i]="-";g[e.name]=t}),v=u&&u.dataZoom?u.dataZoom.start:Math.max(100*(1-100/p.length),0);var S={};if(o.each(n.metrics,function(e,t){S[e.value]=e.name}),o.each(g,function(e,t){var n=S[t]||t,i=l.extend(!0,{},x,{name:n,data:e,connectNulls:b});m.push(n),y.push(i)}),"sampleCount"===n.statistics)h="个",k=function(e){var t="";return e.length>0&&(t+=e[0].name+" ("+f[n.statistics]+")<br/>"),o.each(e,function(e,n){t+=i(e.seriesName,22,"…")+"：";var a=e.value;isNaN(a)&&(a=0),t+=a+"<br/>"}),t};else if("enum"===h){h="";var I=n.src||{},D=o(I).value().length;D<6&&(T=D-1),k=function(e){var t="";return e.length>0&&(t+=e[0].name),t+=" ("+f[n.statistics]+")",o.each(e,function(e,n){var a=e.value;t+="<br/>"+i(e.seriesName,22,"…")+"："+a,"-"!==a&&(t+="（"+(I[a]||a)+"）")}),t}}else if(h===s("字节")||h===s("字节/秒")){var E=h===s("字节")?"":"/s";k=function(e){var t="";return e.length>0&&(t+=e[0].name+" ("+f[n.statistics]+")<br/>"),o.each(e,function(e,a){t+=i(e.seriesName,22,"…")+"：";var r,o=e.value,s="";isNaN(o)?s="-":(r=o<0?"-":"",o=Math.abs(o),s=r+(o=d.bytes(o,2,n.byteUnit))+E),t+=s+"<br/>"}),t},w=function(e){var t=e<0?"-":"";return e=Math.abs(e),e=d.bytes(e,1,n.byteUnit),t+e+E}}else"bps"===h?(k=function(e){var t="";return e.length>0&&(t+=e[0].name+" ("+f[n.statistics]+")<br/>"),o.each(e,function(e,a){t+=i(e.seriesName,22,"…")+"：";var r,o=e.value,s="";isNaN(o)?s="-":(r=o<0?"-":"",o=Math.abs(o),s=r+(o=d.bits(o,2,n.bitUnit).toUpperCase())+h),t+=s+"<br/>"}),t},w=function(e){var t=e<0?"-":"";return e=Math.abs(e),e=d.bits(e,2,n.bitUnit).toUpperCase(),t+e}):h===s("百分比")?(k=function(e){var t="";return e.length>0&&(t+=e[0].name+" ("+f[n.statistics]+")<br/>"),o.each(e,function(e,n){t+=i(e.seriesName,22,"…")+"："+e.value+("-"===e.value?"":"%")+"<br/>"}),t},w="{value}%",C="yAxisMax"in u?u.yAxisMax:100):d.isByteUnit(h)?k=function(e){var t="";return e.length>0&&(t+=e[0].name+" ("+f[n.statistics]+")<br/>"),o.each(e,function(e,a){t+=i(e.seriesName,22,"…")+"：";var r,o=e.value,s="";isNaN(o)?s="-":(r=o<0?"-":"",o=Math.abs(o),s=r+(o=d.bytes(o,2,n.byteUnit,h))),t+=s+"<br/>"}),t}:(k=function(e){var t="";return e.length>0&&(t=e[0].name+" ("+f[n.statistics]+")<br/>"),o.each(e,function(e){t+=i(e.seriesName,22,"…")+"：";var n=e.value,a="";a=isNaN(n)?"-":e.value,t+=a+"<br/>"}),t},w=function(e){return d.number(e,0)});var P=[],A={x:"center",padding:2,itemGap:2};if(u&&u.maxLegendPerLine)for(var M=u.maxLegendPerLine,O=0;O<m.length/M;O++){var N={data:m.slice(O*M,(O+1)*M)};a(N,A),0!==O&&(N.top="20"),P.push(N)}else P.push(o.extend(A,{data:m}));var L={legend:P,tooltip:{trigger:"axis",formatter:k,textStyle:{fontSize:12}},dataZoom:{start:v,show:!0,height:20,filterColor:"rgba(74,170,255, 0.3)"},xAxis:[{type:"category",boundaryGap:"bar"===r.type,data:p,splitLine:{lineStyle:{color:"#eee"}}}],yAxis:[{type:"value",name:h||"",max:C,splitNumber:T,axisLabel:{formatter:w},splitLine:{lineStyle:{color:"#eee"}}}],series:y};return a(L,r.chartOptions||{}),function(e){return o.extend({},c,e)}(L)},getPieChartOptions:function(e){return{tooltip:{trigger:"item",formatter:"{b} <br/> {c} ({d}%)"},color:["#4aaaff","#f2605d","#F6D622","#6EC50F","#FE863D","#B569D4","#A45BFF","#01B09B","#E74684","#0AC1D7"],legend:{orient:"vertical",x:"right",y:"center",data:e.legend},series:[{type:"pie",radius:"65%",center:["30%","50%"],minAngle:1,itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},data:e.series}]}},isSeriesEmpty:function(e){var t=!0;return o.each(e,function(e,n){return o.each(e.data,function(e){if(void 0!==e)return t=!1,!1}),t}),t},adjustToChartMetric:function(e){var t={};return o.each(e,function(e,n){t[n]={metrics:[],unit:e.unit,names:{},nullPointMode:e.nullPointMode||null,statistics:e.statistics||"average"},e.chartType&&(t[n].type=e.chartType),o.each(e.metrics,function(e,i){var a=e.value;t[n].metrics.push(a),t[n].names[a]=e.name})}),t},adjustSeriesData:function(e,t){return o.each(e.series,function(e){e.data=o.pluck(e.data,t)}),e},formatBytes:d.bytes,transferAlarmEventType:function(e,t){var n={ConfigurationUpdate:s("配置变更"),StateUpdate:s("状态变化"),Action:s("触发报警")}[e]||e,i="";if(t){var a={};try{a=new Function("return "+t)()}catch(r){}switch(a.curAlarmStatus){case"NORMAL":i="normal";break;case"ABNORMAL":i="abnormal";break;case"INSUFFICIENT_DATA":i="insufficient"}}return'<span class="alarmStateUpdate"><span class="'+i+'">'+n+"</span></span>"},filterMetrics:function(e,t,n){o.each(e,function(i,a){if(i.filter===t){for(var r=i.metrics.length-1;r>=0;r--)i.metrics[r].filter===t&&i.metrics[r].filterValue!==n&&i.metrics.splice(r,1);0===i.metrics.length&&delete e[a]}})},parseMetrics:function(e){var t=/([^\(]+)(?:\((.+)\))*/,n=[];return o.each(e.split(","),function(e){if(e){var i=e.match(t);n.push({name:i[2]||i[1],value:i[1]})}}),n},parseDimensions:function(e){var t=[],n=e.split(";");o.each(n,function(e){if(e){var n=e.split(":");if(n[1]){var i=n[0],a=n[1].split("|");t.push({key:i,value:a})}}});var i=[];return o.each(t,function(e){i=function(e,t){var n=[];return o.each(t.value,function(i){0===e.length?n.push([t.key+":"+i]):o.each(e,function(e){var a=[];[].push.apply(a,e),a.push(t.key+":"+i),n.push(a)})}),n}(i,e)}),i=o.map(i,function(e){return e.join(";")})},isMonitorTrendEmpty:function(e,t){var n=!0;return o.each(e,function(e,i){var a=[];o.each(e.data,function(e,n){var i=e[t];void 0!==i&&a.push(i)}),a.length>0&&(n=!1)}),n}}}),define("inf-ria/XHelper",["exports","module","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","er/URL","er/Deferred"],function(exports,module,e,t,n,i,a){function r(e){return e.getLoader()||f}var o=n["default"](t),s=n["default"](i),l=n["default"](a),u=/localhost/.test(location.hostname),d=u?"biz.less":"biz.css",c=u?"src":"asset",f=window.require,p=function(){function t(n){e["default"](this,t),this.appId=n}return t.prototype.getLoader=function(){return this.loader},t.prototype.setLoader=function(e){this.loader=e},t.prototype.getAppId=function(){return this.appId},t.prototype.initialize=function(){return l["default"].all(this.enableStyle(),this._initializeApp())},t.prototype.start=function(){return l["default"].all(this.enableStyle(),this._startApp())},t.prototype._initializeApp=function(){var e=r(this),t=new l["default"];return e([this.getStartupModule()],function(e){e&&"function"==typeof e.initialize?t.resolve(e.initialize()):t.resolve()}),t.promise},t.prototype._startApp=function(){var e=r(this),t=new l["default"];return e([this.getStartupModule()],function(e){e&&"function"==typeof e.start?t.resolve(e.start()):t.resolve()}),t.promise},t.prototype.stop=function(){var e=this,t=r(this);if("function"==typeof t){var n=function(){var n=t(e.getStartupModule());if(n&&"function"==typeof n.stop){return{v:l["default"].all(function(){try{return l["default"].resolved(n.stop())}catch(e){return l["default"].resolved()}}(),e.disableStyle())}}}();if("object"==typeof n)return n.v}return l["default"].resolved(this.disableStyle())},t.prototype.disableStyle=function(){return l["default"].resolved()},t.prototype.enableStyle=function(){var e=o["default"]("link[data-biz-id="+this.appId+"]");if(!e.length){var t=r(this).toUrl(this.getStyleModule());(e=o["default"]("<link />").attr({type:"text/css",rel:"stylesheet",href:t,"data-biz-id":this.appId})).appendTo("head")}return e.removeAttr("disabled"),l["default"].resolved()},t.prototype.getStyleModule=function(){return"home"===this.appId?d:this.appId+"/"+d},t.prototype.getStartupModule=function(){return"home"===this.appId?"startup":this.appId+"/startup"},t}(),h=function(){function t(n){e["default"](this,t),this._moduleVersionCache={},this._activedApp=n?new p(n):null}return t.prototype.getLoader=function(){return this.loader},t.prototype.setLoader=function(e){this.loader=e},t.prototype.getVersionLoader=function(){return this.versionLoader},t.prototype.setVersionLoader=function(e){this.versionLoader=e},t.prototype.getVersion=function(module){var e=this,t=this._moduleVersionCache[module];if(t)return l["default"].resolved(t);var n=new l["default"],i=this.getUrl(module,"/version.txt");return(this.getVersionLoader()||function(e){return o["default"].get(e,{t:(new Date).getTime()})})(i).then(function(t){if((t=o["default"].trim(t))&&(e._moduleVersionCache[module]=t,"home"!==module)){var i=r(e);if(i&&i.config){var a,s;i.config({urlArgs:(a={},a[module]="r"+t+"=1",a),paths:(s={},s[module]="/"+module+"/"+c+"/"+module,s[module+"/biz"]="/"+module+"/"+c+"/biz",s)})}}n.resolve(t)},function(){var t=/bce\.baidu\.com$/.test(location.host)?"online.json":"qasandbox.json",i=G_CDN_ENDPOINT+"/console/static/"+module;return o["default"].getJSON(i+"/"+t+"?t="+Date.now()).then(function(t){var n=t.version;if(e._moduleVersionCache[module]=n,"home"!==module){var a=r(e);if(a&&a.config){var o;a.config({paths:(o={},o[module]=i+"/"+n+"/asset/"+module,o[module+"/biz"]=i+"/"+n+"/asset/biz",o)})}}return n}).always(function(){return n.resolve()})}),n.promise},t.prototype.getSearch=function(){return location.search},t.prototype.buildUrl=function(module,e){var t=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=arguments.length<=3||arguments[3]===undefined?location.search:arguments[3],i=this.getUrl(module,"/")+n;return e&&(i+="#"+s["default"].withQuery(e,t)),i},t.prototype.isRunning=function(e){return this._activedApp&&this._activedApp.getAppId()===e},t.prototype.loadAppInBackground=function(e){var t=this;return this.isRunning(e)?l["default"].resolved():this.getVersion(e).ensure(function(){var n=new p(e);return n.setLoader(r(t)),n.initialize()})},t.prototype.loadApp=function(e,t,n,i){if(this.isRunning(e))return t&&(location.hash=s["default"].withQuery(t,n)),l["default"].resolved();var a=this.buildUrl(e,t,n,i);return location.href=a,l["default"].resolved()},t.prototype.getUrl=function(module,e){return"home"===module?e:"/"+module+e},t}();module.exports=h}),define("inf-ria-page/bos/Create",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/FormAction","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i.prototype.redirectAfterSubmit=function(e){var t=this.model.get("parentDialog");t&&t.dispose()},i.prototype.handleSubmitResult=function(e){var t=this.model.get("bucketSelect");if(t){var i=this.view.get("bucketName").getValue();t.setValue(t.get("urlPrefix")+i+(/\/$/.test(i)?"":"/")),t.fire("afterBucketCreated",{bucketName:i})}n.prototype.handleSubmitResult.call(this,e)},i}(i["default"](n)["default"]);module.exports=a}),define("inf-ria-page/bos/create.tpl",[],function(){return'\x3c!-- target: TPL_inf_ria_page_bos_bucket_create --\x3e\n<div class="inf-ria-page-bos-bucket-create">\n    <form data-ui-type="Form"\n        data-ui-id="form"\n        data-ui-auto-validate="true">\n        <div class="form-data-body">\n            <div class="form-row">\n                <label>${i18n.Bucket名称：}</label>\n                <div class="form-value">\n                    <p>\n                        <input data-ui-type="TextBox"\n                               data-ui-id="bucketName"\n                               data-ui-name="bucketName"\n                               data-ui-mode="text" />\n                    </p>\n                    <p class="tip">${i18n.1.只能包含小写字母，数字和短横线；2.必须以小写字母和数字开头结尾；3.长度限制在3-63之间}</p>\n                </div>\n            </div>\n\n            <div class="form-row">\n                <label>${i18n.所属地域：}</label>\n                <div data-ui-id="location" data-ui-name="location" data-ui-type="RadioSelect"></div>\n            </div>\n\n            <div class="form-row">\n                <label>${i18n.读写权限：}</label>\n                <div class="form-value">\n                    <p>\n                        <select class="access-select"\n                                data-ui-type="Select"\n                                data-ui-id="accessSelect"\n                                data-ui-width="200"\n                                data-ui-name="access"\n                                data-ui-selected-index="0">\n                            <option value="private">${i18n.私有}</option>\n                            <option value="public-read">${i18n.公共读}</option>\n                            <option value="public-read-write">${i18n.公共读写}</option>\n                        </select>\n                    </p>\n                    <p class="tip">${i18n.注：高级权限，请在Bucket详情页中配置}</p>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n\n\x3c!-- target: TPL_inf_ria_page_bos_bucket_create_child --\x3e\n\x3c!-- import: TPL_inf_ria_page_bos_bucket_create --\x3e\n'}),define("inf-ria-page/bos/CreateModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","promise","bat-ria/mvc/FormModel","inf-ria/decorators"],function(exports,module,e,t,n,i,a,r,o){var s=i["default"](n),l=i["default"](a),u=function(n){function i(){t["default"](this,a);for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];n.call.apply(n,[this].concat(i)),this.datasource={locations:function(e){var t=e.get("getBucketLocations");return t?l["default"].resolve(t()).then(function(t){var n=e.getRegion();return s["default"].map(t.locations,function(e){return{name:n.getLabel(e),value:e}})}):[]}}}e["default"](i,n),i.prototype.submitRequester=function(){var e=this.get("createBucket");if(e)return e.apply(undefined,arguments)};var a=i;return i=o.accessor("region")(i)||i}(i["default"](r)["default"]);module.exports=u}),define("inf-ria-page/bos/CreateView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/tpl!./create.tpl","inf-i18n","babel-runtime/helpers/interop-require-default","bat-ria/mvc/FormView"],function(exports,module,e,t,n,i,a,r){var o=a["default"](i),s=function(n){function i(){t["default"](this,i),n.call(this),this.template="TPL_inf_ria_page_bos_bucket_create",this.uiProperties={bucketName:{required:"required",requiredErrorMessage:o["default"]("bucket名称必填"),pattern:"^[a-z\\d][a-z\\-\\d]{1,61}[a-z\\d]$",patternErrorMessage:o["default"]("bucket名称不符合规则"),validityLabel:"bucketNameValidity"},location:{datasource:"@locations"}}}return e["default"](i,n),i.prototype.enterDocument=function(){n.prototype.enterDocument.call(this);var e=this.get("bucketName");e&&e.main.getElementsByTagName("input")[0].focus()},i}(a["default"](r)["default"]);module.exports=s}),define("inf-ria-page/custom-nav/Action",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","underscore","etpl","bat-ria/mvc/BaseAction","inf-ria/decorators","inf-monitor/logger"],function(exports,module,e,t,n,i,a,r,o,s,l){var u=i["default"](n),d=i["default"](a),c=i["default"](r),f=i["default"](o),p=i["default"](l),h=function(n){function i(){t["default"](this,a),n.apply(this,arguments)}e["default"](i,n),i.prototype.initBehavior=function(){var e=this;n.prototype.initBehavior.call(this),this.on("saveConfig",this.saveConfig,this),this.renderSelcetedProduct(),this.syncShortcutToCheckbox(),u["default"](".seleted-product").on("click",".icon-close",function(t){var n=u["default"](t.target).data("service"),i=d["default"].reject(e.model.get("shortcutServices"),function(e){return e.type===n});e.model.set("shortcutServices",i),e.syncShortcutToCheckbox();try{p["default"].log({target:"CustomNav",action:"removeshortcut",value:n,url:window.location.href.replace(/\?[^#]*/,"")})}catch(a){}}),u["default"](".seleted-product").on("dragenter",".selected-item",function(e){e.preventDefault()}),u["default"](".seleted-product").on("dragover",".selected-item",function(t){t.preventDefault(),u["default"](t.currentTarget).hasClass("dragging")||(t.originalEvent.offsetY>t.currentTarget.offsetHeight/2?u["default"](e.dragTarget).detach().insertAfter(u["default"](t.currentTarget)):u["default"](e.dragTarget).detach().insertBefore(u["default"](t.currentTarget)))}),u["default"](".seleted-product").on("dragend",".selected-item",function(t){u["default"](t.currentTarget).removeClass("dragging"),e.dragTarget=null;var n=d["default"].map(u["default"](".selected-item"),function(e){return u["default"](e).data("product")}),i=e.model.get("shortcutServices"),a=d["default"].map(n,function(e){return d["default"].find(i,function(t){return e===t.type})});e.model.set("shortcutServices",a)}),u["default"](".seleted-product").on("dragstart",".selected-item",function(t){var n=t.originalEvent;u["default"](t.target).addClass("dragging"),n.dataTransfer.setData("Text","product"),n.dataTransfer.effectAllowed="move",n.dataTransfer.setDragImage&&n.dataTransfer.setDragImage(n.target,0,0),e.dragTarget=t.target}),u["default"](".product-cb").on("click",function(t){var n=t.target.value,i=t.target.checked,a=e.model.get("shortcutServices");if(i){var r=e.model.get("serviceMap")[n];if(!r)return;var o={type:n,url:r.listUrl,name:r.serviceDisplayName,icon:r.icon||"icon-"+n.toLowerCase()};a.unshift(o)}else a=d["default"].reject(a,function(e){return e.type===n});try{p["default"].log({target:"CustomNav",action:i?"addshortcut":"removeshortcut",value:n,url:window.location.href.replace(/\?[^#]*/,"")})}catch(t){}e.model.set("shortcutServices",a),e.syncState()})},i.prototype.renderSelcetedProduct=function(){var e=c["default"].render("TPL_inf_ria_page_custom_nav_item",{shortcutServices:this.model.get("shortcutServices")});u["default"](".seleted-product").html(e)},i.prototype.syncShortcutToCheckbox=function(){var e=this.model.get("shortcutServices"),t=u["default"](".product-cb");t.prop("checked",!1),d["default"].each(e,function(e){var n=e.type,i=d["default"].find(t,function(e){return e.value===n});i&&u["default"](i).prop("checked",!0)}),this.syncState()},i.prototype.syncState=function(){d["default"].keys(this.model.get("shortcutServices")).length>=12?(d["default"].each(u["default"](".product-cb"),function(e){return u["default"](e).prop("disabled",!0)}),d["default"].each(u["default"]("input[type=checkbox]:checked"),function(e){return u["default"](e).prop("disabled",!1)})):d["default"].each(u["default"](".product-cb"),function(e){return u["default"](e).prop("disabled",!1)}),u["default"](".selected-count").text(d["default"].keys(this.model.get("shortcutServices")).length),this.renderSelcetedProduct()},i.prototype.saveConfig=function(){var e=this.model.get("parentAction");this.getGlobalStorage().set("custom-products",this.model.get("shortcutServices")),e.renderProducts(),e.toggleNavigation();try{p["default"].log({target:"CustomNav",action:"saveshortcut",value:d["default"].pluck(this.model.get("shortcutServices"),"type").join(","),url:window.location.href.replace(/\?[^#]*/,"")})}catch(t){}this.parentDialog.dispose()};var a=i;return i=s.accessor("globalStorage")(i)||i}(f["default"]);module.exports=h}),define("inf-ria-page/custom-nav/ActionModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/mvc/BaseModel","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i}(i["default"](n)["default"]);module.exports=a}),define("inf-ria-page/custom-nav/ActionView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/tpl!./custom-nav.tpl","bat-ria/mvc/BaseView","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,i),n.call(this),this.template="TPL_inf_ria_page_custom_nav"}return e["default"](i,n),i}(a["default"](i)["default"]);module.exports=r}),define("inf-ria-page/custom-nav/custom-nav.tpl",[],function(){return'\x3c!-- target: TPL_inf_ria_page_custom_nav --\x3e\n<div class="inf-ria-page-custom-nav">\n    <div class="left">\n        <h3>${i18n.导航产品（可拖动排序）}</h3>\n        <div class="seleted-product">\n        </div>\n        <span class="float-right count-wrapper">${i18n.已选}<i class="selected-count">0</i>/${i18n.可选}12</span>\n    </div>\n\n    <div class="all-product">\n        <form id="all-product-form">\n        \x3c!-- for: ${serviceList} as ${serviceType}, ${index} --\x3e\n        <div class="service-type">\n            <h3>${serviceType.name}</h3>\n            <div class="product-list">\n                \x3c!-- for: ${serviceType.services} as ${service}, ${key} --\x3e\n                <label class="product-item"><input type="checkbox" class="product-cb" name="service" value="${key}">${service.name}</label>\n                \x3c!-- /for --\x3e\n            </div>\n        </div>\n        \x3c!-- /for --\x3e\n        </form>\n    </div>\n</div>\n\n\x3c!-- target: TPL_inf_ria_page_custom_nav_child --\x3e\n\x3c!-- import: TPL_inf_ria_page_custom_nav --\x3e\n\n\n\x3c!-- target: TPL_inf_ria_page_custom_nav_item --\x3e\n\x3c!-- for: ${shortcutServices} as ${service}, ${index} --\x3e\n<div class="selected-item" data-product="${service.type}" draggable="true">\n    <i data-service="${service.type}" class="iconfont icon-close"></i>\n    <p>${service.name}</p>\n</div>\n\x3c!-- /for --\x3e\n'}),define("inf-ria-page/error/NotFound",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/mvc/BaseAction","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i}(i["default"](n)["default"]);module.exports=a}),define("inf-ria-page/error/NotFound.tpl",[],function(){return'\x3c!-- target: TPL_inf_ria_page_error_notfound --\x3e\n<div class="inf-ria-page-error-notfound">\n    <div class="wrap">\n        <p>${i18n.出错啦！都飞到云层外了！}<p/>\n        <a href="#/">${i18n.返回首页>>}</a>\n    </div>\n</div>\n'}),define("inf-ria-page/error/NotFoundModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","inf-ria/mvc/BaseModel","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i}(i["default"](n)["default"]);module.exports=a}),define("inf-ria-page/error/NotFoundView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/tpl!./NotFound.tpl","inf-ria/mvc/BaseView","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i,a){var r=function(n){function i(){t["default"](this,i),n.call(this),this.template="TPL_inf_ria_page_error_notfound"}return e["default"](i,n),i}(a["default"](i)["default"]);module.exports=r}),define("inf-ria-page/monitor/MonitorChart",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","jquery","babel-runtime/helpers/interop-require-default","underscore","bat-ria/mvc/BaseAction","inf-ria/decorators","inf-ria/utils/mtools"],function(exports,module,e,t,n,i,a,r,o,s){var l=i["default"](n),u=i["default"](a),d=i["default"](r),c=i["default"](s),f=function(n){function i(){t["default"](this,a),n.apply(this,arguments)}e["default"](i,n),i.prototype.initBehavior=function(){n.prototype.initBehavior.call(this),this.view.on("getMonitorTrends",this._getMonitorTrends,this),this.view.initView()},i.prototype._getMonitorTrends=function(e){var t=this,n=this.getScope(),i=e.params,a=this.view,r=this.model;a.monitorChart&&a.monitorChart.showLoading(),r.get("scope")===n.BOS&&"space"===r.get("chart")&&delete i.dimensions,r.getMonitorTrends(i).then(function(e){u["default"].isFunction(t.context.beforeRender)&&t.context.beforeRender(e);var n=t.model.get("dimensionsMap");n&&u["default"].each(e.series,function(e){n[e.name]&&(e.name=n[e.name])}),c["default"].adjustSeriesData(e,i.statistics),a.renderMonitorChart(e,i)},function(e){a.monitorChart&&a.monitorChart.dispose(),delete a.monitorChart,l["default"]("#"+r.get("chartId")).html('<span class="err-tips">'+e.global+"</span>")}).ensure(function(){return a.monitorChart&&a.monitorChart.hideLoading()})};var a=i;return i=o.accessor("scope")(i)||i}(d["default"]);module.exports=f}),define("inf-ria-page/monitor/MonitorChart.tpl",[],function(){return'\x3c!-- target: TPL_monitorchartdetail --\x3e\n<div class="instance-monitordetail monitor">\n    \x3c!-- var: type = "monitor" --\x3e\n    \x3c!-- import: TPL_monitor_trend_search_detail_i18n --\x3e\n    <div class="monitor-trend" id="${chartId}"></div>\n</div>\n\n\x3c!-- target: TPL_monitor_trend_search_detail_i18n --\x3e\n<div class="monitor-search-wrap ui-row ${searchHide}">\n    <span class=\'search-item ${statHide}\'>\n        <label >${i18n.统计项：}</label>\n        <select data-ui-type="Select"\n            data-ui-id="${type}Statistics"\n            data-ui-width="110"\n            name="statistics"\n            data-track-id="ti_monitor_statistics"\n            data-track-name="统计项">\n            <option value="average">${i18n.平均值}</option>\n            <option value="sum">${i18n.和值}</option>\n            <option value="maximum">${i18n.最大值}</option>\n            <option value="minimum">${i18n.最小值}</option>\n            <option value="sampleCount">${i18n.样本数}</option>\n        </select>\n    </span>\n    <span class=\'search-item ${periodHide}\'>\n        <label >${i18n.采样周期：}</label>\n        <select data-ui-type="Select"\n            data-ui-id="${type}Period"\n            data-ui-width="110"\n            name="period"\n            data-track-id="ti_monitor_period"\n            data-track-name="采样周期">\n            <option value="60">${i18n.1分钟}</option>\n            <option value="300">${i18n.5分钟}</option>\n            <option value="1200">${i18n.20分钟}</option>\n            <option value="3600">${i18n.1小时}</option>\n            <option value="21600">${i18n.6小时}</option>\n            <option value="43200">${i18n.12小时}</option>\n            <option value="86400">${i18n.1天}</option>\n        </select>\n    </span>\n    <span class=\'search-item ${timeRangeHide}\'>\n        <label >${i18n.最近：}</label>\n        <select data-ui-type="Select"\n            data-ui-id="${type}TimeRange"\n            data-ui-width="110"\n            name="timeRange"\n            data-track-id="ti_monitor_time_range"\n            data-track-name="最近">\n            <option value="1h">${i18n.1小时}</option>\n            <option value="6h">${i18n.6小时}</option>\n            <option value="1d">${i18n.1天}</option>\n            <option value="7d">${i18n.7天}</option>\n            <option value="14d">${i18n.14天}</option>\n            <option value="40d">${i18n.40天}</option>\n        </select>\n    </span>\n    <div data-ui-type="Tip"\n         data-ui-content="${i18n.最多支持1440个数据点的查询显示，请选择合适的采样周期和聚合时间段。}"\n         data-ui-skin="warning"\n         data-track-id="ti_monitor_tip"\n        data-track-name="监控提示"></div>\n    <button data-ui-type="Button"\n        data-ui-id="${type}Refresh"\n        data-ui-skin="refresh"\n        data-track-id="ti_monitor_refresh"\n        data-track-name="刷新"></button>\n</div>\n\n\x3c!-- target: TPL_monitorchartdetail_child --\x3e\n\x3c!-- import: TPL_monitorchartdetail --\x3e\n'}),define("inf-ria-page/monitor/MonitorChartModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","bat-ria/mvc/BaseModel","inf-ria/decorators","bat-ria/io/serverIO"],function(exports,module,e,t,n,i,a,r,o){var s=i["default"](n),l=i["default"](a),u=i["default"](o),d=function(n){function i(){t["default"](this,a);for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];n.call.apply(n,[this].concat(i)),this.datasource={metricName:function(e){var t=e.get("metric").metrics;return"dimensions"===e.get("apiType")?s["default"].pluck(t,"value").join(","):s["default"].pluck(t,"value")},chartId:function(){return"js-big-chart-"+s["default"].random(0,1e3)}}}e["default"](i,n),i.prototype.getMonitorTrends=function(e){var t=this.get("option")||{},n=this.get("fetchUrl");if(n&&""!==n)return u["default"].post(n,e,t);var i=this.getRequestManager();return"dimensions"!==this.get("apiType")?i.bcmMetricDataMetricName(e,t):i.bcmMetricDataDimensions(e,t)};var a=i;return i=r.accessor("requestManager")(i)||i}(l["default"]);module.exports=d}),define("inf-ria-page/monitor/MonitorChartView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/tpl!./MonitorChart.tpl","jquery","babel-runtime/helpers/interop-require-default","underscore","bat-ria/mvc/BaseView","inf-ria/echarts","inf-ria/utils/mtools","inf-ria/decorators"],function(exports,module,e,t,n,i,a,r,o,s,l,u){var d=a["default"](i),c=a["default"](r),f=a["default"](o),p=a["default"](s),h=a["default"](l),v={"1h":3600,"6h":21600,"1d":86400,"7d":604800,"14d":1209600,"40d":3456e3},m=function(n){function i(){t["default"](this,a),n.call(this),this.template="TPL_monitorchartdetail",this.uiProperties={monitorStatistics:{value:"@statistics"},monitorPeriod:{value:"@periodInSecond"},monitorTimeRange:{value:"@timeRange"}},this.uiEvents={"monitorPeriod:change":function(){this._onMonitorPeriodChange()},"monitorTimeRange:change":function(){this._onMonitorTimeRangeChange()},"monitorStatistics:change":function(){this.getMonitorTrends(),window._hmt&&window._hmt.push(["_trackEvent","chart_big_view","chart_big_view_statistics"])},"monitorRefresh:click":function(){this.getMonitorTrends()}}}e["default"](i,n),i.prototype._onMonitorTimeRangeChange=function(){var e=this.get("monitorTimeRange").getValue(),t=this.get("monitorPeriod"),n=+t.getValue(),i=v[e];i<n?t.setValue(300):i>86400&&n<1200&&i<=1209600?t.setValue(1200):i>1209600&&n<3600?t.setValue(3600):this.getMonitorTrends(),window._hmt&&window._hmt.push(["_trackEvent","chart_big_view","chart_big_view_timeRange"])},i.prototype._onMonitorPeriodChange=function(){var e=this.get("monitorTimeRange"),t=e.getValue(),n=+this.get("monitorPeriod").getValue(),i=v[t];n>i?n<21600?e.setValue("1d"):e.setValue("14d"):n<1200&&i>86400?e.setValue("1d"):n<3600&&i>1209600?e.setValue("14d"):this.getMonitorTrends(),window._hmt&&window._hmt.push(["_trackEvent","chart_big_view","chart_big_view_period:"])},i.prototype.initView=function(){this.getMonitorTrends()},i.prototype.getMonitorTrends=function(){var e=this.get("monitorTimeRange").getValue(),t=this.get("monitorPeriod").getValue();if(+t>v[e])this.waitAlert("采样周期大于查询时间区间了");else{e=h["default"].getUTCTimeRange(e,t);var n={periodInSecond:t,statistics:this.get("monitorStatistics").getValue(),startTime:e.startTime,endTime:e.endTime,dimensions:this.model.get("dimensions"),scope:this.model.get("scope")};this.model.get("region")&&c["default"].extend(n,{region:this.model.get("region")});"dimensions"===this.model.get("apiType")?n.metricName=this.model.get("metricName"):n.metricNames=this.model.get("metricName"),this.fire("searchchange",{params:n}),this.fire("getMonitorTrends",{params:n})}},i.prototype.renderMonitorChart=function(e,t){var n=this.model.get("metric");n.statistics=t.statistics;var i=this.getRegion(),a=i&&i.getCurrentRegion();"bjks"===(a&&a.id)&&(n.byteUnit=1e3,n.bitUnit=1e3);var r=this.model.get("extraOption")||{type:"line"},o=h["default"].getChartOptions(e,n,r,{period:this.get("monitorPeriod").getValue()});this.monitorChart=p["default"].init(document.getElementById(this.model.get("chartId"))),this.monitorChart.setOption(o,!0),0===e.category.length&&d["default"]("#"+this.model.get("chartId")).append('<span class="chart-nodata">暂无数据</span>').children("div").css("zIndex",1)};var a=i;return i=u.accessor("region")(i)||i}(f["default"]);module.exports=m}),define("inf-ria-page/region/ChinaMap",["exports","module"],function(exports,module){module.exports={type:"Topology",transform:{scale:[.0023415374016230355,.0018039985796827979],translate:[73.60225630700012,18.19318268400005]},objects:{china:{type:"GeometryCollection",geometries:[{arcs:[[0,1,2,3,4,5,6]],type:"Polygon",properties:{id:1,name:"甘肃"}},{arcs:[[7,8,9,-4]],type:"Polygon",properties:{id:2,name:"青海"}},{arcs:[[10,11,12,13,14]],type:"Polygon",properties:{id:3,name:"广西"}},{arcs:[[15,-14,16,17,18]],type:"Polygon",properties:{id:4,name:"贵州"}},{arcs:[[19,20,-19,21,22]],type:"Polygon",properties:{id:5,name:"重庆"}},{arcs:[[23,24,25,26]],type:"Polygon",properties:{id:6,name:"北京"}},{arcs:[[[27]],[[28,29,30,31]]],type:"MultiPolygon",properties:{id:7,name:"福建"}},{arcs:[[32,33,34,35,36,37]],type:"Polygon",properties:{id:8,name:"安徽"}},{arcs:[[[38]],[[39]],[[40]],[[41,-30,42,43,44,-11,45]]],type:"MultiPolygon",properties:{id:9,name:"广东"}},{arcs:[[-9,46,47,48,49]],type:"Polygon",properties:{id:10,name:"西藏"}},{arcs:[[-5,-10,-50,50]],type:"Polygon",properties:{id:11,name:"新疆"}},{arcs:[[51]],type:"Polygon",properties:{id:12,name:"海南"}},{arcs:[[52,-1,53]],type:"Polygon",properties:{id:13,name:"宁夏"}},{arcs:[[54,55,56,-23,57,-2,-53,58]],type:"Polygon",properties:{id:14,name:"陕西"}},{arcs:[[59,-55,60,61]],type:"Polygon",properties:{id:15,name:"山西"}},{arcs:[[-35,62,63,-20,-57,64]],type:"Polygon",properties:{id:16,name:"湖北"}},{arcs:[[65,-46,-15,-16,-21,-64]],type:"Polygon",properties:{id:17,name:"湖南"}},{arcs:[[-58,-22,-18,66,-47,-8,-3]],type:"Polygon",properties:{id:18,name:"四川"}},{arcs:[[-17,-13,67,-48,-67]],type:"Polygon",properties:{id:19,name:"云南"}},{arcs:[[[68]],[[-25,69]],[[70,71,72,-27,73,74,75,76,-62,77]]],type:"MultiPolygon",properties:{id:20,name:"河北"}},{arcs:[[78,-36,-65,-56,-60,-77]],type:"Polygon",properties:{id:21,name:"河南"}},{arcs:[[[79]],[[80,-71,81,82]]],type:"MultiPolygon",properties:{id:22,name:"辽宁"}},{arcs:[[83,-37,-79,-76,84]],type:"Polygon",properties:{id:23,name:"山东"}},{arcs:[[85,-74,-26,-70,-24,-73]],type:"Polygon",properties:{id:24,name:"天津"}},{arcs:[[86,-31,-42,-66,-63,-34]],type:"Polygon",properties:{id:25,name:"江西"}},{arcs:[[87,88,-38,-84,89]],type:"Polygon",properties:{id:26,name:"江苏"}},{arcs:[[[90,91,-88]],[[92]]],type:"MultiPolygon",properties:{id:27,name:"上海"}},{arcs:[[[93]],[[94]],[[-92,95,-32,-87,-33,-89]]],type:"MultiPolygon",properties:{id:28,name:"浙江"}},{arcs:[[96,-83,97,98]],type:"Polygon",properties:{id:29,name:"吉林"}},{arcs:[[99,-98,-82,-78,-61,-59,-54,-7,100]],type:"Polygon",properties:{id:30,name:"内蒙古"}},{arcs:[[-99,-100,101]],type:"Polygon",properties:{id:31,name:"黑龙江"}},{arcs:[[[102]],[[103,-44]]],type:"MultiPolygon",properties:{id:32,name:"香港"}},{arcs:[[[104]],[[105]]],type:"MultiPolygon",properties:{id:33,name:"澳门"}},{arcs:[[106]],type:"Polygon",properties:{id:34,name:"台湾"}}]}},arcs:[[[13135,10647],[45,22],[96,-16],[33,-89],[38,-18],[29,-67],[110,-69],[60,-106],[-43,-49],[21,-79],[53,-92],[22,-72],[-3,-82],[-37,-27],[-14,-69],[48,-98],[109,-53],[61,-93],[46,17],[55,-20],[20,-35],[42,-17],[44,-67],[27,-7],[38,40],[13,122],[-29,81],[18,16],[127,-12],[62,46],[-30,51],[31,14],[13,94],[-56,75],[-30,-3],[-60,40],[-46,-5],[0,93],[-24,43],[23,25],[4,81],[42,11],[20,60],[-31,54],[25,37],[4,102],[63,4],[61,-46],[108,6],[42,-27]],[[14385,10463],[6,-89],[86,-9],[21,-29],[62,-8],[82,-39],[66,-87],[134,-29],[37,-47],[70,-16],[42,-40],[-23,-74],[21,-56],[-10,-66],[-78,-69],[7,-100],[40,-85],[6,-86],[-53,-67],[-93,-5],[-52,15],[-75,-37],[-24,24],[-77,29],[-30,-50],[68,-139],[-52,-15],[-60,8],[-31,-22],[-75,9],[-47,-28],[-68,82],[-58,28],[-150,-5],[-31,-28],[25,-93],[-25,-67],[-74,-88],[21,-35],[56,0],[49,-34],[26,-41],[-8,-72],[-43,15],[14,-80],[-31,-17],[-36,-91],[21,-41],[1,-93],[33,-56],[-27,-31],[-44,42],[-95,-32],[-42,31],[-102,-66],[-37,-113],[71,-34],[-1,-112],[-10,-29],[-106,-52],[-60,12]],[[13622,8156],[-29,3],[-19,-49],[21,-28],[-71,-73],[-52,-18],[-49,16],[-57,-14],[-25,15],[-83,10],[-38,17],[-65,67],[-50,21],[14,59],[36,61],[-33,43],[-20,73],[5,50],[-50,70],[-8,75],[-27,24],[-149,5],[-95,21],[15,51],[-88,-28],[-71,36],[-18,78],[4,81],[-14,34],[-51,25],[-30,45],[-63,-12],[-79,-60],[9,-46],[-76,-13],[-52,-40],[-63,-25],[73,-120],[6,-64],[54,-39],[0,-41],[-87,-49],[-63,-51],[-14,-35],[-40,-2],[-60,-53],[-14,81],[39,76],[-17,78],[-45,-9]],[[12033,8502],[-70,-10],[-16,65],[-35,41],[-41,-33],[-102,11],[-13,103],[-77,44],[-67,125],[10,77],[51,51],[43,-26],[94,-21],[29,-23],[123,-38],[15,-31],[57,-37],[35,40],[64,21],[28,49],[58,47],[-27,80],[-93,53],[-8,39],[-51,-17],[-17,40],[72,47],[-4,31],[41,54],[110,63],[46,82],[-24,40],[-13,73],[59,16],[46,55],[72,-6],[8,53],[-18,76],[9,46],[59,12],[59,-16],[10,88],[-29,52],[46,73],[-62,51],[-33,9],[-20,96],[-31,61],[-37,27],[27,80],[-92,85],[16,74],[23,42],[-53,63],[-77,57],[-45,14],[-46,41],[15,38],[-56,101],[-73,-114],[-51,48],[-151,104],[-104,91],[-177,79],[-35,81],[-84,31],[-92,99],[-25,-51],[31,-51],[-33,-13],[-119,48],[-103,83],[-26,48],[-170,160],[-2,37],[-57,14],[-77,47],[-76,-66],[-68,5],[-51,37],[-26,-51],[-83,-72],[-302,193],[-96,29],[-47,-4],[-28,-51],[13,-59],[-5,-140],[-16,-58],[12,-40],[-11,-116],[-43,-1],[-143,63],[-3,44],[-80,43],[-111,29],[-20,40],[-50,18],[-72,50],[-67,78],[-45,18],[-66,75],[-106,-20],[-142,50],[-40,32],[-65,13],[-155,2],[-89,-20],[-79,12],[-94,-20],[-97,-46],[-58,6],[-87,-26]],[[8257,11618],[5,167],[-75,198],[2,53],[61,117],[3,169],[47,38],[106,-12],[125,66],[78,130],[107,156],[243,267],[204,112],[185,38],[120,-15],[39,14],[74,78],[-8,80],[11,200],[20,48],[118,75]],[[9722,13597],[352,36]],[[10074,13633],[280,-647],[-85,-91],[26,-59],[103,-127],[161,-147],[-39,-174],[120,-4],[55,19],[77,88],[142,61],[144,3],[72,33],[148,-3],[71,-89],[12,-66],[-28,-55],[-53,-64],[-49,-109],[-117,-76],[-83,-105],[109,-2],[152,-82],[62,-18],[42,-38],[9,-42],[63,-31],[38,-48],[105,0],[18,-16],[9,-117],[15,-35],[68,-58],[57,11],[29,-83],[71,-67],[71,-34],[107,1],[81,92],[1,20],[-85,95],[243,96],[85,-33],[159,-32],[136,96],[77,36],[122,37],[117,9],[16,-74],[70,-120],[-23,-73],[-55,-47],[-27,-64],[-79,-93],[-138,-86],[22,-164],[-57,-21],[-1,-57],[22,-87],[103,-37],[79,-83],[104,-91],[66,-40],[41,6]],[[12033,8502],[-37,-61],[-11,-56],[26,-29],[-35,-77],[-85,60],[-96,-37],[-24,-23],[-14,-105],[43,-45],[-26,-94],[-115,-32],[-88,31],[-40,-130],[-30,-27],[-25,45],[37,44],[-26,58],[-43,50],[-61,-18],[-14,-50],[-44,19],[16,62],[-47,85],[-88,12],[-31,-20],[-30,-98],[-81,51],[-94,28],[-27,62],[-53,41],[-107,57],[-33,71],[-16,103],[-44,66],[5,38],[-80,90],[-67,4],[-38,52],[-76,11],[-92,-53],[-31,0],[-21,78],[-37,-41],[-97,-34],[3,-143],[37,-28],[27,-60],[79,-26],[-47,-43],[-49,-74],[2,-83],[-61,-82],[29,-109],[122,-87]],[[10298,7955],[-36,-55],[-29,22],[-86,9],[-15,-43],[28,-21],[-14,-69],[-45,-31],[0,-72],[-56,-36],[-45,7],[-113,-27],[0,-75],[18,-68],[-133,21],[-88,86],[-41,-21],[-14,-51],[27,-24],[1,-72],[-51,52],[-105,8],[-110,26],[-40,-11],[-39,39],[-22,79],[30,78],[-18,42],[-53,41],[-84,9],[-47,42],[-6,51],[-78,59],[-14,32],[-60,44],[-113,-73],[-60,-10],[-28,-24],[-100,9],[-61,43],[-59,-5],[-37,-26],[-70,34],[-54,45],[-80,2],[-11,40],[-67,-4],[-52,18],[-33,-11],[-79,16],[-104,-14],[-11,69],[-47,9],[-47,-20],[-70,66],[-39,8],[-76,54],[-71,106],[-7,37],[-73,0],[-26,-46],[-76,-9],[-63,-54],[-61,8],[-96,70],[-48,4],[-50,62],[-1,55],[-27,43],[-71,29],[-41,107],[-58,48],[-45,102],[64,58],[23,103],[-19,13],[-2,81],[-29,103],[43,59],[-16,45],[-87,8],[-5,73],[-50,77],[13,72],[105,56],[-17,36],[10,74],[32,103],[-89,7],[-41,22],[-21,60],[34,36],[69,16]],[[6865,9916],[81,-9],[45,22],[18,82],[65,-69],[195,-10],[88,-55],[37,1],[84,34],[10,37],[-32,96],[-23,105],[-86,30],[-50,78],[10,68],[41,49],[106,20],[99,38],[12,58],[-35,42],[-68,163],[-50,17],[-53,49],[-170,95],[-11,38],[13,82],[-105,183],[-19,59],[69,19],[71,37],[68,50],[7,28],[153,14],[121,25],[84,40],[59,5],[211,64],[89,60],[258,57]],[[16397,3627],[-27,-21],[0,-54],[31,-27],[-6,-48],[24,-47],[-31,-58],[-45,-25],[12,-133],[-39,-45],[-6,-34],[-58,-4],[-24,-102],[-55,-25],[-1,-30],[-33,-70],[-13,-88],[3,-74],[18,-48],[-26,-80],[-72,-89],[-49,-4],[-18,-57],[-115,-32],[-48,-220],[-75,-18],[-57,22],[9,-50],[0,-117],[-59,-8],[-32,12],[-75,-17],[-21,-99],[-72,-62]],[[15437,1875],[-42,-31],[-33,34],[-18,-50],[-40,-20],[-52,2],[-43,-23],[-70,11],[39,41],[-3,51],[-29,19],[-41,-17],[-30,33],[-64,-9],[-77,90],[-7,51],[-45,-21],[24,-97],[-26,-26],[-52,36],[-30,-63],[-50,-8],[-62,-53],[-57,64],[-48,31],[-56,-28],[-113,-4],[-32,66],[-43,-2],[-46,45],[-19,53],[-67,43],[-60,21],[-22,47],[-4,73],[-19,55],[-27,5],[-12,53],[18,82],[48,2],[23,65],[-2,58],[-27,37],[-77,32],[-73,-40],[-35,6],[-13,46],[-87,16],[-62,-39],[-70,77],[-59,9],[-13,57]],[[13632,2755],[139,197],[58,-27],[62,39],[10,117],[18,65],[-16,58],[-79,63],[-42,-34],[-36,-3],[-110,59],[-36,-49],[-54,44],[-29,-18],[-35,46],[2,79],[-49,67],[-43,-8],[-89,28],[-10,-57],[-26,-14],[-29,35],[-42,97],[-3,67],[20,24]],[[13213,3630],[80,-61],[53,41],[10,27],[58,24],[38,87],[45,27],[36,-39],[39,13],[27,-18],[27,-59],[71,-15],[48,-41],[55,7],[37,-45],[74,74],[10,53],[-18,46],[64,12],[120,68],[34,38],[93,13],[47,33],[8,54],[-17,48],[21,32],[94,34],[66,-95],[43,-96],[61,29],[58,-63],[36,-4],[45,35],[43,2],[26,31],[2,65],[69,85],[47,-13],[70,-55],[54,103],[34,-44],[71,14],[36,26],[26,117],[27,-31],[65,-4],[42,142],[24,22]],[[15312,4349],[63,8],[29,-38],[2,-53],[41,11],[4,64],[24,11],[32,76],[64,-17],[-12,-63],[44,8],[47,-41],[40,75],[61,33],[23,29],[17,70],[47,-10],[16,-32],[66,0],[24,60],[80,-43],[55,-14],[2,-39],[-23,-155],[23,-34],[65,21],[1,-58],[-37,-40],[-4,-126],[-26,-58],[-38,-19],[-22,-70],[-51,-48],[-17,-70],[22,-50],[31,5],[20,56],[64,57],[65,-23],[15,-48],[-14,-42],[19,-84],[-20,-62],[38,-21],[64,76],[56,-11],[55,8],[30,-21]],[[15228,5717],[2,-102],[39,-32],[-24,-94],[27,-36],[-22,-33],[7,-90],[37,-39],[14,-49],[-12,-50],[-91,-64],[-81,-101],[-49,-41],[-47,-58],[36,-36],[32,5],[62,59],[26,-30],[32,40],[88,-12],[26,-38],[4,-47],[-27,-42],[26,-42],[-46,-39],[-44,-15],[35,-45],[11,-61],[-37,-62],[-8,-62],[44,-24],[24,-128]],[[13213,3630],[2,40],[69,113],[-8,46],[13,61],[-21,48],[-44,46],[-6,58],[-51,12],[-5,40],[-49,48],[49,106],[-12,51],[45,46],[20,132],[55,61],[-49,114],[-86,35],[-60,-12],[-28,14],[-56,-76],[-82,18],[-30,45],[7,57],[-25,37],[26,45],[0,42],[-33,54],[-2,55],[92,132],[30,5],[82,-71],[73,94],[42,-52],[65,-18],[81,10],[37,-12],[90,56],[49,-7],[43,179]],[[13536,5282],[27,21],[70,8],[52,-53],[98,37],[70,6],[27,18],[62,-7],[42,33],[-20,91],[-36,31],[-7,38],[-38,28],[-43,-19],[-44,6],[-25,65],[-77,28],[-20,91],[27,56],[89,14],[39,80],[88,-94],[34,-15],[48,9]],[[13999,5754],[46,-18],[31,125],[28,-72],[-28,-70],[80,-4],[6,49],[28,10],[3,67],[23,39],[36,2],[24,46],[56,-3],[58,-41],[60,38],[27,65],[-33,46],[3,59],[28,35],[26,-33],[97,-27],[2,-54],[37,-31],[77,44],[98,7],[35,-166],[-16,-49],[108,-49],[0,-125],[63,56],[23,-28],[-24,-102],[92,-23],[65,3],[26,128],[44,39]],[[15371,7508],[56,-56],[3,-42],[84,-23],[77,-67],[28,-116],[-29,-37],[9,-120],[-26,-43],[-30,-1],[-54,34],[-52,-29],[-46,-65],[-105,-75],[-63,8],[-29,-17],[-92,23],[-41,-32],[-67,-15],[-18,28],[-41,-42],[-60,-6],[-22,-49],[64,-46],[3,-239],[-59,-30],[20,-53],[28,-7],[43,75],[35,-89],[76,-32],[0,-76],[20,-85],[40,-23],[27,-52],[56,-61]],[[15206,6048],[29,-30],[-13,-66],[1,-80],[14,-32],[-29,-55],[31,-31],[-11,-37]],[[13999,5754],[-36,55],[-16,109],[-107,58],[-56,-30],[-57,42],[-19,126],[-24,26],[-95,35],[-7,54],[-39,22],[-10,64],[52,65],[60,25],[2,31],[65,35],[13,92],[-78,64],[65,70],[35,82],[142,-44],[49,-68],[62,24],[63,41],[37,-38],[42,-116],[23,-13],[112,12],[84,100],[61,145],[45,61],[-9,84],[22,33],[98,34],[48,-40],[34,35],[1,42],[32,50],[11,101],[69,61],[13,75],[78,55],[47,79],[-7,46],[-91,72],[-8,28],[32,56],[32,15],[-13,47],[56,7]],[[14912,7763],[115,-84],[114,-58],[57,-56],[27,-53],[36,-22],[110,18]],[[18686,12231],[-19,-82],[-31,-10]],[[18636,12139],[-107,-32],[-68,1],[-36,-43],[16,-38],[60,-64],[-20,-49]],[[18481,11914],[-35,-46]],[[18446,11868],[-81,5],[-75,-50],[-18,-44],[-59,35],[-16,37],[-114,2],[-80,-37],[-59,52],[-66,22],[-12,59],[32,50],[-6,47],[-30,21],[64,74],[104,31],[53,79],[-92,136],[62,39],[52,-8],[57,35],[33,51],[36,-6],[72,29],[-9,60],[92,73],[9,-51],[101,-106],[63,-40],[60,8],[98,-12],[-7,-40],[-72,-15],[-25,-40],[22,-26],[6,-63],[45,-44]],[[19721,4115],[17,-39],[-11,-46],[-42,26],[36,59]],[[19994,4996],[-61,61],[-22,-26],[84,-64],[-27,-31],[-32,8],[-20,-103],[-47,1],[-43,-50],[44,-23],[-21,-83],[-41,4],[40,73],[-56,6],[-38,-79],[-18,80],[-35,-19],[-63,17],[-14,-25],[1,-74],[51,2],[47,-23],[15,-69],[-71,-14],[12,-62],[28,6],[34,55],[23,-35],[-41,-37],[-47,-9],[-92,-165],[-113,58],[22,-67],[43,-15],[40,13],[54,48],[57,-43],[-36,-44],[-10,-111],[-24,7],[-33,-40],[43,-38],[37,-95],[-70,-12],[10,57],[-60,26],[-26,46],[-28,-68],[-55,-41],[48,-50],[28,5],[24,-46],[-24,-30],[-48,-7],[-14,25],[-66,0],[-47,-100],[43,-16],[8,-33],[-120,-61],[13,-68],[-75,-84],[-64,31],[-30,-23],[-94,21],[-37,-25],[-21,-71],[56,-103],[-59,-38],[-19,11],[-21,-103],[-85,-41],[-48,-35],[-20,16],[-31,-72],[-73,-15],[-13,-59],[-38,-22]],[[18608,3006],[-59,68],[-47,188],[18,59],[-36,116],[-58,88],[-1,66],[-60,-9],[-32,-22],[-67,125],[-110,3],[-34,26],[-63,13]],[[18059,3727],[0,46],[-19,108],[28,24],[30,63],[21,158],[41,71],[5,56],[80,50],[31,59],[10,50],[-9,75],[44,66],[40,-6],[10,53],[-33,39],[-16,71],[18,99],[53,66],[108,18],[50,50],[49,92],[-23,39],[10,46],[-5,76],[48,87],[26,27],[-1,47],[111,61],[26,-56],[60,-29],[34,68],[101,24],[30,34],[101,32],[-8,67],[42,38]],[[19152,5596],[22,-14],[101,35],[26,-63],[-13,-19],[-8,-114],[31,-35],[30,-104],[14,-95],[35,-39],[77,-33],[34,2],[54,49],[33,7],[19,62],[44,16],[30,-86],[3,-55],[33,-53],[126,15],[35,32],[84,-12],[26,-46],[6,-50]],[[19657,7173],[-23,-159],[-32,-43],[-25,-72],[-39,20],[-47,-69],[34,-18],[18,-63],[-65,-50],[-65,-1],[-53,22],[-23,-15],[12,-57],[-24,-35],[18,-98],[-32,-57],[-33,-28],[-8,-55],[-71,-58],[-79,-96],[-84,-24]],[[19036,6217],[-27,61],[-54,30],[-37,-13],[-82,3],[-25,28],[-52,9],[-53,84],[1,32],[-56,-1],[-21,43],[-43,2],[-24,-39],[5,-72],[-53,-31],[-29,-52],[-60,-8],[-42,45],[11,45],[53,27],[38,91],[-41,56],[-60,16],[-68,-92],[-44,-5],[-65,-52],[-38,4]],[[18170,6428],[-30,99],[-16,141],[-55,52],[-15,41],[30,54],[-76,111],[3,37],[37,17],[-2,42],[76,71],[-38,25],[-30,53],[-46,8],[-43,41],[-50,-20],[-76,131]],[[17839,7331],[7,52],[61,124],[56,27],[102,6],[11,127],[-17,205],[-42,42],[-41,12],[-20,-49],[-35,0],[-85,87],[-71,17],[-6,149],[-111,55],[-17,69],[36,22],[74,-22],[46,21],[40,72],[-12,68],[13,44],[41,53],[82,24],[-26,88],[24,49],[-30,33],[40,83],[34,9],[46,-32],[51,-4],[4,-53],[47,-70],[44,-33],[101,40],[11,30],[84,60],[-42,93],[13,40],[-9,52],[-65,-6],[-104,95],[-3,66]],[[18171,9076],[50,6],[47,35]],[[18268,9117],[22,0],[84,-86],[61,-18],[14,-29],[63,-6],[9,-63],[27,-67],[54,-35],[69,-7],[30,-27],[48,11],[63,-38],[40,-55],[3,-88],[159,23],[22,-40],[-104,-254],[63,-47],[59,17],[9,-143],[26,-81],[42,-25],[138,0],[11,59],[47,74],[58,-5],[84,-139],[4,-65],[-51,-82],[-80,83],[-60,9],[-85,-21],[49,-67],[7,-63],[-14,-57],[-58,-21],[-7,-34],[-49,-47],[-14,-59],[55,-49],[-1,-38],[88,-49],[-1,-30],[76,-11],[9,-58],[-23,-70],[-32,-21],[27,-73],[111,7],[38,26],[65,-11],[20,-41],[114,-33]],[[15711,1609],[58,-8],[-2,-60],[-118,30],[62,38]],[[16767,1982],[-55,-78],[-10,41],[29,39],[36,-2]],[[17100,2444],[-65,57],[15,22],[47,-49],[3,-30]],[[17222,4022],[36,-8],[6,-92],[38,22],[70,-9],[64,52],[60,12],[5,-26],[54,-39],[-11,-70],[20,-25],[-77,-36],[-58,-41],[-13,-53],[-35,-70],[-46,-35],[41,-55],[58,-53],[31,31],[104,38],[52,-20],[35,45],[44,21],[39,-13],[43,34],[77,22],[77,-98],[45,-35],[40,15],[-21,97],[16,63],[43,31]],[[18608,3006],[-64,24],[-45,-12],[-27,-63],[5,-41],[-50,-69],[-8,-38],[-84,-82],[12,-50],[-29,-44],[-49,-6],[-35,19],[-54,-55],[-41,2],[-50,-35],[-63,2],[-67,48],[-30,-8],[-26,-77],[-64,-26],[-18,52],[-36,26],[-77,-22],[-86,-107],[-52,4],[4,78],[-15,23],[-66,-33],[-17,-25],[6,-66],[34,-30],[-43,-34],[-16,52],[-35,37],[-71,-32]],[[17351,2418],[-63,-14]],[[17288,2404],[-56,-3],[-26,-40],[-50,122],[-13,49],[-34,21],[-34,100],[-34,6],[-58,-61],[54,-58],[-24,-20],[68,-91],[-22,-76],[18,-111],[-45,-46],[-77,16],[-31,-78],[-31,-10],[-20,41],[-36,25],[1,-101],[-31,-48],[-33,0],[-23,50],[-77,-64],[-16,-41],[-70,29],[-34,-53],[-51,-14],[-31,59],[-77,-28],[-129,-88],[-25,-41],[-82,2],[-59,-19],[-40,18],[-144,-82],[-34,11],[-49,-52],[-17,-45],[-66,-7],[-26,89],[-25,-50],[14,-69],[-54,-41],[-48,-57],[0,-76],[98,-13],[-20,-55],[30,-78],[30,-10],[24,-49],[-58,-99],[-51,-26],[-65,-3],[-43,29],[-5,65],[-83,55],[-8,55],[-24,8],[12,106],[-36,8],[-12,51],[20,72],[-16,36],[44,51],[14,78],[42,19],[5,55],[-49,-9],[-23,57]],[[16397,3627],[30,33],[33,-1],[9,65],[-19,21],[40,139],[104,-20],[88,-28],[21,-63],[41,-31],[77,11],[-13,51],[4,69],[-34,34],[12,46],[74,50],[54,50],[88,-67],[43,1],[25,-33],[56,19],[49,-2],[43,51]],[[10298,7955],[128,-44],[81,-60],[7,-58],[38,-68],[61,-80],[-14,-59],[11,-41],[48,-71],[14,-43],[125,-136],[-50,-68],[-36,47],[-30,-33],[3,-38],[78,-109],[-11,-49],[76,-86],[-21,-46],[24,-113],[11,-175],[20,-50],[10,-77],[-22,-53],[-8,-94],[24,-49],[8,-141],[20,-46]],[[10893,6115],[-51,-13],[7,-71],[-56,-145],[-38,105],[-52,-15],[-11,-53],[17,-67],[-38,-48],[22,-137],[-28,-59],[-36,-38],[-34,1],[-47,58],[-30,-84],[-49,-33]],[[10469,5516],[-53,39],[1,30],[-41,48],[-67,15],[-18,59],[-36,-4],[-37,27],[-35,-82],[-4,-53],[-48,-38],[-89,82],[-64,-20],[-35,54],[-79,90],[-37,11],[-36,-42],[-43,-8],[3,51],[70,55],[-9,54],[-51,103],[-39,24],[-7,34],[-66,-40],[-9,46],[61,35],[21,40],[-69,7],[-27,62],[-80,-5],[-39,-20],[-51,9],[-11,-68],[-54,18],[-33,-22],[-1,-43],[-88,2],[-49,-22],[-86,32],[-91,7],[-31,65],[-32,20],[-43,-49],[-56,-14],[-54,-60],[33,-41],[-42,-51],[-95,-38],[-172,-106],[-76,0],[-124,-99],[-27,-71],[-104,-96],[-30,2],[-53,-50],[20,-38],[-31,-68],[-81,-51],[-58,-20],[-30,19],[-70,-15],[-41,-37],[-86,20],[-60,-2],[-4,106],[-87,24],[-64,44],[-40,-9],[-35,-48],[-51,6],[-28,28],[-96,30],[-89,-8],[48,89],[-139,57],[-82,6],[-89,-28],[-45,-62],[-83,-27],[-50,-58],[-47,-89],[-47,-34],[-42,-100],[-32,-11],[-34,-50],[-9,-47],[20,-57],[-45,-8],[-51,51],[-14,76],[28,61],[21,105],[-16,83],[-88,62],[-47,-43],[-52,-25],[-108,-18],[-13,-47],[-116,22],[-29,-47],[-96,9],[-62,-18],[-99,12],[-53,62],[-59,9],[-52,32],[-47,52],[-50,-7],[-20,-86],[-25,-15],[-101,51],[-20,85],[-37,-44],[19,-83],[-57,-23],[-56,151],[-39,25],[-35,57],[-27,-31],[-77,26],[-74,-17],[-76,29],[-1,65],[38,81],[-48,31],[-58,-57],[-51,6],[-52,32],[-30,52],[-67,20],[-41,71],[-51,21],[-2,70],[-42,65],[-14,57],[-66,25],[-96,-32],[-27,-40],[-60,17],[-80,162],[-71,78],[-55,-3],[-57,38],[-27,-16],[-93,100],[-33,46],[-63,45],[-107,36],[5,62],[-26,18],[-3,65],[-132,15],[-80,31],[-46,-45],[-41,23],[-13,-111],[-34,-23],[-36,-71],[-41,7],[-52,132],[-83,37],[-25,39],[-63,41],[-21,-4],[-117,59],[-36,54],[27,35],[-26,33],[-46,0],[-98,98],[-40,10],[-90,-15],[-100,95],[-41,111],[-58,61],[-37,-63],[-49,-16],[-52,24],[10,61],[-27,36],[51,54],[-38,33],[-25,57],[31,108],[-41,40],[-58,95],[-23,12],[-4,109],[-29,56],[28,21],[78,7],[36,33],[25,-98],[73,-64],[63,25],[9,45],[70,10],[86,86],[10,56],[-38,78],[-33,39],[20,94],[-174,101],[-64,84],[-18,51],[5,106],[-31,139],[4,47],[74,44],[31,32],[-8,69]],[[2287,8951],[106,55],[57,-5],[74,23],[88,-33],[32,10],[70,141],[-31,130],[69,54],[-14,38],[70,93],[61,142],[71,-58],[159,-32],[51,-30],[35,53],[64,-40],[63,9],[80,-45],[71,-3],[124,41],[36,71],[87,54],[13,49],[46,31],[121,-22],[31,19],[65,-6],[18,-41],[-3,-61],[55,-43],[63,5],[136,-34],[130,8],[49,23],[63,-21],[35,6],[149,95],[92,22],[62,50],[97,33],[47,-11],[55,15],[98,-45],[42,46],[91,2],[67,63],[53,133],[80,30],[26,27],[109,7],[31,16],[174,24],[64,39],[97,-22],[151,27],[32,25],[196,12],[108,-45],[49,3],[56,-48],[113,-13],[194,-101]],[[2287,8951],[-66,41],[-83,73],[-98,18],[-45,44],[-27,105],[-27,53],[-7,62],[-55,118],[23,102],[-30,23],[-44,-35],[-35,36],[-60,-21],[-106,7],[-69,34],[-62,4],[-28,26],[-61,2],[-139,90],[-3,63],[-56,-3],[-52,-28],[-62,-2],[-22,75],[-23,28],[-59,22],[-12,37],[51,73],[-19,40],[3,89],[-43,87],[-36,38],[-94,44],[-34,-26],[-35,15],[-25,93],[-107,44],[-81,-18],[-106,51],[-52,-18],[-75,70],[52,43],[58,3],[42,37],[26,-43],[122,51],[41,49],[-116,110],[-3,30],[34,63],[-35,43],[4,83],[-43,49],[-9,116],[29,49],[-27,72],[-188,87],[-83,1],[-89,-77],[-58,41],[-48,139],[56,77],[-50,47],[-41,87],[17,56],[-4,62],[80,11],[46,69],[-15,66],[-30,52],[78,142],[69,25],[87,0],[143,125],[54,-7],[-19,56],[21,51],[87,-39],[66,0],[123,95],[33,11],[46,-101],[-12,-46],[18,-42],[102,9],[67,46],[32,-13],[39,41],[37,-52],[51,37],[75,118],[2,56],[60,77],[-2,43],[41,38],[62,17],[48,-18],[91,5],[61,-22],[81,11],[86,35],[89,-14],[43,37],[79,101],[0,50],[111,55],[22,34],[130,57],[140,81],[46,-5],[85,49],[58,7],[41,68],[38,12],[107,-2],[32,35],[-20,59],[25,27],[-55,213],[37,93],[107,41],[-46,91],[88,50],[85,-3],[-17,97],[-39,21],[30,73],[-101,251],[-56,106],[12,93],[-18,82],[19,140],[43,36],[-110,46],[-97,-14],[-53,31],[-4,30],[87,64],[129,14],[26,27],[116,28],[67,-9],[124,43],[254,74],[29,-83],[61,-24],[103,43],[44,3],[78,-62],[46,34],[21,90],[-8,53],[-108,25],[-30,29],[34,112],[50,92],[34,164],[45,75],[71,222],[62,116],[12,140],[59,10],[159,-80],[163,-52],[70,-5],[39,16],[215,-6],[29,-20],[3,-73],[76,19],[123,102],[126,10],[24,70],[44,16],[5,98],[-39,78],[7,55],[-34,164],[30,123],[57,121],[27,27],[95,12],[80,-7],[60,40],[99,21],[77,98],[19,75],[-31,40],[4,44],[69,64],[97,13],[122,-33],[53,27],[124,26],[3,-76],[21,-34],[-49,-26],[21,-67],[97,-39],[13,-26],[-52,-46],[96,-59],[29,0],[78,-55],[63,-28],[7,-73],[96,-59],[54,-5],[48,-57],[85,-7],[39,29],[88,-1],[90,-115],[59,0],[66,31],[16,-69],[105,-73],[48,-72],[12,-102],[104,-164],[50,-17],[44,-60],[31,-75],[-4,-80],[22,-16],[-64,-147],[42,-104],[3,-51],[-124,-149],[-26,-144],[37,-28],[25,-83],[47,-59],[29,16],[69,-10],[48,-37],[89,4],[28,-33],[60,-10],[148,9],[79,-34],[120,-10],[119,23],[82,-18],[94,1],[154,-31],[80,-43],[69,-89],[43,-30],[94,-3],[61,-79],[106,-42],[47,-51],[145,-49],[146,17],[-24,-76],[2,-79],[78,-15],[34,-61],[44,-132],[60,-123],[9,-69],[23,-39],[165,-156],[31,-117]],[[15837,1087],[11,-44],[33,-36],[63,-8],[27,-152],[-14,-47],[-38,-54],[-24,8],[-27,-68],[-25,-8],[-47,-133],[-11,-67],[-42,-96],[2,-58],[-18,-54],[-86,-21],[-53,-57],[-21,-83],[-59,15],[-34,-19],[-38,7],[-29,-83],[-47,-29],[-55,53],[-95,9],[-23,-10],[-31,45],[-38,-1],[-88,67],[-43,10],[-1,119],[-28,64],[11,47],[-16,101],[20,30],[-13,72],[27,52],[32,8],[73,66],[32,49],[60,26],[5,87],[58,64],[69,-48],[26,15],[0,50],[30,23],[52,9],[38,-32],[33,18],[55,-15],[33,11],[28,50],[45,-19],[52,26],[84,-56],[-4,56],[49,41]],[[14544,10898],[-22,-48],[-41,-1],[-32,-56],[-50,-41],[2,-34],[-36,-126],[37,-76],[-17,-53]],[[13135,10647],[29,54],[41,18],[53,-13],[127,22],[60,63],[115,51],[77,-15],[53,8],[56,36],[15,111],[-29,73],[31,50],[5,191],[24,91],[70,135],[22,79],[73,19],[-3,63],[94,9],[50,40],[75,2],[8,-90],[45,-72],[28,-19],[-20,-63],[-97,-157],[-25,-99],[-75,-93],[153,-78],[99,-20],[44,13],[69,-40],[34,-80],[108,-38]],[[16018,11747],[49,-41],[-45,-135],[-53,-35],[-6,-104],[-46,-108],[11,-42],[-16,-43],[-37,-23],[-44,-61],[-39,-16],[-29,-48],[1,-137],[32,-19],[27,-59],[43,-38],[15,-102],[-18,-45],[-49,-46],[14,-63],[-87,-129],[-30,-16],[3,-133],[37,-105],[5,-60],[-16,-75],[-5,-115],[28,-141],[21,-21],[25,-139],[-83,-168],[-38,-54],[-33,-140],[-9,-80],[6,-76],[36,-27]],[[15688,9103],[-4,-75],[65,-85],[-19,-36],[73,-50],[-5,-59],[21,-47],[-21,-56],[66,-42],[19,-54],[75,-59],[18,-55],[2,-70],[-17,-60]],[[15961,8355],[-65,-37],[-48,-50],[-45,25],[-25,51],[-49,-40],[-84,-10],[-60,32],[-186,28],[-61,-15],[-11,-51],[114,-36],[-8,-83],[68,-9],[84,-40],[26,-62],[5,-60],[-40,-3],[-31,-36],[-52,22],[-105,0],[-23,-28],[-8,-75],[-32,-38],[26,-57],[31,-25],[20,-81],[-24,-64],[-7,-105]],[[14912,7763],[-17,29],[-104,7],[-79,-20],[-39,-38],[-50,39],[-78,89],[-86,11],[-4,63],[-34,-1],[-36,-37],[-35,-1],[-57,39],[11,81],[-13,22],[-151,16],[-46,-34],[-102,-21],[-58,-25],[-74,67],[11,89],[-88,-16],[-27,-46],[-77,-30],[-27,12],[-30,98]],[[14544,10898],[97,-29],[45,-42],[21,-51],[125,0],[70,20],[115,7],[11,144],[31,26],[39,-35],[31,103],[-32,49],[14,75],[75,115],[65,43],[47,83],[49,9],[42,67],[16,58],[63,24],[61,70],[91,58],[-29,79],[50,-2],[48,-59],[66,31],[47,-59],[35,-2],[69,112],[71,55],[53,0],[-41,-79],[29,-21]],[[17134,10068],[-21,-74],[6,-92],[-25,-57],[-19,-148],[11,-22],[-51,-67],[-69,-35],[-85,-61],[-47,-13],[-50,-49],[-41,1],[-53,38],[-67,-50],[-200,7],[2,-69],[-99,-15],[-89,-75],[-27,-46],[-70,-23],[-27,10],[-131,-52],[-60,-45],[-151,-45],[-83,17]],[[16018,11747],[100,33],[33,43],[2,57],[28,15],[79,-9],[37,-21],[68,51],[76,175],[28,30],[49,94],[51,33],[84,-28],[59,-36],[47,29],[50,72],[54,27],[61,7],[44,-54],[79,14],[68,47],[56,3],[100,30],[14,34],[-21,47],[54,60]],[[17318,12500],[-1,-39],[46,-68],[12,-95],[63,-10],[7,-37],[-156,-60],[-38,-30],[-26,-64],[64,-55],[127,-31],[8,-112],[60,-71],[-52,-128],[-11,-72],[-76,-56],[-54,3],[-33,25],[-68,-26],[-40,-91],[28,-54],[-67,-84],[-25,-8],[-32,-60],[-7,-88],[17,-75],[99,-50],[43,-113],[58,-110],[32,-29],[-21,-109],[-71,-114],[-12,-48],[-44,-52],[9,-125],[-41,-10],[-31,-57],[-66,-18],[3,-56],[37,-48],[-5,-36],[80,-71]],[[18170,6428],[-64,-25],[-61,-3],[-64,68],[-94,2],[-29,-85],[-27,-36],[-91,-33],[-72,-15],[-33,-22],[-33,-70],[-47,-3],[-102,-39],[-69,20],[-26,-59],[-78,-25],[-69,-76]],[[17211,6027],[-55,33],[-51,-1],[-6,54],[-22,40],[60,80],[-40,137],[-42,1],[-8,86],[-44,-43],[-98,-129],[-17,-33],[-59,26],[-34,-13],[-8,59],[15,60],[-25,45],[-102,-91],[-87,8],[-34,-38],[-83,42],[-19,32],[-86,83],[-66,35],[-79,-8],[-72,12],[-72,58],[-216,36],[-11,-37],[-74,14],[-34,-22],[16,-84],[39,-51],[-62,-25],[-36,-42],[-110,75],[-137,-28],[-36,-44],[-97,-49],[-17,-19],[-40,-135],[-30,-26],[-26,-77]],[[15961,8355],[12,-32],[45,-33],[46,-95],[-3,-26],[66,-58],[61,-79],[10,-40],[77,-6],[29,-44],[117,-36],[39,-34],[61,-24],[106,14],[92,-15],[135,38],[50,-2],[108,-69],[39,4],[38,49],[48,19],[23,-33],[-1,-92],[-12,-31],[18,-92],[29,-61],[41,-17],[6,-47],[48,21],[25,35],[53,-22],[40,-41],[83,2],[-3,-91],[38,-3],[55,-43],[99,-7],[56,65],[36,-27],[2,-55],[29,-29],[37,13]],[[17211,6027],[1,-61],[46,-24],[56,-69],[-13,-96],[-24,-28],[51,-32],[22,-54],[-19,-64],[-39,-20],[-33,-84],[-42,-47],[-77,-22],[-15,-90],[-59,-127],[16,-123],[29,-21],[49,22],[29,-13],[-12,-65],[-29,-49],[59,-108],[-26,-66],[14,-95],[94,-43],[-7,-69],[-23,-38],[-7,-57],[-25,-40],[52,-18],[43,24],[22,-28],[-74,-56],[-10,-75],[-47,-102],[5,-50],[27,-43],[-23,-74]],[[13536,5282],[-30,74],[24,81],[-48,33],[-49,15],[-38,-22],[-4,-51],[-26,-31],[-83,-10],[-42,-20],[-98,64],[-17,47],[47,30],[-29,101],[-46,28],[-8,109],[81,42],[-11,19],[-153,-5],[-94,-15],[-17,-40],[36,-114],[-73,-61],[-19,26],[-40,-11],[-48,-60],[-10,-37],[34,-54],[-3,-59],[-40,-67],[-84,-98],[-42,-86],[-61,-13],[-37,-54],[10,-99],[-15,-44],[10,-60],[31,-52],[36,-152],[-27,-39],[3,-48],[-53,-19],[-68,-71],[-47,13],[7,47],[-25,18],[-135,-83],[-59,-80],[-82,8],[-30,-35],[-32,40],[-5,38],[-37,29],[-35,-11],[-7,55],[28,23],[-43,81],[-56,41],[39,109],[-57,5],[-12,53],[-86,97],[14,81],[-73,3],[-5,74],[-22,58],[-31,33],[2,37],[-90,174],[-55,-33],[-101,20],[-40,26],[-61,93],[-5,67],[49,27],[-8,59],[-61,63],[-29,63],[-37,19],[-8,38],[-41,40],[-11,55],[-33,-16],[-40,-74],[-14,-57],[-46,-20],[-2,-116],[11,-44],[-14,-39],[-46,52],[-48,89],[3,91],[-22,59],[-8,82],[9,60],[-5,144]],[[13632,2755],[-39,58],[-42,28],[-49,-29],[-67,-19],[-49,-40],[-32,2],[-31,-43],[12,-73],[-42,-64],[-28,-15],[-47,14],[-91,-83],[-38,23],[-16,54],[-60,-24],[-21,-35],[-16,-107],[-51,27],[-94,124],[-24,-17],[-17,-71],[-33,-27],[-31,81],[-39,28],[-24,-61],[-48,-39],[1,-39],[-66,-55],[-41,27],[-20,55],[-65,47],[-67,14],[-40,38],[-28,-83],[-53,-66],[-15,-47],[-87,19],[-84,-22],[-45,48],[-25,-25],[-20,-90],[-38,-31],[38,-145],[28,-20],[34,-69],[-10,-49],[28,-72],[-25,-19],[-6,-138],[44,-39],[-29,-51],[-29,2],[-45,43],[-38,10],[-94,-38],[-28,40],[11,65],[-27,22],[1,116],[-45,83],[-116,-75],[-40,-61],[-35,-26],[-70,-8],[-56,39],[-59,-54],[-42,56],[11,56],[-14,30],[-57,21],[-12,72],[19,62],[-10,45],[-52,-15],[-35,27],[-128,32],[-32,-14],[-84,18],[0,41],[49,115],[32,46],[-1,63],[-20,61],[46,76],[6,44],[45,7],[-24,65],[-55,30],[-57,-35],[-60,25],[-21,32],[-72,11],[22,66],[-15,82],[-40,48],[33,40],[-34,91],[-49,15],[0,96],[82,63],[5,33],[-65,-12],[-56,-25],[-35,25],[-73,-12],[-64,11],[-124,-54],[-108,-88],[-52,44],[82,101],[4,85],[-33,89],[-52,-4],[7,174],[55,47],[36,-2],[-19,74],[14,72],[37,95],[28,-31],[67,59],[27,43],[-4,58],[22,66],[54,-34],[24,8],[55,127],[20,24],[43,-21],[35,43],[-47,58],[-15,68],[68,38],[-21,76],[26,54],[2,72],[14,48],[-2,81],[-15,50],[-18,174],[13,71],[-12,46],[2,106],[-120,54],[-7,-66],[-38,-11],[-38,106],[-12,95],[-30,41],[4,95]],[[19238,11558],[-57,-69],[-19,28],[76,41]],[[18636,12139],[-39,-80],[24,-103],[-22,-79],[-118,37]],[[19487,12794],[-29,-54],[-85,-56],[-47,-141],[91,-94],[52,-17],[44,-50],[116,5],[7,-92],[23,-91],[46,-2],[-2,-59],[48,-63]],[[19751,12080],[-134,-52],[-84,-98],[-33,-100],[18,-56],[-51,-44],[-72,-91],[-32,-17],[-35,27],[-27,-31],[-76,5],[-117,-72],[-47,12],[-40,67],[-56,25]],[[18965,11655],[-1,69],[-47,31],[-2,92],[-112,6],[-3,50],[-38,47],[-14,132],[113,-14],[-7,55],[-128,91],[-40,17]],[[18446,11868],[-1,-61],[26,-84],[-11,-69],[28,-63],[-77,-51],[-14,-53],[13,-53],[73,-67],[60,5],[31,-53],[76,-30],[116,35]],[[18766,11324],[74,-135],[51,-59]],[[18891,11130],[-24,-59],[-40,-51],[-50,-13],[-64,-113],[-248,-7],[-40,-19],[-58,-88],[-85,-86],[-26,75],[-55,-88],[15,-41],[-120,-37],[-52,-146],[-97,-146],[-63,-23],[-58,-85],[-29,-69],[29,-68],[45,-57],[5,-51]],[[17876,9958],[-47,-42],[-45,44],[-59,13],[-31,-46],[-44,-25],[-16,35],[-79,18],[-68,-7],[-88,58],[-80,1],[-39,17],[-32,46],[-77,-11],[-37,9]],[[17318,12500],[-40,39],[-17,61],[-48,58],[-11,39],[35,30],[9,49],[-32,29],[8,69],[42,63],[73,34],[7,96],[18,52],[70,53],[26,66],[49,37],[67,-1],[22,22],[50,-134],[-19,-70],[5,-111],[89,3],[55,-17],[52,21],[-3,54],[80,28],[141,86],[34,0],[43,-70],[72,46],[73,70],[38,-34],[57,-14],[110,54],[9,111],[-22,49],[26,48],[72,37],[80,11],[72,-13],[16,50],[61,1],[64,22],[25,-12],[95,-103],[7,-52],[-22,-37],[42,-23],[20,-88],[57,29],[24,-117],[-19,-61],[-51,-19],[36,-70],[30,-13],[24,-142],[46,23],[288,-24],[34,-21]],[[17876,9958],[-15,-90],[-39,-35],[-7,-78],[43,18],[22,49],[115,31],[39,35],[42,-5],[64,45],[-19,-76],[-29,11],[-87,-76],[-46,-57],[-64,-13],[-47,-59],[-21,-66],[-51,-45],[-67,-20],[-54,-89],[-33,-17],[-13,-96],[70,-4],[75,-36],[18,-60],[43,4],[48,-35],[3,-57],[45,-55],[71,13],[46,-16],[97,16],[46,-19]],[[20393,11801],[38,-11],[-17,-51],[-45,12],[24,50]],[[22251,12564],[-61,-45],[-12,-31],[-72,-41],[-145,-63],[1,-42],[-56,14],[-78,-96],[-30,-9],[-122,-114],[-2,-50],[-64,-66],[-93,-38],[-155,34],[-13,-49],[-77,7],[-63,-16],[1,-37],[-39,-19],[-71,8],[-159,-95],[-21,-23],[-82,-31],[-120,-117],[6,-33],[-135,-93],[-17,27],[-53,-15],[3,-76],[-73,-27],[-60,3],[-81,-48],[-27,95],[249,105],[-31,73],[58,51],[-8,33],[-72,-6],[-25,15],[-24,67],[-55,-4],[0,53],[61,10],[25,44],[-22,30],[34,62],[73,37],[29,-4],[94,113],[-1,35],[42,22],[7,46],[44,39],[39,68],[-70,67],[-38,68],[-84,47],[-118,6],[-92,54],[-26,-22],[-53,12],[-79,-50],[-21,-78],[-49,-9],[-12,-42],[-76,-69],[-51,-82],[2,-43],[-30,-30],[-207,-77],[-43,-39]],[[19487,12794],[55,56],[12,54],[-31,103],[-7,66],[9,105],[19,74],[-51,51],[38,54],[97,46],[29,-67],[82,-24],[-6,-49],[36,-67],[29,-15],[30,-62],[-2,-70],[49,31],[85,98],[55,40],[18,61],[50,7],[122,75],[52,-20],[143,133],[75,19],[43,-45],[33,2],[66,46],[17,59],[54,41],[109,-46],[54,47],[-25,43],[47,28],[107,-61],[70,3],[102,45],[22,65],[74,38],[110,38],[36,151]],[[21394,13947],[47,56],[85,-80],[118,-47],[6,-38],[52,-42],[-18,-53],[61,-63],[105,130],[53,-11],[-12,-110],[35,-47],[33,-87],[32,-39],[3,-46],[46,-48],[32,-95],[84,-46],[-79,-108],[4,-153],[61,-1],[9,-58],[77,-160],[37,-23],[13,-58],[-32,-75],[-49,-51],[54,-30]],[[19508,9359],[-45,16],[-42,-31],[-90,-7],[-46,-160],[-33,-36],[-87,3],[-37,-136],[-96,-25],[-50,140],[-57,14],[-54,-14],[-7,-69],[-51,0],[-27,-30],[-52,2],[-56,62],[-27,-13],[-39,-63],[-52,143],[-51,95],[-49,43],[-83,-11],[-69,-22],[-22,-35],[-18,-108]],[[18891,11130],[45,-21],[61,-53],[56,4],[100,-21],[40,-22],[48,43],[79,4],[67,-105],[105,-107],[-88,-27],[-26,-61],[-14,-129],[12,-54],[74,-57],[126,-32],[141,17],[54,54],[-16,62],[86,44],[101,87],[6,49],[182,82],[80,-8],[46,-60],[45,-5],[23,-70],[81,-5],[41,-55],[49,-24],[29,27],[201,6],[71,-36],[68,0],[85,-19],[-45,-41],[23,-56],[-67,-34],[6,-65],[28,-48],[-88,-67],[-51,11],[4,42],[-73,37],[-108,-52],[-21,-29],[-76,-40],[-171,-55],[-58,-47],[-44,-17],[13,-52],[-85,0],[-44,-71],[21,-103],[-62,-17],[-85,-41],[-26,15],[29,69],[-16,19],[-93,-14],[-2,-58],[61,-68],[-87,-72],[-16,-64],[-44,5],[2,-62],[-39,13],[-70,-36],[-41,-113],[-55,-37],[-28,-120],[-33,-11]],[[18965,11655],[-53,-10],[-71,-60],[-4,-62],[-54,-94],[-17,-105]],[[19036,6217],[-19,-61],[-34,-13],[-22,-73],[27,-51],[71,-54],[31,-66],[30,-20],[23,-57],[-4,-51],[17,-48],[8,-103],[-12,-24]],[[20388,7371],[-66,-18],[-26,-100],[-29,-16],[-10,-58],[-65,-2],[11,-71]],[[20203,7106],[-92,-20],[7,-47],[-56,-25],[-37,-46],[-19,70],[-36,27],[-64,-10],[-36,13],[-79,79],[-5,35],[-82,15],[-47,-24]],[[19508,9359],[-38,-42],[4,-120],[62,-2],[126,-128],[79,-44],[48,-7],[77,-55],[59,-26],[49,-153],[15,-98],[39,-59],[6,-53],[49,-99],[15,-78],[32,-32],[-3,-42],[33,-37],[11,-62],[27,-7],[5,-94],[-20,-69],[21,-49],[89,-68],[100,-52],[28,-91],[10,-75],[91,-29],[71,-61],[43,-110],[-45,-35],[-60,18],[-167,93],[-73,-52],[-58,10],[-14,38],[-58,77],[-75,30],[-61,3],[-56,-31],[-40,-43],[-58,-3],[-59,40],[-36,68],[5,32],[-43,65],[-54,4],[-1,-47],[42,-20],[-2,-47],[30,-15],[65,-76],[95,-23],[123,61],[100,-23],[31,-83],[30,-36],[107,-43],[84,-108]],[[20388,7371],[87,-69],[77,-47],[65,-101],[43,-102],[-30,-32],[-118,-11],[-94,-39],[-58,-42]],[[20360,6928],[-8,29],[-65,50],[-53,-1],[-5,98],[-26,2]],[[20632,7352],[-26,-9],[-230,120],[-59,71],[38,31],[90,-39],[80,-65],[78,-25],[58,-37],[-29,-47]],[[20364,5493],[-42,-33],[-24,34],[43,64],[23,-65]],[[20743,6601],[50,-19],[2,-74],[-47,34],[-74,21],[-16,64],[49,0],[36,-26]],[[20360,6928],[-62,-51],[-65,-31],[-17,-67],[-65,-71],[-43,-13],[88,-56],[44,23],[66,63],[45,13],[52,-13],[56,-58],[73,-122],[101,-45],[29,-53],[-119,-139],[-105,-26],[3,-58],[192,122],[22,-22],[-26,-176],[14,-41],[-42,-27],[-40,22],[-56,3],[-11,47],[-51,-55],[11,-49],[54,5],[25,-48],[-5,-111],[-27,-56],[-41,-38],[42,-99],[20,-77],[-105,-19],[-52,-69],[-22,70],[-39,21],[-11,-69],[-47,-65],[-19,-64],[-55,-17],[-12,-67],[-60,-117],[-30,-30],[34,-42],[-23,-63],[-33,12],[-12,-111],[-42,2]],[[24621,14011],[12,-49],[-49,-110],[10,-24],[-45,-54],[8,-73],[-47,-34],[-96,10],[-78,-27],[-76,-46],[70,-63],[-60,-33],[-80,101],[-2,88],[-42,3],[-8,41],[-60,-8],[-44,16],[-50,-139],[-25,-168],[-79,-29],[-66,30],[-51,-36],[-14,-88],[-39,-40],[-67,-33],[-10,-30],[-93,7],[-94,-28],[-102,20],[-98,-22],[3,-63],[51,-93],[61,-71],[-50,-99],[-52,-9],[-51,45],[-41,-22],[-90,0],[-70,38],[-88,3],[-95,91],[-5,35],[-63,29],[-42,-49],[-73,-16],[-49,-129],[-103,-161],[-49,-28],[-59,-107],[-130,-23]],[[21394,13947],[-39,6],[-97,49],[-7,48],[55,29],[13,58],[-85,192],[16,60],[-44,29],[-57,161],[-34,11],[-38,-37],[-102,-62],[-145,-64],[-52,15],[12,101],[-83,106],[-18,42],[-4,132],[-11,102],[77,46],[18,48],[-42,90],[-46,19],[-27,46],[-13,68],[-64,-8],[-50,22],[63,110],[-17,54],[95,-17],[104,-92],[67,75],[43,-69],[64,-55],[54,35],[10,167],[116,10],[39,62]],[[21165,15536],[42,25],[41,-17],[241,21],[49,-141],[-23,-22],[35,-59],[-19,-50],[53,-83],[35,2],[73,-102],[72,-20],[21,18],[111,0],[66,28],[33,-57],[87,12],[53,33],[114,19],[2,-84],[58,-69],[133,-52],[115,48],[59,10],[98,-54],[70,-8],[53,-111],[-42,-60],[23,-53],[6,-73],[43,31],[37,-21],[61,18],[78,-42],[-28,-90],[95,-138],[12,-42],[45,-17],[87,39],[-4,119],[48,7],[22,49],[65,33],[25,-28],[14,-75],[-2,-89],[35,-41],[44,-93],[50,-61],[7,-52],[51,-85],[56,-9],[91,38],[9,99],[122,46],[93,3],[21,50],[48,31],[37,-21],[14,-71],[30,-5],[75,66],[23,-21],[35,-143],[74,-23],[140,-98],[34,31],[66,-39],[44,18]],[[20419,19470],[82,-42],[83,-121],[-47,-64],[-80,-74],[-141,-99],[136,-84],[86,-31],[59,-66],[80,8],[66,109],[71,-15],[65,-88],[102,-25],[19,-27],[-58,-58],[49,-138],[-17,-80],[52,-75],[2,-31],[50,-69],[56,-41],[78,-26],[71,4],[57,-38],[93,16],[33,44],[127,9],[80,-28],[65,45],[70,-14],[66,17],[102,94],[29,45],[88,-18],[65,-42],[100,-141],[53,-26],[60,-57],[31,-68],[-24,-44],[-76,-75],[-6,-113],[-119,-94],[-48,-110],[-66,-49],[14,-51],[-30,-53],[4,-202],[14,-64],[-19,-121],[-28,-38],[-126,13],[-18,-63],[-85,-177],[-36,-94],[-7,-113],[17,-73],[-58,-35],[-42,88],[-11,88],[-29,22],[-66,-46],[-150,-142],[-64,-76],[-121,-60],[-37,-74],[-175,-94],[-99,-62],[-69,-111],[72,-111],[96,-54],[85,-107],[81,-44],[61,40],[22,36],[97,-69],[-90,-98],[-45,-6],[-116,14],[-13,-114],[73,-103]],[[10074,13633],[281,-36],[347,-44],[347,-44],[232,63],[513,-82],[82,9],[97,-17],[42,-30],[64,-101],[63,-52],[444,-100],[264,-136],[13,-2],[333,64],[-1,-114],[44,-11],[124,0],[52,-27],[80,81],[31,7],[254,132],[384,163],[602,93],[61,-13],[92,2],[112,-20],[84,28],[111,-13],[98,13],[78,55],[105,44],[69,8],[142,70],[18,38],[68,59],[31,63],[108,128],[69,43],[215,87],[66,78],[77,18],[5,50],[-45,84],[-88,71],[-49,68],[-48,126],[59,103],[3,51],[80,151],[45,41],[71,26],[41,-11],[143,-8],[74,-80],[57,-24],[152,-39],[158,-13],[69,-14],[108,90],[71,18],[47,55],[109,89],[49,102],[87,22],[86,-28],[170,11],[128,28],[160,130],[67,17],[35,52],[-16,58],[61,110],[106,112],[85,41],[213,-18],[22,16],[17,107],[80,11],[49,-44],[43,4],[35,43],[154,66],[84,-14],[74,8],[47,-16],[42,45],[64,-10],[41,-44],[108,-27],[58,9],[97,-20],[96,65],[0,74],[-57,83],[-30,93],[-162,137],[-5,38],[-65,23],[-31,80],[-135,52],[-96,117],[-154,34],[-90,-17],[-67,4],[-56,-27],[-138,-169],[-19,2],[-105,86],[-93,35],[-151,-20],[-109,15],[-68,-31],[-48,-55],[-51,-2],[-124,127],[-21,104],[110,57],[16,27],[-3,143],[97,131],[4,57],[276,528],[159,-83],[84,-28],[94,-5],[122,-56],[58,19],[117,69],[151,124],[52,33],[191,18],[50,16],[46,43],[16,140],[-91,17],[44,38],[21,85],[87,77],[9,93],[99,99],[4,64],[67,73],[82,185],[20,0],[145,117],[66,20],[24,83],[32,31],[-9,67],[-57,60],[42,108],[-125,53],[-109,-29],[-51,9],[-10,89],[106,58],[72,79],[87,63],[94,88],[141,-2],[90,22]],[[20419,19470],[97,38],[106,25],[82,-1],[109,35],[57,-15],[166,5],[126,22],[42,30],[100,-23],[65,14],[40,-26],[102,-27],[64,-57],[48,16],[75,-81],[115,-20],[18,-28],[128,34],[46,-2],[168,-91],[43,11],[92,-86],[84,-100],[-26,-53],[102,-55],[56,-78],[-12,-42],[45,-16],[-44,-48],[91,-26],[-7,-61],[-29,-34],[154,-248],[-3,-64],[66,-50],[-21,-91],[11,-56],[91,-89],[61,-84],[33,-109],[-32,-49],[30,-29],[-12,-48],[106,-59],[-4,-51],[-36,-58],[21,-57],[-11,-55],[58,-31],[33,-66],[46,-30],[69,3],[43,-32],[108,4],[16,17],[121,17],[56,-21],[35,-51],[73,-57],[62,7],[71,-22],[60,34],[30,-73],[59,-3],[19,-50],[68,-80],[143,-97],[59,17],[76,-22],[47,8],[-60,-130],[78,-76],[44,-120],[-67,-92],[8,-36],[96,-93],[15,-92],[35,-19],[169,33],[67,-41],[54,15],[82,-14],[114,11],[73,26],[82,-16],[57,89],[7,45],[62,-4],[116,91],[40,10],[119,-20],[41,13],[69,73],[112,23],[31,23],[141,30],[67,-13],[67,-53],[-7,-70],[-50,-53],[88,-183],[-38,-68],[-85,-87],[-82,-12],[-59,-84],[31,-77],[-44,-27],[-44,-131],[10,-34],[-24,-81],[-59,-81],[31,-39],[-25,-39],[16,-44],[-91,-65],[13,-35],[-26,-80],[-61,-31],[-12,-107],[-31,-63],[-91,-34],[-26,-42],[-18,-106],[7,-67],[-69,-55],[-48,19],[-18,73],[-33,33],[-129,49],[-95,-2],[-88,-58],[-74,57],[-40,-65],[-41,-9],[-8,-61],[-81,-72],[-38,5],[-74,-37],[-45,4],[-51,-37],[57,-89],[85,-348],[-40,-151],[9,-107],[-11,-37],[37,-29]],[[17275,2292],[-53,-65],[-15,45],[68,20]],[[17351,2418],[46,-60],[-26,-31],[1,-67],[-42,13],[-30,40],[-84,6],[36,62],[36,23]],[[17064,2201],[5,-2],[2,0],[0,-2],[-1,-2],[-2,-1],[-2,0],[-1,-5],[3,-2],[2,-1],[2,2],[0,-1],[-1,-2],[2,-2],[3,0],[0,-1],[0,-1],[0,-2],[0,0],[-1,0],[-3,1],[0,-3],[-1,-1],[-2,1],[-1,2],[0,-4],[-1,-2],[0,-3],[-1,-1],[-2,3],[-3,-2],[0,-1],[-1,0],[-1,0],[-1,1],[-1,3],[1,1],[-1,14],[0,0],[-3,5],[-1,2],[0,0],[1,5],[3,0],[0,1],[5,1],[2,-1]],[[17062,2227],[1,-2],[0,-2],[-2,1],[-1,-2],[0,-1],[1,-1],[3,2],[-2,-3],[0,0],[-1,1],[0,-1],[0,-1],[0,-1],[0,-1],[0,-1],[-1,-1],[-3,-2],[-1,-1],[-2,0],[-1,-2],[-2,0],[-1,-2],[0,0],[-2,5],[0,0],[0,1],[1,3],[1,1],[0,1],[2,4],[2,3],[0,2],[-1,0],[0,-1],[-2,-1],[-1,3],[1,1],[0,0],[3,0],[1,2],[1,2],[2,-2],[0,-1],[3,-1],[1,-2]],[[20514,3897],[35,-40],[74,-21],[6,-90],[-35,-53],[-4,-117],[18,-52],[-33,-65],[-3,-69],[-47,-64],[-23,-65],[9,-28],[-46,-203],[-25,-175],[-23,-49],[-4,-61],[-43,-103],[-47,-64],[-20,-57],[-52,-52],[-31,-67],[-31,-131],[2,-130],[-17,-72],[-58,31],[-3,73],[-33,101],[-46,72],[-77,52],[-67,202],[-2,72],[-48,76],[31,117],[-3,88],[28,141],[44,76],[20,61],[66,116],[33,96],[33,44],[23,68],[62,58],[23,70],[67,118],[137,60],[24,46],[45,26],[41,-36]]]}}),define("inf-ria-page/region/NotFound",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/create-decorated-class","babel-runtime/helpers/class-call-check","babel-runtime/core-js/symbol","inf-ria/mvc/BaseAction","babel-runtime/helpers/interop-require-default","inf-ria/decorators"],function(exports,module,e,t,n,i,a,r,o){var s=function(a){function r(){n["default"](this,s),a.apply(this,arguments)}e["default"](r,a),t["default"](r,[{key:i["default"](),decorators:[o.viewOn("regionSelect")],value:function(e){var t=this,n=this.getEventBus();this.getRequestManager().setRegion({regionId:e.region}).then(function(){return n.fire("region_changed")}).then(function(){return t.redirect("/")})}}]);var s=r;return r=o.accessor("requestManager")(r)||r,r=o.accessor("eventBus")(r)||r}(r["default"](a)["default"]);module.exports=s}),define("inf-ria-page/region/NotFound.tpl",[],function(){return'\x3c!-- target: TPL_inf_ria_page_region_notfound --\x3e\n<div class="inf-ria-page-region-notfound">\n    <div class="wrap">\n        <div class="desc">\n            <h4>${errorMessage}</h4>\n            <div class="operate clearfix">\n                <p>${i18n.请切换至：}</p>\n                <ul>\n                    \x3c!-- for: ${regionList} as ${region} --\x3e\n                    <li><button data-ui-group="switch" data-ui-to-region="${region.id}" data-ui-type="Button">${region.label}</button></li>\n                    \x3c!-- /for --\x3e\n                </ul>\n            </div>\n            <div class="legend">\n                <span class="able">目前支持区域</span>\n                <span>暂不支持区域</span>\n            </div>\n        </div>\n        <div class="map"></div>\n    </div>\n</div>\n'}),define("inf-ria-page/region/NotFoundModel",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","underscore","babel-runtime/helpers/interop-require-default","inf-i18n","inf-ria/mvc/BaseModel","inf-ria/decorators"],function(exports,module,e,t,n,i,a,r,o){var s=i["default"](n),l=i["default"](a),u=function(n){function i(){t["default"](this,a),n.apply(this,arguments)}e["default"](i,n),i.prototype.getCity=function(e){var t=e;return-1!==e.indexOf("-")&&(t=(t=(t=e.split("-"))[1]?t[1]:t[0]).replace(/\s+/g,"")),t},i.prototype.prepare=function(){var e=this.getRegion(),t=[],n=this.getService().current();s["default"].each(n.getRegion(),function(e,n){t.push({label:e,id:n})});var i=s["default"].sprintf(l["default"]("%s暂不支持 “%s” 区域的使用"),n.getFullName(),this.getCity(e.getCurrentRegion().label));this.set("regionList",t),this.set("errorMessage",i)};var a=i;return i=o.accessor("service")(i)||i,i=o.accessor("region")(i)||i}(i["default"](r)["default"]);module.exports=u}),define("inf-ria-page/region/NotFoundView",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","bat-ria/tpl!./NotFound.tpl","d3","babel-runtime/helpers/interop-require-default","underscore","inf-ria/mvc/BaseView","inf-ria/decorators","./ChinaMap","./topojson","./places"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d){var c=a["default"](i),f=a["default"](r),p=a["default"](o),h=a["default"](l),v=a["default"](u),m=a["default"](d),g=function(n){function i(){t["default"](this,a),n.call(this),this.template="TPL_inf_ria_page_region_notfound"}e["default"](i,n),i.prototype.enterDocument=function(){var e=this;n.prototype.enterDocument.call(this);var t=this.viewContext.getGroup("switch");t&&t.on("click",function(t){var n=t.target.get("toRegion");e.switchRegion(n)});var i=this.model.get("regionList");this._renderChinaMap(f["default"].pluck(i,"id"))},i.prototype.switchRegion=function(e){this.fire("regionSelect",{region:e})},i.prototype._renderChinaMap=function(e){var t=this,n=c["default"].select(".map").append("svg").attr("width",420).attr("height",310),i=c["default"].geo.mercator().center([107,31]).scale(430).translate([210,155]),a=c["default"].geo.path().projection(i),r={top:{x:-42,y:-42,lx:0,ly:-25,d:"M3.000,-0.000 L79.000,-0.000 C80.657,-0.000 82.000,1.343 82.000,3.000 L82.000,23.000 C82.000,24.657 80.657,26.000 79.000,26.000 L47.977,26.000 L42.062,35.000 L35.875,26.000 L3.000,26.000 C1.343,26.000 -0.000,24.657 -0.000,23.000 L-0.000,3.000 C-0.000,1.343 1.343,-0.000 3.000,-0.000 Z"},right:{x:8,y:-13,lx:50,ly:4,d:"M11.000,0.000 L78.000,0.000 C79.657,0.000 81.000,1.343 81.000,3.000 L81.000,23.000 C81.000,24.657 79.657,26.000 78.000,26.000 L11.000,26.000 C9.343,26.000 8.000,24.657 8.000,23.000 L8.000,18.060 L0.000,13.105 L8.000,7.991 L8.000,3.000 C8.000,1.343 9.343,0.000 11.000,0.000 Z"},bottom:{x:-36,y:8,lx:0,ly:32,d:"M70.000,7.000 L41.908,7.000 L36.000,0.000 L30.702,7.000 L3.000,7.000 C1.343,7.000 0.000,8.343 0.000,10.000 L0.000,30.000 C0.000,31.657 1.343,33.000 3.000,33.000 L70.000,33.000 C71.657,33.000 73.000,31.657 73.000,30.000 L73.000,10.000 C73.000,8.343 71.657,7.000 70.000,7.000 Z"}},o=v["default"].feature(h["default"],h["default"].objects.china);n.append("g").selectAll("path").data(o.features).enter().append("path").attr("class","province").style("fill","#e6f1fb").attr("d",a);var s=n.selectAll(".location").data(m["default"].location).enter().append("g").attr("gp",function(e){return e.group}).attr("class",function(t){var n="location";return-1!==f["default"].indexOf(e,t.name)&&(t.able=!0,n+=" able"),n}).attr("transform",function(e){var t=i([e.log,e.lat]);return"translate("+t[0]+","+t[1]+")"});s.append("circle").attr("r",5),s.append("path").attr("d",function(e){return r[e.toolTip].d}).attr("transform",function(e){var t=r[e.toolTip];return"translate("+t.x+","+t.y+")"});var l=this.getRegion();s.append("text").text(function(e){return l.getLabel(e.name)}).attr("x",function(e){return r[e.toolTip].lx}).attr("y",function(e){return r[e.toolTip].ly}).attr("text-anchor","middle").attr("fill","white");var u={};n.selectAll("[gp] circle").attr("class",function(e){if(e.able&&(u[e.group]=!0),u[e.group])return"able-group"}),n.selectAll("g.able").on("click",function(e){return t.switchRegion(e.name)})};var a=i;return i=s.accessor("region")(i)||i}(p["default"]);module.exports=g}),define("inf-ria-page/region/places",["exports","module"],function(exports,module){module.exports={name:"区域",location:[{name:"bj",log:"116.3",lat:"39.9",toolTip:"top"},{name:"gz",log:"113.23",lat:"23.17",toolTip:"top"},{name:"bd",log:"115.47",lat:"38.88",toolTip:"right"},{name:"su",log:"120.59",lat:"31.30",toolTip:"right"},{name:"hk",log:"114.1",lat:"22.2",toolTip:"right",group:"hk"},{name:"hk02",log:"114.1",lat:"22.2",toolTip:"bottom",group:"hk"},{name:"hkg",log:"114.1",lat:"22.2",toolTip:"right",group:"hk"}]}}),define("inf-ria-page/region/topojson",[],function(){function e(e,t){function n(e,t){for(var n in e){var a=e[n];delete t[a.start],delete a.start,delete a.end,a.forEach(function(e){i[e<0?~e:e]=1}),o.push(a)}}var i={},a={},r={},o=[],s=-1;return t.forEach(function(n,i){var a,r=e.arcs[n<0?~n:n];r.length<3&&!r[1][0]&&!r[1][1]&&(a=t[++s],t[s]=n,t[i]=a)}),t.forEach(function(t){var n,i,o=function(t){var n,i=e.arcs[t<0?~t:t],a=i[0];return e.transform?(n=[0,0],i.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=i[i.length-1],t<0?[n,a]:[a,n]}(t),s=o[0],l=o[1];if(n=r[s])if(delete r[n.end],n.push(t),n.end=l,i=a[l]){delete a[i.start];var u=i===n?n:n.concat(i);a[u.start=n.start]=r[u.end=i.end]=u}else a[n.start]=r[n.end]=n;else if(n=a[l])if(delete a[n.start],n.unshift(t),n.start=s,i=r[s]){delete r[i.end];var d=i===n?n:i.concat(n);a[d.start=i.start]=r[d.end=n.end]=d}else a[n.start]=r[n.end]=n;else a[(n=[t]).start=s]=r[n.end=l]=n}),n(r,a),n(a,r),t.forEach(function(e){i[e<0?~e:e]||o.push([e])}),o}function t(t,n,i){function a(e){var t=e<0?~e:e;(d[t]||(d[t]=[])).push({i:e,g:u})}function r(e){e.forEach(a)}function o(e){e.forEach(r)}function s(e){"GeometryCollection"===e.type?e.geometries.forEach(s):e.type in c&&(u=e,c[e.type](e.arcs))}var l=[];if(arguments.length>1){var u,d=[],c={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e){e.forEach(o)}};s(n),d.forEach(arguments.length<3?function(e){l.push(e[0].i)}:function(e){i(e[0].g,e[e.length-1].g)&&l.push(e[0].i)})}else for(var f=0,p=t.arcs.length;f<p;++f)l.push(f);return{type:"MultiLineString",arcs:e(t,l)}}function n(t,n){function i(e){e.forEach(function(t){t.forEach(function(t){(o[t=t<0?~t:t]||(o[t]=[])).push(e)})}),s.push(e)}function r(e){return function(e){var t,n=-1,i=e.length,a=e[i-1],r=0;for(;++n<i;)t=a,a=e[n],r+=t[0]*a[1]-t[1]*a[0];return.5*r}(a(t,{type:"Polygon",arcs:[e]}).coordinates[0])>0}var o={},s=[],l=[];return n.forEach(function(e){"Polygon"===e.type?i(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(i)}),s.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,l.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){o[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),s.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:l.map(function(n){var i=[];n.forEach(function(e){e.forEach(function(e){e.forEach(function(e){o[e<0?~e:e].length<2&&i.push(e)})})});var a;if((a=(i=e(t,i)).length)>1)for(var s,l=r(n[0][0]),u=0;u<a;++u)if(l===r(i[u])){s=i[0],i[0]=i[u],i[u]=s;break}return i})}}function i(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:a(e,t)};return null==t.id&&delete n.id,n}function a(e,t){function n(e,t){t.length&&t.pop();for(var n,i=d[e<0?~e:e],a=0,r=i.length;a<r;++a)t.push(n=i[a].slice()),u(n,a);e<0&&function(e,t){var n,i=e.length,a=i-t;for(;a<--i;)n=e[a],e[a++]=e[i],e[i]=n}(t,r)}function i(e){return e=e.slice(),u(e,0),e}function a(e){for(var t=[],i=0,a=e.length;i<a;++i)n(e[i],t);return t.length<2&&t.push(t[0].slice()),t}function r(e){for(var t=a(e);t.length<4;)t.push(t[0].slice());return t}function o(e){return e.map(r)}function s(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(s)}:t in c?{type:t,coordinates:c[t](e)}:null}var u=l(e.transform),d=e.arcs,c={Point:function(e){return i(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(i)},LineString:function(e){return a(e.arcs)},MultiLineString:function(e){return e.arcs.map(a)},Polygon:function(e){return o(e.arcs)},MultiPolygon:function(e){return e.arcs.map(o)}};return s(t)}function r(e,t){for(var n=0,i=e.length;n<i;){var a=n+i>>>1;e[a]<t?n=a+1:i=a}return n}function o(e){var t=e[0],n=e[1],i=e[2];return Math.abs((t[0]-i[0])*(n[1]-t[1])-(t[0]-n[0])*(i[1]-t[1]))}function s(e,t){return e[1][2]-t[1][2]}function l(e){if(!e)return u;var t,n,i=e.scale[0],a=e.scale[1],r=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0),e[0]=(t+=e[0])*i+r,e[1]=(n+=e[1])*a+o}}function u(){}return{version:"1.6.19",mesh:function(e){return a(e,t.apply(this,arguments))},meshArcs:t,merge:function(e){return a(e,n.apply(this,arguments))},mergeArcs:n,feature:function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return i(e,t)})}:i(e,t)},neighbors:function(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=a[e];n?n.push(t):a[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function i(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){i(e,t)}):e.type in s&&s[e.type](e.arcs,t)}var a={},o=e.map(function(){return[]}),s={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(i);for(var l in a)for(var u=a[l],d=u.length,c=0;c<d;++c)for(var f=c+1;f<d;++f){var p,h=u[c],v=u[f];(p=o[h])[l=r(p,v)]!==v&&p.splice(l,0,v),(p=o[v])[l=r(p,h)]!==h&&p.splice(l,0,h)}return o},presimplify:function(e,t){function n(e){r.remove(e),e[1][2]=t(e),r.push(e)}var i=l(e.transform),a=function(e){if(!e)return u;var t,n,i=e.scale[0],a=e.scale[1],r=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0);var l=(e[0]-r)/i|0,u=(e[1]-o)/a|0;e[0]=l-t,e[1]=u-n,t=l,n=u}}(e.transform),r=function(){function e(e,t){for(;t>0;){var n=(t+1>>1)-1,a=i[n];if(s(e,a)>=0)break;i[a._=t]=a,i[e._=t=n]=e}}function t(e,t){for(;;){var n=t+1<<1,r=n-1,o=t,l=i[o];if(r<a&&s(i[r],l)<0&&(l=i[o=r]),n<a&&s(i[n],l)<0&&(l=i[o=n]),o===t)break;i[l._=t]=l,i[e._=t=o]=e}}var n={},i=[],a=0;return n.push=function(t){return e(i[t._=a]=t,a++),a},n.pop=function(){if(!(a<=0)){var e,n=i[0];return--a>0&&(e=i[a],t(i[e._=0]=e,0)),n}},n.remove=function(n){var r,o=n._;if(i[o]===n)return o!==--a&&(s(r=i[a],n)<0?e:t)(i[r._=o]=r,o),o},n}();return t||(t=o),e.arcs.forEach(function(e){for(var o,s,l=[],u=0,d=0,c=e.length;d<c;++d)s=e[d],i(e[d]=[s[0],s[1],Infinity],d);for(d=1,c=e.length-1;d<c;++d)(o=e.slice(d-1,d+2))[1][2]=t(o),l.push(o),r.push(o);for(d=0,c=l.length;d<c;++d)(o=l[d]).previous=l[d-1],o.next=l[d+1];for(;o=r.pop();){var f=o.previous,p=o.next;o[1][2]<u?o[1][2]=u:u=o[1][2],f&&(f.next=p,f[2]=o[2],n(f)),p&&(p.previous=f,p[0]=o[0],n(p))}e.forEach(a)}),e}}}),define("inf-ui/app",["exports","module","inf-ria/css!./app.css","san","babel-runtime/helpers/interop-require-default","bat-ria/tpl!./app","./esui","./xui"],function(exports,module,e,t,n,i,a,r){var o=n["default"](t),s=n["default"](i),l=o["default"].defineComponent({template:s["default"],components:{"esui-button":a.XButton,"esui-calendar":a.XCalendar,"esui-boxgroup":a.XBoxGroup,"esui-checkbox":a.XCheckBox,"esui-select":a.XSelect,"esui-monthview":a.XMonthView,"esui-textbox":a.XTextBox,"esui-toast":a.XToast,"esui-searchbox":a.XSearchBox,"esui-table":a.XTable,"esui-panel":a.XPanel,"esui-rangecalendar":a.XRangeCalendar,"esui-pager":a.XPager,"esui-tab":a.XTab,"esui-tip":a.XTip,"esui-region":a.XRegion,"xui-radioselect":r.XRadioSelect}});module.exports={start:function(){var e=new l({data:{content:(new Date).toString(),width:300,height:100,skin:"primary",btns:["btn1","btn2","btn3","btn4"],tabs:[{title:"tab 1"},{title:"tab 2"},{title:"tab 3"},{title:"tab 4"},{title:"tab 5"}],datasource:[{text:"xxx",name:"xxx",value:"xxx"},{text:"xxx",name:"yyy",value:"yyy"},{text:"xxx",name:"zzz",value:"zzz"}],selectedIndex:[1,3],tableds:[{name:"xxx",age:10},{name:"yyy",age:20},{name:"zzz",age:30}],fields:[{title:"Name",content:"name"},{title:"Age",content:"age"}]}});e.attach(document.body),setTimeout(function(){e.data.set("content","-----xxxxx----"),e.data.set("width",400),e.data.set("skin","xxx"),e.data.set("btns",["a1","a2","a3","a4"]),e.data.set("tableds",[{name:"xxx",age:10},{name:"yyy",age:20},{name:"zzz",age:30},{name:"eee",age:40},{name:"fff",age:50},{name:"ggg",age:60}])},3e3)}}}),define("inf-ui/appui",["exports","san","babel-runtime/helpers/interop-require-default"],function(exports,e,t){exports.__esModule=!0;var n=t["default"](e),i=n["default"].defineComponent({template:'<template class="sidebar">\n        <ul id="sidebar" data-menu="{{menu}}"><slot/></ul>\n    </template>'});exports.AppSidebar=i;var a=n["default"].defineComponent({template:'\n    <div class="content-wrap san-page">\n        <slot name="breadcrumb" />\n        <div class="create-content create-content-wrapper">\n            <h2 san-if="pageTitle">{{pageTitle}}</h2>\n            <div class="create-main">\n                <slot/>\n            </div>\n        </div>\n    </div>\n    '});exports.AppContent=a;var r=n["default"].defineComponent({template:'\n    <div class="content-wrap san-page">\n        <slot name="breadcrumb" />\n        <div class="list-content">\n            <h2 san-if="pageTitle">{{pageTitle}}</h2>\n            <div class="table-full-wrap">\n                <div class="operation-wrap" san-if="uiShowOperation">\n                    <div class="buttons-wrap" san-if="uiShowBulk"><slot name="bulk"/></div>\n                    <div class="buttons-quick-wrap" san-if="uiShowFilter"><slot name="filter"/></div>\n                </div>\n                <slot/>\n            </div>\n        </div>\n    </div>\n    ',initData:function(){return{uiShowBulk:!0,uiShowFilter:!0}},inited:function(){var e=this.aNode.givenSlots||this.aNode.sourceSlots;if(e){var t=e.bulk,n=e.filter;this.data.set("uiShowBulk",!!t),this.data.set("uiShowFilter",!!n)}},computed:{uiShowOperation:function(){var e=this.data.get("uiShowBulk"),t=this.data.get("uiShowFilter");return e||t}}});exports.AppListContent=r;var o=n["default"].defineComponent({template:'<i tip="{{title}}" class="iconfont icon-{{name}}"></i>'});exports.Icon=o;var s=n["default"].defineComponent({template:"<div class=\"main-wrap-new {{module ? module + '-main-wrap' : ''}}\"><slot/></div>"});exports.AppView=s;var l=n["default"].defineComponent({template:'<p class="breadcrumb"><slot/></p>'});exports.AppBreadcrumb=l;var u=n["default"].defineComponent({template:"\n    <div class=\"detail-parts-table {{hidden ? 'state-hidden' : ''}}\">\n        <form class=\"ui-ctrl ui-form\">\n            <slot/>\n        </form>\n    </div>\n    "});exports.AppForm=u;var d=n["default"].defineComponent({template:'\n    <dl class="detail-create detail-part-1-col">\n        <slot name="title"><dt><h4>{{title}}</h4></dt></slot>\n        <slot/>\n    </dl>'});exports.FormGroup=d;var c=n["default"].defineComponent({template:"\n    <dd>\n        <slot name=\"label\"><label class=\"{{required ? 'required-label' : ''}}\">{{label ? label + '：' : ''}}</label></slot>\n        <div><slot/></div>\n    </dd>\n    ",initData:function(){return{required:!1,label:""}},inited:function(){""===this.data.get("required")&&this.data.set("required",!0)}});exports.FormRow=c}),define("inf-ui/createPage",["exports","lodash","babel-runtime/helpers/interop-require-default","etpl","promise","./ListPage","./san","./appui","./mixins/ajax"],function(exports,e,t,n,i,a,r,o,s){exports.__esModule=!0,exports.createListPage=function(e){var t={template:f(e),components:{"list-page":c["default"],"app-sidebar":o.AppSidebar},initData:function(){return l["default"].cloneDeep(e.data)},listRequester:function(t){if(l["default"].extend(t,this.getExtraPayload(t)),e.listRequester)return e.listRequester.call(this,t);var n=e.listUrl;return n?s.$post(n,t):d["default"].reject(new Error("Please set listUrl or listRequester"))},getExtraPayload:function(){return null},$loadPage:function(){var e=arguments.length<=0||arguments[0]===undefined||arguments[0];this.ref("page").$loadPage(e)}};return l["default"].extend(t,e.methods),e.components&&l["default"].extend(t.components,e.components),r.defineComponent(t)};var l=t["default"](e),u=t["default"](n),d=t["default"](i),c=t["default"](a),f=u["default"].compile('<template>   <list-page       san-ref="page"       pageTitle="{{pageTitle}}"       sidebarMenu="{{sidebarMenu}}"       breadcrumbs="{{breadcrumbs}}"       isChildAction="{{isChildAction}}"       module="{{module}}"       on-select="onSelect($event)"       searchBoxPlaceholder="{{searchBoxPlaceholder}}"       \x3c!-- if: ${data.isTableMore} --\x3e       isTableMore="{{true}}"       \x3c!-- /if --\x3e       \x3c!-- if: ${data.uiShowFilter} === false --\x3e       uiShowFilter="{{false}}"       \x3c!-- /if --\x3e       \x3c!-- if: ${data.className} --\x3e       className="{{className}}"       \x3c!-- /if --\x3e       \x3c!-- if: ${data.tableFields} --\x3e       tableFields="{{tableFields}}"       \x3c!-- /if --\x3e       \x3c!-- if: ${data.tableSelect} --\x3e       tableSelect="{{tableSelect}}"       \x3c!-- /if --\x3e       \x3c!-- if: ${data.sortable} --\x3e       sortable="{{sortable}}"       \x3c!-- /if --\x3e       \x3c!-- if: ${data.pageSizes} --\x3e       pageSizes="{{pageSizes}}"       \x3c!-- /if --\x3e       >       \x3c!-- if: ${slot.pageTitle} --\x3e       <h2 slot="pageTitle">${slot.pageTitle|raw}</h2>       \x3c!-- /if --\x3e       \x3c!-- if: ${slot.sidebar} --\x3e       <div slot="sidebar">${slot.sidebar|raw}</div>       \x3c!-- /if --\x3e       \x3c!-- if: ${slot.bulk} --\x3e       <div slot="bulk">${slot.bulk|raw}</div>       \x3c!-- /if --\x3e       \x3c!-- if: ${slot.filter} --\x3e       <div slot="filter">${slot.filter|raw}</div>       \x3c!-- /if --\x3e       \x3c!-- if: ${slot.tip} --\x3e       <div slot="tip">${slot.tip|raw}</div>       \x3c!-- /if --\x3e   </list-page></template>')}),define("inf-ui/esui",["exports","esui/Button","babel-runtime/helpers/interop-require-default","esui/BoxGroup","esui/CheckBox","esui/Select","esui/SearchBox","esui/RangeCalendar","esui/TextBox","esui/Table","esui/Pager","esui/Panel","esui/Tip","./uiFactory"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c,f){exports.__esModule=!0;var p=t["default"](e),h=t["default"](n),v=t["default"](i),m=t["default"](a),g=t["default"](r),x=t["default"](o),y=t["default"](s),b=t["default"](l),w=t["default"](u),C=t["default"](d),T=t["default"](c),k=f.createUi(p["default"]);exports.XButton=k;var _=f.createUi(h["default"]);exports.XBoxGroup=_;var S=f.createUi(v["default"]);exports.XCheckBox=S;var I=f.createUi(m["default"]);exports.XSelect=I;var D=f.createUi(g["default"],{defaultProperties:{buttonText:""}});exports.XSearchBox=D;var E=f.createUi(x["default"]);exports.XRangeCalendar=E;var P=f.createUi(y["default"]);exports.XTextBox=P;var A=f.createUi(b["default"]);exports.XTable=A;var M=f.createUi(w["default"]);exports.XPager=M;var O=f.createUi(C["default"]);exports.XPanel=O;var N=f.createUi(T["default"]);exports.XTip=N}),define("inf-ui/ListPage",["exports","module","lodash","babel-runtime/helpers/interop-require-default","jquery","inf-i18n","promise","./san","./appui","./x/components/util"],function(exports,module,e,t,n,i,a,r,o,s){var l=t["default"](e),u=t["default"](n),d=t["default"](i),c=t["default"](a),f='<p class="list-loading"><span class="loading"></span>'+d["default"]("列表加载中，请稍候...")+"</p>",p=[{title:"ID",content:function(e){return l["default"].escape(e.id)}},{title:d["default"]("名称"),content:function(e){return l["default"].escape(e.name)}},{title:d["default"]("操作"),content:function(e){return'<a href="javascript:void(0)">'+d["default"]("删除")+"</a>"}}];module.exports=r.defineComponent({components:{"app-sidebar":o.AppSidebar,"app-view":o.AppView,"app-breadcrumb":o.AppBreadcrumb,icon:o.Icon},template:'\n<template>\n<app-view class="{{uiShowSidebar ? \'with-sidebar\' : \'no-sidebar\'}} {{className ? className : \'\'}}" module="{{module}}">\n    <slot name="sidebar">\n        <app-sidebar menu="{{sidebarMenu}}" san-if="sidebarMenu && !isChildAction" />\n    </slot>\n\n    <div class="content-wrap san-page">\n        <slot name="breadcrumb">\n            <app-breadcrumb san-if="breadcrumbHtml && !isChildAction">\n                {{breadcrumbHtml|raw}}\n            </app-breadcrumb>\n        </slot>\n\n        <div class="list-content">\n            <slot name="pageTitle">\n                <h2 san-if="pageTitle && !isChildAction">{{pageTitle}}</h2>\n            </slot>\n\n            <div class="table-full-wrap">\n                <slot name="tip" />\n                <div class="operation-wrap" san-if="uiShowOperation">\n                    <div class="buttons-wrap" san-if="uiShowBulk">\n                        <slot name="bulk"/>\n                    </div>\n                    <div class="buttons-quick-wrap" san-if="uiShowFilter">\n                        <slot name="filter">\n                            <span class="ui-group ui-search-group">\n                                <ui-searchbox\n                                    value="{=keyword=}"\n                                    placeholder="{{searchBoxPlaceholder}}"\n                                    on-search="onKeywordChange($event)" />\n                            </span>\n                            <ui-button s-if="isTableMore" on-click="reload"><icon name="refresh" /></ui-button>\n                            <ui-button s-else on-click="onRefresh"><icon name="refresh" /></ui-button>\n                        </slot>\n                    </div>\n                </div>\n\n                <x-page-table\n                    isTableMore="{{isTableMore}}"\n                    emptyHtml="{{emptyHtml}}"\n                    tableData="{{tableData}}"\n                    tableFields="{{tableFields}}"\n                    totalCount="{{totalCount}}"\n                    pageSize="{{pageSize}}"\n                    pageSizes="{{pageSizes}}"\n                    pageNo="{{pageNo}}"\n                    followHead="{{followHead}}"\n                    followHeadOffsetH="{{followHeadOffsetH}}"\n                    select="{{tableSelect}}"\n                    sortable="{{sortable}}"\n                    on-pagechange="onPageChange($event)"\n                    on-pagesizechange="onPagesizeChange($event)"\n                    on-command="onCommand($event)"\n                    on-select="onSelect($event)"\n                    on-sort="onSort($event)"\n                    />\n\n                <ui-button s-if="isTableMore && isLoading" class="list-more-btn" width="60" height="30" disabled>\n                    <span class="loading"></span>加载中\n                </ui-button>\n                <ui-button s-if="isTableMore && !isLoading && hasMore" class="list-more-btn"\n                    width="60" height="30" on-click="onLoadMore">\n                    加载更多\n                </ui-button>\n                <ui-button s-if="isTableMore && !isLoading && !hasMore" class="list-more-btn"\n                    width="60" height="30" disabled>\n                    没有更多\n                </ui-button>\n            </div>\n        </div>\n    </div>\n</app-view>\n</template>\n',initData:function(){return{uiShowBulk:!0,uiShowFilter:!0,uiShowSidebar:!0,breadcrumbs:[],sidebarMenu:"",searchBoxPlaceholder:"请输入关键词进行搜索",listRequester:function(e){return new c["default"](function(t,n){setTimeout(function(){return t({pageNo:e.pageNo,totalCount:100,pageSize:e.pageSize,result:[{id:Date.now(),name:"Hello San Page "+e.pageNo}]})},200)})},isLoading:!1,isTableMore:!1,emptyHtml:f,tableSelect:"",tableData:[],tableFields:p,totalCount:0,pageSize:15,pageNo:1,followHead:!0,followHeadOffsetH:50}},inited:function(){},computed:{uiShowOperation:function(){var e=this.data.get("uiShowBulk"),t=this.data.get("uiShowFilter");return e||t},breadcrumbHtml:function(){var e=this.data.get("breadcrumbs");if(!e||!e.length)return"";var t=[],n=e.length,i=e[0],a=e[n-1];t.push("<span>"+i.text+"</span>");for(var r=1;r<n-1;r++){var o=e[r];t.push('<span class="divider"> / </span>'),t.push(o.url?'<a href="'+o.url+'">'+o.text+"</a>":"<span>"+o.text+"</span>")}return t.push('<span class="divider"> / </span><span class="active">'+a.text+"</span>"),t.join("")}},bindEvents:function(){var e=this;this.data.get("isTableMore")&&u["default"](window).on("scroll",function(){window.innerHeight+u["default"](window).scrollTop()>=u["default"]("#main > div").height()-10&&!e.data.get("isLoading")&&e.data.get("hasMore")&&e.onLoadMore()})},onLoadMore:function(){if(this.data.get("isTableMore")){var e=parseInt(this.data.get("pageNo"),10);this.data.set("pageNo",e+1),this.onRefresh()}},reload:function(){this.data.set("pageNo",1),this.data.set("tableData",[]),this.data.set("emptyHtml",f),this.onRefresh()},onRefresh:function(){this._loadPageAsync()},$loadPage:function(e){e?this.reload():this.onRefresh()},onKeywordChange:function(e){var t=e.target.getValue();this.data.set("keyword",t),this.reload()},onPageChange:function(e){var t=e.pageNo;this.data.set("pageNo",t),this._loadPageAsync()},onPagesizeChange:function(e){var t=e.pageSize;this.data.set("pageNo",1),this.data.set("pageSize",t),this._loadPageAsync()},onCommand:function(e){var t=e.name;if("@refresh"!==t){var n=this.owner.commands;n&&"function"==typeof n[t]&&n[t].call(this.owner,e)}else this._loadPageAsync()},onSelect:function(e){var t=e.selectedItems;this.fire("select",{selectedItems:t})},onSort:function(e){var t=e.order,n=e.orderBy;this.data.set("order",t),this.data.set("orderBy",n),this.onRefresh()},_loadPageAsync:function(){var e=this;if(!this.data.get("isLoading")){this.data.set("isLoading",!0),this.data.get("isTableMore")||(this.data.set("tableData",[]),this.data.set("emptyHtml",f));var t=this.data.get(),n=t.pageNo,i=t.pageSize,a={keyword:t.keyword,pageNo:n,pageSize:i,order:t.order,orderBy:t.orderBy},r=this.owner.listRequester?l["default"].bind(this.owner.listRequester,this.owner):this.data.get("listRequester"),o=this.owner.listRequesterHandler?l["default"].bind(this.owner.listRequesterHandler,this.owner):l["default"].bind(this.listRequesterHandler,this);return r(a).then(function(t){e.data.set("isLoading",!1),o(t,e)})["catch"](function(t){e.data.set("isLoading",!1),e.data.set("tableData",[]),e.data.set("emptyHtml",d["default"]('数据加载失败，请 <a data-command="@refresh" href="javascript:void(0)">点击重试</a>'))})}},listRequesterHandler:function(e){var t=this.owner.handleListData?this.owner.handleListData:this.handleListData,n=e.result;n=t(n),this.data.set("tableData",n),this.data.set("emptyHtml",d["default"]("没有数据")),this.data.set("pageSize",e.pageSize),this.data.set("totalCount",e.totalCount)},handleListData:function(e){return e},attached:function(){var e=s.hasSlot(this,"bulk"),t=s.hasSlot(this,"filter"),n=s.hasSlot(this,"sidebar");this.data.set("uiShowBulk",!!e),this.data.set("uiShowFilter",!!t||this.data.get("uiShowFilter"));var i=this.data.get("isChildAction");this.data.set("uiShowSidebar",!i&&(!!n||this.data.get("sidebarMenu"))),this.bindEvents(),this.onRefresh()},disposed:function(){u["default"](window).off("scroll")}})}),define("inf-ui/mixins/ajax",["exports","axios","babel-runtime/helpers/interop-require-default","lodash"],function(exports,e,t,n){function i(e,t,n){return a["default"].post(e,t,n)}exports.__esModule=!0,exports.$post=i,exports.$doRequest=function(e,t,n){return r["default"].isString(e)?i(e,t,n):e.then(function(e){return e(t,n)})};var a=t["default"](e),r=t["default"](n)}),define("inf-ui/mixins/data",["exports","module"],function(exports,module){module.exports={$get:function(e){if(this.data)return this.data.get(e)},$set:function(e,t){this.data&&this.data.set(e,t)}}}),define("inf-ui/mixins/ef",["exports","module","inf-i18n","babel-runtime/helpers/interop-require-default","lodash","promise","esui/Dialog","esui/main","../x/components/util"],function(exports,module,e,t,n,i,a,r,o){var s=t["default"](e),l=t["default"](n),u=t["default"](i),d=t["default"](a),c=t["default"](r);module.exports={$waitAction:function(e){("string"==typeof e||o.isComponent(e))&&(e={content:e});var t=o.isComponent(e.content)?e.content:null,n=l["default"].extend({title:s["default"]("请确认"),content:"Are you sure?",skin:"child-action",width:500,closeButton:!0,needFoot:!0,encode:!1,draggable:!0},e);return new u["default"](function(e,i){var a=d["default"].confirm(n),r=undefined;if(n.needFoot&&(r=a.getFoot().getChild("btnOk")),a.on("ok",function(n){if(t){if("function"==typeof t.$submit)return n.preventDefault(),r&&(r.disable(),r.setContent("提交中...")),t.$submit().then(function(){t.dispose(),a.dispose()}).then(e)["catch"](function(){r&&(r.enable(),r.setContent(a.okText)),i()});t.dispose()}e(undefined)}),a.on("cancel",function(){t&&t.dispose(),i(undefined)}),a.on("close",function(){return a.fire("cancel")}),t){var o=a.getBody();if(o&&o.main&&(o.setContent(""),t.data.set("isChildAction",!0),t.attach(o.main)),r){t.watch("$enableSubmit",function(e){e?r.enable():r.disable()});t.data.get("$enableSubmit")?r.enable():r.disable()}t.on("resize",function(){return a.resize()}),t.on("cancel",function(){a.fire("cancel"),a.dispose()})}a.resize()})},$confirm:function(e){("string"==typeof e||o.isComponent(e))&&(e={content:e});var t=o.isComponent(e.content)?e.content:null,n=l["default"].extend({title:s["default"]("请确认"),content:"Are you sure?",width:500,closeButton:!0,needFoot:!0,encode:!1,draggable:!0},e);return new u["default"](function(e,i){var a=d["default"].confirm(n);if(a.on("ok",function(){t&&t.dispose(),e(undefined)}),a.on("cancel",function(){t&&t.dispose(),i(undefined)}),a.on("close",function(){return a.fire("cancel")}),t){var r=a.getBody();r&&r.main&&(r.setContent(""),t.attach(r.main))}a.resize()})},$alert:function(e){("string"==typeof e||o.isComponent(e))&&(e={content:e});var t=o.isComponent(e.content)?e.content:null,n=l["default"].extend({title:s["default"]("请确认"),content:"Are you sure?",width:500,needFoot:!0,encode:!1,closeButton:!1,draggable:!0},e);return new u["default"](function(e,i){var a=d["default"].alert(n);if(a.on("ok",function(){t&&t.dispose(),e(undefined)}),a.on("cancel",function(){t&&t.dispose(),i(undefined)}),a.on("close",function(){return a.fire("cancel")}),t){var r=a.getBody();r&&r.main&&(r.setContent(""),t.attach(r.main)),t.on("resize",function(){return a.resize()}),t.on("cancel",function(){a.fire("cancel"),a.dispose()})}a.resize()})},$errorHandler:function(e){if(this.lifeCycle&&!this.lifeCycle.is("disposed")&&e){if(e.global)return this.$alert(e.global);if(e.field)return this.$alert({content:l["default"].values(e.field).join(", "),title:s["default"]("数据不合法")});if(e.code&&e.message&&e.message.field)return this.$alert({content:l["default"].values(e.message.field).join(", "),title:s["default"]("数据不合法")});var t=e instanceof Error?e.toString():JSON.stringify(e,null,2);return this.$alert('<pre style="line-height:1.2;font-size:12px;font-family:monospace;">'+t+"</pre>")}},$waitActionDialog:function(e){var t=document.createElement("div");document.body.appendChild(t);var n={width:600,needFoot:!1,draggable:!0,closeOnHide:!0,autoClose:!0,main:t,viewContext:this.viewContext};e=l["default"].defaults({},e,n);var i=c["default"].create("ActionDialog",e);i.render(),i.show(),t.style.visibility="hidden",t.style.opacity="0";return new u["default"](function(e,t){i.on("actionloaded",e),i.on("actionloadfail",t),i.on("actionloadabort",t),i.on("actionloaded",function(){i.resize(),i.main.style.visibility="visible",i.main.style.opacity="1"})})}}}),define("inf-ui/mixins/filters",["exports","inf-i18n","babel-runtime/helpers/interop-require-default"],function(exports,e,t){exports.__esModule=!0,exports.i18n=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(0===i.length)return n["default"](e);var r=0;return String(e).replace(/%s/g,function(e){return i[r++]})};var n=t["default"](e)}),define("inf-ui/mixins/locator",["exports","module","jquery","babel-runtime/helpers/interop-require-default","er/locator","er/URL","../x/components/Go"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=t["default"](n),s=t["default"](i),l=t["default"](a);module.exports={$redirect:function(e){if("string"!=typeof e){var t=e.url,n=e.options;o["default"].redirect(t,n)}else o["default"].redirect(e)},$reload:function(){o["default"].reload()},$go:function(e){var t=r["default"]('<a href="'+e+'"></a>'),n=r["default"].Event("click",{target:t,currentTarget:t});l["default"].switchHandler(n,this)},$route:function(){if(!(!(arguments.length<=0||arguments[0]===undefined)&&arguments[0])&&this.__$route)return this.__$route;var e=s["default"].parse(location.hash.substr(1)),t=e.getPath(),n=e.getQuery();return this.__$route={path:t,query:n},this.__$route}}}),define("inf-ui/mixins/shim",["exports","module"],function(exports,module){module.exports={$dispatch:function(e,t){var n={legacyActionFireCustomType:e,value:t};this.fire("legacyactioncustomevent",n)}}}),define("inf-ui/mixins/toast",["exports","module","../x/components/Toast","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t){var n=t["default"](e);module.exports={$toast:function(e,t){if("string"==typeof e){var i=t&&t.messageType||"success";n["default"][i](e)}},$infoToast:function(e){return this.$toast(e,{messageType:"info"})},$errorToast:function(e){return this.$toast(e,{messageType:"error"})}}}),define("inf-ui/mixins/watchAsObservable",["exports","module","rxjs"],function(exports,module,e){module.exports={$watchAsObservable:function(t){var n=this;return new e.Observable(function(e){n.watch(t,function(t){return e.next({newValue:t})})})}}}),define("inf-ui/PageableTable",["exports","module","inf-i18n","babel-runtime/helpers/interop-require-default","lodash","jquery","san","./esui"],function(exports,module,e,t,n,i,a,r){var o=t["default"](e),s=t["default"](n),l=t["default"](i),u=t["default"](a);module.exports=u["default"].defineComponent({components:{"ui-table":r.XTable,"ui-pager":r.XPager},template:'\n<template>\n    <ui-table\n        san-if="{{subrow}}"\n        san-ref="table"\n        on-select="onSelectRows($event)"\n        select="{{select}}"\n        noDataHtml="{{emptyHtml}}"\n        selectedIndex="{{selectedIndex}}"\n        datasource="{{tableData}}"\n        followHead="{{followHead}}"\n        followHeadOffsetH="{{followHeadOffsetH}}"\n        fields="{{tableFields}}"\n\n        extensions="Command,TableSubrow"\n        on-command="onCommand($event)"\n        on-subrowopen="onSubrowOpen($event)"\n        subrow="{{!0}}"\n        subrowMutex="{{0}}"\n        subEntryWidth="{{26}}" />\n    <ui-table\n        san-else\n        san-ref="table"\n        on-select="onSelectRows($event)"\n        select="{{select}}"\n        noDataHtml="{{emptyHtml}}"\n        selectedIndex="{{selectedIndex}}"\n        datasource="{{tableData}}"\n        followHead="{{followHead}}"\n        followHeadOffsetH="{{followHeadOffsetH}}"\n        fields="{{tableFields}}"\n        sortable="{{sortable}}"\n\n        extensions="Command"\n        on-command="onCommand($event)"\n        on-sort="onSort($event)" />\n    <ui-pager\n        s-if="!isTableMore"\n        on-pagesizechange="onPagesizeChange($event)"\n        on-pagechange="onPageChange($event)"\n        count="{{totalCount}}"\n        page="{{pageNo}}"\n        pageSize="{{pageSize}}"\n        pageSizes="{{pageSizes}}"\n        layout="alignRight"\n        urlTemplate="javascript:void(0)" />\n</template>\n',initData:function(){return{subrow:!1,select:"multi",crossPageSelection:!1,emptyHtml:o["default"]("没有数据"),selectedIndex:[],tableData:[],tableFields:[],subTableFields:null,totalCount:0,pageNo:1,pageSize:15,pageSizes:[],followHead:!0,followHeadOffsetH:50}},inited:function(){var e=this;this.shadowSelectedItems=[],this.visibleSelectedItems=[],this.watch("tableData",function(t){e.transformSelectedItems(t);var n=e.ref("table").__getESUI();if(n){var i=s["default"].filter(n.children,function(e){return/subrow\-panel\-\d+$/.test(e.id)});s["default"].each(i,function(e){n.removeChild(e),n.viewContext.remove(e)})}})},attached:function(){var e=this;l["default"](this.el).on("click","input.ui-table-select-all",function(t){e._setCheckedState(-1,-1,t.target.checked);var n=e.ref("table").__getESUI();n&&n.setAllRowSelected(t.target.checked)}),l["default"](this.el).on("click","input.ui-table-multi-select",function(t){var n=l["default"](t.target).data("index");if(e._setCheckedState(n,-1,t.target.checked),t.target.checked){var i=e.ref("table").__getESUI();i&&i.setRowSelected(n,!0)}}),l["default"](this.el).on("click",'.ui-table-subrow td input[type="checkbox"]',function(t){if(e._isMulti()){var n=parseInt(l["default"](t.target).data("appindex"),10),i=parseInt(l["default"](t.target).data("index"),10);e._setCheckedState(n,i,t.target.checked);var a=e.ref("table").__getESUI();a&&a.setRowSelected(n,!0)}})},_setCheckedState:function(e,t,n){var i=this,a=this.data.get("tableData");-1===e?s["default"].each(a,function(e,a){return i._setCheckedState(a,t,n)}):a[e]&&a[e].subTables&&(-1===t?s["default"].each(a[e].subTables,function(e){e&&(e.checked=n)}):a[e].subTables[t]&&(a[e].subTables[t].checked=n))},_getCheckedState:function(e,t){var n=this.data.get("tableData");return!!(n[e]&&n[e].subTables&&n[e].subTables[t])&&!!n[e].subTables[t].checked},_isMulti:function(){return"multi"===this.data.get("select")},disposed:function(){this.el&&l["default"](this.el).un("click")},transformSelectedItems:function(e){var t=[],n=[],i=[],a=this.data.get("selectedItems");s["default"].each(a,function(a){for(var r=0;r<e.length;r++)if(e[r].id===a.id)return e[r].subTables&&a.subTables&&s["default"].each(e[r].subTables,function(e){e&&s["default"].find(a.subTables,function(t){return t.id===e.id})&&(e.checked=!0)}),n.push(e[r]),void i.push(r);t.push(a)}),this.visibleSelectedItems=n,this.shadowSelectedItems=t,this.data.set("selectedIndex",i)},onSelectRows:function(e){var t=this,n=e.target;e.selectedIndex;this.visibleSelectedItems=n.getSelectedItems();var i=this.data.get("crossPageSelection")?[].concat(this.shadowSelectedItems,this.visibleSelectedItems):this.visibleSelectedItems;this._isMulti()&&(l["default"](this.el).find('input[type="checkbox"][data-appid]').prop("checked",!1),s["default"].each(this.visibleSelectedItems,function(e){e&&e.subTables&&s["default"].each(e.subTables,function(n,i){l["default"](t.el).find('input[type="checkbox"][data-index="'+i+'"][data-appid="'+e.id+'"]').prop("checked",n.checked)})})),i=s["default"].cloneDeep(i),s["default"].each(i,function(e){e&&(e.subTables=s["default"].filter(e.subTables||[],function(e){return e.checked}))}),this.fire("select",{selectedItems:i})},onSubrowOpen:function(e){var t=e.item,n=this.data.get("subTableFields");if(t&&n&&t.subTables&&t.subTables.length){var i="multi"===this.data.get("select"),a='<table class="subrow-table">';s["default"].each(t.subTables,function(r,o){a+="<tr>",s["default"].each(n,function(n){a+="id"===n?'<td class="subrow-table-first-td"><div>'+(i?'&nbsp;&nbsp;<input type="checkbox" '+(r.checked?"checked ":" ")+'data-id="'+s["default"].escape(r.id)+'" data-appid="'+t.id+'" data-index="'+o+'" data-appindex="'+e.index+'" />&nbsp;&nbsp;':"")+s["default"].escape(r.id)+"</div></td>":"<td>"+s["default"].escape(r[n])+"</td>"}),a+="</tr>"}),a+="</table>",e.target.setSubrowContent(a,e.index)}else e.target.setSubrowContent('<table class="subrow-table"><tr><td class="no-data">缺少相关配置/数据.</td></tr></table>',e.index)},onCommand:function(e){var t=e.name,n=e.args,i=s["default"].find(this.data.get("tableData"),function(e){return e.id===n});this.fire("command",{name:t,args:n,data:i,originalEvent:e})},onSort:function(e){"sort"===e.type&&this.fire("sort",{order:e.order,orderBy:e.field.field})},onPageChange:function(e){this.shadowSelectedItems=this.data.get("crossPageSelection")?[].concat(this.shadowSelectedItems,this.visibleSelectedItems):[],this.visibleSelectedItems=[];var t=e.target.get("page");this.fire("pagechange",{pageNo:t})},onPagesizeChange:function(e){this.shadowSelectedItems=this.data.get("crossPageSelection")?[].concat(this.shadowSelectedItems,this.visibleSelectedItems):[],this.visibleSelectedItems=[];var t=e.target.get("pageSize");this.fire("pagesizechange",{pageSize:t})}})}),define("inf-ui/san",["exports","lodash","babel-runtime/helpers/interop-require-default","./sanx","./esui","./xui","./PageableTable","./mixins/ef"],function(exports,e,t,n,i,a,r,o){exports.__esModule=!0,exports.defineComponent=function(e){return e.components=s["default"].extend({},d,e.components),s["default"].extend(e,u["default"]),n.defineComponent(e)},exports.nextTick=function(e,t){return n.nextTick(e,t)};var s=t["default"](e),l=t["default"](r),u=t["default"](o),d={"ui-button":i.XButton,"ui-boxgroup":i.XBoxGroup,"ui-checkbox":i.XCheckBox,"ui-select":i.XSelect,"ui-searchbox":i.XSearchBox,"ui-rangecalendar":i.XRangeCalendar,"ui-textbox":i.XTextBox,"ui-table":i.XTable,"ui-pager":i.XPager,"ui-tip":i.XTip,"ui-togglebutton":a.XToggleButton,"ui-clipboard":a.XClipboard,"ui-radioselect":a.XRadioSelect,"ui-actionpanel":a.XActionPanel,"ui-aceeditor":a.XACEEditor,"ui-smscodebox":a.XSMSCodeBox,"ui-buybucket":a.XBuyBucket,"ui-dragger":a.XDragger,"ui-numbertextline":a.XNumberTextline,"ui-bucketselect":a.XBucketSelect,"x-page-table":l["default"]}}),define("inf-ui/sanPage",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","san","promise","er/locator","er/Action","er/Model","er/View","./x/createPage"],function(exports,module,e,t,n,i,a,r,o,s,l,u,d){function c(e){if(e.__sanPage)return e.__sanPage;var t=p["default"].defineComponent({template:'<template><san-page context="{{context}}"/></template>',components:{"san-page":e},messages:{redirect:function(e){var t=e.value;if("string"!=typeof t){var n=t.url,i=t.options;v["default"].redirect(n,i)}else v["default"].redirect(t)},reload:function(){v["default"].reload()}}});return e.__sanPage=t,t}module.exports=function(e){return{createRuntimeAction:function(t){return new h["default"](function(t,n){window.require([e],function(e){if("function"==typeof e){var n=c(e);t(new w(n))}else{if("object"!=typeof e)throw new Error("invalid component type");var i=e;n=c(y["default"](i)),t(new w(n))}})})}}};var f=i["default"](n),p=i["default"](a),h=i["default"](r),v=i["default"](o),m=i["default"](s),g=i["default"](l),x=i["default"](u),y=i["default"](d),b=function(n){function i(e){t["default"](this,i),n.call(this),this.page=e}return e["default"](i,n),i.prototype.render=function(){var e=this.getContainerElement();e&&(e.innerHTML="",this.page.attach(e)),this.enterDocument()},i.prototype.dispose=function(){this.page.dispose();var e=this.getContainerElement();e&&(e.innerHTML="")},i}(x["default"]),w=function(n){function i(e){t["default"](this,i),n.call(this),this.SanPage=e}return e["default"](i,n),i.prototype.createModel=function(e){return new g["default"](e)},i.prototype.createView=function(){return new b(this.page)},i.prototype.enter=function(e){var t=this.SanPage,i=f["default"].extend({},e&&e.args);return this.page=new t({data:{context:i}}),n.prototype.enter.call(this,e)},i}(m["default"])}),define("inf-ui/sanrx",["exports","babel-runtime/core-js/object/keys","lodash","babel-runtime/helpers/interop-require-default","./sanx","rxjs","./mixins/watchAsObservable"],function(exports,e,t,n,i,a,r){function o(t){var n=this;"function"==typeof t&&(t=t.call(this)),this.$observables={},this._subscription=new a.Subscription,e["default"](t).forEach(function(e){var i=n.$observables[e]=t[e];if(!a.isObservable(i))throw new Error("Invalid Observable found in subscriptions with key "+e+".");n._subscription.add(i.subscribe(function(t){return n.data.set(e,t)},function(e){return n.$errorToast(e)}))})}function s(){this._subscription&&this._subscription.unsubscribe()}exports.__esModule=!0,exports.defineComponent=function(e){if(!e.subscriptions)return i.defineComponent(e);var t=e.subscriptions;if("object"!=typeof t&&"function"!=typeof t)throw new Error("subscriptions of San component must be an object or a function");return e.attached?function(){var n=e.attached;e.attached=function(){o.call(this,t),n.call(this)}}():e.attached=function(){o.call(this,t)},e.detached?function(){var t=e.detached;e.detached=function(){s.call(this),t.call(this)}}():e.detached=function(){s.call(this)},l["default"].extend(e,u["default"]),i.defineComponent(e)},exports.nextTick=function(e,t){return i.nextTick(e,t)};var l=n["default"](t),u=n["default"](r)}),define("inf-ui/sanx",["exports","lodash","babel-runtime/helpers/interop-require-default","san","./x/components/Icon","./x/components/Button","./x/components/Clipboard","./x/components/Loading","./x/components/Dialog","./mixins/data","./mixins/locator","./mixins/filters","./mixins/shim","./mixins/ajax","./mixins/toast","./x/biz/helper"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c,f,p,h){function v(){var e=this,t=this.data.get("context");t&&m["default"].each(t,function(t,n){return e.data.set(n,t)})}exports.__esModule=!0,exports.defineComponent=function(e){e.components=m["default"].extend({},I,e.components),e.filters=m["default"].extend({},{i18n:d.i18n},e.filters),e.inited?function(){var t=e.inited;e.inited=function(){v.call(this),t.call(this)}}():e.inited=function(){v.call(this)};var t={$alert:h.alert,$confirm:h.confirm,$plain:h.plain},n={$post:f.$post,$doRequest:f.$doRequest},i=m["default"].extend(t,n,S["default"],T["default"],k["default"],_["default"],e);return g["default"].defineComponent(i)},exports.componentsMixins=function(e){var t=e.prototype;t.filters=m["default"].extend({},{i18n:d.i18n},t.filters),t.inited?function(){var e=t.inited;t.inited=function(){v.call(this),e.call(this)}}():t.inited=function(){v.call(this)};var n={$alert:h.alert,$confirm:h.confirm,$plain:h.plain};t=m["default"].extend(n,T["default"],k["default"],_["default"],t)},exports.nextTick=function(e,t){return g["default"].nextTick(e,t)};var m=t["default"](e),g=t["default"](n),x=t["default"](i),y=t["default"](a),b=t["default"](r),w=t["default"](o),C=t["default"](s),T=t["default"](l),k=t["default"](u),_=t["default"](c),S=t["default"](p),I={"x-icon":x["default"],"ui-icon":x["default"],"ui-button":y["default"],"ui-dialog":C["default"],"ui-loading":w["default"],"ui-clipboard":b["default"]},D=g["default"].Component;exports.Component=D;var E=g["default"].DataTypes;exports.DataTypes=E}),define("inf-ui/uiFactory",["exports","babel-runtime/helpers/inherits","babel-runtime/helpers/create-class","babel-runtime/helpers/class-call-check","lodash","babel-runtime/helpers/interop-require-default","san","esui"],function(exports,e,t,n,i,a,r,o){function s(e,t){if("function"==typeof e.get)return e.get(t);for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t)return i}return null}exports.__esModule=!0,exports.createUi=function(i){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=a.template,o=r===undefined?"<div><slot></slot></div>":r,f=a.defaultProperties,p=f===undefined?{}:f;return function(a){function r(){n["default"](this,r);for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];a.call.apply(a,[this].concat(t)),this._esui=null}return e["default"](r,a),r.prototype.compiled=function(){},r.prototype.inited=function(){var e=this;this.data.listen(function(t){return e._changeProxy(t)})},r.prototype._changeProxy=function(e){var t;if(this._esui&&e.type===c.SET){var n=e.expr.paths[0],i=n.type,a=n.value;if(i===u["default"].ExprType.STRING){var r=a;"style"!==r&&"class"!==r&&("value"!==r||"function"!=typeof this._esui.setValue?this._esui.setProperties((t={},t[r]=e.value,t)):this._esui.setValue(e.value))}}},r.prototype.__getESUI=function(){return this._esui},r.prototype.created=function(){},r.prototype.attached=function(){var e=this,t=l["default"].omit(l["default"].extend({main:this.el},p,this.data.get()),"style","class");""===t.disabled&&(t.disabled=!0),t.extensions&&("string"==typeof t.extensions&&(t.extensions=t.extensions.split(",")),t.extensions=l["default"].map(t.extensions,function(e){return d["default"].createExtension(e,{type:e})})),this._esui=new i(t),this._esui.render(),this._esui.on("*",function(t){if(e.listeners){var n=t.type;if("change"===n||"input"===n){var i=s(e.binds,"value")||s(e.binds,"rawValue")||s(e.binds,"checked");if(i&&i.x){var a="checked"===i.name?e._esui.isChecked():"rawValue"===i.name?e._esui.getRawValue():e._esui.getValue();e.scope.set(i.expr,a,{target:{id:e.id,prop:i.name}})}}e.fire(n,t)}});var n=this._esui.dispose;this._esui.dispose=function(){try{if(!e._esui.main)return;e.el&&e.dispose(),n.call(e._esui),e._esui.main=null}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}},r.prototype.detached=function(){},r.prototype.disposed=function(){this._esui&&this._esui.dispose()},t["default"](r,[{key:"template",get:function(){return o}}]),r}(u["default"].Component)};var l=a["default"](i),u=a["default"](r),d=a["default"](o),c={SET:1,SPLICE:2}}),define("inf-ui/x/asPage",["exports","babel-runtime/helpers/extends","lodash","babel-runtime/helpers/interop-require-default","er/URL","../sanx","./biz/Toolbar","./biz/RightToolbar","./biz/XPager","./biz/Filter","./biz/BulkActions","./biz/helper","./biz/ajaxAction","./biz/dialogAlertAction","./biz/dialogPlainAction","./biz/dialogXLoaderAction"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c,f,p,h){exports.__esModule=!0,exports.asPage=function(t,n){var i='<template>\n    <x-page\n        class="{{klass}}"\n        title="{{title}}"\n        navs="{{navs}}"\n        remark="{{remark}}"\n        with-tip="{{withTip}}"\n        with-sidebar="{{withSidebar}}"\n        breadcrumbs="{{breadcrumbs}}"\n        with-notice="{{withNotice}}"\n        page-nav="{{pageNav}}"\n    >\n        '+(t.$withNotice?'<div slot="notice">'+t.$withNotice+"</div>":"")+'\n\n        <div class="list-page-helps" slot="helps" s-if="helps.length">\n            <x-toolbar controls="{{helps}}" on-item-clicked="onToolbarEvent($event)" />\n        </div>\n\n        <div class="list-page-filter" slot="filter" s-if="withFilter">\n            <x-filter\n                s-ref="filter"\n                title="{{filter.title}}"\n                form-data="{=$filterPayload=}"\n                submit-text="{{filter.submitText}}"\n                controls="{{filter.controls}}"\n                on-submit="onXFilter($event)"\n                on-item-change="onFilterItemChange($event)" />\n        </div>\n\n        <div class="list-page-tb-left-filter" slot="tb-filter" s-if="withToolbarFilter">\n            <x-filter\n                s-ref="filter"\n                title="{{filter.title}}"\n                form-data="{=$filterPayload=}"\n                submit-text="{{filter.submitText}}"\n                controls="{{filter.controls}}"\n                on-submit="onXFilter($event)"\n                on-item-change="onFilterItemChange($event)" />\n        </div>\n\n        <div class="list-page-tb-left-toolbar" slot="tb-left" s-if="toolbar.length">\n            <x-toolbar controls="{{toolbar}}" on-item-clicked="onToolbarEvent($event)" />\n            <x-bulk-actions controls="{{bulkActions}}" disabled="{{!enableBuckActions}}" />\n        </div>\n\n        '+(t.$withTip?'<div slot="tip">'+t.$withTip+"</div>":"")+'\n\n        <div slot="tb-right">\n            <x-right-toolbar\n                loading="{{table.loading}}"\n\n                with-searchbox="{{withSearchbox}}"\n                with-batch-delete="{{withBatchDelete}}"\n                with-download="{{withDownload}}"\n                with-refresh="{{withRefresh}}"\n                searchbox-value="{=$filterPayload.keyword=}"\n                searchbox-placeholder="{{filter.$searchbox.placeholder}}"\n                searchbox-keyword-type="{=$filterPayload.keywordType=}"\n                searchbox-keyword-types="{{filter.$searchbox.datasource}}"\n                searchbox-multi="{{filter.$searchbox.multi}}"\n                searchbox-loader="{{filter.$searchbox.loader}}"\n                searchbox-skin="{{filter.$searchbox.skin}}"\n                keyword-type-changed="{{filter.$searchbox.keywordTypeChanged}}"\n                keyword-disabled="{{filter.$searchbox.keywordDisabled}}"\n                keyword-datasource="{{filter.$searchbox.keywordDatasource}}"\n\n                with-tct="{{tct.datasource.length}}"\n                tct-value="{=tct.value=}"\n                tct-datasource="{{tct.datasource}}"\n\n                on-refresh="refreshTable"\n                on-search="doSearch"\n                on-batch-delete="batchDelete"\n                on-download="downloadTable"\n                on-table-columns-changed="toggleTableColumns"\n            />\n        </div>\n\n        <x-main\n            columns="{{tableColumns}}"\n            table="{{table}}"\n            on-command="onTableCommand($event)"\n            on-filter="onFilter($event)"\n            on-sort="onSort($event)"\n            on-selected-change="onTableRowSelected($event)"\n            on-refresh="refreshTable"\n        />\n\n        <x-pager\n            s-if="withPager && pager.count > 0"\n            class="list-page-pager"\n            pager="{=pager=}"\n            with-total-count="{{withTotalCount}}"\n            with-pager-size="{{withPagerSize}}"\n            on-pager-size-change="onPagerSizeChange($event)"\n            on-pager-change="onPagerChange($event)"\n        />\n    </x-page></template>';return a.defineComponent({template:i,components:{"x-main":n,"x-page":d.Page,"x-filter":b["default"],"x-bulk-actions":w["default"],"x-toolbar":g["default"],"x-right-toolbar":x["default"],"x-pager":y["default"]},computed:{withFilter:function(){var e=this.data.get("filter");return e&&"tb"!==e.$position&&e.controls&&e.controls.length>0},withToolbarFilter:function(){var e=this.data.get("filter");return e&&"tb"===e.$position&&e.controls&&e.controls.length>0},tableColumns:function(){var e=this.data.get("table.schema");if(e[0].$when&&e[0].$then){for(var t=0;t<e.length;t++){var n=e[t],i=n.$when,a=n.$then;if(d.matchAll(this,i))return a}return[]}return e},enableBuckActions:function(){var e=this.data.get("table.selectedIndex");return!this.data.get("table.loading")&&e&&e.length>0},pageState:function(){return{p:this.data.get("pager"),e:this.data.get("$extraPayload"),f:this.data.get("$filterPayload")}},searchCriteria:function(){var e=this.data.get("pager"),t=this.data.get("$extraPayload"),n=this.data.get("$filterPayload"),i={pageNo:e.page,pageSize:e.size},a=this.data.get("filter.$searchbox.name");if(a){var r,o=n.keyword;v["default"].extend(i,t,v["default"].omit(n,"keyword"),(r={},r[a]=o,r))}else v["default"].extend(i,t,n);return d.valueTransform(i)}},initData:function(){var e=this,n=t.$pageClass,i=t.$pageNav,a=t.$breadcrumbs,r=t.$navs,o=t.$helps,s=t.$persistState,l=t.$autoToPrevPage,u=t.$emptyText,c=t.$withTip,f=t.$withPager,p=t.$withPagerSize,h=t.$withTotalCount,m=t.$withSearchbox,g=t.$withSidebar,x=t.$withBatchDelete,y=t.$withDownload,b=t.$withNotice,w=t.$withRefresh,C=t.remark,T=t.title,k=t.toolbar,_=t.body,S=_.bulkActions,I=_.filter,D=_.columns,E=_.$extraPayload,P=_.$select,A=_.$selectText,M=_.$cellRenderer,O=_.$pageSize,N=_.$commands,L=_.$onRequest,R=_.$onResponse,B=_.$onError,$=_.$onDownload,q=M?function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return M.apply(null,[].concat(n,[e.getSearchCriteria()]))}:null,F={},j=v["default"].get(I,"$searchbox.keywordType");j&&(F.keywordType=j);var H=v["default"].get(I,"$searchbox.value");H&&(F.keyword=H);var V=s&&"function"==typeof history.pushState;this.$onRequest=L,this.$onResponse=R,this.$onError=B,this.$onDownload=$;var z=V?this.__restorePageState():{},U=z.p,W=z.e,Y=z.f;return{title:T,klass:n,navs:r,helps:o,remark:C,toolbar:d.createToolbar(k),bulkActions:S,filter:I,pageNav:i,breadcrumbs:a,withSidebar:!!g,withPagerSize:!!p,withTotalCount:!!h,withNotice:!!b,autoToPrevPage:!!l,withSearchbox:!1!==m,withPager:!1!==f,withTip:!!c,withBatchDelete:!!x,withDownload:!!y,withRefresh:!!w,withPersistState:V,commands:N,loading:!1,error:null,table:{loading:!1,disabledSelectAll:!1,error:null,emptyText:u,cellRenderer:q,select:P,selectText:A,schema:D,datasource:[],selectedIndex:[],selectedItems:[]},$extraPayload:W||E,$filterPayload:Y||F,pager:U||{size:O||10,page:1,count:0,datasource:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50},{text:"100",value:100}]}}},__watcherTableColumns:function(e){for(var t=[],n=[],i=0;i<e.length;i++){var a=e[i];a.xui__hidden||n.push(a.name),a.toggled&&t.push({text:a.label,value:a.name})}this.data.set("tct",{datasource:t,value:n})},inited:function(){var e=this;this.$childs=[],this.$tableInited=!1,this.watch("tableColumns",function(t){return e.__watcherTableColumns(t)})},attached:function(){this.__watcherTableColumns(this.data.get("tableColumns")),this.refreshTable()},disposed:function(){this.disposeInternalChilds()},onXFilter:function(e){this.onFilter(e)},onFilter:function(e){this.resetSearchCriteria(e),this.doSearch()},onSort:function(e){var t=e.orderBy,n=e.order;this.data.set("$extraPayload.orderBy",t),this.data.set("$extraPayload.order",n),this.doSearch()},$filterValue:function(e,t){this.data.get("$filterPayload."+e)!==t&&(this.data.set("$filterPayload."+e,t),this.refreshTable())},dialogActionType:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=e.dialog.body;switch(n.type){case"alert":this.$dialogAlertAction(e,t);break;case"plain":this.$dialogPlainAction(e,t);break;case"action-loader":this.$dialogXLoaderAction(e,t);break;default:throw new Error("Unsupported dialog type = "+n.type)}},$ajaxAction:c.ajaxAction,$dialogAlertAction:f.dialogAlertAction,$dialogPlainAction:p.dialogPlainAction,$dialogXLoaderAction:h.dialogXLoaderAction,dispatchAction:function(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];switch(e.actionType){case"custom":e.action&&e.action.apply(this,[t]);break;case"ajax":this.$ajaxAction(e,t);break;case"dialog":this.dialogActionType(e,t);break;case"new-window":window.open(v["default"].template(e.link)(t));break;case"go":this.$go(v["default"].template(e.link)(t));break;case"link":this.$redirect(v["default"].template(e.link)(t));break;case"filter":this.$filterValue(e.$filterKey,e.value)}},onTableCommand:function(e){var t=e.type,n=e.payload,i=e.rowIndex,a=this.data.get("commands"),r=a&&a[t];r&&(this.data.set("table.rowIndex",i-1),this.dispatchAction(r,n))},onToolbarEvent:function(e){var t=e;if("custom"!==t.actionType){var n="single"===this.data.get("table.select")?this.__selectedItems?this.__selectedItems[0]:null:{items:this.__selectedItems};this.dispatchAction(t,n)}else"function"==typeof t.action&&t.action.apply(this)},onTableRowSelected:function(e){var t=this,n=e.selectedIndex,i=e.selectedItems;this.__selectedItems=i,this.__selectedIndex=n;var a=this.data.get("bulkActions");v["default"].each(a,function(e,n){if("function"==typeof e.reactive){var a=e.reactive(i);a&&v["default"].isObject(a)&&v["default"].each(a,function(e,i){return t.data.set("bulkActions["+n+"]."+i,e)})}})},onPagerSizeChange:function(e){var t=e.value,n=this.getSearchCriteria();n.pageNo=1,n.pageSize=t,this.loadPage(n)},onPagerChange:function(e){var t=e.pageNo,n=this.getSearchCriteria();n.pageNo=t,this.data.set("table.selectedIndex",[]),this.loadPage(n)},resetSearchCriteria:function(e){var t=this.data.get("$filterPayload"),n=v["default"].extend({},t,e);this.data.set("$filterPayload",n)},getSearchCriteria:function(){return this.data.get("searchCriteria")},disposeInternalChilds:function(){v["default"].each(this.$childs,function(e){var t=e.ref("dialog");try{t&&t.dispose(),e.dispose()}catch(n){}}),this.$childs=[]},refreshTable:function(){this.disposeInternalChilds();var e=this.getSearchCriteria();return this.loadPage(e)},toggleTableColumns:function(){var e=this,t=this.data.get("tct.value"),n=this.data.get("tableColumns");v["default"].each(n,function(n,i){var a=-1===v["default"].indexOf(t,n.name);e.data.set("tableColumns["+i+"].xui__hidden",a)})},transformTable:function(e){return e},__doRequest:function(e,t,n){return(v["default"].isString(e)?this.$post(e,t,n):e.then(function(e){return e(t)}).then(function(e){return e.body})).then(function(e){return{searchCriteria:t,searchResponse:e}})["catch"](function(e){throw{searchCriteria:t,error:e}})},__restorePageState:function(){var e=this.$route().query;if(e&&e.__state)try{return JSON.parse(e.__state)}catch(t){}return{}},__savePageState:function(){var e=this.$route(!0),t=e.query,n=e.path,i=this.data.get("pageState");t.__state=JSON.stringify(i);var a="#"+m["default"].withQuery(n,t).toString();history.pushState(null,"",a)},loadPage:function(n){var i=this;if(this.lifeCycle.attached){var a="function"==typeof this.$onRequest?this.$onRequest(n)||n:n;if(!v["default"].isEqual(this.__searchCriteria,a))return this.__searchCriteria=a,this.data.set("table.loading",!0),this.__doRequest(t.body.api,a,t.body.apiOptions).then(function(t){var a=t.searchCriteria,r=t.searchResponse;if(i.__searchCriteria!==C&&i.__searchCriteria===a){i.__searchCriteria=C,i.$tableInited=!0;var o=r,s="function"==typeof i.$onResponse?i.$onResponse(o)||o:o,l=s.result,u=s.pageNo,d=s.totalCount;if(i.data.get("autoToPrevPage")&&u>1&&l.length<=0)return i.loadPage(e["default"]({},n,{pageNo:u-1}));var c=i.transformTable(l),f=d>0?d:c.length;i.data.set("table.loading",!1),i.data.set("table.error",null),i.data.set("table.datasource",c),i.data.set("table.totalCount",f),i.data.set("pager.page",u),i.data.set("pager.count",f),i.data.get("withPersistState")&&i.__savePageState()}})["catch"](function(e){var t=e.searchCriteria,n=e.error;i.__searchCriteria!==C&&i.__searchCriteria===t&&(i.__searchCriteria=C,i.$tableInited=!0,"function"==typeof i.$onError&&i.$onError(n),i.data.set("table.loading",!1),i.data.set("table.error",n&&n.global?n.global:n))})}},doSearch:function(){this.disposeInternalChilds();var e=this.getSearchCriteria();return this.$tableInited&&(e.pageNo=1),this.loadPage(e)},messages:{refresh:function(){this.refreshTable()},"*":function(e){this.dispatchCommand(e.name,e.value)}},dispatchCommand:function(e,t){var n=this.data.get("table.datasource"),i=v["default"].isString(t)?v["default"].find(n,function(e){return e.id===t}):t;i&&e&&this.onTableCommand({type:e,payload:i})},batchDelete:function(){var e=v["default"].clone(this.getSearchCriteria()),n={url:t.body.deleteApi},i="function"==typeof this.$onRequest?this.$onRequest(e,n)||e:e,a={actionType:"ajax",api:t.body.deleteApi,confirmText:"危险！是否确认删除当前筛选的所有数据？删除后数据将无法恢复。",$toastMessage:"批量删除成功"};this.dispatchAction(a,i)},downloadTable:function(){var e=v["default"].clone(this.getSearchCriteria()),t={requestPayload:"function"==typeof this.$onRequest?this.$onRequest(e)||e:e,pager:this.data.get("pager")};this.$onDownload(t)}})};var v=n["default"](t),m=n["default"](i),g=n["default"](r),x=n["default"](o),y=n["default"](s),b=n["default"](l),w=n["default"](u),C={}}),define("inf-ui/x/biz/ajaxAction",["exports","lodash","babel-runtime/helpers/interop-require-default","san-xui","./helper"],function(exports,e,t,n,i){exports.__esModule=!0,exports.ajaxAction=function(e,t){var r=this,o=e.api,s=e.$payloadFields,l=e.$extraPayload,u=e.confirmText,d=e.confirmTitle,c=e.$toastMessage,f=e.skin,p=e.foot,h=e.$onRequest,v=e.$before,m=e.$onResponse,g=e.$done,x=e.$onError,y=e.$error,b=h||v,w=m||g,C=x||y,T=function(){var e=i.createPayload(t,s,l);return"function"==typeof b&&b.call(r,e),r.$doRequest(o,e).then(function(t){return c&&n.Toast.success(c,3e3),"function"==typeof w?w.call(r,t,e):r.refreshTable()}).fail(function(t){"function"==typeof C&&C.call(r,t,e),t.global&&n.Toast.error(t.global),r.data.set("error",t)})};if(u){var k=a["default"].template(u)(t),_=a["default"].template(d)(t),S=new n.ConfirmDialog({data:{message:k,skin:f,title:_,foot:p}});return S.attach(document.body),this.$childs.push(S),i.asPromise(S).then(T)}return T()};var a=t["default"](e)}),define("inf-ui/x/biz/Breadcrumbs",["exports","module","san","san-xui"],function(exports,module,e,t){var n=t.create("ui-breadcrumbs"),i='<div class="'+n()+'">\n    <div class="'+n("item")+'" san-for="item, index in items">\n        <span class="'+n("divider")+'" san-if="index > 0">/</span>\n        <a href="{{item.href}}" s-if="item.href">{{item.text}}</a>\n        <span s-else class="'+n("label")+'">{{item.text}}</span>\n    </div>\n</div>';module.exports=e.defineComponent({template:i,initData:function(){return{items:[]}}})}),define("inf-ui/x/biz/BulkActions",["exports","module","san","san-xui","./Ghost","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=i["default"](n),r='<div class="'+t.create("ui-bulk-actions")()+'">\n<ui-ghost s-for="item in controls">\n    <ui-button\n        s-if="item.type === \'button\'"\n        on-click="onBuckActionEvent(item)"\n        disabled="{{item.disabled}}"\n        icon="{{item.icon}}"\n        label="{{item.label}}"\n        skin="{{item.skin}}"\n        />\n    <ui-select\n        s-if="item.type === \'select\'"\n        value="{{item.value}}"\n\n        datasource="{{item.options}}"\n        on-change="onBuckActionEvent($event)"\n        />\n    <a\n        s-if="item.type === \'link\'"\n        target="_blank"\n        href="{{item.link}}">{{item.label}}</a>\n    <span s-if="item.type === \'divider\'">&nbsp;</span>\n</ui-ghost>\n</div>';module.exports=e.defineComponent({template:r,components:{"ui-ghost":a["default"],"ui-button":t.Button,"ui-select":t.Select},initData:function(){return{disabled:!1,controls:[]}}})}),define("inf-ui/x/biz/dialogAlertAction",["exports","lodash","babel-runtime/helpers/interop-require-default","san-xui","./helper"],function(exports,e,t,n,i){exports.__esModule=!0,exports.dialogAlertAction=function(e,t){var r=this,o=e.dialog,s=o.width,l=o.title,u=o.body,d=o.foot,c=a["default"].template(l)(t),f=a["default"].template(u.content)(t),p={title:c,width:s,foot:d,message:f},h=new n.AlertDialog({data:p});return h.attach(document.body),this.$childs.push(h),i.asPromise(h).then(function(){if(d&&d.okBtn&&d.okBtn.actionType){var e=d.okBtn;r.dispatchAction(e,t),r.refreshTable()}})};var a=t["default"](e)}),define("inf-ui/x/biz/dialogPlainAction",["exports","lodash","babel-runtime/helpers/interop-require-default","san-xui","./helper"],function(exports,e,t,n,i){exports.__esModule=!0,exports.dialogPlainAction=function(e,t){var r=this,o=e.dialog,s=o.width,l=o.title,u=o.body,d=o.foot,c=a["default"].template(l)(t),f=u.content,p=null,h=null;"function"==typeof f?(p=n.asDialog(f),h={title:c,width:s,foot:d,payload:t}):(p=n.PlainDialog,h={title:c,width:s,foot:d,message:a["default"].template(f)(t)});var v=new p({data:a["default"](h).omit(a["default"].isUndefined).value()});return v.attach(document.body),this.$childs.push(v),i.asPromise(v).then(function(){if(d&&d.okBtn&&d.okBtn.actionType){var e=d.okBtn;r.dispatchAction(e,t),r.refreshTable()}})};var a=t["default"](e)}),define("inf-ui/x/biz/dialogXLoaderAction",["exports","lodash","babel-runtime/helpers/interop-require-default","san-xui","./LegacyActionAdapter","./helper"],function(exports,e,t,n,i,a){exports.__esModule=!0,exports.dialogXLoaderAction=function(e,t){var i=this,s=e.dialog,l=s.width,u=s.height,d=s.title,c=s.body,f=s.foot,p=s.confirm,h=s.closeBtn,v=s.skin,m=s.trackId,g=s.trackName,x=c.$payloadFields,y=c.$extraPayload,b=c.url,module=c.module,w=e.events||{},C=w.actionLoaded,T=w.beforeOk,k=w.ok,_=w.beforeClose,S=w.close,I=r["default"].template(d)(t),D={reload:function(){i.refreshTable()},view:{showToast:function(e,t){n.Toast[t.messageType||"success"](e)}},dispatchCommand:function(e,t){return i.dispatchCommand(e,t)}},E={dialog:!0,actionOptions:{open:!0,width:l||"auto",height:u||"auto",title:I,url:b,skin:v,trackId:m,trackName:g,module:module,options:r["default"].extend({parentAction:D},a.createPayload(t,x,y))}};null!=f&&(E.foot=f),null!=p&&(E.confirm=p),null!=h&&(E.close=h);var P=new o["default"]({parent:this,data:E});r["default"].isFunction(C)&&P.on("actionloaded",C),r["default"].isFunction(T)&&P.on("beforeok",T),r["default"].isFunction(k)&&P.on("ok",k),r["default"].isFunction(_)&&P.on("beforeclose",_),r["default"].isFunction(S)&&P.on("close",S),P.attach(document.body),this.$childs.push(P)};var r=t["default"](e),o=t["default"](i)}),define("inf-ui/x/biz/Filter",["exports","module","lodash","babel-runtime/helpers/interop-require-default","san","san-xui"],function(exports,module,e,t,n,i){var a=t["default"](e),r=i.create("ui-biz-filter"),o='<div class="{{mainClass}}">\n    <dl s-if="!loading">\n        <dt s-if="title">{{title}}</dt>\n        <dd>\n            <div class="'+r("form","form-inline")+'">\n                <div class="'+r("form-item")+'" s-for="item in controls">\n                    <label s-if="item.label" class="'+r("label")+'">{{item.label}}</label>\n                    <ui-select\n                        s-if="item.type === \'select\'"\n                        value="{{formData[item.name]}}"\n                        track-id="{{item.trackId}}"\n                        track-name="{{item.trackName}}"\n                        width="{{item.width}}"\n                        filter="{{item.filter}}"\n                        filter-placeholder="{{item.filterPlaceholder}}"\n                        filter-callback="{{item.filterCallback}}"\n                        multi="{{item.multi}}"\n                        datasource="{{item.options}}"\n                        on-change="onItemChanged(item.name, $event)"\n                        />\n\n                    <ui-textbox\n                        s-if="item.type === \'textbox\'"\n                        value="{{formData[item.name]}}"\n                        track-id="{{item.trackId}}"\n                        track-name="{{item.trackName}}"\n                        width="{{item.width}}"\n                        placeholder="{{item.placeholder}}"\n                        on-input="onItemChanged(item.name, $event, true)"\n                        on-enter="doFilter"\n                    />\n\n                    <ui-rangecalendar\n                        s-if="item.type === \'rangecalendar\'"\n                        value="{{formData[item.name]}}"\n                        track-id="{{item.trackId}}"\n                        track-name="{{item.trackName}}"\n                        time="{{item.time}}"\n                        width="{{item.width}}"\n                        range="{{item.range}}"\n                        shortcut="{{item.shortcut}}"\n                        on-change="onItemChanged(item.name, $event)"\n                        />\n\n                    <ui-calendar\n                        s-if="item.type === \'calendar\'"\n                        value="{{formData[item.name]}}"\n                        track-id="{{item.trackId}}"\n                        track-name="{{item.trackName}}"\n                        width="{{item.width}}"\n                        prev="{{item.prev}}"\n                        next="{{item.next}}"\n                        range="{{item.range}}"\n                        on-change="onItemChanged(item.name, $event)"\n                        />\n                    <div\n                        s-if="item.type === \'plain\'"\n                        class="'+r("form-item-plain")+'">{{item.text | raw}}</div>\n                </div>\n            </div>\n            <ui-button on-click="doFilter" skin="primary" s-if="submitText">{{submitText}}</ui-button>\n        </dd>\n    </dl>\n</div>';module.exports=n.defineComponent({template:o,components:{"ui-select":i.Select,"ui-calendar":i.Calendar,"ui-rangecalendar":i.RangeCalendar,"ui-button":i.Button,"ui-textbox":i.TextBox},dataTypes:{title:n.DataTypes.string,loading:n.DataTypes.bool,submitText:n.DataTypes.string,controls:n.DataTypes.array,formData:n.DataTypes.object},computed:{mainClass:function(){return r.mainClass(this)}},initData:function(){return{title:null,loading:!0,submitText:null,formData:null,controls:[]}},inited:function(){var e=[],t=this.data.get("formData")||{},n=a["default"].map(this.data.get("controls"),function(n,i){var r=n.name;return r?a["default"].isPlainObject(r)&&(e.push({type:"j",value:r}),r="__key_"+(e.length-1)):(e.push({type:"p",value:i}),r="__key_"+(e.length-1)),null==t[r]&&null!=n.value&&(t[r]=n.value),a["default"].extend({},n,{name:r})});e.length&&(t.__s_key=e),this.data.set("formData",t),this.data.set("controls",n),this.data.set("loading",!1)},attached:function(){var e=this.data.get("formData");a["default"].isEmpty(e)||this.doFilter()},onItemChanged:function(e,t,n){var i=t.value;this.data.set("formData."+e,i);this.data.get("submitText")||n||this.doFilter(),this.fire("item-change",{name:e,value:i})},doFilter:function(){if(this.lifeCycle.attached){var e=a["default"].clone(this.data.get("formData"));this.fire("submit",e)}}})}),define("inf-ui/x/biz/Ghost",["exports","module","san"],function(exports,module,e){module.exports=e.defineComponent({template:"<template><slot/></template>"})}),define("inf-ui/x/biz/helper",["exports","lodash","babel-runtime/helpers/interop-require-default","moment","san-xui","./LegacyActionAdapter","./Page","babel-runtime/helpers/interop-require","./Ghost","san-xui/x/components/helper"],function(exports,e,t,n,i,a,r,o,s,l){exports.__esModule=!0,exports.buildDialog=function(e){return i.asDialog(e)},exports.waitActionDialog=function(e,t){var n=u["default"].extend({open:!0,width:"auto",height:"auto",title:"Dialog Title"},e);n.options=t;var i=new c["default"]({data:{dialog:!0,actionOptions:n}});return i.attach(document.body),i},exports.createPayload=function(e,t,n){var i=t?{}:u["default"].extend({},e);return u["default"].each(t,function(t){if(u["default"].isArray(t)){var n=t[0],a=t[1];i[a]=e[n]}else u["default"].isString(t)&&(i[t]=e[t])}),u["default"].extend(i,n)},exports.createToolbar=function(e){return u["default"].map(e,function(e){if("button"===e.type){var t=u["default"].clone(e);return t.primary&&(t.skin="primary"),t}return"button-group"===e.type?{type:e.type,value:e.$value||e.buttons[0].$value,datasource:u["default"].map(e.buttons,function(e){var t=e.label,n=e.$value,i=u["default"].omit(e,"label","$value");return u["default"].extend({text:t,value:n},i)})}:e})},exports.matchAll=function(e,t){for(var n=u["default"].keys(t),i=0;i<n.length;i++){var a=n[i],r=t[a];if(e.data.get(a)!==r)return!1}return!0},exports.valueTransform=function(e){var t={},n=e.__s_key||[];return u["default"].each(e,function(e,i){if(/^__key_(.*)$/.test(i)){var a=n[+RegExp.$1];if(!a)return;"p"===a.type?u["default"].extend(t,e):"j"===a.type&&u["default"].each(a.value,function(n,i){var a=e[i];null!=a&&(t[n]=a)})}else"__s_key"!==i&&(t[i]=e)}),u["default"].each(t,function(e,n){u["default"].isDate(e)&&(t[n]=d["default"](e).utc().format("YYYY-MM-DDTHH:mm:ss")+"Z")}),t};var u=t["default"](e),d=t["default"](n),c=t["default"](a);exports.Page=o["default"](r),exports.Ghost=o["default"](s),exports.asPromise=l.asPromise,exports.displayDialog=l.displayDialog,exports.confirm=l.confirm,exports.alert=l.alert,exports.plain=l.plain}),define("inf-ui/x/biz/LegacyActionAdapter",["exports","module","inf-i18n","babel-runtime/helpers/interop-require-default","san","san-xui","../components/ActionLoader"],function(exports,module,e,t,n,i,a){function r(e){return!!(e&&e.page&&e.SanPage)}var o=t["default"](e),s=t["default"](a);module.exports=n.defineComponent({template:'<template>\n    <ui-dialog\n        s-if="dialog"\n        s-ref="dialog"\n        open="{=actionOptions.open=}"\n        height="{{actionOptions.height}}"\n        width="{{actionOptions.width}}"\n        skin="{{actionOptions.skin}}"\n        data-track-id="{{actionOptions.trackId}}"\n        data-track-name="{{actionOptions.trackName}}"\n        foot="{{foot}}"\n        on-close="onCloseDialog">\n        <span slot="head">{{actionOptions.title | raw}}</span>\n        <ui-actionloader\n            on-actionloaded="onActionLoaded($event)"\n            url="{{actionOptions.url}}"\n            module="{{actionOptions.module}}"\n            options="{{actionOptions.options}}" />\n        <div slot="foot" s-if="foot">\n            <ui-button\n                on-click="onConfirmDialog"\n                skin="primary"\n                disabled="{{confirm.disabled}}">\n                {{confirm.label}}\n            </ui-button>\n            <ui-button\n                on-click="onCloseDialog"\n                disabled="{{close.disabled}}">\n                {{close.label}}\n            </ui-button>\n        </div>\n    </ui-dialog>\n    <ui-actionloader\n        s-else\n        on-actionloaded="onActionLoaded($event)"\n        url="{{actionOptions.url}}"\n        options="{{actionOptions.options}}"\n        module="{{actionOptions.module}}" />\n</template>',components:{"ui-actionloader":s["default"],"ui-button":i.Button,"ui-dialog":i.Dialog},dataTypes:{dialog:n.DataTypes.bool,foot:n.DataTypes.bool,actionOptions:n.DataTypes.objectOf({open:n.DataTypes.bool,width:n.DataTypes.number,height:n.DataTypes.number,title:n.DataTypes.string,url:n.DataTypes.string,module:n.DataTypes.string,needFoot:n.DataTypes.bool,options:n.DataTypes.objectOf({parentAction:n.DataTypes.object}),confirm:n.DataTypes.objectOf({label:n.DataTypes.string,disabled:n.DataTypes.bool}),close:n.DataTypes.objectOf({label:n.DataTypes.string,disabled:n.DataTypes.bool})})},initData:function(){return{dialog:!1,foot:!0,confirm:{label:o["default"]("确定"),disabled:!1},close:{label:o["default"]("取消"),disabled:!1},actionOptions:{open:!1}}},inited:function(){this.erAction=null;var e=this.data.get("actionOptions");e&&!1===e.needFoot&&this.data.set("foot",!1),e&&e.confirm&&this.data.set("confirm",e.confirm),e&&e.close&&this.data.set("close",e.close)},closeDialog:function(){this.data.set("actionOptions.open",!1)},onActionLoaded:function(e){var t=this,n=e.action;(r(n)?n.page.children[0]:n).on("legacyactioncustomevent",function(e){var i=e.legacyActionFireCustomType;n.owner?t.fire(i,e.value):t.dispatch(i,e.value)}),this.erAction=n,this.data.get("dialog")&&this.ref("dialog").__resize(),this.fire("actionloaded",e)},onConfirmDialog:function(e){var t=this;if(this.fire("beforeok",{action:this.erAction,e:e}),!e.defaultPrevented){var n=this.erAction,a=r(n),s=a?n.page.children[0]:n;if(s&&"function"==typeof s.doSubmit){var l=function(){var e=t.data.get("confirm");return t.data.set("confirm.label",o["default"]("处理中...")),t.data.set("confirm.disabled",!0),{v:s.doSubmit().then(function(){t.data.set("confirm.label",e.label||o["default"]("确定")),t.data.set("confirm.disabled",!1),s.preventCloseDialog||t.closeDialog(),t.fire("ok")}).then(null,function(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];a&&n.global&&i.Toast.error(n.global),!a&&n.field&&s.view&&s.view.notifyErrors&&s.view.notifyErrors(n.field),t.data.set("confirm.label",e.label||o["default"]("确定")),t.data.set("confirm.disabled",!1)})}}();if("object"==typeof l)return l.v}this.closeDialog(),this.fire("ok")}},onCloseDialog:function(){this.fire("beforeclose",{action:this.erAction}),this.closeDialog(),this.fire("close")}})}),define("inf-ui/x/biz/Message",["exports","inf-i18n","babel-runtime/helpers/interop-require-default","san","san-xui"],function(exports,e,t,n,i){exports.__esModule=!0,exports.asGlobalError=function(e){var t=e.content,o=e.requestId,module=e.module;return n.defineComponent({template:'\n            <div class="'+r("global")+'">\n                <div>\n                    <xui-icon name="info" />\n                    <span class="content">\n                        '+t+'\n                        <a target="_blank"\n                            s-if="requestId"\n                            href="{{ticketHost}}/?#/ticket/create~module='+module+"&requestId="+o+'">\n                            '+a["default"]("提交工单")+'\n                        </a>\n                    </span>\n                </div>\n                <div s-if="requestId" class="request-id">\n                    '+a["default"]("错误码：")+'{{requestId}}\n                    <xui-clipboard text="{{requestId}}" tip-position="w">\n                        <xui-icon name="copy" />\n                    </xui-clipboard>\n                </div>\n            </div>\n        ',initData:function(){var e=/bcetest/.exec(location.host)?"http://ticket.bcetest.baidu.com":"https://ticket.bce.baidu.com";return{requestId:o,ticketHost:e}},components:{"xui-icon":i.Icon,"xui-clipboard":i.Clipboard}})},exports.asInternalError=function(e){var t=e.url,o=e.httpcode;return n.defineComponent({template:'\n            <div class="'+r("global")+'">\n                <div>\n                    <xui-icon name="info" />\n                    <span class="content">'+a["default"]("服务器错误：")+o+'</span>\n                </div>\n                <div class="request-id">\n                    '+a["default"]("请求路径：")+t+"\n                </div>\n            </div>\n        ",components:{"xui-icon":i.Icon}})},exports.asProductMessage=function(e){var t=e.title,i=t===undefined?a["default"]("[产品消息]"):t,o=e.content;return n.defineComponent({template:'\n            <div class="'+r("product")+'">\n                <p class="title">'+i+'</p>\n                <div class="content">\n                    '+o+"\n                </div>\n            </div>\n        "})},exports.asRechargeError=function(e){var t=e.content,o=e.requestId;return n.defineComponent({template:'\n            <div class="'+r("global")+'">\n                <div>\n                    <xui-icon name="info" />\n                    <span class="content">\n                        '+t+'\n                        <a target="_blank"\n                            s-if="requestId"\n                            href="https://console.bce.baidu.com/finance/#/finance/account/recharge">\n                            '+a["default"]("去充值")+'>\n                        </a>\n                    </span>\n                </div>\n                <div s-if="requestId" class="request-id">\n                    '+a["default"]("错误码：")+'{{requestId}}\n                    <xui-clipboard text="{{requestId}}" tip-position="w">\n                        <xui-icon name="copy" />\n                    </xui-clipboard>\n                </div>\n            </div>\n        ',initData:function(){return{requestId:o}},components:{"xui-icon":i.Icon,"xui-clipboard":i.Clipboard}})};var a=t["default"](e),r=i.create("ui-notification-msg")}),define("inf-ui/x/biz/Page",["exports","module","san","san-xui","./Breadcrumbs","babel-runtime/helpers/interop-require-default","./PageNav"],function(exports,module,e,t,n,i,a){var r=i["default"](n),o=i["default"](a),s=t.create("list-page");module.exports=e.defineComponent({template:'<div class="{{mainClass}}">\n        <page-nav s-if="pageNav" title="{{pageNav.title}}" backLabel="{{pageNav.backLabel}}"\n            step="{{pageNav.step}}" backUrl="{{pageNav.backUrl}}"/>\n        <breadcrumbs s-if="breadcrumbs" items="{{breadcrumbs}}"/>\n        <div class="'+s("notice")+'" s-if="withNotice">\n            <slot name="notice" />\n        </div>\n\n        <div class="'+s("body")+'">\n            <div class="'+s("title")+'" s-if="title || navs">\n                <h2 s-if="title">{{title}}<span s-if="remark">{{remark | raw}}</span></h2>\n                <div class="ui-tab ui-tab-x" s-elif="navs">\n                    <ul class="ui-tab-navigator">\n                        <li\n                            s-for="item in navs"\n                            class="{{item.active ? \'ui-tab-item ui-tab-item-active\' : \'ui-tab-item\'}}"\n                        >\n                            <a href="{{item.link}}" s-if="item.link">{{item.text}}</a>\n                            <span s-else>{{item.text}}</span>\n                        </li>\n                    </ul>\n                </div>\n                <slot name="helps" />\n            </div>\n            <div class="'+s("content")+'">\n                <div class="'+s("tip")+'" s-if="withTip">\n                    <slot name="tip" />\n                </div>\n\n                <slot name="filter" />\n\n                <div class="'+s("toolbar")+'" s-if="withToolbar">\n                    <div class="'+s("tb-left")+'">\n                        <slot name="tb-left" />\n                        <slot name="tb-filter" />\n                    </div>\n                    <div class="'+s("tb-right")+'">\n                        <slot name="tb-right" />\n                    </div>\n                </div>\n                <slot/>\n            </div>\n        </div>\n    </div>',components:{breadcrumbs:r["default"],"page-nav":o["default"]},initData:function(){return{withSidebar:!1,withTip:!1,withToolbar:!0,withNotice:!1,title:null,navs:null,remark:null,breadcrumbs:null,pageNav:null}},computed:{mainClass:function(){var e=[s()];return this.data.get("withSidebar")&&e.push(s("with-sidebar")),e}},hasSlot:function(e){return t.hasSlot(this,e)},attached:function(){var e=this.hasSlot("tb-left")||this.hasSlot("tb-right")||this.hasSlot("tb-filter");this.data.set("withToolbar",e)}})}),define("inf-ui/x/biz/PageNav",["exports","module","san","san-xui"],function(exports,module,e,t){var n=t.create("ui-page-nav"),i='<div class="'+n()+'">\n    <div class="'+n("back-wrapper")+'">\n        <a href="{{backUrl}}">\n            <i class="iconfont icon-downarrow"></i>\n            {{backLabel}}\n        </a>\n    </div>\n    <div class="'+n("title")+'">{{title | raw}}</div>\n    <div s-if="step" class="'+n("step")+'">\n        <xui-viewstep step-index="{{step.index}}" steps="{{step.datasource}}" />\n    </div>\n</div>';module.exports=e.defineComponent({template:i,components:{"xui-viewstep":t.ViewStep},initData:function(){return{backLabel:"",backUrl:"",title:"",step:null}},dataTypes:{backLabel:e.DataTypes.string,backUrl:e.DataTypes.string,title:e.DataTypes.string,step:e.DataTypes.object}})}),define("inf-ui/x/biz/RightToolbar",["exports","module","san","san-xui"],function(exports,module,e,t){module.exports=e.defineComponent({template:'<template>\n<ui-searchbox\n    s-if="withSearchbox"\n    value="{=searchboxValue=}"\n    keyword-type="{=searchboxKeywordType=}"\n    placeholder="{{searchboxPlaceholder}}"\n    datasource="{{searchboxKeywordTypes}}"\n    multi="{{searchboxMulti}}"\n    loader="{{searchboxLoader}}"\n    skin="{{searchboxSkin}}"\n    keyword-type-changed="{{keywordTypeChanged}}"\n    keyword-disabled="{{keywordDisabled}}"\n    keyword-datasource="{{keywordDatasource}}"\n    on-search="onSearch"\n    track-id="search"\n/>\n<ui-button s-if="withBatchDelete" on-click="onBatchDelete">批量删除</ui-button>\n<ui-button s-if="withDownload" on-click="onDownload" icon="download" track-id="dowanload" />\n<ui-button s-if="withRefresh" disabled="{{loading}}" on-click="onRefresh" icon="refresh" track-id="refresh" />\n\n<ui-table-column-toggle\n    s-if="withTct"\n    on-change="onTableColumnsChanged"\n    layer-align="right"\n    layer-offset-left="{{0}}"\n    value="{=tctValue=}"\n    datasource="{{tctDatasource}}"\n    />\n</template>',components:{"ui-table-column-toggle":t.TableColumnToggle,"ui-searchbox":t.SearchBox,"ui-button":t.Button},dataTypes:{loading:e.DataTypes.bool,withSearchbox:e.DataTypes.bool,withBatchDelete:e.DataTypes.bool,withDownload:e.DataTypes.bool,withRefresh:e.DataTypes.bool,searchboxValue:e.DataTypes.any,searchboxKeywordType:e.DataTypes.string,searchboxPlaceholder:e.DataTypes.string,searchboxKeywordTypes:e.DataTypes.array,searchboxMulti:e.DataTypes.bool,searchboxLoader:e.DataTypes.func,keywordTypeChanged:e.DataTypes.func,keywordDisabled:e.DataTypes.bool,keywordDatasource:e.DataTypes.array,withTct:e.DataTypes.bool,tctValue:e.DataTypes.any,tctDatasource:e.DataTypes.array},initData:function(){return{withRefresh:!0}},onSearch:function(){this.fire("search")},onRefresh:function(){this.fire("refresh")},onTableColumnsChanged:function(){this.fire("table-columns-changed")},onBatchDelete:function(){this.fire("batch-delete")},onDownload:function(){this.fire("download")}})}),define("inf-ui/x/biz/Table",["exports","module","san","san-xui"],function(exports,module,e,t){module.exports=e.defineComponent({template:'<template>\n<ui-f-table\n    s-if="frozen"\n    schema="{{columns}}"\n    select="{{table.select}}"\n    select-text="{{table.selectText}}"\n    loading="{{table.loading}}"\n    error="{{table.error}}"\n    datasource="{{table.datasource}}"\n    cell-builder="{{table.cellRenderer}}"\n    disabled-select-all="{{table.disabledSelectAll}}"\n    selected-index="{=table.selectedIndex=}"\n    on-command="onTableCommand($event)"\n    on-filter="onFilter($event)"\n    on-sort="onSort($event)"\n    on-selected-change="onTableRowSelected($event)">\n>\n    <div slot="error">\n        {{table.error ? table.error : \'啊呀，出错了？\' | raw}} <a href="javascript:void(0)" on-click="onRefresh">重新加载</a>\n    </div>\n    <div slot="empty">\n        {{table.emptyText ? table.emptyText : \'暂无数据\' | raw}}\n    </div>\n</ui-f-table>\n\n<ui-table\n    s-else\n    schema="{{columns}}"\n    select="{{table.select}}"\n    select-text="{{table.selectText}}"\n    loading="{{table.loading}}"\n    error="{{table.error}}"\n    datasource="{{table.datasource}}"\n    cell-builder="{{table.cellRenderer}}"\n    disabled-select-all="{{table.disabledSelectAll}}"\n    selected-index="{=table.selectedIndex=}"\n    on-command="onTableCommand($event)"\n    on-filter="onFilter($event)"\n    on-sort="onSort($event)"\n    on-selected-change="onTableRowSelected($event)">\n\n    <div slot="error">\n        {{table.error ? table.error : \'啊呀，出错了？\' | raw}} <a href="javascript:void(0)" on-click="onRefresh">重新加载</a>\n    </div>\n    <div slot="empty">\n        {{table.emptyText ? table.emptyText : \'暂无数据\' | raw}}\n    </div>\n</ui-table>\n</template>',components:{"ui-table":t.Table,"ui-f-table":t.FrozenColumnTable},computed:{frozen:function(){for(var e=this.data.get("columns"),t=0;t<e.length;t++){if(e[t].freezed)return!0}return!1}},dataTypes:{columns:e.DataTypes.array,table:e.DataTypes.objectOf({error:e.DataTypes.any,emptyText:e.DataTypes.string,loading:e.DataTypes.bool,disabledSelectAll:e.DataTypes.bool,datasource:e.DataTypes.array,selectedIndex:e.DataTypes.array,cellRenderer:e.DataTypes.func,select:e.DataTypes.string,selectText:e.DataTypes.string})},onTableCommand:function(e){this.fire("command",e)},onFilter:function(e){this.fire("filter",e)},onSort:function(e){this.fire("sort",e)},onTableRowSelected:function(e){this.fire("selected-change",e)},onRefresh:function(){this.fire("refresh")}})}),define("inf-ui/x/biz/Toolbar",["exports","module","san","san-xui","./Ghost","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n,i){var a=i["default"](n);module.exports=e.defineComponent({template:'<template>\n<ui-ghost s-for="item in controls">\n    <ui-button\n        s-if="item.type === \'button\'"\n        on-click="onToolbarEvent(item)"\n        disabled="{{item.disabled}}"\n        tip="{{item.tip}}"\n        tipPosition="{{item.tipPosition}}"\n        icon="{{item.icon}}"\n        label="{{item.label}}"\n        skin="{{item.skin}}"\n        data-track-id="{{item.trackId}}"\n        data-track-name="{{item.trackName}}"\n        />\n    <ui-radioselect\n        s-if="item.type === \'button-group\'"\n        value="{{item.value}}"\n        disabled="{{item.disabled}}"\n        on-change="onToolbarEvent($event)"\n        datasource="{{item.datasource}}"\n        />\n    <a\n        s-if="item.type === \'link\'"\n        target="_blank"\n        href="{{item.link}}">\n        <ui-icon s-if="{{item.icon}}" name="{{item.icon}}" />\n        {{item.label}}\n    </a>\n    <span s-if="item.type === \'divider\'">&nbsp;</span>\n</ui-ghost>\n</template>',components:{"ui-ghost":a["default"],"ui-button":t.Button,"ui-radioselect":t.RadioSelect,"ui-icon":t.Icon},dataTypes:{controls:e.DataTypes.array},onToolbarEvent:function(e){this.fire("item-clicked",e)}})}),define("inf-ui/x/biz/XPager",["exports","module","san","san-xui"],function(exports,module,e,t){module.exports=e.defineComponent({template:'<template>\n    <label class="list-page-pager-total-count" s-if="withTotalCount">共{{pager.count}}条</label>\n    <label s-if="withPagerSize">每页展示</label>\n    <ui-select\n        s-if="withPagerSize"\n        layer-width="80"\n        datasource="{{pager.datasource}}"\n        value="{=pager.size=}"\n        on-change="onPagerSizeChange($event)"\n        />\n    <ui-pager\n        size="{{pager.size}}"\n        page="{{pager.page}}"\n        count="{{pager.count}}"\n        back-text="<"\n        forward-text=">"\n        on-change="onPagerChange($event)" />\n</template>',components:{"ui-select":t.Select,"ui-pager":t.Pager},dataTypes:{withTotalCount:e.DataTypes.bool,withPagerSize:e.DataTypes.bool,pager:e.DataTypes.object},onPagerSizeChange:function(e){this.fire("pager-size-change",e)},onPagerChange:function(e){this.fire("pager-change",e)}})}),define("inf-ui/x/components/ACEEditor",["exports","module","san-xui/x/components/ACEEditor","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/ActionLoader",["exports","module","babel-runtime/helpers/tagged-template-literal-loose","san","er/Deferred","babel-runtime/helpers/interop-require-default","er/events","mini-event","er/controller","inf-ria/helper","san-xui","./util"],function(exports,module,e,t,n,i,a,r,o,s,l,u){function d(e){var t=x["default"].fromEvent(e,{preserveData:!0,syncState:!0});t.type="action-"+e.type,this.fire(t.type)}function c(e){if(this.actionMatched(e)){var t=this.action=e.action;"function"==typeof t.on&&t.on("*",d,this),this.fire("actionattach",e)}}function f(e){this.actionMatched(e)&&(this.data.set("loading",!1),this.data.set("error",null),this.fire("actionloaded",e))}function p(e){if(this.actionMatched(e)){var t=this.data.get("url");this.action=null,this.data.set("loading",!1),this.data.set("error",new Error("Action Enter Failed, Url = "+t+", Reason: "+e.reason)),this.fire("actionloadfail",{failType:e.failType,reason:e.reason})}}function h(e){this.actionMatched(e)&&(this.data.set("loading",!1),this.data.set("error",new Error("Action Load Aborted")),this.fire("actionloadabort",e))}var v=e["default"](['\n<div class="{{mainClass}}">\n    <div class="','" s-if="error"><pre>{{error}}</pre></div>\n    <ui-loading s-if="loading" />\n    <div s-ref="ghost" style="{{mainStyle}}" id="{{ghostId}}"></div>\n</div>'],['\n<div class="{{mainClass}}">\n    <div class="','" s-if="error"><pre>{{error}}</pre></div>\n    <ui-loading s-if="loading" />\n    <div s-ref="ghost" style="{{mainStyle}}" id="{{ghostId}}"></div>\n</div>']),m=i["default"](n),g=i["default"](a),x=i["default"](r),y=i["default"](o),b=l.create("ui-actionloader"),w=l.html(v,b("error"));module.exports=t.defineComponent({template:w,components:{"ui-loading":l.Loading},initData:function(){return{loading:!0,error:null,width:"100%",height:null,url:null,options:null,ghostId:"actionloader-ghost-"+u.nexUuid()}},computed:{mainStyle:function(){var e=this.data.get("loading"),t=this.data.get("error"),n=b.mainStyle(this);return n.display=e||t?"none":"block",n},mainClass:function(){return b.mainClass(this)}},inited:function(){var e=this;this.data.get("url")||this.data.set("error",new Error("action-url MUST be provided.")),this.watch("url",function(t){e.disposeAction(),e.data.set("loading",!0),e.data.set("error",null),e.reloadAction()}),g["default"].on("enteraction",c,this),g["default"].on("enteractioncomplete",f,this),g["default"].on("actionnotfound",p,this),g["default"].on("permissiondenied",p,this),g["default"].on("actionfail",p,this),g["default"].on("enteractionfail",p,this),g["default"].on("actionabort",h,this)},attached:function(){this.reloadAction()},actionMatched:function(e){var t=this.ref("ghost");return e.isChildAction&&t&&t.id===e.container},reloadAction:function(){var e=this,module=this.data.get("module");module?s.loadAppInBackground(module).then(function(){return e.renderAction()}):this.renderAction()},renderAction:function(){var e=this.data.get(),t=e.url,n=e.options,i=this.ref("ghost"),a=this.action=y["default"].renderChildAction(t,i.id,n);"function"!=typeof a.abort&&(a.abort=null)},disposeAction:function(){var e=this.action;e&&(m["default"].isPromise(e)&&"function"==typeof e.abort?e.abort():("function"==typeof e.un&&e.un("*",d,this),"function"==typeof e.leave&&e.leave()))},dispose:function(e){this.disposeAction(),g["default"].un("enteraction",c,this),g["default"].un("enteractioncomplete",f,this),g["default"].un("actionnotfound",p,this),g["default"].un("permissiondenied",p,this),g["default"].un("actionfail",p,this),g["default"].un("enteractionfail",p,this),g["default"].un("actionabort",h,this),t.Component.prototype.dispose.call(this,e)}})}),define("inf-ui/x/components/AlertDialog",["exports","module","san-xui/x/components/AlertDialog","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/asDialog",["exports","san-xui/x/components/asDialog","babel-runtime/helpers/defaults","babel-runtime/helpers/interop-export-wildcard"],function(exports,e,t,n){exports.__esModule=!0,t["default"](exports,n["default"](e,t["default"]))}),define("inf-ui/x/components/asDrawer",["exports","module","san-xui/x/components/asDrawer","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/asInput",["exports","san-xui/x/components/asInput","babel-runtime/helpers/defaults","babel-runtime/helpers/interop-export-wildcard"],function(exports,e,t,n){exports.__esModule=!0,t["default"](exports,n["default"](e,t["default"]))}),define("inf-ui/x/components/asTable",["exports","san-xui/x/components/asTable","babel-runtime/helpers/defaults","babel-runtime/helpers/interop-export-wildcard"],function(exports,e,t,n){exports.__esModule=!0,t["default"](exports,n["default"](e,t["default"]))}),define("inf-ui/x/components/BcmChart",["exports","module","babel-runtime/helpers/tagged-template-literal-loose","lodash","babel-runtime/helpers/interop-require-default","axios","san","san-xui","inf-ria/utils/mtools"],function(exports,module,e,t,n,i,a,r,o){function s(e){return u["default"].isArray(e)?e:e?c["default"].parseMetrics(e):[]}var l=e["default"](['\n<div class="{{mainClass}}" style="{{mainStyle}}">\n<div class="','">\n    <h1 s-if="title && !withFilter">\n        {{title}}\n        <div on-click="showBigView" class="','" s-if="!loading && showbigable"></div>\n    </h1>\n    <div class="','" s-if="withFilter">\n        统计项：<ui-select datasource="{{ds.statistics}}" value="{=statistics=}" on-change="loadMetrics" />\n        采样周期：<ui-select datasource="{{ds.period}}" value="{=period=}" on-change="loadMetrics" />\n        最近：<ui-select datasource="{{ds.timeRange}}" value="{=time=}" on-change="loadMetrics" />\n        <ui-tip skin="warning" message="最多支持1440个数据点的查询显示，请选择合适的采样周期和聚合时间段。" />\n        <ui-button icon="refresh" on-click="loadMetrics" />\n    </div>\n    <div class="','" style="{{chartStyle}}">\n        <ui-loading s-if="!chartOption && loading" />\n        <div class="','" s-elif="error">{{error | raw}}</div>\n        <div class="','" s-elif="isEmpty">{{noData | raw}}</div>\n        <ui-chart s-ref="chart" s-else option="{{chartOption}}" autoResize="{{true}}" loading="{{loading}}" width="{{width}}" height="{{height}}" not-merge />\n    </div>\n</div>\n</div>'],['\n<div class="{{mainClass}}" style="{{mainStyle}}">\n<div class="','">\n    <h1 s-if="title && !withFilter">\n        {{title}}\n        <div on-click="showBigView" class="','" s-if="!loading && showbigable"></div>\n    </h1>\n    <div class="','" s-if="withFilter">\n        统计项：<ui-select datasource="{{ds.statistics}}" value="{=statistics=}" on-change="loadMetrics" />\n        采样周期：<ui-select datasource="{{ds.period}}" value="{=period=}" on-change="loadMetrics" />\n        最近：<ui-select datasource="{{ds.timeRange}}" value="{=time=}" on-change="loadMetrics" />\n        <ui-tip skin="warning" message="最多支持1440个数据点的查询显示，请选择合适的采样周期和聚合时间段。" />\n        <ui-button icon="refresh" on-click="loadMetrics" />\n    </div>\n    <div class="','" style="{{chartStyle}}">\n        <ui-loading s-if="!chartOption && loading" />\n        <div class="','" s-elif="error">{{error | raw}}</div>\n        <div class="','" s-elif="isEmpty">{{noData | raw}}</div>\n        <ui-chart s-ref="chart" s-else option="{{chartOption}}" autoResize="{{true}}" loading="{{loading}}" width="{{width}}" height="{{height}}" not-merge />\n    </div>\n</div>\n</div>']),u=n["default"](t),d=n["default"](i),c=n["default"](o),f=r.create("ui-bcmchart"),p=r.html(l,f("box"),f("showbig"),f("filter"),f("chart"),f("error"),f("no-data")),h=a.defineComponent({template:p,components:{"ui-select":r.Select,"ui-button":r.Button,"ui-tip":r.Tip,"ui-loading":r.Loading,"ui-chart":r.Chart},dataTypes:{title:a.DataTypes.string,lazy:a.DataTypes.bool,withFilter:a.DataTypes.bool,showbigable:a.DataTypes.bool,noData:a.DataTypes.string,isEmpty:a.DataTypes.bool,width:a.DataTypes.number,height:a.DataTypes.number,loading:a.DataTypes.bool,error:a.DataTypes.any,requester:a.DataTypes.func,requesterProccessor:a.DataTypes.func,scope:a.DataTypes.string,apiType:a.DataTypes.string,dimensions:a.DataTypes.any,metrics:a.DataTypes.string,statistics:a.DataTypes.string,period:a.DataTypes.number,time:a.DataTypes.string,unit:a.DataTypes.string,connectNulls:a.DataTypes.bool,options:null},computed:{mainClass:function(){return f.mainClass(this)},mainStyle:function(){var e=f.mainStyle(this);return u["default"].omit(e,"width","height")},chartStyle:function(){var e=f.mainStyle(this);return u["default"].pick(e,"width","height")},metricConfig:function(){var e=this.data.get("metrics"),t=this.data.get("unit"),n=this.data.get("statistics"),i=this.data.get("connectNulls");return{unit:t,statistics:n,metrics:s(e),connectNulls:i}},conf:function(){var e={},t=this.data.get("statistics"),n=this.data.get("scope"),i=this.data.get("time"),a=this.data.get("period"),r=this.data.get("apiType"),o=this.data.get("dimensions"),l=s(this.data.get("metrics")),d=c["default"].getUTCTimeRange(i,+a),f=d.startTime,p=d.endTime;return"metricName"===r?(e.dimensions=o,e.metricNames=u["default"].map(l,function(e){return e.value})):(u["default"].isArray(o)?e.dimensions=o:e.dimensions=c["default"].parseDimensions(o),e.metricName=l[0].value),e.statistics=t,e.scope=n,e.periodInSecond=+a,e.startTime=f,e.endTime=p,e}},initData:function(){return{lazy:!0,withFilter:!1,unit:"",metrics:"",width:550,height:200,apiType:"metricName",period:60,time:"1h",statistics:"average",noData:'暂无数据<p style="font-size:12px;color:#aaa;">请检查是否安装了BCM客户端</p>',ds:{statistics:[{text:"平均值",value:"average"},{text:"和值",value:"sum"},{text:"最大值",value:"maximum"},{text:"最小值",value:"minimum"},{text:"样本数",value:"sampleCount"}],period:[{text:"1分钟",value:60},{text:"5分钟",value:300},{text:"20分钟",value:1200},{text:"1小时",value:3600},{text:"6小时",value:21600},{text:"12小时",value:43200},{text:"1天",value:86400}],timeRange:[{text:"1小时",value:"1h"},{text:"6小时",value:"6h"},{text:"1天",value:"1d"},{text:"7天",value:"7d"},{text:"14天",value:"14d"},{text:"40天",value:"40d"}]}}},inited:function(){var e=this,t=this.data.get("requester");"function"!=typeof t&&function(){var n=e.data.get("apiType"),i=t&&"string"==typeof t?t:function(e){return"dimensions"===e?"/api/bcm/metricdata/v2/datas/dimensions":"/api/bcm/metricdata/v2/datas/metricname"}(n);e.data.set("requester",function(e){return d["default"].post(i,e)})}()},attached:function(){this.loadMetrics()},resize:function(){var e=this.ref("chart");e&&e.getChart().resize()},loadData:function(){var e=this,t=this.data.get("requester"),n=this.data.get("requesterProccessor");if("function"==typeof t){var i=this.data.get("conf");return this.data.set("loading",!0),this.data.set("error",null),t(i).then(function(t){e.data.set("loading",!1),e.renderChart(n?n(t):t)})["catch"](function(t){e.data.set("loading",!1),e.data.set("error",t&&t.global?t.global:t)})}this.data.set("error","请设置 requester 参数")},loadMetrics:function(){var e=this;a.nextTick(function(){return e.loadData()})},renderChart:function(e){var t=this.data.get("conf"),n=this.data.get("options"),i=c["default"].isMonitorTrendEmpty(e.series,t.statistics);if(this.data.set("isEmpty",i),!i){c["default"].adjustSeriesData(e,t.statistics);var a=this.data.get("metricConfig"),r={period:t.periodInSecond};n&&(r=u["default"].extend({period:t.periodInSecond},n));var o=c["default"].getChartOptions(e,a,{type:"line"},r);this.data.set("chartOption",o)}},showBigView:function(){var e=this;this.dialog&&(this.dialog.dispose(),this.dialog=null);var t=r.asDialog(h),n=u["default"].defaults({withFilter:!0,width:740,height:350},this.data.get()),i={title:n.title,foot:!1,width:800,payload:n},a=this.dialog=new t({data:i});a.on("close",function(){return e.dialog=null}),a.attach(document.body)},disposed:function(){this.dialog&&this.dialog.dispose()}});module.exports=h}),define("inf-ui/x/components/BosUploader",["exports","module","san-xui/x/components/BosUploader","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/BoxGroup",["exports","module","san-xui/x/components/BoxGroup","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Breadcrumbs",["exports","module","san-xui/x/components/Breadcrumbs","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/BulkActions",["exports","module","san-xui/x/components/BulkActions","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Button",["exports","module","san-xui/x/components/Button","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/ButtonMenu",["exports","module","san-xui/x/components/ButtonMenu","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/BuyBucket",["exports","module","san-xui/x/components/BuyBucket","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Calendar",["exports","module","san-xui/x/components/Calendar","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Chart",["exports","module","san-xui/x/components/Chart","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/CheckBox",["exports","module","san-xui/x/components/CheckBox","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/CKEditor",["exports","module","san-xui/x/components/CKEditor","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Clipboard",["exports","module","san-xui/x/components/Clipboard","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/ConfirmDialog",["exports","module","san-xui/x/components/ConfirmDialog","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Dialog",["exports","module","san-xui/x/components/Dialog","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Dragger",["exports","module","san-xui/x/components/Dragger","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Filter",["exports","module","san-xui/x/components/Filter","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/FrozenColumnTable",["exports","module","san-xui/x/components/FrozenColumnTable","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Ghost",["exports","module","san-xui/x/components/Ghost","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Go",["exports","module","san-xui/x/components/Go","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Icon",["exports","module","san-xui/x/components/Icon","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/InfiniteScroll",["exports","module","san-xui/x/components/InfiniteScroll","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/InstantEditor",["exports","module","san-xui/x/components/InstantEditor","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Layer",["exports","module","san-xui/x/components/Layer","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Loading",["exports","module","san-xui/x/components/Loading","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/MonthView",["exports","module","san-xui/x/components/MonthView","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/MultiPicker",["exports","module","san-xui/x/components/MultiPicker","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/NumberTextline",["exports","module","san-xui/x/components/NumberTextline","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/OrderPanel",["exports","module","underscore","babel-runtime/helpers/interop-require-default","san","./util","./ActionLoader"],function(exports,module,e,t,n,i,a){var r=t["default"](e),o=t["default"](a),s=i.create("ui-orderpanel");module.exports=n.defineComponent({template:'\n<div class="{{mainClass}}">\n    <ui-actionloader s-if="show"\n        loading="{=config.loading=}"\n        error="{{config.error}}"\n        width="{{config.width}}"\n        height="{{config.height}}"\n        url="{{config.url}}"\n        options="{{config.options}}"\n        on-actionloaded="onActionLoaded"\n        on-actionloadfail="onActionloadfail"\n        on-actionloadabort="onActionloadabort"\n        on-action-prevPage="onPrevPage"\n        on-confirmed="onConfirmed">\n    </ui-actionloader>\n</div>\n',components:{"ui-actionloader":o["default"]},initData:function(){return{config:{width:"100%"},show:!1}},computed:{mainClass:function(){return s.mainClass(this)}},setProperties:function(e){var t=this.data.get("config");e.options=e.actionOptions,this.data.set("config",r["default"].extend(t,e)),this.data.set("show",!0)},onActionLoaded:function(e){this.fire("actionloaded",e)},onActionloadfail:function(e){this.fire("actionloadfail",e)},onActionloadabort:function(e){this.fire("actionloadabort",e)},onPrevPage:function(e){this.fire("prevPage",e)},onConfirmed:function(e){this.fire("confirmed",e)}})}),define("inf-ui/x/components/Pager",["exports","module","san-xui/x/components/Pager","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/PlainDialog",["exports","module","san-xui/x/components/PlainDialog","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Progress",["exports","module","san-xui/x/components/Progress","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/RadioBox",["exports","module","san-xui/x/components/RadioBox","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/RadioSelect",["exports","module","san-xui/x/components/RadioSelect","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/RangeCalendar",["exports","module","san-xui/x/components/RangeCalendar","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Recorder",["exports","module","san-xui/x/components/Recorder","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/RecorderWorker",["exports","module","san-xui/x/components/RecorderWorker","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Region",["exports","module","san-xui/x/components/Region","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/ResizeObserver",["exports","module","san-xui/x/components/ResizeObserver","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/RichTextEditor",["exports","module","san-xui/x/components/RichTextEditor","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/ScrollIntoView",["exports","module","san-xui/x/components/ScrollIntoView","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/SearchBox",["exports","module","san-xui/x/components/SearchBox","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Select",["exports","module","san-xui/x/components/Select","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/SMSCodeBox",["exports","module","san-xui/x/components/SMSCodeBox","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Sticky",["exports","module","san-xui/x/components/Sticky","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/StopScroll",["exports","module","san-xui/x/components/StopScroll","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Switch",["exports","module","san-xui/x/components/Switch","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/SyntaxHighlighter",["exports","module","san-xui/x/components/SyntaxHighlighter","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Tab",["exports","module","san-xui/x/components/Tab","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Table",["exports","module","san-xui/x/components/Table","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/TableColumnToggle",["exports","module","san-xui/x/components/TableColumnToggle","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/TableFilter",["exports","module","san-xui/x/components/TableFilter","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/TabPanel",["exports","module","san-xui/x/components/TabPanel","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/TextBox",["exports","module","san-xui/x/components/TextBox","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Tip",["exports","module","san-xui/x/components/Tip","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Toast",["exports","module","san-xui/x/components/Toast","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/ToastLabel",["exports","module","san-xui/x/components/ToastLabel","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Tree",["exports","module","san-xui/x/components/Tree","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/TreeNode",["exports","module","san-xui/x/components/TreeNode","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/UserPicker",["exports","module","san-xui/x/components/UserPicker","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/util",["exports","san-xui/x/components/util","babel-runtime/helpers/defaults","babel-runtime/helpers/interop-export-wildcard"],function(exports,e,t,n){exports.__esModule=!0,t["default"](exports,n["default"](e,t["default"]))}),define("inf-ui/x/components/ViewStep",["exports","module","san-xui/x/components/ViewStep","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/Voice",["exports","module","san-xui/x/components/Voice","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/components/WebUploader",["exports","module","san-xui/x/components/WebUploader","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/createPage",["exports","module","./asPage","./biz/Table","babel-runtime/helpers/interop-require-default"],function(exports,module,e,t,n){module.exports=function(t){return e.asPage(t,i["default"])};var i=n["default"](t)}),define("inf-ui/x/esui/dom",["exports","san-xui/x/esui/dom","babel-runtime/helpers/defaults","babel-runtime/helpers/interop-export-wildcard"],function(exports,e,t,n){exports.__esModule=!0,t["default"](exports,n["default"](e,t["default"]))}),define("inf-ui/x/esui/page",["exports","san-xui/x/esui/page","babel-runtime/helpers/defaults","babel-runtime/helpers/interop-export-wildcard"],function(exports,e,t,n){exports.__esModule=!0,t["default"](exports,n["default"](e,t["default"]))}),define("inf-ui/x/forms/Form",["exports","module","san-xui/x/forms/Form","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/x/forms/FormItem",["exports","module","san-xui/x/forms/FormItem","babel-runtime/helpers/interop-require"],function(exports,module,e,t){exports["default"]=t["default"](e),module.exports=exports["default"]}),define("inf-ui/xui",["exports","inf-ria/ui/RadioSelect","babel-runtime/helpers/interop-require-default","inf-ria/ui/ACEEditor","inf-ria/ui/SMSCodeBox","inf-ria/ui/BuyBucket","inf-ria/ui/ToggleButton","inf-ria/ui/Clipboard","inf-ria/ui/Dragger","ef/ActionPanel","inf-ria/ui/NumberTextline","inf-ria/ui/BucketSelect","./uiFactory"],function(exports,e,t,n,i,a,r,o,s,l,u,d,c){exports.__esModule=!0;var f=t["default"](e),p=t["default"](n),h=t["default"](i),v=t["default"](a),m=t["default"](r),g=t["default"](o),x=t["default"](s),y=t["default"](l),b=t["default"](u),w=t["default"](d),C=c.createUi(f["default"]);exports.XRadioSelect=C;var T=c.createUi(p["default"]);exports.XACEEditor=T;var k=c.createUi(y["default"]);exports.XActionPanel=k;var _=c.createUi(x["default"]);exports.XDragger=_;var S=c.createUi(h["default"]);exports.XSMSCodeBox=S;var I=c.createUi(v["default"]);exports.XBuyBucket=I;var D=c.createUi(m["default"]);exports.XToggleButton=D;var E=c.createUi(g["default"]);exports.XClipboard=E;var P=c.createUi(b["default"]);exports.XNumberTextline=P;var A=c.createUi(w["default"]);exports.XBucketSelect=A}),define("san-transition/index",["exports","./transition","babel-runtime/helpers/interop-require-default","./transition-group"],function(exports,e,t,n){exports.__esModule=!0;var i=t["default"](e),a=t["default"](n);exports.transition=i["default"],exports.transitionGroup=a["default"]}),define("san-transition/transition-group",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check"],function(exports,module,e,t){module.exports=function(){arguments.length<=0||arguments[0]===undefined||arguments[0];return function(n){return function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i}(n)}}}),define("san-transition/transition",["exports","module","babel-runtime/helpers/inherits","babel-runtime/helpers/class-call-check","./util"],function(exports,module,e,t,n){module.exports=function(){var i=arguments.length<=0||arguments[0]===undefined?"san":arguments[0];return function(a){var r=function(n){function i(){t["default"](this,i),n.apply(this,arguments)}return e["default"](i,n),i}(a),o=r.prototype,s=o.attached,l=o.attach,u=o.inited,d=n.getHooks(i);return r.prototype.isEntering=!1,r.prototype.isLeaving=!1,r.prototype.attached=function(){var e=this.el,t=this.parent;n.clearParentTimeout(t),e.classList.add(d["in"]),t.isEntering=!0,t.transitionEl=e;e.classList.add(d.live),n.afterNextFrame(function(){e.classList.remove(d["in"]),t.enteringTimeout=setTimeout(function(){t.isEntering=!1},n.getTimeout(e))}),s&&s.call(this)},r.prototype.attach=function(){var e=this.parent;e.isLeaving?n.prepareEnter(e,d):l.apply(this,arguments)},r.prototype.inited=function(){var e=this.parent,t=e.updateView,i=e._disposeChilds;e.updateView=function(a){var r=this,o=this.childs[0],s=this.transitionEl;this.evalExpr(this.cond)?o&&e.isLeaving?(n.prepareEnter(e,d),e.enteringTimeout=setTimeout(function(){e.isEntering=!1,t.call(r,a)},n.getTimeout(s))):t.call(this,a):(n.clearParentTimeout(e),e.isLeaving||function(){n.prepareLeave(e,d);var t=function(t){e.isLeaving&&(i.call(r),e.isLeaving=!1)};s.classList.add(d.out),n.afterNextFrame(function(){s.classList.remove(d.live),e.leavingTimeout=setTimeout(t,n.getTimeout(s))})}())},u&&u.call(this)},r}}}),define("san-transition/util",["exports"],function(exports){exports.__esModule=!0;var e=this,t=function(t,i){return Math.max.apply(e,t.map(function(e,t){return n(e)+parseFloat(i[t])}))},n=function(e){return 1e3*(parseFloat(e)||0)};exports.getTimeout=function(e){var n=getComputedStyle(e),i=n.transitionDuration.split(","),a=n.transitionDelay.split(","),r=n.animationDuration.split(","),o=n.animationDelay.split(",");return Math.max(t(i,a),t(r,o))};exports.afterNextFrame=function(e){return requestAnimationFrame(function(){return requestAnimationFrame(e)})};exports.clearParentTimeout=function(e){clearTimeout(e.leavingTimeout),clearTimeout(e.enteringTimeout)};exports.prepareEnter=function(e,t){var n=e.transitionEl;e.isEntering=!0,e.isLeaving=!1,n.classList.add(t.live),n.classList.remove(t.out)};exports.prepareLeave=function(e,t){var n=e.transitionEl;e.isEntering=!1,e.isLeaving=!0,n.classList.remove(t["in"]),n.classList.remove(t.live),n.classList.add(t.out)};exports.getHooks=function(e){return"object"==typeof e?{"in":e["in"]||"san-in",out:e.out||"san-out",live:e.leave||"san-live"}:{"in":e+"-in",out:e+"-out",live:e+"-live"}}}),define("common/dep",["require"],function(require){return{}});
//# sourceMappingURL=dep.min.js.map